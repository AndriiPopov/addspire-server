{"version":3,"sources":["components/Welcome/Welcome.module.scss","components/Layout/LoginModal.module.css","assets/images/pin.png","components/UI/ImageCarousel/imageCarousel.module.css","components/Layout/Layout.module.css","containers/Profile/Profile.module.css","containers/Auth/AuthTest.tsx","translations/languages/index.tsx","translations/i18n.tsx","utils/processRes.js","store/actions/auth.tsx","store/actions/saveResources.tsx","containers/ConnectWebsocket/methods/getListOfNeededResources.js","containers/ConnectWebsocket/methods/compareVersionsAndRerequest.js","containers/ConnectWebsocket/methods/getResourcesToMonitor.js","containers/ConnectWebsocket/ConnectWebsocket.tsx","containers/ConnectWebsocket/methods/requestResource.tsx","store/actions/updateResource.tsx","websocketActions/progresses.tsx","websocketActions/rewards.tsx","websocketActions/posts.tsx","websocketActions/account.tsx","websocketActions/friends.tsx","utils/getAvatar.js","components/UserButton/UserButton.tsx","components/UI/HorizontalScrollList.tsx","components/MasonryCard.tsx","containers/Progress/ActivityTable.tsx","utils/uploadFile.js","components/UI/ImagePickerMulti.tsx","components/UI/TinyEditor.tsx","constants/fieldLength.js","constants/fieldRules.js","components/ProfileRewards/AddEditReward.tsx","components/Post/AddMessage.tsx","components/UI/ImageCarousel/ImageCarousel.tsx","components/UI/DialogFullscreen.tsx","components/FollowButton.tsx","components/UI/ReadMore.tsx","components/Post/EditPost.tsx","components/Post/Message.tsx","components/EditGoalAndProgressForm/ConnectionsSelect.tsx","components/UI/ShareButton.tsx","components/Post/Post.tsx","utils/pullData.js","components/Layout/LoginModal.tsx","containers/Progresses/AddProgress.tsx","components/FriendActionButton.tsx","components/FriendCard.tsx","containers/Friends/AddFriends.tsx","components/LanguageSwitcher/LanguageSwitcher.tsx","components/Layout/Layout.tsx","containers/Reward/Reward.tsx","components/ProfileRewards/ProfileRewards.tsx","components/Rewards/Rewards.tsx","containers/Explore/LocateControl.tsx","constants/goalCategories.tsx","components/EditGoalAndProgressForm/GoalCategories.tsx","components/EditGoalAndProgressForm/EditGoalAndProgressForm.tsx","containers/Progress/EditProgress.tsx","containers/Progress/Activity.tsx","components/Post/AddPost.tsx","containers/Progress/Progress.tsx","components/Welcome/index.tsx","containers/Blog/Blog.tsx","utils/masonryBreakPoints.js","components/MasonryGrid.tsx","components/ProgressButton.tsx","containers/Explore/MapSettings.tsx","containers/Explore/Explore.tsx","containers/Profile/Profile.tsx","websocketActions/transactions.tsx","containers/ActivateAccount/ActivateAccount.tsx","containers/Dashboard/NotificationsTracker.tsx","RNBridge.tsx","containers/Dashboard/DashboardEvents.tsx","websocketActions/dashboard.tsx","containers/Dashboard/DashboardPosts.tsx","containers/Blog/BlogArticle.tsx","App.tsx","components/TrackingGA/index.tsx","store/reducer/reducer.tsx","setupDayjs.tsx","index.tsx"],"names":["module","exports","header__title","subheader","slider","slider__word","slider__words","wordSlider","videoWrapper","Container","socialButtons","Background","Dots","Layout","Header","Footer","HideHeader","FooterButton","TopHeader","BottomHeader","Main","MenuButtonContiner","QuickButtonContiner","PageTitle","Avatar","Cookies","languages","en","translation","ru","i18n","use","LanguageDetector","initReactI18next","init","resources","fallbackLng","keySeparator","interpolation","escapeValue","nonExplicitSupportedLngs","processRes","res","props","t","data","logout","history","push","success","errorCode","message","warning","error","successCode","status","cookies","tryAuth","token","dispatch","sessionStorage","setItem","get","rememberMe","remove","path","userId","jwt_decode","axios","defaults","headers","post","put","delete","common","Accept","setIsAuthed","_id","id","type","setData","setPageTitle","title","setFriendSearchResult","getListOfNeededResources","store","requestedResources","user","account","progress","reward","progressData","friendData","postData","transactionData","rewardData","neededResources","isAuthed","currentAccount","_i","_arr","concat","Object","toConsumableArray","progresses","followProgresses","recentProgresses","length","_step","_iterator","getListOfNeededResources_createForOfIteratorHelper","followPosts","s","n","done","value","err","e","f","_step2","_iterator2","myPosts","_step3","_iterator3","transactions","transaction","_step4","_iterator4","friends","friend","_step5","_iterator5","rewards","_i2","_arr2","followingAccounts","followAccounts","item","currentProfile","profile","_i3","_arr3","_step6","_iterator6","rewardId","_step7","_iterator7","_step8","_iterator8","_i4","_arr4","currentProgress","participants","owner","users","likes","_step9","_iterator9","_step10","_iterator10","posts","_step11","_iterator11","stages","stage","_step12","_iterator12","currentPosts","_step13","_iterator13","postEl","_step14","_iterator14","parent","parentType","parentId","currentReward","_step15","_iterator15","friendSearchResult","_step16","_iterator16","reduce","obj","attr","Array","from","Set","notNeededExist","notNeededResources","check1","key","mode","includes","check2","removeData","compareVersionsAndRerequest","versions","state","webSocket","checkData","requestResource","check","__v","getResourcesToMonitor","addData","listOfGroups","ConnectWebsocket","start","pingTimeout","WebSocket","heartbeat","_this","clearTimeout","setTimeout","close","readyState","send","JSON","stringify","messageCode","onopen","event","resourcesToMonitor","initializeRequestResources","onmessage","news","parse","onlineUsers","messageText","setFriendsData","friendsData","saveResource","newOnlineUsers","updateResource","code","update","set","expires","Date","getTime","text","onclose","checkInterval","clearInterval","setInterval","reRequestResourcesInterval","reRequestResources","ConnectWebsocket_createForOfIteratorHelper","group","ids","nextProps","newRequestedResources","_loop","filter","setState","this","setConnectingToWS","prevProps","prevState","_loop2","Component","withRouter","connect","pulledFrom","actions","getState","myAccount","find","_createForOfIteratorHelper","notRequestedIds","applyDelta","source","delta","watchFields","result","cloneDeep","del","applyWithDot","keys","shift","split","applyUpdateToPart","updatedFields","applyDeleteToPart","splice","updateResource_createForOfIteratorHelper","removedFields","field","indexOf","parState","element","defineProperty","updateData","changeLikesProgress","accountId","progressId","add","changeLikesReward","changeLikesMessage","messageId","postId","followProgress","unfollowProgress","followAccount","accountFollow","unfollowAccount","addFriend","friendId","acceptFriend","unfriend","getAvatar","nickname","version","friendDataExp","getUserData","userName","name","typography","react_default","a","createElement","Typography","noWrap","userAvatar","ava","avatar","src","image","size","noClick","style","noName","margin","badge","color","onlyName","onClick","stopPropagation","Group","map","Fragment","noAva","span","react_router_dom","objectSpread","cursor","fontWeight","to","inline","es_button","padding","height","useStyles","makeStyles","theme","createStyles","fontSize","textTransform","addBox","palette","primary","main","display","alignItems","HorizontalScrollList","useTranslation","classes","items","empty","customEmpty","withAdd","className","gutterBottom","Paper","overflowX","paddingBottom","Card","borderRadius","flexShrink","width","marginRight","position","minHeight","CardActionArea","justifyContent","onAdd","CardContent","flex","Box","flexDirection","AddCircle","textAlign","addTitle","index","content","placeholderImages","getPH","matches","match","imagePH","parseInt","Math","abs","round","x","makeRand","images","picture","maxWidth","boxShadow","noLink","wordBreak","body","marginLeft","onClickLink","dayjs","format","redTheme","createMuiTheme","red","overrides","MuiSelect","selectMenu","select","&:focus","backgroundColor","fade","blueTheme","blue","greenTheme","green","orangeTheme","orange","customTheme","purple","MuiListItem","secondaryAction","paddingRight","paddingLeft","_useState","useState","_useState2","slicedToArray","showEarnedRewards","setShowEarnedRewards","isOwner","lastStages","slice","max","sort","b","aS","aF","bS","bF","old","day","year","dayOfYear","startOf","endOf","week","month","now","min","diff","nowStageId","stageId","ThemeProvider","tabs","defaultActiveKey","findIndex","toString","stageDate","getStatus","dismissed","failBy","approvedBy","getStatusText","myStatus","stageStatus","getTag","Select","labelId","onChange","target","MenuItem","Chip","label","userStatus","ListItem","ListItemAvatar","components_UserButton_UserButton","ListItemText","ListItemSecondaryAction","variant","tabTitle","TabPane","tab","List","dense","paid","Button","CardMedia","backgroundSize","uploadFile","file","filename","callback","alert","reader","FileReader","onload","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","resizeImageToSpecificSize","urltoFile","then","getSignedRequest","stop","_x","apply","arguments","readAsArrayBuffer","url","mimeType","fetch","arrayBuffer","buf","File","cb","resizeImageFromSrcToSpecificSize","readAsDataURL","img","Image","widthCoef","heightCoef","oc","document","octx","getContext","drawImage","toDataURL","onerror","_unused","fileName","response","doUploadFile","catch","signedRequest","Content-Type","ImagePickerMulti","setImages","_useState3","_useState4","previewImage","setPreviewImage","useEffect","onValueChange","upload","accept","listType","fileList","uid","onPreview","customRequest","_ref2","undefined","window","isRNWebView","ReactNativeWebView","postMessage","PlusOutlined_default","Dialog","open","Boolean","onClose","DialogTitle","DialogContent","dividers","DialogActions","TinyEditor","contentState","blocksFromHtml","htmlToDraft","contentBlocks","entityMap","ContentState","createFromBlockArray","convertToRaw","react_draft_wysiwyg","assign","placeholder","readOnly","wrapperClassName","editorClassName","defaultContentState","onContentStateChange","onEditorChange","onEditorChangePlain","convertFromRaw","getPlainText","toolbar","inDropdown","list","link","toolbarHidden","options","fieldLength","nicknameRules","required","whitespace","pattern","nameRules","accountNameRules","TransitionComponent","Slide","direction","root","media","paddingTop","expand","transform","transition","transitions","create","duration","shortest","expandOpen","appBar","spacing","layout","labelCol","wrapperCol","editedReward","setEditedReward","wish","fullScreen","AppBar","Toolbar","IconButton","edge","aria-label","Close","autoFocus","wsActions","Form","Item","UI_ImagePickerMulti","rules","Input","fullWidth","description","values","descriptionText","&>div::after","border","&>div::before","& textarea","setImageLoading","_useState5","_useState6","_useState7","replyToUser","_useState8","setMessageText","isTop","background","TextField","multiline","messageValue","replyToMessage","editedMessage","replyTo","editingMessage","onSend","spanStyle","showUploadList","cancel","ImageCarousel","carousel","dots","autoplay","backgroundImage","backgroundPosition","backgroundRepeat","Modal","visible","footer","onCancel","alt","DialogFullscreen","save","saveText","children","FollowButton","preventDefault","ReadMore","overflow","setOverflow","setOpen","descRef","useRef","current","offsetHeight","initialHeight","contentEditor","maxHeight","ref","dangerouslySetInnerHTML","__html","bottom","opacity","left","EditPost","handleSave","handleCancel","marginTop","Message","replies","isStart","replyVisible","setReplyVisible","setLikes","setReplyToUser","setEditingMessage","_useState9","_useState10","showReplies","setShowReplies","_useState11","_useState12","anchorEl","setAnchorEl","_useState13","_useState14","editMessageOpen","setEditMessageOpen","handleEditPostCancel","author","Post_AddMessage","date","fromNow","startMessage","messageType","currentTarget","MoreVertOutlined","Menu","keepMounted","Post_EditPost","Badge","anchorOrigin","vertical","horizontal","overlap","badgeContent","icon","ThumbUp","UI_ImageCarousel_ImageCarousel","reply","details","itemId","UI_ReadMore","MasonryCard","components_FollowButton","es_select","getPopupContainer","trigger","parentNode","Option","alertVisible","setAlertVisible","setFriends","basicProps","location","href","Tooltip","enterDelay","leaveDelay","startIcon","Share","EditGoalAndProgressForm_ConnectionsSelect","FacebookShareButton","quote","FacebookIcon","TwitterShareButton","TwitterIcon","TelegramShareButton","TelegramIcon","PinterestShareButton","PinterestIcon","LinkedinShareButton","LinkedinIcon","VKShareButton","VKIcon","EmailShareButton","subject","EmailIcon","lib","onCopy","FileCopy","Snackbar","autoHideDuration","Alert","severity","isPostPage","pathname","postOpen","setPostOpen","postRef","scrollTo","top","offsetTop","behavior","elevation","noStartMessage","Post_Message","marginBottom","Divider","noPostControls","ThumbUpOutlined","AddCommentOutlined","UI_ShareButton","messages","Post_createForOfIteratorHelper","getNumberOfMessages","pullData","cookieConsent","setCookieConsent","checkCookieConsent","remeberMeParam","basicURL","loginVisible","setLoginVisible","lineHeight","dist","FormControlLabel","control","Checkbox","checked","DialogContentText","maxAge","AddProgress","components_EditGoalAndProgressForm_EditGoalAndProgressForm","onFinish","setStartProgressVisible","removeAttribute","FriendActionButton","invitingFriends","invitedFriends","realFriends","handleClose","handleClick","additionalButtons","button","minimized","asText","noFollow","forceAuth","components_FriendActionButton","asIcons","input","iconButton","searchResult","setSearchField","searchField","AddFriends_createForOfIteratorHelper","fullFriend","align","InputBase","search","SearchOutlined","components_FriendCard","language","languageText","breakpoints","up","languageIcon","currentLanguage","_useTranslation","languageMenu","setLanguageMenu","handleLanguageMenuClose","changeLanguage","LANGUAGES_LABEL","aria-owns","aria-haspopup","data-ga-event-category","data-ga-event-action","Language_default","settings","join","ExpandMore_default","component","data-no-link","selected","speedDial","right","login","home","blogLabel","blogIcon","lastNotifications","isConnectingWS","domRef","useMediaQuery","startProgressVisible","addFriendOpen","setAddFriendOpen","speedDialOpen","setSpeedDialOpen","openLink","isActivating","numberOfUnseenNots","Layout_createForOfIteratorHelper","not","notId","lastSeenNot","logedIn","scrollTrigger","useScrollTrigger","removeGutters","paths","checkPagePath","hide","cll","white","appear","in","LinearProgress","tabIndex","header","Link","visibility","components_LanguageSwitcher_LanguageSwitcher","Book","disableGutters","SpeedDial","ariaLabel","SpeedDialIcon","focus","onOpen","SpeedDialAction","Person","tooltipTitle","whiteSpace","tooltipOpen","Star","HomeRounded","Notifications","Layout_LoginModal","Friends_AddFriends","Progresses_AddProgress","pageTitle","likesVisible","setLikesVisible","deleteVisible","setDeleteVisible","addRewardOpen","setAddRewardOpen","pathParts","Reward_createForOfIteratorHelper","dropDownMeuItems","getDropDownMeuItems","Helmet","rewardName","components_Post_Post","goBack","ProfileRewards_AddEditReward","rewardPreview","setRewardPreview","additionalButton","openInDialog","containers_Reward_Reward","deleteRewardVisible","setDeleteRewardVisible","rewardsIds","components_ProfileRewards_ProfileRewards","newRewards","LocateControl","leaflet","lc","Locate","strings","onActivate","drawCircle","keepCurrentZoomLevel","addTo","withLeaflet","withTranslation","goalCategories","GoalCategories","category","nolim","pop","divider","EditGoalAndProgressForm","leafletElement","ELG","GestureHandling","coordinates","setPosition","zoom","setZoom","descriptionPlain","setDescriptionPlain","_Form$useForm","useForm","form","mapDragEnd","_zoom","getCenter","lat","lng","setFieldsValue","nomap","goalId","submit","es_form","autoComplete","initialValues","repeat","days","onValuesChange","changedFields","allValues","valuePropName","getValueFromEvent","EditGoalAndProgressForm_GoalCategories","noStyle","shouldUpdate","prevValues","currentValues","getFieldValue","components_Rewards_Rewards","Map","center","ondragend","onmoveend","zIndex","gestureHandling","TileLayer","attribution","Explore_LocateControl","require","pointerEvents","touchAction","EditProgress","editProgressOpen","heading","pxToRem","secondaryHeading","verticalAlign","column","flexBasis","helper","borderLeft","textDecoration","&:hover","followersVisible","setFollowersVisible","progressName","Progress_ActivityTable","RetweetOutlined_default","getRepeatType","acc","val","getDay","light","Progress_EditProgress","similarProgresses","setSimilarProgresses","similarIsRequested","setSimilarIsRequested","Progress_createForOfIteratorHelper","categories","currentId","Progress_Activity","Post_AddPost","reverse","modal","frameBorder","allowFullScreen","allow","flexGrow","setPosts","setTitle","all","setAll","method","query","json","components_Welcome","Grid","container","xs","md","xl","subtitle","published_at","friendsBreakPoints","default","1600","1100","600","cardBreakPoints","700","310","MasonryGrid","react_masonry_css_es5_default","breakpointCols","columnClassName","MapSettings","mapVisible","setMapVisible","onSearch","setSearch","radius","setRadius","changed","setChanged","withMap","getRadius","metresPerPixel","cos","PI","pow","getZoom","units","distance","sm","Switch","Slider","valueLabelDisplay","whenReady","sortProgresses","views","foundProgresses","setFoundProgresses","noMore","setNoMore","setValue","liveFoundProcesses","skip","newFriendData","Explore_createForOfIteratorHelper","loadedProgresses","Explore_MapSettings","orientation","LocationOn","react_infinite_scroller_default","pageStart","loadMore","hasMore","loader","sectionTitle","increaseAvatarV","currentTab","setCurrentTab","classesM","deleteField","setDeleteField","profileId","Profile_createForOfIteratorHelper","sub","Title","level","editable","Edit","maxLength","autoSize","minRows","maxRows","profileName","rewardObject","components_ProgressButton","accountNotActive","setAccountActivated","es_layout","nicknameNotUnique","offset","htmlType","statePosts","sortNotifiacations","NotificationsTracker_createForOfIteratorHelper","notifications","filterSameNot","arr","myNotifications","isEqual","addEventListener","console","getRewardText","money","simple","itemName","p","v","stageName","price","buyer","as","getStageName","addedAccounts","ac","droppedAccounts","for","action","comment","startTime","sortPosts","aN","bN","DashboardPosts_createForOfIteratorHelper","newPosts","newUnseenPosts","newOldPosts","oldPosts","oldPostIndex","_newOldPosts","resultPosts","neededPosts","nots","Dashboard_DashboardEvents","backToBlog","setPost","fbAsyncInit","FB","appId","cookie","xfbml","d","js","fjs","getElementsByTagName","getElementById","insertBefore","XFBML","ReactHtmlParser","data-href","data-numposts","data-width","setLanguage","mountedRef","auth","useCallback","abrupt","t0","trackingID","ReactGA","initialize","pageview","locale","Logout","react_router","routes","exact","Explore","DashboardPosts","Progress","Reward","Profile","Blog","BlogArticle","ActivateAccount","process","containers_ConnectWebsocket_ConnectWebsocket","Dashboard_NotificationsTracker","src_RNBridge","reducer","createReducer","SET_DATA","REMOVE_DATA","reducer_createForOfIteratorHelper","SET_FRIEND_SEARCH_RESULT","SET_FRIENDS_DATA","perk","SET_AVATAR_V","SET_LANGUAGE","INCREASE_AVATAR_V","SET_IS_AUTHED","SET_PAGE_TITLE","SET_ACCOUNT_ACTIVATED","SET_CONNECTING_WS","extend","relativeTime","updateLocale","future","past","ss","m","mm","h","hh","dd","w","ww","M","MM","y","yy","__webpack_require__","__webpack_exports__","src_store","outerTheme","MuiAppBar","colorSecondary","baseURL","createStore","composeWithDevTools","applyMiddleware","thunk","app","es","src_App","ReactDOM","render"],"mappings":"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","file":"static/js/main.4f1bcc60.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__title\":\"Welcome_header__title__2PVWK\",\"subheader\":\"Welcome_subheader__8NTpe\",\"slider\":\"Welcome_slider__1C5Wk\",\"slider__word\":\"Welcome_slider__word__2M0ri\",\"slider__words\":\"Welcome_slider__words__2RsMS\",\"wordSlider\":\"Welcome_wordSlider__3DU7B\",\"videoWrapper\":\"Welcome_videoWrapper__203j_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LoginModal_Container__1PdGZ\",\"socialButtons\":\"LoginModal_socialButtons__1H9u7\",\"Background\":\"LoginModal_Background__2foqr\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAMAAACjKNoqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1FBMVEUAAADbJCTWNjbZNTTYNjXYNjXYNTXZNjbYNjTXNTX/AADXNjLYNjXZNTXoPDvjOjrYNTTYNTTVNDTXNjTYNjXsPT3nPDzYNjXXMzPYNTXaNjXZNzXWNDTYNjXYNTXjOTnYNjXsPj3YNTT/VVXYNDTbNzbYNjPYNjXqPDzoOzrYNTPZNTTYNzXXNTTYNTTYNTTZNzbXNTPpPTzYNjXXNTXcNzbXNDTbNzfYNTTVOTnXNTPeODfgOTjYNTXYOzvYNjXWMzPZNTXcODfWNjPYNTXqPDzYNjXYNzPXNDTZNTXkOjrnPDzZMzPYNTTYNjXiOzrkOzrYNTTaODLXNDPZNTXYNjXrPT3YNTTaNjXYNjTmOzrYNTXWNTXZNTTWNDS/QEDYNjXXNTTYNDToOzvpPDzYNTXcNzbdODfbNzfbNzfbMzPZNjXcNjbZNjbYNjbyQED2QkL1QkHvQD/+Rkb/Rkb8RUX3QkL0QUH4Q0PvPz/VNDSmISH9RUVZAACnISHzQUHYNjZaAADZNjbyQUCrIyOsIyOuJCTxQEDdODhaAQHeODiyJSVbAQGyJibqPDzgOTmzJib0QkL/RUX+RUX6Q0P8RET5Q0PsPj3zQED0QkHXNTT///9fYCXAAAAAb3RSTlMAB1Gt4ff01pg6AUzj+Pz5/M0xjvv++/xtm/l+XfpICe3+4QNi91W3/v2p6uX6+ffkrv6yYPdnDvYSh/f4lQ3uGfn3d9n95EFTuvr8KP2b+PqsKf41y/7Y+PP7pET5SgTx9av9/mH29hzpI9XCXnctusQjAAAAAWJLR0Sb79hXhAAAAAd0SU1FB+EMCQINAvEQCwMAAAFuSURBVCjPZdH3O0JRGAfwN7sIEdcoIdkKkb2yV/bee3OrazUkERFlhPy1Ouc27q3vT9/n8zz33HPeFwCFExUdExsXn8DlQTCJSfzkM1KrS0kVpPmJly7M0FM455lEFo3ZORdUMJfCXGQi8RXFCEnkAUjyrylWCgqlUCSjzzMYjQZcTPxiKCnF1Wj25QbXsnKosKBya0VovUPdVglVJCr3ZpwH/Cs5KLSo2Gm0o65VQPUjKk8OZI5n/+c1tfj0F6fZ7HzF9U0JdTL6ei6320W3ehU0NFrYl3+XNwE0t3ywsLXN9/b2Dh3TbIpONBFVlylkn+puPDppTy9jHH0ceqD9xFfAPOKBwDoGhwI4LAhuaYQgafse5YY2pxmjcXwiZDA5hU/1ENMMhJlZhD9zTAPRPFqKWsVCycIvRXkV7SwEje9Wi0tsg2WhXr+yGoZr6xbvBicMYXNrWxlusLO7p4rA/b+DwwiEo+NIg5PTYP0HPpevTLcESqcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTItMDlUMDI6MTM6MDErMDA6MDA/mojaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEyLTA5VDAyOjEzOjAxKzAwOjAwTscwZgAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dots\":\"imageCarousel_Dots__3XuKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3q-xb\",\"Header\":\"Layout_Header__J8BzQ\",\"Footer\":\"Layout_Footer__1UfUY\",\"HideHeader\":\"Layout_HideHeader__2uuFO\",\"FooterButton\":\"Layout_FooterButton__VhJUa\",\"TopHeader\":\"Layout_TopHeader__277Y8\",\"BottomHeader\":\"Layout_BottomHeader__3YPE5\",\"Main\":\"Layout_Main__Py9vL\",\"MenuButtonContiner\":\"Layout_MenuButtonContiner__2imT-\",\"QuickButtonContiner\":\"Layout_QuickButtonContiner__3mw1U\",\"PageTitle\":\"Layout_PageTitle__1_EDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Profile_Avatar__3n37F\"};","import React from 'react'\n\nimport Form from 'antd/es/form'\nimport Input from 'antd/es/input'\nimport Button from 'antd/es/button'\nimport axios from 'axios'\nimport Cookies from 'universal-cookie'\n\nconst cookies = new Cookies()\n\nconst Auth = props => {\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n    const onFinish = value => {\n        axios\n            .post('/api/authtest/' + value.id)\n            .then(res => {\n                cookies.set('auth_token', res.data.cookie)\n                props.onTryAutoSignup()\n            })\n            .catch(err => {})\n    }\n    return (\n        <Form\n            name=\"dynamic_form_nest_item\"\n            onFinish={onFinish}\n            autoComplete=\"off\"\n            {...layout}\n        >\n            <Form.Item\n                label=\"Id\"\n                name=\"id\"\n                rules={[\n                    { required: true, message: 'Please input the goal name.' },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                    Save\n                </Button>\n            </Form.Item>\n        </Form>\n    )\n}\n\nexport default Auth\n","import en from './en.json'\nimport ru from './ru.json'\n\nexport default {\n    en: {\n        translation: en,\n    },\n    ru: {\n        translation: ru,\n    },\n}\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport resources from './languages'\n\n// the translations\n// (tip move them in a JSON file and import them)\n\ni18n.use(LanguageDetector)\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n        resources,\n        fallbackLng: 'en',\n        keySeparator: '.', // we do not use keys in form messages.welcome\n        interpolation: {\n            escapeValue: false, // react already safes from xss\n        },\n        nonExplicitSupportedLngs: true,\n    })\n\nexport default i18n\n","import message from 'antd/es/message'\nimport i18n from '../translations/i18n'\n\nexport default (res, props) => {\n    const { t } = i18n\n    if (res.data.logout) props.history.push('/logout')\n    if (res.data.success === false) {\n        if (res.data.errorCode) {\n            switch (res.data.errorCode) {\n                case 'no account':\n                    message.warning(t('processRes.accountNotFound'))\n                    break\n                case 'bad data':\n                    message.error(t('processRes.error'))\n                    break\n                default:\n                    message.warning(t('processRes.generalError'))\n                    break\n            }\n        } else {\n            message.error(t('processRes.generalError'))\n        }\n    } else {\n        if (res.data.successCode) {\n            switch (res.data.successCode) {\n                case 'avatar saved':\n                    message.success(t('processRes.avaSaved'))\n                    break\n                case 'success':\n                    message.success(t('processRes.success'))\n                    break\n                case 'item saved':\n                    message.success(t('processRes.saved'))\n                    break\n                case 'progress created':\n                    message.success(t('processRes.goalStarted'))\n                    break\n                default:\n                    message.success(t('processRes.success'))\n                    break\n            }\n        }\n    }\n    if (res.data.status && res.data.status === 'no account')\n        props.history.push('/activate-account')\n}\n","import Cookies from 'universal-cookie'\nimport jwt_decode from 'jwt-decode'\n\nimport processRes from '../../utils/processRes'\nimport axios from 'axios'\n\nconst cookies = new Cookies()\n\nexport const tryAuth = token => (dispatch: Object) => {\n    sessionStorage.setItem('systemRefresh', '0')\n    if (!token) {\n        token = cookies.get('auth_token')\n        const rememberMe = cookies.get('rememberme')\n        if (rememberMe) {\n            cookies.remove('rememberme', {\n                path: '/',\n            })\n            if (rememberMe === 'false') {\n                cookies.remove('auth_token', {\n                    path: '/',\n                })\n            }\n        }\n    }\n\n    const userId = jwt_decode(token)\n    axios.defaults.headers.post['Content-Type'] = 'application/json'\n    axios.defaults.headers.put['Content-Type'] = 'application/json'\n    axios.defaults.headers.delete['Content-Type'] = 'application/json'\n    axios.defaults.headers.common.Accept = 'application/json'\n    if (token && userId) {\n        axios.defaults.headers.common['x-auth-token'] = token\n        axios.defaults.headers.post['x-auth-token'] = token\n        axios.defaults.headers.get['x-auth-token'] = token\n        axios.defaults.headers.delete['x-auth-token'] = token\n        axios.defaults.headers.put['x-auth-token'] = token\n        dispatch(setIsAuthed(userId._id))\n    } else {\n        dispatch(setIsAuthed(null))\n    }\n}\n\nconst setIsAuthed = id => ({\n    type: 'SET_IS_AUTHED',\n    id,\n})\n\nexport const setLanguage = language => ({\n    type: 'SET_LANGUAGE',\n    language,\n})\n\nexport const logout = () => dispatch => {\n    cookies.remove('rememberme', {\n        path: '/',\n    })\n    cookies.remove('auth_token', {\n        path: '/',\n    })\n    delete axios.defaults.headers.common['x-auth-token']\n    delete axios.defaults.headers.post['x-auth-token']\n    delete axios.defaults.headers.get['x-auth-token']\n    delete axios.defaults.headers.delete['x-auth-token']\n    delete axios.defaults.headers.put['x-auth-token']\n    dispatch(setIsAuthed(false))\n}\n\nexport const setData = data => ({\n    type: 'SET_DATA',\n    data,\n})\n\nexport const setConnectingToWS = data => ({\n    type: 'SET_CONNECTING_WS',\n    data,\n})\n\nexport const removeData = data => ({\n    type: 'REMOVE_DATA',\n    data,\n})\n\nexport const setFriendsData = data => ({\n    type: 'SET_FRIENDS_DATA',\n    data,\n})\n\nexport const setAvatarV = v => ({\n    type: 'SET_AVATAR_V',\n    v,\n})\n\nexport const increaseAvatarV = () => ({\n    type: 'INCREASE_AVATAR_V',\n})\n\nexport const setPageTitle = title => ({\n    type: 'SET_PAGE_TITLE',\n    title,\n})\n\nexport const buyPerk = (account, perk, owner, props) => dispatch => {\n    const currency = account.wallet.find(item => item.user === owner._id)\n    if (currency && currency.amount >= perk.price) {\n        axios\n            .post('/api/shop/buy', {\n                perkId: perk.perkId,\n                ownerId: owner._id,\n            })\n            .then(res => {\n                processRes(res)\n                if (res.data.success) {\n                    dispatch(setData(res.data, props.history.location.pathname))\n                }\n            })\n            .catch(err => {})\n    } else {\n        alert(\n            'You cannot buy this item as you do not have enough money from this user.'\n        )\n    }\n}\n\nexport const confirmTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/confirm', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const cancelTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/cancel', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const setFriendSearchResult = data => ({\n    type: 'SET_FRIEND_SEARCH_RESULT',\n    data,\n})\n\nexport const setAccountActivated = value => ({\n    type: 'SET_ACCOUNT_ACTIVATED',\n    value,\n})\n","import { setData } from './auth'\n\nexport const saveResource = (data, type, newOnlineUsers) => (\n    dispatch,\n    getState\n) => {\n    if (data.length > 0) {\n        const state = getState()\n        switch (type) {\n            case 'user':\n                const user = data[0]\n                let currentAccount = user.currentAccount\n                if (!currentAccount) currentAccount = user.myAccount\n                // if(!currentAccount)\n                //activate-account\n                dispatch(setData({ user, currentAccount }))\n                break\n            case 'account':\n                const account = data.find(\n                    item => item._id === state.currentAccount\n                )\n                if (account) {\n                    dispatch(setData({ account, newOnlineUsers }))\n                }\n\n                const profile = data.find(\n                    item => item._id === state.currentProfile\n                )\n                if (profile) {\n                    dispatch(setData({ profile, newOnlineUsers }))\n                }\n\n                break\n            case 'progress':\n                const progress = data.find(\n                    item => item._id === state.currentProgress\n                )\n                if (progress) {\n                    dispatch(setData({ progress }))\n                }\n                break\n\n            case 'post':\n                let post = {}\n                for (let item of data) {\n                    post[item._id] = item\n                }\n                dispatch(setData({ post }))\n                break\n\n            case 'reward':\n                const reward = data.find(\n                    item => item._id === state.currentReward\n                )\n                if (reward) {\n                    dispatch(setData({ reward }))\n                }\n                break\n\n            case 'friendData':\n                let friendData = {}\n                for (let item of data) {\n                    friendData[item._id] = item\n                }\n                dispatch(setData({ friendData, newOnlineUsers }))\n                break\n            case 'progressData':\n                let progressData = {}\n                for (let item of data) {\n                    progressData[item._id] = item\n                }\n                dispatch(setData({ progressData }))\n                break\n            case 'transactionData':\n                let transactionData = {}\n                for (let item of data) {\n                    transactionData[item._id] = item\n                }\n                dispatch(setData({ transactionData }))\n                break\n            case 'postData':\n                let postData = {}\n                for (let item of data) {\n                    postData[item._id] = item\n                }\n                dispatch(setData({ postData }))\n                break\n            case 'rewardData':\n                let rewardData = {}\n                for (let item of data) {\n                    rewardData[item._id] = item\n                }\n                dispatch(setData({ rewardData }))\n                break\n\n            default:\n                break\n        }\n    }\n}\n","export default props => {\n    const createEmptyObj = () => ({\n        user: [],\n        account: [],\n        progress: [],\n        reward: [],\n        post: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n    })\n    const { store } = props\n    const requestedResources = createEmptyObj()\n    const neededResources = createEmptyObj()\n    if (store.isAuthed) {\n        if (!store.user) {\n            requestedResources.user.push(store.isAuthed)\n        } else {\n            neededResources.user.push(store.user._id)\n            if (store.currentAccount) {\n                if (store.account._id !== store.currentAccount) {\n                    requestedResources.account.push(store.currentAccount)\n                } else {\n                    neededResources.account.push(store.account._id)\n                    for (let progress of [\n                        ...store.account.progresses,\n                        ...store.account.followProgresses,\n                        ...store.account.recentProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let post of store.account.followPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let post of store.account.myPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let transaction of store.account.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n                    for (let friend of store.account.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let reward of store.account.rewards) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                    for (let item of [\n                        ...store.account.followingAccounts,\n                        ...store.account.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n            if (store.currentProfile) {\n                if (store.profile._id !== store.currentProfile) {\n                    requestedResources.account.push(store.currentProfile)\n                } else {\n                    neededResources.account.push(store.profile._id)\n                    for (let progress of [\n                        ...store.profile.progresses,\n                        ...store.profile.followProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let transaction of store.profile.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        } else {\n                            const rewardId =\n                                store.transactionData[transaction].reward\n                            if (!store.rewardData[rewardId]) {\n                                requestedResources.rewardData.push(rewardId)\n                            }\n                            neededResources.rewardData.push(rewardId)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n\n                    for (let friend of store.profile.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let reward of store.profile.rewards) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                    for (let item of [\n                        ...store.profile.followingAccounts,\n                        ...store.profile.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n\n            if (store.currentProgress) {\n                if (store.progress._id !== store.currentProgress) {\n                    requestedResources.progress.push(store.currentProgress)\n                } else {\n                    neededResources.progress.push(store.progress._id)\n                    let participants = []\n                    if (store.progress.owner)\n                        participants.push(store.progress.owner)\n                    if (store.progress.users)\n                        participants = participants.concat(store.progress.users)\n                    if (store.progress.likes)\n                        participants = participants.concat(store.progress.likes)\n                    if (store.progress.followingAccounts)\n                        participants = participants.concat(\n                            store.progress.followingAccounts\n                        )\n\n                    for (let friend of participants) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n                    for (let post of store.progress.posts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    let rewards = store.progress.rewards\n                    for (let stage of store.progress.stages) {\n                        rewards = [...rewards, stage.rewards]\n                    }\n\n                    for (let reward of rewards) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                }\n            }\n            if (store.currentPosts) {\n                for (let post of store.currentPosts) {\n                    const postEl = store.post[post]\n                    if (!postEl) {\n                        requestedResources.post.push(post)\n                    } else {\n                        neededResources.post.push(post)\n                        for (let friend of postEl.users) {\n                            if (!store.friendData[friend]) {\n                                requestedResources.friendData.push(friend)\n                            }\n                            neededResources.friendData.push(friend)\n                        }\n                        if (post.parent) {\n                            if (post.parent.parentType === 'progress')\n                                neededResources.progressData.push(\n                                    post.parent.parentId\n                                )\n                            if (post.parent.parentType === 'reward')\n                                neededResources.rewardData.push(\n                                    post.parent.parentId\n                                )\n                        }\n                    }\n                }\n            }\n            if (store.currentReward) {\n                if (store.reward._id !== store.currentReward) {\n                    requestedResources.reward.push(store.currentReward)\n                } else {\n                    neededResources.reward.push(store.reward._id)\n                    for (let friend of store.reward.likes) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n\n                    if (!store.post[store.reward.post]) {\n                        requestedResources.post.push(store.reward.post)\n                    }\n                    neededResources.post.push(store.reward.post)\n                }\n            }\n            if (store.friendSearchResult && store.friendSearchResult.length > 0)\n                for (let friend of store.friendSearchResult) {\n                    if (!store.friendData[friend._id]) {\n                        requestedResources.friendData.push(friend._id)\n                    }\n                    neededResources.friendData.push(friend._id)\n                }\n        }\n    }\n\n    const reduce = obj => {\n        for (let attr in obj) {\n            if (obj[attr]) {\n                obj[attr] = Array.from(new Set(obj[attr]))\n            }\n        }\n    }\n\n    reduce(neededResources)\n    const notNeededResources = createEmptyObj()\n    notNeededResources.profile = []\n    let notNeededExist\n    const check1 = (key, mode) => {\n        if (\n            store[mode]._id &&\n            !neededResources[key].includes(store[mode]._id)\n        ) {\n            notNeededResources[mode].push(store[mode]._id)\n            notNeededExist = true\n        }\n    }\n    const check2 = key => {\n        for (let attr in store[key]) {\n            if (!neededResources[key].includes(attr)) {\n                notNeededResources[key].push(attr)\n                notNeededExist = true\n            }\n        }\n    }\n    check1('account', 'account')\n    check1('account', 'profile')\n    check1('progress', 'progress')\n    check1('reward', 'reward')\n    check2('post')\n    check2('friendData')\n    check2('rewardData')\n    check2('progressData')\n    check2('transactionData')\n    check2('postData')\n\n    if (notNeededExist) {\n        props.removeData(notNeededResources)\n    }\n\n    reduce(requestedResources)\n\n    return requestedResources\n}\n","import requestResource from './requestResource'\n\nexport default (versions, state, store, webSocket) => {\n    const notNeededResources = {\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        reward: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n    }\n\n    const checkData = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key][attr]) {\n                    if (store[key][attr] !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    const check = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key]._id === attr) {\n                    if (store[key].__v !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                    if (!store[key]._id) notNeededResources[key].push(attr)\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    for (let attr in versions.user) {\n        if (typeof versions.user[attr] !== 'undefined') {\n            if (store.user._id === attr) {\n                if (store.user.__v !== versions.user[attr]) {\n                    requestResource('user', [attr], state)\n                }\n            } else notNeededResources.user.push(attr)\n        }\n    }\n\n    for (let attr in versions.account) {\n        if (typeof versions.account[attr] !== 'undefined') {\n            if (store.account._id === attr) {\n                if (store.account.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n            }\n            if (store.profile._id === attr) {\n                if (store.profile.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n                if (!store.account._id) notNeededResources.account.push(attr)\n            }\n        }\n        if (store.account._id !== attr && store.profile._id !== attr)\n            notNeededResources.account.push(attr)\n    }\n\n    check('progress')\n    check('reward')\n\n    checkData('post')\n    checkData('friendData')\n    checkData('progressData')\n    checkData('rewardData')\n    checkData('postData')\n    checkData('transactionData')\n\n    if (\n        notNeededResources.user.length > 0 ||\n        notNeededResources.account.length > 0 ||\n        notNeededResources.progress.length > 0 ||\n        notNeededResources.post.length > 0 ||\n        notNeededResources.friendData.length > 0 ||\n        notNeededResources.progressData.length > 0 ||\n        notNeededResources.postData.length > 0 ||\n        notNeededResources.transactionData.length > 0\n    ) {\n        return notNeededResources\n    }\n}\n","export default props => {\n    const { store } = props\n    const resources = {\n        user: {},\n        account: {},\n        progress: {},\n        post: {},\n        reward: {},\n        transactionData: {},\n        friendData: {},\n        progressData: {},\n        postData: {},\n        rewardData: {},\n    }\n\n    if (store.user && store.user._id) {\n        resources.user[store.user._id] = store.user.__v\n    }\n\n    if (store.account._id) {\n        resources.account[store.account._id] = store.account.__v\n    }\n    if (store.profile._id) {\n        resources.account[store.profile._id] = store.profile.__v\n    }\n    if (store.progress._id) {\n        resources.progress[store.progress._id] = store.progress.__v\n    }\n    if (store.reward._id) {\n        resources.reward[store.reward._id] = store.reward.__v\n    }\n\n    const addData = key => {\n        for (let item in store[key]) {\n            if (typeof store[key][item] !== 'undefined') {\n                if (store[key][item]._id) {\n                    resources[key][store[key][item]._id] = store[key][item].__v\n                }\n            }\n        }\n    }\n\n    addData('post')\n    addData('friendData')\n    addData('postData')\n    addData('progressData')\n    addData('rewardData')\n    addData('TransactionData')\n\n    return resources\n}\n","import React, { Component } from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport message from 'antd/es/message'\nimport getListOfNeededResources from './methods/getListOfNeededResources'\nimport compareVersionsAndRerequest from './methods/compareVersionsAndRerequest'\nimport getResourcesToMonitor from './methods/getResourcesToMonitor'\nimport Cookies from 'universal-cookie'\nimport axios from 'axios'\n\nexport let webSocket = false\nconst cookies = new Cookies()\nconst listOfGroups = [\n    'user',\n    'account',\n    'progress',\n    'reward',\n    'post',\n    'postData',\n    'progressData',\n    'friendData',\n    'transactionData',\n    'rewardData',\n]\nclass ConnectWebsocket extends Component {\n    state = {\n        user: [],\n        account: [],\n        progress: [],\n        reward: [],\n        post: [],\n        friendData: [],\n        progressData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n    }\n    start = () => {\n        let url\n        if (process.env.NODE_ENV === 'development') {\n            url = 'ws://my.websiter.test:5000'\n        } else {\n            url = 'wss://addspire.com'\n        }\n        let pingTimeout\n        webSocket = new WebSocket(url)\n\n        const heartbeat = versions => {\n            let notNeededResources\n            if (versions) {\n                notNeededResources = compareVersionsAndRerequest(\n                    versions,\n                    this.state,\n                    this.props.store,\n                    webSocket\n                )\n            }\n            clearTimeout(pingTimeout)\n\n            pingTimeout = setTimeout(() => {\n                webSocket.close()\n            }, 30000 + 1000)\n            if (webSocket && webSocket.readyState === 1) {\n                webSocket.send(\n                    JSON.stringify({\n                        messageCode: 'heartbeat',\n                        notNeededResources,\n                    })\n                )\n            }\n        }\n\n        webSocket.onopen = event => {\n            const resourcesToMonitor = getResourcesToMonitor(this.props)\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'auth',\n                    user: axios.defaults.headers.common['x-auth-token'],\n                    resourcesToMonitor,\n                    // progressId: this.props.progress._id,\n                })\n            )\n            this.initializeRequestResources(this.props)\n            heartbeat()\n        }\n\n        webSocket.onmessage = event => {\n            const news = JSON.parse(event.data)\n\n            switch (news.messageCode) {\n                case 'heartbeat':\n                    heartbeat(news.versions)\n                    this.props.setData({ onlineUsers: news.onlineUsers })\n                    break\n                case 'logout':\n                    this.props.logout()\n                    this.props.history.push('/logout')\n                    break\n\n                case 'successMessage':\n                    message.success(news.messageText)\n                    break\n                case 'errorMessage':\n                    message.error(news.messageText)\n                    break\n                case 'friendsData':\n                    this.props.setFriendsData(news.friendsData)\n                    break\n                case 'redirectToProgresses':\n                    this.props.history.push('/goals')\n                    break\n                case 'addResource':\n                    this.props.saveResource(\n                        news.resources,\n                        news.type,\n                        news.newOnlineUsers\n                    )\n                    break\n                case 'updateResource':\n                    this.props.updateResource(\n                        news.code,\n                        news.id,\n                        news.update,\n                        this.state\n                    )\n                    break\n                case 'friendSearchResult':\n                    this.props.setFriendSearchResult(news.data)\n                    break\n                case 'goTo':\n                    this.props.history.push(news.messageText)\n                    break\n\n                // case 'update':\n                //     let newProgress\n                //     let oldProgress = cloneDeep(this.props.progress)\n                //     if (oldProgress.__v === news.progress.__v - 1) {\n                //         newProgress = diffpatcher.patch(\n                //             oldProgress,\n                //             news.progress.patch\n                //         )\n                //         newProgress.__v = news.progress.__v\n                //         this.props.setData(\n                //             {\n                //                 progress: newProgress,\n                //             },\n                //             this.props.history.location.pathname\n                //         )\n                //     }\n                //     wsActions.getFriendsData(\n                //         newProgress || this.props.progress,\n                //         this.props.account.friends\n                //     )\n                //     break\n                case 'authSuccess':\n                    axios.defaults.headers.common['x-auth-token'] &&\n                        cookies.set(\n                            'auth_token',\n                            axios.defaults.headers.common['x-auth-token'],\n                            {\n                                path: '/',\n                                expires: new Date(\n                                    new Date().getTime() +\n                                        6 * 24 * 60 * 60 * 1000\n                                ),\n                            }\n                        )\n                    break\n                case 'error':\n                    message.error(news.text)\n                    break\n                // case 'notFoundResource':\n                //     this.markNotFoundResource(data)\n                //     break\n                default:\n                    break\n            }\n        }\n        webSocket.onclose = event => {\n            clearTimeout(pingTimeout)\n        }\n    }\n\n    // markNotFoundResource = data => {\n    //     const requestedResources = this.state.requestedResources.filter(\n    //         item => item.id.toString() === data._id.toString()\n    //     )\n    //     this.setState({ requestedResources })\n    // }\n\n    checkInterval = null\n\n    check = () => {\n        if (!webSocket || webSocket.readyState === 3) {\n            clearInterval(this.checkInterval)\n            this.checkInterval = setInterval(this.check, 5000)\n            this.start()\n        }\n    }\n    // componentWillMount() {\n    //     this.checkInterval = setInterval(this.check, 50)\n    // }\n\n    reRequestResourcesInterval = null\n    reRequestResources = () => {\n        for (let group of listOfGroups) {\n            if (this.state[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: this.state[group],\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.checkInterval)\n        if (webSocket) {\n            webSocket.close()\n        }\n        this.props.setConnectingToWS(false)\n    }\n    componentDidMount() {\n        this.checkInterval = setInterval(this.check, 50)\n        this.props.setConnectingToWS(true)\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.store.currentAccount !== this.props.store.currentAccount)\n            if (webSocket && webSocket.readyState === 1) {\n                webSocket.send(\n                    JSON.stringify({\n                        messageCode: 'currentAccount',\n                        id: this.props.store.currentAccount,\n                    })\n                )\n            }\n    }\n    // componentWillReceiveProps(nextProps) {\n    //     this.initializeRequestResources(nextProps)\n    // }\n    // componentDidUpdate() {\n    //     this.initializeRequestResources(this.props)\n    // }\n    initializeRequestResources = nextProps => {\n        const newRequestedResources = getListOfNeededResources(nextProps)\n        for (let group of listOfGroups) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !this.state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        this.setState(() => newRequestedResources)\n        clearInterval(this.reRequestResourcesInterval)\n        this.reRequestResourcesInterval = setInterval(\n            this.reRequestResources,\n            3000\n        )\n    }\n\n    static getDerivedStateFromProps(nextProps, state) {\n        const newRequestedResources = getListOfNeededResources(nextProps)\n        for (let group of listOfGroups) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        // clearInterval(this.reRequestResourcesInterval)\n        // this.reRequestResourcesInterval = setInterval(\n        //     this.reRequestResources,\n        //     3000\n        // )\n        return newRequestedResources\n    }\n    render() {\n        return null\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        store: state,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        removeData: data => dispatch(actions.removeData(data)),\n        saveResource: (data, type, newOnlineUsers) =>\n            dispatch(actions.saveResource(data, type, newOnlineUsers)),\n        setFriendsData: data => dispatch(actions.setFriendsData(data)),\n\n        updateResource: (code, id, update, state) =>\n            dispatch(actions.updateResource(code, id, update, state)),\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n        setConnectingToWS: data => dispatch(actions.setConnectingToWS(data)),\n\n        logout: () => dispatch(actions.logout()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ConnectWebsocket)\n)\n","import { webSocket } from '../ConnectWebsocket'\n\nexport default (type, ids, state) => {\n    const notRequestedIds = ids.filter(id => !state[type].includes(id))\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'requestResource',\n                ids: notRequestedIds,\n                type,\n            })\n        )\n    }\n}\n","import requestResource from '../../containers/ConnectWebsocket/methods/requestResource'\nimport * as actions from './index'\nimport cloneDeep from 'lodash.clonedeep'\n\nconst applyDelta = (source, delta, watchFields) => {\n    // console.log('---------------------------APLY DELTA------------------------')\n    // console.log('----------------source----------------')\n    // console.log(source)\n    // console.log('----------------delta-------------------')\n    // console.log(delta)\n    const result = cloneDeep(source)\n\n    const applyUpdateToPart = (res, del, watchFields) => {\n        const applyWithDot = (res, keys, del) => {\n            if (keys.length > 1) {\n                const key = keys.shift()\n                applyWithDot(res[key], keys, del)\n            } else {\n                if (typeof res === 'array') {\n                    res.push(del)\n                } else {\n                    res[keys[0]] = del\n                }\n            }\n        }\n        for (let attr in del) {\n            const keys = attr.split('.')\n            if (!watchFields || watchFields.includes(keys[0])) {\n                if (typeof del[attr] !== 'undefined') {\n                    applyWithDot(res, keys, del[attr])\n                }\n            }\n        }\n    }\n\n    applyUpdateToPart(result, delta.updatedFields, watchFields)\n\n    const applyDeleteToPart = (result, keys) => {\n        if (keys.length > 1) {\n            const key = keys.shift()\n            applyDeleteToPart(result[key], keys)\n        } else {\n            if (typeof result === 'object') {\n                delete result[keys[0]]\n            } else if (typeof result === 'array') {\n                result.splice(keys[0], 1)\n            }\n        }\n    }\n\n    for (let field of delta.removedFields) {\n        if (field.indexOf('.') > -1) {\n            const keys = field.split('.')\n            if (!watchFields || watchFields.includes(keys[0]))\n                applyDeleteToPart(result, keys)\n        } else {\n            delete result[field]\n        }\n    }\n    // console.log('--------------------------------result----------------')\n    // console.log(result)\n    return result\n}\n\nexport const updateResource = (code, id, update, parState) => (\n    dispatch,\n    getState\n) => {\n    if (update && id && code) {\n        const state = getState()\n        const check = key => {\n            if (state[key]._id === id) {\n                if (state[key].__v === update.updatedFields.__v - 1) {\n                    const element = applyDelta(state[key], update)\n                    dispatch(actions.setData({ [key]: element }))\n                } else {\n                    if (state[key].id) requestResource(code, [id], parState)\n                }\n            }\n        }\n        const check2 = (key, watchFields) => {\n            let updateData = {\n                [key]: cloneDeep(state[key]),\n            }\n            const friend = updateData[key][id]\n            if (friend) {\n                if (friend.__v === update.updatedFields.__v - 1) {\n                    updateData[key][id] = applyDelta(\n                        friend,\n                        update,\n                        watchFields\n                    )\n                    dispatch(actions.setData(updateData))\n                } else {\n                    requestResource(code, [id], parState)\n                }\n            }\n        }\n        switch (code) {\n            case 'user':\n                check('user')\n                break\n            case 'account':\n                check('account')\n                check('profile')\n                break\n            case 'progress':\n                check('progress')\n                break\n            case 'reward':\n                check('reward')\n                break\n            case 'post':\n                dispatch(actions.setData(check2(code)))\n                break\n            case 'friendData':\n                dispatch(\n                    actions.setData(\n                        check2(code, ['name', 'image', 'notifications', '__v'])\n                    )\n                )\n                break\n            case 'progressData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'owner',\n                            'worker',\n                            'goal',\n                            'notifications',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'rewardData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'name',\n                            'owner',\n                            'images',\n                            'likes',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'postData':\n                dispatch(\n                    actions.setData(check2(code, ['notifications', '__v']))\n                )\n                break\n\n            case 'transactionData':\n                dispatch(actions.setData(check2(code)))\n                break\n            default:\n                break\n        }\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const changeStage = (value, accountId, progressId, stageId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeStage',\n                value,\n                progressId,\n                accountId,\n                stageId,\n            })\n        )\n    }\n}\n\nexport const leaveProgress = data => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'leaveProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n            })\n        )\n    }\n}\n\nexport const getFriendsData = (progress, accountFriends) => {\n    if (webSocket && webSocket.readyState === 1) {\n        if (progress) {\n            let accountIds = [\n                progress.owner,\n                progress.worker,\n                ...accountFriends,\n            ]\n\n            accountIds = [...new Set(accountIds)]\n\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'getFriendsData',\n                    accountIds,\n                })\n            )\n        }\n    }\n}\n\nexport const editGoalInProgress = (data, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n                value,\n            })\n        )\n    }\n}\n\nexport const startProgress = (accountId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'startProgress',\n                accountId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteReward = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteReward',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n\nexport const saveReward = (accountId, progressId, reward) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveReward',\n                accountId,\n                progressId,\n                reward,\n            })\n        )\n    }\n}\n\nexport const changeLikesProgress = (accountId, progressId, add) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesProgress',\n                accountId,\n                progressId,\n                add,\n            })\n        )\n    }\n}\n\nexport const deleteRewardFromProgress = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteRewardFromProgress',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\nexport const addRewardToProgress = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRewardToProgress',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n\n// export const deleteProgress = progressId => {\n//     if (webSocket && webSocket.readyState === 1) {\n//         webSocket.send(\n//             JSON.stringify({\n//                 messageCode: 'deleteProgress',\n//                 progressId,\n//             })\n//         )\n//     }\n// }\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const saveReward = (accountId, reward, wish) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveReward',\n                accountId,\n                reward,\n                wish,\n            })\n        )\n    }\n}\n\nexport const changeLikesReward = (accountId, rewardId, add) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesReward',\n                accountId,\n                rewardId,\n                add,\n            })\n        )\n    }\n}\n\nexport const deleteReward = (accountId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteReward',\n                accountId,\n                rewardId,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const sendMessage = (\n    accountId,\n    postId,\n    messageValue,\n    image,\n    replyToMessage,\n    editedMessage\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'sendMessage',\n                messageValue,\n                image,\n                postId,\n                accountId,\n                replyToMessage,\n                editedMessage,\n            })\n        )\n    }\n}\n\nexport const changeLikesMessage = (\n    messageCode,\n    messageId,\n    accountId,\n    postId\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode,\n                messageId,\n                accountId,\n                postId,\n            })\n        )\n    }\n}\n\nexport const addPost = (\n    accountId,\n    parentId,\n    parentType,\n    messageValue,\n    images\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addPost',\n                accountId,\n                parentId,\n                parentType,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n\nexport const editPost = (accountId, postId, messageValue, images) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editPost',\n                accountId,\n                postId,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const deleteAccount = id => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteAccount',\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const editAccount = (value, id) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editAccount',\n                name: value.name,\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const followProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\nexport const unfollowProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\n\nexport const followAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\nexport const unfollowAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\n\nexport const addRecentProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRecentProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const searchFriends = search => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'searchFriends',\n                search,\n            })\n        )\n    }\n}\n\nexport const addFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const acceptFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'acceptFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const unfriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const shareWithFriends = (accountId, url, friends, item) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'shareWithFriends',\n                accountId,\n                url,\n                friends,\n                item,\n            })\n        )\n    }\n}\n","export default (nickname, version) => {\n    if (!nickname) return ''\n    else {\n        return (\n            'https://websiter.s3.us-east-2.amazonaws.com/' +\n            nickname +\n            '/avatar?v=' +\n            (version || 0)\n        )\n    }\n}\n","import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport Avatar from 'antd/es/avatar'\nimport getAvatar from '../../utils/getAvatar'\nimport { Typography } from '@material-ui/core'\nimport Badge from 'antd/es/badge'\n\nconst UserButton = props => {\n    const { account, profile, id, friendSearchResult, onlineUsers } = props\n    const friendData = props.friendDataExp || props.friendData\n    const getUserData = id =>\n        id === account._id\n            ? account\n            : id === profile._id\n            ? profile\n            : id === friendSearchResult._id\n            ? friendSearchResult\n            : friendData[id]\n    const userName = id => {\n        const text = getUserData(id) ? getUserData(id).name : id\n        return props.typography ? <Typography noWrap>{text}</Typography> : text\n    }\n    const userAvatar = id => {\n        const ava = getUserData(id) ? (\n            <Avatar\n                src={getAvatar(id, getUserData(id).image)}\n                size={props.size || (props.noClick ? 20 : 40)}\n                style={props.group || props.noName ? {} : { margin: ' 0 5px' }}\n            />\n        ) : null\n        return getUserData(id) ? (\n            onlineUsers.includes(id) ? (\n                <span key={id}>\n                    <Badge color=\"green\">{ava}</Badge>\n                </span>\n            ) : (\n                <span key={id}>{ava}</span>\n            )\n        ) : null\n    }\n\n    return props.onlyName ? (\n        userName(id)\n    ) : props.group ? (\n        <span onClick={e => e.stopPropagation()}>\n            <Avatar.Group style={{ margin: ' 0 5px' }}>\n                {props.ids.map(id => userAvatar(id))}\n            </Avatar.Group>\n        </span>\n    ) : props.noClick ? (\n        <>\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </>\n    ) : props.span ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n                // display: 'flex',\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : props.inline ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : (\n        <Link\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            <Button\n                type=\"link\"\n                style={{ padding: '0px 5px', height: 'auto', ...props.style }}\n            >\n                {!props.noAva && userAvatar(id)}\n\n                {!props.noName && userName(id)}\n            </Button>\n        </Link>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        profile: state.profile,\n        friendData: state.friendData,\n        friendSearchResult: state.friendSearchResult,\n        onlineUsers: state.onlineUsers,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(UserButton))\n","import {\n    Box,\n    Card,\n    CardActionArea,\n    CardContent,\n    createStyles,\n    makeStyles,\n    Paper,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { AddCircle } from '@material-ui/icons'\nimport Empty from 'antd/es/empty'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n        addBox: {\n            color: theme.palette.primary.main,\n            display: 'flex',\n            alignItems: 'center',\n        },\n    })\n)\nexport default props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    return props.items.length > 0 ||\n        props.empty ||\n        props.customEmpty ||\n        props.withAdd ? (\n        <>\n            {props.title && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {props.title}\n                </Typography>\n            )}\n            <Paper\n                style={{\n                    padding: '15px',\n                    display: 'flex',\n                    overflowX: 'auto',\n                    paddingBottom: '10px',\n                }}\n            >\n                {props.items.length === 0 && props.empty ? (\n                    props.customEmpty || <Empty />\n                ) : (\n                    <>\n                        {props.withAdd && (\n                            <Card\n                                style={{\n                                    borderRadius: '15px',\n                                    cursor: 'pointer',\n                                    flexShrink: 0,\n                                    width: '100px',\n                                    marginRight: '10px',\n                                    position: 'relative',\n                                    minHeight: '160px',\n                                }}\n                            >\n                                <CardActionArea\n                                    style={{\n                                        height: '100%',\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                    }}\n                                    onClick={() => props.onAdd()}\n                                >\n                                    <CardContent\n                                        style={{\n                                            flex: 1,\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            padding: '5px',\n                                        }}\n                                    >\n                                        <Box\n                                            style={{\n                                                flexDirection: 'column',\n                                            }}\n                                            className={classes.addBox}\n                                        >\n                                            <AddCircle />\n                                            <Box\n                                                style={{ textAlign: 'center' }}\n                                            >\n                                                {props.addTitle || t('g.add')}\n                                            </Box>\n                                        </Box>\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        )}\n                        {props.items.map((item, index) => (\n                            <Card\n                                style={{\n                                    borderRadius: '15px',\n                                    cursor: 'pointer',\n                                    flexShrink: 0,\n                                    width: '100px',\n                                    marginRight: '10px',\n                                    position: 'relative',\n                                }}\n                            >\n                                {props.content(item, index)}\n                            </Card>\n                        ))}\n                        <Box style={{ width: '10px', flexShrink: 0 }} />\n                    </>\n                )}\n            </Paper>\n        </>\n    ) : null\n}\n","import { Box } from '@material-ui/core'\nimport React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nexport const placeholderImages = [\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg',\n]\nexport const getPH = id => {\n    if (!id) return 0\n    const makeRand = x => {\n        x = Math.abs(x)\n        while (x > 1) x = x / 10\n        return x\n    }\n    const matches = id.match(/\\d+$/)\n    const imagePH = matches && matches.length > 0 ? parseInt(matches[0]) : 0\n    return Math.abs(\n        Math.round(makeRand(imagePH) * (placeholderImages.length - 1))\n    )\n}\nexport default withRouter(props => {\n    const images = props.images || []\n\n    const picture = !props.friends ? (\n        <img\n            style={{\n                maxWidth: '100%',\n                margin: 'auto',\n                display: 'block',\n                borderRadius: '15px',\n                boxShadow:\n                    '0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)',\n                ...props.style,\n            }}\n            src={\n                images.length > 0\n                    ? images[0]\n                    : placeholderImages[getPH(props.id)]\n            }\n        />\n    ) : null\n\n    return props.noLink ? (\n        <>\n            {picture}\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Box style={{ flex: 1 }}>{props.body}</Box>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    ) : (\n        <>\n            <Link to={props.onClickLink} style={{ cursor: 'pointer' }}>\n                {picture}\n            </Link>\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Link\n                    to={props.onClickLink}\n                    style={{ cursor: 'pointer', flex: 1 }}\n                >\n                    {props.body}\n                </Link>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    )\n})\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Tabs from 'antd/es/tabs'\nimport Badge from 'antd/es/badge'\nimport dayjs from 'dayjs'\nimport {\n    Button,\n    CardContent,\n    CardMedia,\n    Chip,\n    createMuiTheme,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemSecondaryAction,\n    ListItemText,\n    MenuItem,\n    MuiThemeProvider,\n    Select,\n    Typography,\n} from '@material-ui/core'\nimport { blue, green, orange, purple, red } from '@material-ui/core/colors'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport { getPH, placeholderImages } from '../../components/MasonryCard'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst redTheme = createMuiTheme({\n    palette: { primary: { main: red[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: red[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(red[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst blueTheme = createMuiTheme({\n    palette: { primary: { main: blue[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: blue[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(blue[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst greenTheme = createMuiTheme({\n    palette: { primary: { main: green[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: green[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(green[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst orangeTheme = createMuiTheme({\n    palette: { primary: { main: orange[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: orange[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(orange[600], 0.05),\n                },\n            },\n        },\n    },\n})\n\nconst customTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    overrides: {\n        MuiListItem: {\n            secondaryAction: {\n                paddingRight: '133px',\n                paddingLeft: 0,\n            },\n        },\n    },\n})\n\nconst ActivityTable = props => {\n    const { t } = useTranslation()\n    const [showEarnedRewards, setShowEarnedRewards] = useState(false)\n    const { progress, account, rewardData } = props\n\n    const isOwner = account && account._id === progress.owner\n\n    let lastStages = progress.stages\n        .slice(Math.max(progress.stages.length - 7, 0))\n        .sort((a, b) => {\n            let aS, aF, bS, bF\n            if (a.old && !b.old) return 1\n            else if (b.old && !a.old) return -1\n            else {\n                if (a.day) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .startOf('day')\n                    aF = dayjs()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .endOf('day')\n                    bS = dayjs()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .startOf('day')\n                    bF = dayjs()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .endOf('day')\n                } else if (a.week) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .week(a.week)\n                        .startOf('week')\n                    aF = dayjs()\n                        .year(a.year)\n                        .week(a.week)\n                        .endOf('week')\n                    bS = dayjs()\n                        .year(b.year)\n                        .week(b.week)\n                        .startOf('week')\n                    bF = dayjs()\n                        .year(b.year)\n                        .week(b.week)\n                        .endOf('week')\n                } else if (a.month) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .month(a.month)\n                        .startOf('month')\n                    aF = dayjs()\n                        .year(a.year)\n                        .month(a.month)\n                        .endOf('month')\n                    bS = dayjs()\n                        .year(b.year)\n                        .month(b.month)\n                        .startOf('month')\n                    bF = dayjs()\n                        .year(b.year)\n                        .month(b.month)\n                        .endOf('month')\n                } else if (a.year) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .startOf('year')\n                    aF = dayjs()\n                        .year(a.year)\n                        .endOf('year')\n                    bS = dayjs()\n                        .year(b.year)\n                        .startOf('year')\n                    bF = dayjs()\n                        .year(b.year)\n                        .endOf('year')\n                }\n                if (aS) {\n                    const now = dayjs()\n\n                    if (\n                        Math.min(\n                            Math.abs(now.diff(aS)),\n                            Math.abs(now.diff(aF))\n                        ) <=\n                        Math.min(Math.abs(now.diff(bS)), Math.abs(now.diff(bF)))\n                    )\n                        return -1\n                    else return 1\n                }\n            }\n            return 0\n        })\n\n    const nowStageId = lastStages.length > 0 ? lastStages[0].stageId : 0\n\n    lastStages = progress.stages\n\n    return lastStages.length === 0 ? null : (\n        <MuiThemeProvider theme={customTheme}>\n            <Tabs\n                // activeKey={activeTab}\n                type=\"card\"\n                defaultActiveKey={\n                    nowStageId\n                        ? lastStages\n                              .findIndex(item => item.stageId === nowStageId)\n                              .toString()\n                        : '2'\n                }\n                // onTabClick={key => setActiveTab(key === activeTab ? -1 : key)}\n            >\n                {lastStages.map((stage, index) => {\n                    const getStatus = id => {\n                        if (isOwner && stage.dismissed) return 'dismissed'\n                        if (stage.failBy.find(item => item.accountId === id))\n                            return 'fail'\n                        if (\n                            stage.approvedBy.find(item => item.accountId === id)\n                        )\n                            return 'complete'\n                        return 'process'\n                    }\n\n                    const getStatusText = id => {\n                        const status = getStatus(id)\n                        switch (status) {\n                            case 'fail':\n                                return t('progress.failed')\n                            case 'complete':\n                                return t('progress.completed')\n                            case 'dismissed':\n                                return t('progress.dismissed')\n                            default:\n                                return t('progress.inProcess')\n                        }\n                    }\n                    const myStatus =\n                        account && account._id && getStatus(account._id)\n\n                    const stageStatus = getStatus(progress.owner)\n\n                    const getTag = id => {\n                        return id === account._id ? (\n                            <Select\n                                labelId=\"demo-simple-select-label\"\n                                id=\"demo-simple-select\"\n                                value={myStatus}\n                                onChange={e =>\n                                    wsActions.changeStage(\n                                        e.target.value,\n                                        account._id,\n                                        progress._id,\n                                        stage.stageId\n                                    )\n                                }\n                            >\n                                <MenuItem value=\"complete\">\n                                    {t('progress.complete')}\n                                </MenuItem>\n                                <MenuItem value=\"process\">\n                                    {t('progress.inProcess')}\n                                </MenuItem>\n                                <MenuItem value=\"fail\">\n                                    {t('progress.fail')}\n                                </MenuItem>\n                                <MenuItem value=\"dismissed\">\n                                    {t('progress.dismiss')}\n                                </MenuItem>\n                            </Select>\n                        ) : (\n                            <Chip color=\"primary\" label={getStatusText(id)} />\n                        )\n                    }\n\n                    const users = progress.users\n                        .filter(item => item !== progress.owner)\n                        .map(user => {\n                            const userStatus = getStatus(user)\n                            return (\n                                <ListItem>\n                                    <ListItemAvatar>\n                                        <UserButton noName={true} id={user} />\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={\n                                            <UserButton\n                                                id={user}\n                                                noAva={true}\n                                                span={true}\n                                                onlyName={true}\n                                            />\n                                        }\n                                    />\n                                    <ListItemSecondaryAction>\n                                        <MuiThemeProvider\n                                            theme={\n                                                userStatus === 'process'\n                                                    ? blueTheme\n                                                    : userStatus === 'complete'\n                                                    ? greenTheme\n                                                    : userStatus === 'fail'\n                                                    ? redTheme\n                                                    : orangeTheme\n                                            }\n                                        >\n                                            {getTag(user)}\n                                        </MuiThemeProvider>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            )\n                        })\n\n                    const owner = [\n                        <ListItem>\n                            <ListItemAvatar>\n                                <UserButton noName={true} id={progress.owner} />\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Typography noWrap variant=\"body2\">\n                                        <UserButton\n                                            id={progress.owner}\n                                            noAva={true}\n                                            span={true}\n                                            onlyName={true}\n                                        />\n                                    </Typography>\n                                }\n                            />\n                            <ListItemSecondaryAction>\n                                <MuiThemeProvider\n                                    theme={\n                                        stageStatus === 'process'\n                                            ? blueTheme\n                                            : stageStatus === 'complete'\n                                            ? greenTheme\n                                            : stageStatus === 'fail'\n                                            ? redTheme\n                                            : orangeTheme\n                                    }\n                                >\n                                    {getTag(progress.owner)}\n                                </MuiThemeProvider>\n                            </ListItemSecondaryAction>\n                        </ListItem>,\n                    ]\n                    let stageDate\n                    let tabTitle = <div>One time goal</div>\n                    if (stage.day) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .dayOfYear(stage.day)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('dddd')}</span>\n                                </div>\n                                <div>\n                                    <span>{stageDate.format('D MMM YY')}</span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.week) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .week(stage.week)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('wo')} week</span>\n                                </div>\n                                <div>\n                                    <span>\n                                        {stageDate\n                                            .startOf('week')\n                                            .format('D MMM YY')}\n                                    </span>\n                                </div>\n                                <div>\n                                    <span>\n                                        {stageDate\n                                            .endOf('week')\n                                            .format('D MMM YY')}\n                                    </span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.month) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .month(stage.month)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('MMMM')}</span>\n                                </div>\n                                <div>\n                                    <span>{stageDate.format('YYYY')}</span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.year) {\n                        stageDate = dayjs().year(stage.year)\n\n                        tabTitle = (\n                            <div>\n                                <span>{stageDate.format('YYYY')}</span>\n                            </div>\n                        )\n                    }\n\n                    return (\n                        <Tabs.TabPane\n                            tab={\n                                <Badge\n                                    color={\n                                        stageStatus === 'complete'\n                                            ? 'green'\n                                            : stageStatus === 'dismissed'\n                                            ? 'orange'\n                                            : stageStatus === 'fail'\n                                            ? 'volcano'\n                                            : 'blue'\n                                    }\n                                >\n                                    <span\n                                        style={{\n                                            fontSize: '12px',\n                                            textTransform: 'uppercase',\n                                            textAlign: 'center',\n                                        }}\n                                    >\n                                        {tabTitle}\n                                    </span>\n                                </Badge>\n                            }\n                            key={index}\n                        >\n                            <List dense={true}>\n                                {owner}\n                                {users}\n                            </List>\n\n                            {stage.paid.length > 0 && (\n                                <>\n                                    {/* {showEarnedRewards && (\n                                        // <Rewards\n                                        //     rewards={stage.paid}\n                                        //     readOnly\n                                        // />\n                                    )} */}\n                                    <Button\n                                        onClick={() =>\n                                            setShowEarnedRewards(\n                                                !showEarnedRewards\n                                            )\n                                        }\n                                        color=\"primary\"\n                                        style={{}}\n                                    >\n                                        {(showEarnedRewards\n                                            ? t('g.hide')\n                                            : t('g.show')) +\n                                            t('progress.earnedRewards')}\n                                    </Button>\n                                    {showEarnedRewards && (\n                                        <HorizontalScrollList\n                                            items={stage.paid\n                                                .map(item => rewardData[item])\n                                                .filter(item => item)}\n                                            content={item => (\n                                                <CardContent\n                                                    style={{\n                                                        textAlign: 'center',\n                                                        position: 'relative',\n                                                        padding: '5px',\n                                                    }}\n                                                >\n                                                    <Link\n                                                        to={\n                                                            '/rewards/' +\n                                                            item._id\n                                                        }\n                                                    >\n                                                        <CardMedia\n                                                            style={{\n                                                                height: '150px',\n                                                                backgroundSize:\n                                                                    'contain',\n                                                            }}\n                                                            image={\n                                                                item.images\n                                                                    .length > 0\n                                                                    ? item\n                                                                          .images[0]\n                                                                    : placeholderImages[\n                                                                          getPH(\n                                                                              item._id\n                                                                          )\n                                                                      ]\n                                                            }\n                                                            title={item.name}\n                                                        />\n                                                        <CardContent\n                                                            style={{\n                                                                padding: '5px',\n                                                            }}\n                                                        >\n                                                            <Typography\n                                                                variant=\"body2\"\n                                                                noWrap\n                                                            >\n                                                                {item.name}\n                                                            </Typography>\n                                                        </CardContent>\n                                                    </Link>\n                                                </CardContent>\n                                            )}\n                                        />\n                                    )}\n                                </>\n                            )}\n                        </Tabs.TabPane>\n                    )\n                })}\n            </Tabs>\n        </MuiThemeProvider>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        rewardData: state.rewardData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ActivityTable))\n","import message from 'antd/es/message'\nimport axios from 'axios'\n\nexport const uploadFile = (file, size, filename, callback) => {\n    if (file == null) {\n        return alert('No file selected.')\n    }\n\n    const reader = new FileReader()\n    reader.onload = async event => {\n        resizeImageToSpecificSize(file, { width: size, height: size }, data => {\n            if (!data) {\n                callback()\n            } else {\n                urltoFile(data, '/120').then(function(file) {\n                    getSignedRequest(file, filename, callback)\n                })\n            }\n        })\n    }\n\n    reader.readAsArrayBuffer(file)\n}\n\nconst urltoFile = (url, filename, mimeType) => {\n    mimeType = mimeType || (url.match(/^data:([^;]+);/) || '')[1]\n    return fetch(url)\n        .then(function(res) {\n            return res.arrayBuffer()\n        })\n        .then(function(buf) {\n            return new File([buf], filename, { type: 'image/jpeg' })\n        })\n}\n\nconst resizeImageToSpecificSize = (file, size, cb) => {\n    if (file) {\n        var reader = new FileReader()\n        reader.onload = function(event) {\n            resizeImageFromSrcToSpecificSize(event.target.result, size, cb)\n        }\n        reader.readAsDataURL(file)\n    }\n}\n\nconst resizeImageFromSrcToSpecificSize = (src, size, cb) => {\n    try {\n        var data\n        var img = new Image()\n        img.onload = function() {\n            const widthCoef = img.width / size.width\n            const heightCoef = img.height / size.height\n            var oc = document.createElement('canvas'),\n                octx = oc.getContext('2d')\n            oc.width = img.width\n            oc.height = img.height\n            octx.drawImage(img, 0, 0)\n            if (widthCoef > 1 || heightCoef > 1) {\n                if (img.width > img.height) {\n                    oc.height = (img.height / img.width) * size.width\n                    oc.width = size.width\n                } else {\n                    oc.width = (img.width / img.height) * size.width\n                    oc.height = size.width\n                }\n            }\n            octx.drawImage(oc, 0, 0, oc.width, oc.height)\n            octx.drawImage(img, 0, 0, oc.width, oc.height)\n            data = oc.toDataURL('image/jpeg', 0.6)\n            cb(data)\n        }\n        img.onerror = () => {\n            cb()\n        }\n        img.src = src\n    } catch {}\n}\n\nconst getSignedRequest = (file, fileName, callback) => {\n    return axios\n        .post('/api/sign-s3', {\n            fileName,\n        })\n        .then(response => {\n            doUploadFile(file, response.data, callback)\n        })\n        .catch(err => {})\n}\n\nconst doUploadFile = (file, data, callback) => {\n    return axios\n        .put(data.signedRequest, file, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        })\n        .then(response => {\n            callback(data.url)\n            message.success('The image has been saved.')\n        })\n        .catch(err => {})\n}\n","import Upload from 'antd/es/upload'\nimport React, { useState, useEffect } from 'react'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport { uploadFile } from '../../utils/uploadFile'\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst ImagePickerMulti = props => {\n    const { t } = useTranslation()\n    const [images, setImages] = useState(props.images || [])\n    const [previewImage, setPreviewImage] = useState()\n\n    useEffect(() => {\n        props.onValueChange(images)\n    }, [images])\n\n    return (\n        <>\n            <Upload\n                accept=\"image/*\"\n                listType=\"picture-card\"\n                fileList={images.map((image, index) => ({\n                    url: image,\n                    uid: index,\n                }))}\n                onPreview={file => {\n                    setPreviewImage(file.url)\n                }}\n                onChange={({ fileList }) =>\n                    setImages(fileList.map(item => item.url))\n                }\n                customRequest={({ file }) => {\n                    uploadFile(file, 800, undefined, url => {\n                        if (!url) {\n                            setImages([...images])\n                        } else {\n                            setImages([...images, url])\n                        }\n                    })\n                }}\n            >\n                {images.length >= 8 ? null : (\n                    <div\n                        style={{\n                            flex: 1,\n                            display: 'flex',\n                            height: '100%',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            flexDirection: 'column',\n                        }}\n                        onClick={e => {\n                            if (window.isRNWebView) {\n                                e.stopPropagation()\n                                window.ReactNativeWebView.postMessage(\n                                    'uploadFile'\n                                )\n                                window.callback = url => {\n                                    setImages([...images, url])\n                                }\n                            }\n                        }}\n                    >\n                        <PlusOutlined />\n                        <div className=\"ant-upload-text\">{t('g.upload')}</div>\n                    </div>\n                )}\n            </Upload>\n            <Dialog\n                open={Boolean(previewImage)}\n                onClose={() => setPreviewImage()}\n            >\n                <DialogTitle id=\"scroll-dialog-title\">\n                    {t('g.previewImage')}\n                </DialogTitle>\n                <DialogContent dividers={true}>\n                    <img src={previewImage} style={{ width: '100%' }} />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setPreviewImage()} color=\"primary\">\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n\nexport default ImagePickerMulti\n","import React from 'react'\n// import { Editor } from '@tinymce/tinymce-react'\nimport { Editor } from 'react-draft-wysiwyg'\nimport { convertFromRaw, ContentState, convertToRaw } from 'draft-js'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\nimport htmlToDraft from 'html-to-draftjs'\nimport { useTranslation } from 'react-i18next'\n\nexport default props => {\n    const { t } = useTranslation()\n    let contentState\n    if (typeof props.value === 'string') {\n        const blocksFromHtml = htmlToDraft(props.value)\n        const { contentBlocks, entityMap } = blocksFromHtml\n        contentState = ContentState.createFromBlockArray(\n            contentBlocks,\n            entityMap\n        )\n        contentState = convertToRaw(contentState)\n    } else contentState = props.value\n    return (\n        // <Editor\n        //     apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n        //     // initialValue={form.getFieldValue('description')}\n        //     init={{\n        //         inline: true,\n        //     }}\n        //     onEditorChange={props.onEditorChange}\n        //     value={props.value}\n        // />\n        <Editor\n            placeholder={t('g.addSomeText')}\n            readOnly={props.readOnly}\n            // toolbarClassName=\"demo-toolbar-absolute\"\n            wrapperClassName=\"demo-wrapper\"\n            {...(!props.readOnly\n                ? { editorClassName: 'demo-editor' }\n                : { contentState: contentState })}\n            defaultContentState={contentState}\n            onContentStateChange={value => {\n                props.onEditorChange && props.onEditorChange(value)\n                props.onEditorChangePlain &&\n                    props.onEditorChangePlain(\n                        convertFromRaw(value).getPlainText(' ')\n                    )\n            }}\n            toolbar={{\n                inline: { inDropdown: true },\n                list: { inDropdown: true },\n                textAlign: { inDropdown: true },\n                link: { inDropdown: true },\n                history: { inDropdown: true },\n            }}\n            toolbarHidden={props.readOnly}\n            options={\n                !props.readOnly && [\n                    'inline',\n                    'blockType',\n                    'fontSize',\n                    'fontFamily',\n                    'list',\n                    'textAlign',\n                    'colorPicker',\n                    'link',\n                    'emoji',\n                    'remove',\n                    'history',\n                ]\n            }\n        />\n    )\n}\n","export default {\n    name: 200,\n    description: 10000,\n    message: 10000,\n}\n","import fieldLength from './fieldLength'\nimport i18n from '../translations/i18n'\n\nexport const nicknameRules = [\n    {\n        required: true,\n        message: i18n.t('rules.nicknameShort'),\n        whitespace: true,\n        min: 2,\n    },\n    {\n        message: `${i18n.t('rules.nicknameLong')} ${fieldLength.name}.`,\n        whitespace: true,\n        max: fieldLength.name,\n    },\n    {\n        pattern: /^[a-zA-Z0-9_-]*$/,\n        message: i18n.t('rules.nicknameType'),\n    },\n]\n\nexport const nameRules = [\n    {\n        required: true,\n        min: 1,\n        whitespace: true,\n        message: i18n.t('rules.nameShort'),\n    },\n    {\n        max: fieldLength.name,\n        message: `${i18n.t('rules.nameLong')} ${fieldLength.name}.`,\n    },\n]\n\nexport const accountNameRules = [\n    {\n        required: true,\n        min: 2,\n        whitespace: true,\n        message: i18n.t('rules.accNameShort'),\n    },\n    {\n        max: fieldLength.name,\n        message: `${i18n.t('rules.accNameLong')} ${fieldLength.name}.`,\n    },\n]\n\nexport const descriptionRules = [\n    {\n        max: fieldLength.description,\n        message: `${i18n.t('rules.descLong')} ${fieldLength.description}.`,\n    },\n]\n\nexport const messageRules = [\n    {\n        min: 1,\n        whitespace: true,\n        message: i18n.t('rules.messageShort'),\n    },\n    {\n        max: fieldLength.message,\n        message: `${i18n.t('rules.messageLong')} ${fieldLength.message}.`,\n    },\n]\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport * as wsActions from '../../websocketActions'\nimport {\n    AppBar,\n    Button,\n    Dialog,\n    IconButton,\n    Input,\n    makeStyles,\n    Slide,\n    Toolbar,\n    Typography,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport Form from 'antd/es/form/Form'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport TinyEditor from '../UI/TinyEditor'\nimport { nameRules } from '../../constants/fieldRules'\nimport { useTranslation } from 'react-i18next'\n\nconst TransitionComponent = props => <Slide direction=\"left\" {...props} />\nconst useStyles = makeStyles(theme => ({\n    root: {\n        // maxWidth: 345,\n    },\n    media: {\n        height: 0,\n        paddingTop: '56.25%', // 16:9\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        marginLeft: 'auto',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n\n    appBar: {\n        position: 'fixed',\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}))\n\nconst layout = {\n    labelCol: { span: 4 },\n    wrapperCol: { span: 20 },\n}\n\nconst AddEditReward = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [editedReward, setEditedReward] = useState(\n        props.reward || { images: [] }\n    )\n    useEffect(() => {\n        setEditedReward(props.reward || { images: [] })\n    }, props.open)\n    const { wish } = props\n    return (\n        <Dialog\n            fullScreen\n            open={props.open}\n            onClose={props.close}\n            TransitionComponent={TransitionComponent}\n        >\n            {props.open && (\n                <>\n                    <AppBar className={classes.appBar} color=\"primary\">\n                        <Toolbar>\n                            <IconButton\n                                edge=\"start\"\n                                color=\"inherit\"\n                                onClick={props.close}\n                                aria-label=\"close\"\n                            >\n                                <Close />\n                            </IconButton>\n                            <Typography\n                                variant=\"h6\"\n                                className={classes.title}\n                                color=\"inherit\"\n                            >\n                                {(!props.reward\n                                    ? t('reward.addNew')\n                                    : t('reward.edit')) +\n                                    (wish\n                                        ? t('reward.item')\n                                        : t('reward.reward'))}\n                            </Typography>\n                            <Button\n                                autoFocus\n                                color=\"inherit\"\n                                onClick={() => {\n                                    wsActions.saveReward(\n                                        props.account._id,\n                                        editedReward,\n                                        wish\n                                    )\n                                    props.close()\n                                }}\n                            >\n                                {t('g.save')}\n                            </Button>\n                        </Toolbar>\n                    </AppBar>\n                    <Toolbar />\n                    <Form\n                        style={{\n                            maxWidth: '1200px',\n                            margin: '0 auto',\n                            padding: '15px',\n                            width: '100%',\n                        }}\n                        name=\"new_reward\"\n                        {...layout}\n                    >\n                        <Form.Item\n                            name=\"images\"\n                            label={t('g.images')}\n                            // valuePropName=\"images\"\n                        >\n                            <ImagePickerMulti\n                                images={editedReward.images}\n                                onValueChange={images =>\n                                    setEditedReward({\n                                        ...editedReward,\n                                        images,\n                                    })\n                                }\n                            />\n                        </Form.Item>\n\n                        <Form.Item label={t('g.name')} rules={nameRules}>\n                            <Input\n                                fullWidth={true}\n                                value={editedReward.name}\n                                onChange={({ target: { value } }) =>\n                                    setEditedReward({\n                                        ...editedReward,\n                                        name: value,\n                                    })\n                                }\n                            />\n                        </Form.Item>\n                        <Form.Item label={t('g.desc')}>\n                            <TinyEditor\n                                value={editedReward.description}\n                                onEditorChange={value => {\n                                    setEditedReward(values => ({\n                                        ...values,\n                                        description: value,\n                                    }))\n                                }}\n                                onEditorChangePlain={value =>\n                                    setEditedReward(values => ({\n                                        ...values,\n                                        descriptionText: value,\n                                    }))\n                                }\n                            />\n                        </Form.Item>\n                    </Form>\n                </>\n            )}\n        </Dialog>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default connect(mapStateToProps)(AddEditReward)\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport * as wsActions from '../../websocketActions'\nimport { Box, TextField, Button, makeStyles } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport { spanStyle } from './Message'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles({\n    text: {\n        '&>div::after': { border: 'none' },\n        '&>div::before': { border: 'none !important' },\n        '& textarea': {\n            fontSize: '14px',\n        },\n    },\n})\nconst AddMessage = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [previewImage, setPreviewImage] = useState('')\n    const [imageLoading, setImageLoading] = useState(false)\n    const [images, setImages] = useState(props.images || [])\n    const { post, account } = props\n\n    const [messageText, setMessageText] = useState(\n        props.content ||\n            (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n    )\n\n    useEffect(() => {\n        setMessageText(\n            props.content ||\n                (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n        )\n    }, [props.replyToUser, props.content])\n\n    const uploadImage = file => {\n        uploadFile(file, 800, undefined, url => {\n            setImages([...images, url])\n        })\n    }\n\n    return post && account._id ? (\n        <Box style={{ display: 'flex', width: '100%', margin: '10px 0px' }}>\n            <Box style={{ marginRight: '10px' }}>\n                <UserButton\n                    noName={true}\n                    id={account._id}\n                    span={true}\n                    size={props.isTop ? 36 : 25}\n                />\n            </Box>\n            <Box style={{ flex: 1 }}>\n                <Box\n                    style={{\n                        background: '#efefef',\n                        padding: '5px 15px',\n                        borderRadius: '15px',\n                    }}\n                >\n                    <TextField\n                        multiline\n                        value={messageText}\n                        onChange={e => setMessageText(e.target.value)}\n                        margin=\"dense\"\n                        placeholder={t('post.addComment')}\n                        className={classes.text}\n                        fullWidth\n                    />\n                    {images.length > 0 && (\n                        <ImagePickerMulti\n                            images={images}\n                            onValueChange={value => setImages(value)}\n                        />\n                    )}\n                    <Button\n                        onClick={() => {\n                            wsActions.sendMessage(\n                                account._id,\n                                post._id,\n                                messageText,\n                                images,\n                                props.replyTo,\n                                props.editingMessage\n                            )\n                            setMessageText('')\n                            setImages([])\n                            if (props.onSend) props.onSend()\n                        }}\n                    >\n                        <span style={spanStyle}>{t('g.send')}</span>\n                    </Button>\n                    <Upload\n                        accept=\"image/*\"\n                        showUploadList={false}\n                        customRequest={({ file }) => {\n                            if (images.length > 8) {\n                                message.warning(t('post.imageLimit'))\n                                return\n                            }\n                            setImageLoading(true)\n                            uploadFile(file, 800, undefined, url => {\n                                setImageLoading(false)\n                                if (!url) {\n                                    setImages([...images])\n                                } else {\n                                    setImages([...images, url])\n                                }\n                            })\n                        }}\n                    >\n                        <Button\n                            onClick={e => {\n                                if (window.isRNWebView) {\n                                    e.stopPropagation()\n                                    window.ReactNativeWebView.postMessage(\n                                        'uploadFile'\n                                    )\n                                    window.callback = url => {\n                                        setImageLoading(false)\n                                        setImages([...images, url])\n                                    }\n                                }\n                            }}\n                        >\n                            <span style={spanStyle}>{t('g.image')}</span>\n                        </Button>\n                    </Upload>\n                    {props.cancel && (\n                        <Button onClick={props.cancel}>\n                            <span style={spanStyle}>{t('g.cancel')}</span>\n                        </Button>\n                    )}\n                </Box>\n            </Box>\n        </Box>\n    ) : null\n}\n\nexport default withRouter(AddMessage)\n","import React, { useState } from 'react'\nimport Carousel from 'antd/es/carousel'\nimport classes from './imageCarousel.module.css'\nimport Modal from 'antd/es/modal/Modal'\n\nconst ImageCarousel = props => {\n    const [previewImage, setPreviewImage] = useState(false)\n\n    return props.images && props.images.length > 0 ? (\n        <>\n            <Carousel\n                style={{ width: props.size || 'auto', margin: '10px 0' }}\n                dots={{ className: classes.Dots }}\n                autoplay\n            >\n                {props.images.map(\n                    (image, index) =>\n                        image && (\n                            <div\n                                key={index}\n                                onClick={() => setPreviewImage(image)}\n                            >\n                                <div\n                                    style={{\n                                        backgroundImage: 'url(\"' + image + '\")',\n                                        backgroundSize: props.type || 'contain',\n                                        backgroundPosition: 'center',\n                                        width: props.size || '100%',\n                                        height:\n                                            props.height ||\n                                            props.size ||\n                                            '300px',\n                                        maxWidth: '800px',\n                                        backgroundRepeat: 'no-repeat',\n                                        borderRadius: '20px',\n                                        margin: 'auto',\n                                    }}\n                                />\n                            </div>\n                        )\n                )}\n            </Carousel>\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => setPreviewImage('')}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </>\n    ) : null\n}\n\nexport default ImageCarousel\n","import {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nexport default props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={props.open}\n            onClose={props.close}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.close}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {props.title}\n                    </Typography>\n                    {props.save && (\n                        <Button autoFocus color=\"inherit\" onClick={props.save}>\n                            {props.saveText || t('g.save')}\n                        </Button>\n                    )}\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n            {props.children}\n        </Dialog>\n    )\n}\n","import React from 'react'\nimport * as wsActions from '../websocketActions'\nimport { Button } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst FollowButton = props => {\n    const { t } = useTranslation()\n    const { account, type, id } = props\n    if (account && account._id && account._id !== id) {\n        if (type === 'progress') {\n            return account.followProgresses.includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowProgress(account._id, id)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followProgress(account._id, id)\n                    }}\n                >\n                    {t('g.follow')}\n                </Button>\n            )\n        } else {\n            return account.followAccounts.includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowAccount(account._id, id)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followAccount(account._id, id)\n                    }}\n                >\n                    {t('g.follow')}\n                </Button>\n            )\n        }\n    }\n    return null\n}\n\nexport default FollowButton\n","import { Button } from '@material-ui/core'\nimport React, { useEffect, useRef, useState } from 'react'\nimport TinyEditor from './TinyEditor'\nimport { useTranslation } from 'react-i18next'\n\nconst ReadMore = props => {\n    const { t } = useTranslation()\n    const [overflow, setOverflow] = useState(false)\n    const [open, setOpen] = useState(false)\n    const descRef = useRef(null)\n\n    useEffect(() => {\n        if (\n            descRef.current &&\n            descRef.current.offsetHeight > props.initialHeight\n        ) {\n            setOverflow(true)\n        }\n    }, [\n        descRef.current && descRef.current.offsetHeight,\n        props.content,\n        props.contentEditor,\n        props.children,\n    ])\n    return (\n        <div\n            style={{\n                maxHeight: open ? 'initial' : props.initialHeight + 'px',\n                overflow: 'hidden',\n                position: 'relative',\n                paddingBottom: overflow && open ? '50px' : '0px',\n            }}\n        >\n            {props.content && (\n                <div\n                    ref={descRef}\n                    dangerouslySetInnerHTML={{ __html: props.content }}\n                />\n            )}\n            {props.contentEditor && (\n                <div ref={descRef}>\n                    <TinyEditor readOnly value={props.contentEditor} />\n                </div>\n            )}\n            {props.children && <div ref={descRef}>{props.children}</div>}\n            {overflow && (\n                <div\n                    style={{\n                        position: 'absolute',\n                        bottom: 0,\n                        width: '100%',\n                        // zIndex: 1,\n                    }}\n                >\n                    <div\n                        style={{\n                            transition: 'opacity 0.25s',\n                            opacity: open ? 0 : 1,\n                            backgroundImage:\n                                'linear-gradient(to bottom, rgba(255, 255, 255, 1), #ffffff )',\n                            content: '',\n                            height: '50px',\n                            width: '100%',\n\n                            bottom: '0',\n                            left: '0',\n                            position: 'absolute',\n                        }}\n                    />\n\n                    <Button color=\"primary\" onClick={() => setOpen(!open)}>\n                        {open\n                            ? t('g.readLess')\n                            : t('g.readMore') + (props.addTitle || '')}\n                    </Button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default ReadMore\n","import React, { useEffect, useState } from 'react'\nimport { Box, Button, makeStyles, Typography } from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport TinyEditor from '../UI/TinyEditor'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst EditPost = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    const [images, setImages] = useState(props.images || [])\n\n    const [messageText, setMessageText] = useState(props.content || '')\n\n    useEffect(() => {\n        setImages(props.images || [])\n        setMessageText(props.content || '')\n    }, [props.open])\n\n    const handleSave = () => {\n        props.save(images, messageText)\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setImages([])\n        setMessageText('')\n        props.cancel()\n    }\n\n    return (\n        <DialogFullscreen\n            open={props.open}\n            close={handleCancel}\n            title={props.title}\n            save={handleSave}\n        >\n            <Box\n                style={{\n                    padding: '0 16px',\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    width: '100%',\n                }}\n            >\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('g.desc')}\n                </Typography>\n                <Box>\n                    <TinyEditor\n                        value={messageText}\n                        onEditorChange={value => setMessageText(value)}\n                    />\n                </Box>\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('g.images')}\n                </Typography>\n                <ImagePickerMulti\n                    images={images}\n                    onValueChange={value => setImages(value)}\n                />\n                <Box\n                    style={{\n                        textAlign: 'right',\n                        marginTop: '50px',\n                    }}\n                >\n                    <Button size=\"large\" onClick={handleCancel}>\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                        onClick={handleSave}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </Box>\n            </Box>\n        </DialogFullscreen>\n    )\n}\n\nexport default EditPost\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport * as wsActions from '../../websocketActions'\nimport AddMessage from './AddMessage'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    Badge,\n    Box,\n    Button,\n    Chip,\n    IconButton,\n    Menu,\n    MenuItem,\n} from '@material-ui/core'\nimport dayjs from 'dayjs'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport { MoreVertOutlined, ThumbUp } from '@material-ui/icons'\nimport ReadMore from '../UI/ReadMore'\nimport EditPost from './EditPost'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nexport const spanStyle = {\n    fontSize: '12px',\n    color: '#666',\n    textTransform: 'none',\n}\nconst Message = props => {\n    const { t } = useTranslation()\n    const {\n        account,\n        message,\n        friendData,\n        progressData,\n        post,\n        replies,\n        isStart,\n    } = props\n    const [replyVisible, setReplyVisible] = useState(false)\n    const [likes, setLikes] = useState(null)\n    const [replyToUser, setReplyToUser] = useState('')\n    const [editingMessage, setEditingMessage] = useState('')\n    const [showReplies, setShowReplies] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [editMessageOpen, setEditMessageOpen] = useState(false)\n\n    const handleEditPostSave = (images, messageText) => {\n        wsActions.editPost(account._id, post._id, messageText, images)\n        if (props.onSend) props.onSend()\n        handleEditPostCancel()\n    }\n\n    const handleEditPostCancel = () => {\n        setEditMessageOpen(false)\n    }\n\n    return account && friendData ? (\n        <>\n            {account._id !== message.author || !editingMessage ? (\n                <>\n                    {props.isStart ? (\n                        <Box\n                            style={{\n                                display: 'flex',\n                                width: '100%',\n                                margin: '10px 0px',\n                            }}\n                        >\n                            <Box style={{ marginRight: '10px' }}>\n                                <UserButton\n                                    noName={true}\n                                    id={message.author}\n                                    span={true}\n                                />\n                            </Box>\n                            <Box style={{ flex: 1 }}>\n                                <span\n                                    style={{\n                                        color: '#333',\n                                        fontWeight: 'bold',\n                                        fontSize: '14px',\n                                    }}\n                                >\n                                    <UserButton\n                                        id={message.author}\n                                        span={true}\n                                        noAva={true}\n                                    />{' '}\n                                    <div\n                                        style={spanStyle}\n                                        onClick={() =>\n                                            props.history.push(\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                    '/goals/' +\n                                                        post.parent.parentId +\n                                                        '/post/' +\n                                                        post._id\n                                            )\n                                        }\n                                    >\n                                        {dayjs(message.date).fromNow()}\n                                    </div>\n                                    {/* <span style={{ fontWeight: 'normal' }}>in</span>{' '}\n                {post.parent &&\n                    progressData &&\n                    progressData[post.parent.parentId] && (\n                        <span\n                            style={{ cursor: 'pointer' }}\n                            onClick={() =>\n                                props.history.push(\n                                    '/goals/' + post.parent.parentId\n                                )\n                            }\n                        >\n                            {progressData[post.parent.parentId].goal.name}\n                        </span>\n                    )} */}\n                                    {post.startMessage &&\n                                        ['wishlist', 'perk', 'goal'].includes(\n                                            post.startMessage.messageType\n                                        ) && (\n                                            <span\n                                                style={{\n                                                    cursor: 'pointer',\n                                                }}\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/profile/' +\n                                                            message.author\n                                                    )\n                                                }\n                                            >\n                                                {post.startMessage\n                                                    .messageType === 'wishlist'\n                                                    ? t('g.wishlist')\n                                                    : post.startMessage\n                                                          .messageType ===\n                                                      'goals'\n                                                    ? t('g.goals')\n                                                    : t('g.rewards')}\n                                            </span>\n                                        )}\n                                </span>\n                            </Box>\n                            {account._id === message.author && (\n                                <Box>\n                                    <IconButton\n                                        onClick={event =>\n                                            setAnchorEl(event.currentTarget)\n                                        }\n                                    >\n                                        <MoreVertOutlined />\n                                    </IconButton>\n                                    <Menu\n                                        id=\"simple-menu\"\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={() => setAnchorEl(null)}\n                                    >\n                                        <MenuItem\n                                            onClick={() => {\n                                                setEditMessageOpen(true)\n                                                setAnchorEl(null)\n                                            }}\n                                        >\n                                            {t('g.edit')}\n                                        </MenuItem>\n                                    </Menu>\n                                    <EditPost\n                                        open={editMessageOpen}\n                                        cancel={handleEditPostCancel}\n                                        title={t('post.editPost')}\n                                        save={handleEditPostSave}\n                                        images={message.image}\n                                        content={message.text}\n                                    />\n                                </Box>\n                            )}\n                        </Box>\n                    ) : (\n                        <>\n                            <Box style={{ display: 'flex', width: '100%' }}>\n                                <Box style={{ marginRight: '10px' }}>\n                                    <UserButton\n                                        noName={true}\n                                        id={message.author}\n                                        span={true}\n                                        size={props.isTop ? 36 : 25}\n                                    />\n                                </Box>\n                                <Box style={{ flex: 1 }}>\n                                    <Badge\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'right',\n                                        }}\n                                        overlap=\"circle\"\n                                        badgeContent={\n                                            message.likes.length ? (\n                                                <Chip\n                                                    icon={<ThumbUp />}\n                                                    color=\"primary\"\n                                                    label={message.likes.length}\n                                                    size=\"small\"\n                                                    onClick={() =>\n                                                        setLikes(message.likes)\n                                                    }\n                                                />\n                                            ) : (\n                                                0\n                                            )\n                                        }\n                                    >\n                                        <Box\n                                            style={{\n                                                background: '#efefef',\n                                                padding: '5px 15px',\n                                                borderRadius: '15px',\n                                            }}\n                                        >\n                                            <UserButton\n                                                id={message.author}\n                                                span={true}\n                                                noAva={true}\n                                            />\n                                            {message.image &&\n                                                message.image.length > 0 && (\n                                                    <ImageCarousel\n                                                        images={message.image}\n                                                        height=\"60vmin\"\n                                                        type=\"contain\"\n                                                    />\n                                                )}\n                                            {message.text && (\n                                                <p\n                                                    style={{\n                                                        wordBreak: 'break-word',\n                                                    }}\n                                                >\n                                                    {message.text}\n                                                </p>\n                                            )}\n                                        </Box>\n                                    </Badge>\n                                    <Box>\n                                        <span\n                                            style={{\n                                                ...spanStyle,\n                                                marginRight: '15px',\n                                            }}\n                                        >\n                                            {dayjs(message.date).fromNow()}\n                                        </span>\n\n                                        <Button\n                                            onClick={() =>\n                                                wsActions.changeLikesMessage(\n                                                    message.likes.includes(\n                                                        account._id\n                                                    )\n                                                        ? 'dislikeMessage'\n                                                        : 'likeMessage',\n                                                    message.messageId,\n                                                    account._id,\n                                                    post._id\n                                                )\n                                            }\n                                        >\n                                            <span style={spanStyle}>\n                                                {message.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? t('g.unlike')\n                                                    : t('g.like')}\n                                            </span>\n                                        </Button>\n\n                                        {message.author !== account._id && (\n                                            <Button\n                                                onClick={() => {\n                                                    if (props.setReplyVisible) {\n                                                        props.setReplyVisible(\n                                                            true\n                                                        )\n                                                        props.setReplyToUser(\n                                                            props.message.author\n                                                        )\n                                                    } else {\n                                                        setReplyVisible(true)\n                                                        setReplyToUser('')\n                                                    }\n                                                    setShowReplies(true)\n                                                }}\n                                            >\n                                                <span style={spanStyle}>\n                                                    {t('post.reply')}\n                                                </span>\n                                            </Button>\n                                        )}\n                                        {message.author === account._id && (\n                                            <Button\n                                                onClick={() =>\n                                                    setEditingMessage(\n                                                        message.messageId\n                                                    )\n                                                }\n                                            >\n                                                <span style={spanStyle}>\n                                                    {t('g.edit')}\n                                                </span>\n                                            </Button>\n                                        )}\n                                    </Box>\n                                    {props.isTop &&\n                                    replies &&\n                                    replies.length > 0 ? (\n                                        showReplies ? (\n                                            replies.map((reply, index) => (\n                                                <Message\n                                                    key={index}\n                                                    message={reply}\n                                                    post={post}\n                                                    account={account}\n                                                    friendData={friendData}\n                                                    setReplyVisible={\n                                                        setReplyVisible\n                                                    }\n                                                    setReplyToUser={\n                                                        setReplyToUser\n                                                    }\n                                                />\n                                            ))\n                                        ) : (\n                                            <Button\n                                                onClick={() =>\n                                                    setShowReplies(true)\n                                                }\n                                            >\n                                                <span\n                                                    style={{\n                                                        ...spanStyle,\n                                                        fontSize: '15px',\n                                                    }}\n                                                >\n                                                    {`${t('g.show')} ${\n                                                        replies.length\n                                                    } ${t('post.replies')}`}\n                                                </span>\n                                            </Button>\n                                        )\n                                    ) : null}\n\n                                    {props.isTop && replyVisible ? (\n                                        <AddMessage\n                                            post={post}\n                                            account={account}\n                                            replyTo={message.messageId}\n                                            replyToUser={replyToUser}\n                                            cancel={() =>\n                                                setReplyVisible(false)\n                                            }\n                                        />\n                                    ) : null}\n                                </Box>\n                            </Box>\n                        </>\n                    )}\n\n                    {isStart ? (\n                        <>\n                            {message.messageType === 'wishlist' && (\n                                <>\n                                    {' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                            cursor: 'pointer',\n                                            margin: '10px 0px 0px ',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${\n                                                    message.details.owner\n                                                }/${message.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {message.details.name}\n                                    </span>\n                                </>\n                            )}\n                            {message.text && (\n                                <ReadMore\n                                    initialHeight={700}\n                                    contentEditor={message.text}\n                                />\n                            )}\n                            {message.image && message.image.length > 0 && (\n                                <ImageCarousel\n                                    images={message.image}\n                                    height=\"60vmin\"\n                                    type=\"contain\"\n                                />\n                            )}\n                        </>\n                    ) : (\n                        <></>\n                    )}\n                </>\n            ) : (\n                <AddMessage\n                    post={post}\n                    account={account}\n                    replyTo={message.messageId}\n                    editingMessage={editingMessage}\n                    content={message.text}\n                    images={message.image}\n                    onSend={() => setEditingMessage('')}\n                    cancel={() => setEditingMessage('')}\n                />\n            )}\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title=\"Message likes\"\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n        </>\n    ) : null\n}\n\nexport default withRouter(Message)\n","import React from 'react'\n\nimport Select from 'antd/es/select'\nimport UserButton from '../UserButton/UserButton'\nimport { useTranslation } from 'react-i18next'\nimport { connect } from 'react-redux'\n\nconst ConnectionsSelect = props => {\n    const { t } = useTranslation()\n    const { account, friendData } = props\n    return account._id && friendData ? (\n        <Select\n            mode=\"multiple\"\n            style={{ width: '100%' }}\n            placeholder={t('g.pleaseSelect')}\n            value={props.value}\n            onChange={props.onChange}\n            getPopupContainer={trigger => trigger.parentNode}\n        >\n            {[\n                props.account,\n                ...props.account.friends\n                    .filter(friend => friend.status === 'friend')\n                    .map(friend => props.friendData[friend.friend]),\n            ].map(\n                item =>\n                    item &&\n                    item._id && (\n                        <Select.Option key={item._id}>\n                            <UserButton id={item._id} noClick={true} />\n                        </Select.Option>\n                    )\n            )}\n        </Select>\n    ) : (\n        <span>Please login to share with your Addspire friends.</span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n    }\n}\n\nexport default connect(mapStateToProps)(ConnectionsSelect)\n","import React, { useState } from 'react'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Box,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    Paper,\n    Snackbar,\n    Tooltip,\n    Typography,\n} from '@material-ui/core'\nimport { withRouter } from 'react-router-dom'\nimport { FileCopy, Share } from '@material-ui/icons'\nimport {\n    EmailShareButton,\n    FacebookShareButton,\n    // WeiboShareButton,\n    // HatenaShareButton,\n    // InstapaperShareButton,\n    // LineShareButton,\n    LinkedinShareButton,\n    // LivejournalShareButton,\n    // MailruShareButton,\n    // OKShareButton,\n    PinterestShareButton,\n    // PocketShareButton,\n    // RedditShareButton,\n    TelegramShareButton,\n    // TumblrShareButton,\n    TwitterShareButton,\n    // ViberShareButton,\n    VKShareButton,\n    // WhatsappShareButton,     ,\n    FacebookIcon,\n    TwitterIcon,\n    LinkedinIcon,\n    PinterestIcon,\n    VKIcon,\n    // OKIcon,\n    TelegramIcon,\n    // WhatsappIcon,\n    // RedditIcon,\n    // TumblrIcon,\n    // MailruIcon,\n    EmailIcon,\n    // LivejournalIcon,\n    // ViberIcon,\n    // WorkplaceIcon,\n    // LineIcon,\n    // PocketIcon,\n    // InstapaperIcon,\n    // WeiboIcon,\n    // HatenaIcon,\n    // FacebookMessengerIcon,\n    // FacebookMessengerShareButton,\n} from 'react-share'\nimport { spanStyle } from '../Post/Message'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { Alert } from '@material-ui/lab'\nimport { useTranslation } from 'react-i18next'\nimport ConnectionsSelect from '../EditGoalAndProgressForm/ConnectionsSelect'\nimport { connect } from 'react-redux'\n\nconst ShareButton = props => {\n    const { t } = useTranslation()\n    const [alertVisible, setAlertVisible] = useState(false)\n    const [open, setOpen] = useState(false)\n    const [friends, setFriends] = useState([])\n    const { account } = props\n    const basicProps = {\n        url: props.link || window.location.href,\n        title: props.title,\n        media: props.media || 'https://addspire.com/logo.jpg',\n        style: {\n            margin: '10px',\n            display: 'inline-block',\n            textAlign: 'center',\n            cursor: 'pointer',\n        },\n    }\n    return (\n        <>\n            <Tooltip title={t('g.share')} enterDelay={500} leaveDelay={200}>\n                {props.post ? (\n                    <Button onClick={() => setOpen(true)} startIcon={<Share />}>\n                        <span style={spanStyle}>{t('g.share')}</span>\n                    </Button>\n                ) : (\n                    <IconButton\n                        // color=\"primary\"\n                        style={props.style}\n                        onClick={() => setOpen(true)}\n                    >\n                        <Share />\n                    </IconButton>\n                )}\n            </Tooltip>\n            <Dialog open={open} onClose={() => setOpen(false)}>\n                <DialogTitle>{t('g.shareTo')}</DialogTitle>\n                <DialogContent>\n                    <Box style={{ margin: '10px auto 30px' }}>\n                        <Typography variant=\"subtitle1\">\n                            {t('g.addspireFriends')}:\n                        </Typography>\n                        <Box style={{ marginTop: '15px', padding: '10px' }}>\n                            <ConnectionsSelect\n                                value={friends}\n                                onChange={value => setFriends(value)}\n                            />\n                            <Button\n                                color=\"primary\"\n                                style={{ marginTop: '10px' }}\n                                onClick={() =>\n                                    friends.length > 0 &&\n                                    wsActions.shareWithFriends(\n                                        account._id,\n                                        basicProps.url,\n                                        friends,\n                                        props.item\n                                    )\n                                }\n                            >\n                                {t('g.send')}\n                            </Button>\n                        </Box>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"subtitle1\">\n                            {t('g.otherFriends')}:\n                        </Typography>\n                    </Box>\n                    <Box style={{ marginTop: '15px', padding: '10px' }}>\n                        <FacebookShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <FacebookIcon size={32} round />\n                            <Box>Facebook</Box>\n                        </FacebookShareButton>\n                        {/* <FacebookMessengerShareButton\n                            {...basicProps}\n                            appId=\"521270401588372\"\n                        >\n                            <FacebookMessengerIcon size={32} round />\n                        </FacebookMessengerShareButton> */}\n                        <TwitterShareButton {...basicProps}>\n                            <TwitterIcon size={32} round />\n                            <Box>Twitter</Box>\n                        </TwitterShareButton>\n                        <TelegramShareButton {...basicProps}>\n                            <TelegramIcon size={32} round />\n                            <Box>Telegram</Box>\n                        </TelegramShareButton>\n                        <PinterestShareButton {...basicProps}>\n                            <PinterestIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </PinterestShareButton>\n\n                        {/* <InstapaperShareButton {...basicProps}>\n                            <InstapaperIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </InstapaperShareButton>\n                        <PocketShareButton {...basicProps}>\n                            <PocketIcon size={32} round />\n                            <Box>Pocket</Box>\n                        </PocketShareButton> */}\n                        <LinkedinShareButton {...basicProps}>\n                            <LinkedinIcon size={32} round />\n                            <Box>LinkedIn</Box>\n                        </LinkedinShareButton>\n                        {/* <ViberShareButton {...basicProps}>\n                            <ViberIcon size={32} round />\n                        </ViberShareButton>\n                        <LineShareButton {...basicProps}>\n                            <LineIcon size={32} round />\n                        </LineShareButton> */}\n                        {/* <LivejournalShareButton {...basicProps}>\n                            <LivejournalIcon size={32} round />\n                        </LivejournalShareButton> */}\n                        {/* <MailruShareButton {...basicProps}>\n                            <MailruIcon size={32} round />\n                        </MailruShareButton> */}\n                        {/* <OKShareButton {...basicProps} image={props.media}>\n                            <OKIcon size={32} round />\n                        </OKShareButton>\n                        <RedditShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <RedditIcon size={32} round />\n                        </RedditShareButton>\n                        <TumblrShareButton {...basicProps}>\n                            <TumblrIcon size={32} round />\n                        </TumblrShareButton> */}\n                        <VKShareButton {...basicProps} image={props.media}>\n                            <VKIcon size={32} round />\n                            <Box>VK</Box>\n                        </VKShareButton>\n                        {/* <WhatsappShareButton {...basicProps} separator=\":: \">\n                            <WhatsappIcon size={32} round />\n                        </WhatsappShareButton> */}\n                        {/* <WorkplaceShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <WorkplaceIcon size={32} round />\n                        </WorkplaceShareButton> */}\n                        {/* <WeiboShareButton {...basicProps} image={props.media}>\n                            <WeiboIcon size={32} round />\n                        </WeiboShareButton> */}\n                        {/* <HatenaShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <HatenaIcon size={32} round />\n                        </HatenaShareButton> */}\n                        <EmailShareButton\n                            {...basicProps}\n                            subject={props.title}\n                            body=\"body\"\n                        >\n                            <EmailIcon size={32} round />\n                            <Box>{t('g.email')}</Box>\n                        </EmailShareButton>\n\n                        <CopyToClipboard\n                            text={basicProps.url}\n                            {...basicProps}\n                            onCopy={() => setAlertVisible(true)}\n                        >\n                            <Box>\n                                <FileCopy style={{ fontSize: 32 }} />\n                                <Box>{t('g.copyUrl')}</Box>\n                            </Box>\n                        </CopyToClipboard>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setOpen(false)}>\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Snackbar\n                open={alertVisible}\n                autoHideDuration={2000}\n                onClose={() => setAlertVisible(false)}\n            >\n                <Alert\n                    onClose={() => setAlertVisible(false)}\n                    severity=\"success\"\n                >\n                    {t('g.urlCopied')}\n                </Alert>\n            </Snackbar>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n    }\n}\nexport default withRouter(connect(mapStateToProps)(ShareButton))\n","import React, { useEffect, useRef, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport Message, { spanStyle } from './Message'\nimport AddMessage from './AddMessage'\nimport {\n    Button,\n    Card,\n    CardContent,\n    Chip,\n    Divider,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    AddCommentOutlined,\n    ThumbUp,\n    ThumbUpOutlined,\n} from '@material-ui/icons'\nimport ShareButton from '../UI/ShareButton'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Post = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const { post, account, friendData, progressData } = props\n    const isPostPage = props.history.location.pathname.indexOf(post._id) > -1\n    const [postOpen, setPostOpen] = useState(props.showReplies || isPostPage)\n    const [likes, setLikes] = useState(null)\n    const getNumberOfMessages = messages => {\n        let result = 0\n        for (let item of messages) {\n            result = result + 1 + item.replies.length\n        }\n        return result\n    }\n    const postRef = useRef(null)\n\n    useEffect(() => {\n        if (isPostPage && postRef.current) {\n            window.scrollTo({\n                top: postRef.current.offsetTop - 70,\n                behavior: 'smooth',\n            })\n            setPostOpen(true)\n        }\n    }, [isPostPage])\n    return post ? (\n        <>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('post.mainPost')}\n                </Typography>\n            )}\n            <Card elevation={isPostPage && 3}>\n                <CardContent ref={postRef}>\n                    {!props.noStartMessage && (\n                        <>\n                            <Message\n                                message={post.startMessage}\n                                post={post}\n                                account={account}\n                                friendData={friendData}\n                                progressData={progressData}\n                                replies={[]}\n                                isStart={true}\n                            />\n\n                            {post.startMessage.likes.length > 0 && (\n                                <Chip\n                                    icon={<ThumbUp />}\n                                    color=\"primary\"\n                                    label={post.startMessage.likes.length}\n                                    size=\"small\"\n                                    onClick={() =>\n                                        setLikes(post.startMessage.likes)\n                                    }\n                                    style={{ marginBottom: '10px' }}\n                                />\n                            )}\n                            <Divider />\n                        </>\n                    )}\n\n                    <div\n                        style={{\n                            textAlign: 'left',\n                            // marginBottom: '200px',\n                            position: 'relative',\n                        }}\n                    >\n                        {!props.noPostControls && (\n                            <>\n                                <div\n                                    style={{\n                                        display: 'flex',\n                                        justifyContent: 'space-around',\n                                    }}\n                                >\n                                    <span key=\"comment-basic-like\">\n                                        <Button\n                                            onClick={() =>\n                                                wsActions.changeLikesMessage(\n                                                    post.startMessage.likes.includes(\n                                                        account._id\n                                                    )\n                                                        ? 'dislikeMessage'\n                                                        : 'likeMessage',\n                                                    post.startMessage.messageId,\n                                                    account._id,\n                                                    post._id\n                                                )\n                                            }\n                                            startIcon={<ThumbUpOutlined />}\n                                        >\n                                            <span style={spanStyle}>\n                                                {post.startMessage.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? t('g.unlike')\n                                                    : t('g.like')}\n                                            </span>\n                                        </Button>\n                                    </span>\n                                    <span>\n                                        <Button\n                                            onClick={() => setPostOpen(true)}\n                                            startIcon={<AddCommentOutlined />}\n                                        >\n                                            <span style={spanStyle}>\n                                                {t('post.comment')}\n                                            </span>\n                                        </Button>\n                                    </span>\n                                    <span key=\"comment-basic-like\">\n                                        <ShareButton\n                                            post\n                                            link={\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                'https://addspire.com/goals/' +\n                                                    post.parent.parentId +\n                                                    '/post/' +\n                                                    post._id\n                                            }\n                                            media={\n                                                post.startMessage.image &&\n                                                post.startMessage.image.length >\n                                                    0 &&\n                                                post.startMessage.image[0]\n                                            }\n                                            title={t('post.shareText')}\n                                            item={{\n                                                postId: post._id,\n                                            }}\n                                        />\n                                    </span>\n                                </div>\n                                <Divider />\n                            </>\n                        )}\n                        {!postOpen ? (\n                            post.messages.length > 0 && (\n                                <Button onClick={() => setPostOpen(true)}>\n                                    <span\n                                        style={{\n                                            ...spanStyle,\n                                            fontSize: '15px',\n                                        }}\n                                    >\n                                        {`${t('g.show')} \n                                        ${getNumberOfMessages(post.messages)} \n                                        ${t('post.comments')}`}\n                                    </span>\n                                </Button>\n                            )\n                        ) : (\n                            <>\n                                <AddMessage\n                                    post={post}\n                                    account={account}\n                                    isTop={true}\n                                />\n                                {post.messages && post.messages.length\n                                    ? post.messages.map((message, index) => (\n                                          <Message\n                                              key={index}\n                                              message={message}\n                                              post={post}\n                                              account={account}\n                                              friendData={friendData}\n                                              replies={message.replies}\n                                              isTop={true}\n                                          />\n                                      ))\n                                    : null}\n                            </>\n                        )}\n                    </div>\n                </CardContent>\n            </Card>\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title={t('post.messageLikes')}\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('post.otherPosts')}\n                </Typography>\n            )}\n        </>\n    ) : null\n}\n\nexport default withRouter(Post)\n","import axios from 'axios'\nimport processRes from './processRes'\nexport default (props, data, setData, options, callback) => {\n    // if (typeof props.isAuthed === 'undefined') return\n    // options = {\n    //     forceAuth: true,\n    //     forceActivate: true,\n    //     pullData: true,\n    //     ...(options || {}),\n    // }\n\n    // if (!props.isAuthed) {\n    //     props.tryAuth(props, options.forceAuth)\n    // }\n\n    // if (options.pullData) {\n    axios\n        .get('/api' + props.history.location.pathname)\n        .then(res => {\n            processRes(res, props)\n            // if (options.forceActivate) {\n            //     if (props.isAuthed && res.data.status === 'no account') {\n            //         props.history.push('/activate-account')\n            //     }\n            // }\n\n            setData(res.data)\n            callback(res.data)\n        })\n        .catch(err => {})\n    // }\n}\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Cookies from 'universal-cookie'\nimport classes from './LoginModal.module.css'\nimport {\n    FacebookLoginButton,\n    GithubLoginButton,\n    GoogleLoginButton,\n    InstagramLoginButton,\n} from 'react-social-login-buttons'\nimport {\n    Button,\n    Checkbox,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Divider,\n    FormControlLabel,\n    Slide,\n} from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst cookies = new Cookies()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst LoginModal = props => {\n    const { t } = useTranslation()\n    const [state, setState] = useState(false)\n    const [cookieConsent, setCookieConsent] = useState(false)\n\n    useEffect(() => {\n        checkCookieConsent()\n    })\n\n    let remeberMeParam = '?rememberme=false'\n    if (state) {\n        remeberMeParam = '?rememberme=true'\n    }\n\n    const checkCookieConsent = () => {\n        const cookiesConsent = cookies.get('cookies_consent')\n        if (cookiesConsent) {\n            setCookieConsent(true)\n        }\n    }\n\n    const agreeWithCookies = () => {\n        cookies.set('cookies_consent', 'true', {\n            path: '/',\n            maxAge: 31530000,\n        })\n        checkCookieConsent()\n    }\n    const basicURL =\n        process.env.NODE_ENV !== 'development'\n            ? 'https://addspire.com/api/auth/'\n            : 'http://my.websiter.test:5000/api/auth/'\n    return props.loginVisible ? (\n        !cookieConsent ? (\n            <Dialog open={!cookieConsent}>\n                <DialogTitle>{'Cookies consent'}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {t('login.cookieText')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => {\n                            props.setLoginVisible(false)\n                            setCookieConsent(false)\n                        }}\n                    >\n                        {t('g.disagree')}\n                    </Button>\n                    <Button\n                        onClick={agreeWithCookies}\n                        color=\"primary\"\n                        autoFocus\n                    >\n                        {t('g.agree')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        ) : (\n            <Dialog\n                fullScreen\n                open={props.loginVisible}\n                onClose={() => props.setLoginVisible(false)}\n                TransitionComponent={TransitionComponent}\n            >\n                <div className=\"contentDiv\">\n                    <div\n                        className={classes.Container}\n                        style={{\n                            maxWidth: '500px',\n                            margin: '0 auto',\n                        }}\n                    >\n                        <h1\n                            style={{\n                                fontWeight: 'bold',\n                                lineHeight: '1.3em',\n                                marginBottom: 0,\n                                fontSize: '2.5em',\n                            }}\n                        >\n                            {t('login.welcome')}\n                        </h1>\n                        <div\n                            className={classes.socialButtons}\n                            style={{ marginBottom: '30px' }}\n                        >\n                            <FacebookLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `facebook/start${remeberMeParam}`)\n                                }\n                            />\n                            <GoogleLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `google/start${remeberMeParam}`)\n                                }\n                            />\n                            <InstagramLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `instagram/start${remeberMeParam}`)\n                                }\n                            />\n                            <GithubLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `github/start${remeberMeParam}`)\n                                }\n                            />\n                        </div>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={state}\n                                    onChange={() => setState(!state)}\n                                    color=\"primary\"\n                                />\n                            }\n                            label={t('login.rememberMe')}\n                        />\n\n                        <Divider style={{ margin: '20px' }} />\n\n                        <Button\n                            onClick={() => props.setLoginVisible(false)}\n                            color=\"secondary\"\n                        >\n                            {t('login.loginLater')}\n                        </Button>\n                    </div>\n                    <div className={classes.Background} />\n                </div>\n            </Dialog>\n        )\n    ) : null\n}\n\nexport default withRouter(LoginModal)\n","import React from 'react'\nimport * as wsActions from '../../websocketActions'\n\nimport EditGoalAndProgressForm from '../../components/EditGoalAndProgressForm/EditGoalAndProgressForm'\n\nconst AddProgress = props =>\n    props.account._id ? (\n        <EditGoalAndProgressForm\n            onFinish={value => {\n                wsActions.startProgress(props.account._id, value)\n                props.setStartProgressVisible(false)\n                document.body.removeAttribute('style')\n            }}\n            account={props.account}\n            friendData={props.friendData}\n            cancel={props.cancel}\n        />\n    ) : null\n\nexport default AddProgress\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../websocketActions'\n\nimport { IconButton, Menu, MenuItem, Button, Box } from '@material-ui/core'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst FriendActionButton = props => {\n    const { t } = useTranslation()\n    const [anchorEl, setAnchorEl] = useState(null)\n    const { invitingFriends, invitedFriends, realFriends, _id, account } = props\n    const accountId = account ? account._id : ''\n    if (!accountId) return null\n    const handleClose = () => {\n        setAnchorEl(null)\n    }\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    if (accountId === _id)\n        return props.additionalButtons ? (\n            <>\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n                <Menu\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={handleClose}\n                >\n                    {props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick()\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                </Menu>\n            </>\n        ) : null\n\n    return (\n        <>\n            {props.minimized ? (\n                props.asText ? (\n                    <Button\n                        onClick={e => handleClick(e)}\n                        variant=\"contained\"\n                        color=\"primary\"\n                    >\n                        {t('g.actions')}\n                    </Button>\n                ) : (\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                )\n            ) : invitingFriends.find(item => item.friend === _id) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.acceptFriend(accountId, _id)\n                        }}\n                    >\n                        {t('g.acceptFriendship')}\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : ![...realFriends, ...invitingFriends, ...invitedFriends].find(\n                  item => item.friend === _id\n              ) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.addFriend(accountId, _id)\n                        }}\n                    >\n                        {t('g.becomeFriends')}\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : props.asText ? (\n                <Button\n                    onClick={e => handleClick(e)}\n                    variant=\"contained\"\n                    color=\"primary\"\n                >\n                    {t('g.actions')}\n                </Button>\n            ) : (\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n            )}\n            <Menu\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                {props.minimized &&\n                    invitingFriends.find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.acceptFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            {t('g.acceptFriendship')}\n                        </MenuItem>\n                    )}\n                {props.minimized &&\n                    ![\n                        ...realFriends,\n                        ...invitingFriends,\n                        ...invitedFriends,\n                    ].find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.addFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            {t('g.becomeFriends')}\n                        </MenuItem>\n                    )}\n                {props.additionalButtons &&\n                    props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                {invitingFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"2\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.decline')}\n                    </MenuItem>\n                ) : invitedFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"3\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.cancelInvitation')}\n                    </MenuItem>\n                ) : realFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"4\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.unfriend')}\n                    </MenuItem>\n                ) : null}\n                {props.noFollow ? null : account.followAccounts.includes(\n                      _id\n                  ) ? (\n                    <MenuItem\n                        key=\"5\"\n                        onClick={() => {\n                            wsActions.unfollowAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.unfollow')}\n                    </MenuItem>\n                ) : (\n                    <MenuItem\n                        key=\"6\"\n                        onClick={() => {\n                            wsActions.followAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.follow')}\n                    </MenuItem>\n                )}\n            </Menu>\n        </>\n    )\n}\n\nexport default FriendActionButton\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../store/actions'\nimport { withRouter } from 'react-router-dom'\n\nimport FriendActionButton from './FriendActionButton'\nimport UserButton from './UserButton/UserButton'\nimport MasonryCard from './MasonryCard'\nimport { useTranslation } from 'react-i18next'\n\nconst FriendCard = props => {\n    const { t } = useTranslation()\n    return (\n        <MasonryCard\n            friends={true}\n            noLink={true}\n            actions={\n                <FriendActionButton\n                    account={props.account}\n                    realFriends={props.realFriends}\n                    invitedFriends={props.invitedFriends}\n                    invitingFriends={props.invitingFriends}\n                    _id={props.friend._id}\n                    additionalButtons={[\n                        {\n                            title: t('g.seeProfile'),\n                            onClick: () =>\n                                props.history.push(\n                                    '/profile/' + props.friend._id\n                                ),\n                        },\n                    ]}\n                    asIcons={true}\n                />\n            }\n            body={<UserButton span={true} id={props.friend._id} size={50} />}\n        />\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(FriendCard)\n)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport FriendCard from '../../components/FriendCard'\nimport {\n    Container,\n    createStyles,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Typography,\n} from '@material-ui/core'\nimport { SearchOutlined } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n            margin: '30px auto',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n            margin: 'auto',\n        },\n        iconButton: {\n            padding: 10,\n        },\n    })\n)\nconst AddFriends = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    useEffect(() => {\n        props.setFriendSearchResult({})\n        setSearchField('')\n    }, [props.open])\n    const [searchField, setSearchField] = useState('')\n    const { account, friendData, searchResult } = props\n\n    if (!account._id) return null\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n\n    if (account.friends) {\n        for (let friend of account.friends) {\n            const fullFriend = { ...friendData[friend.friend], ...friend }\n            if (fullFriend) {\n                if (fullFriend.status === 'friend') realFriends.push(fullFriend)\n                else if (fullFriend.status === 'invited')\n                    invitedFriends.push(fullFriend)\n                else if (fullFriend.status === 'inviting')\n                    invitingFriends.push(fullFriend)\n            }\n        }\n    }\n\n    return (\n        <Container style={{ paddingTop: '20px', maxWidth: '800px' }}>\n            <Typography variant=\"body2\" align=\"center\">\n                {t('friends.instructions')}\n            </Typography>\n            <Paper className={classes.root}>\n                <InputBase\n                    className={classes.input}\n                    placeholder={t('friends.searchFriends')}\n                    onChange={e => setSearchField(e.target.value)}\n                />\n                <IconButton\n                    className={classes.iconButton}\n                    onClick={() => wsActions.searchFriends(searchField)}\n                >\n                    <SearchOutlined />\n                </IconButton>\n            </Paper>\n            {searchResult.length > 0 &&\n                searchResult.map(friend => (\n                    <FriendCard\n                        {...props}\n                        friend={friend}\n                        realFriends={realFriends}\n                        invitingFriends={invitingFriends}\n                        invitedFriends={invitedFriends}\n                    />\n                ))}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        searchResult: state.friendSearchResult,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AddFriends)\n","import { Menu, MenuItem, Tooltip, Button } from '@material-ui/core'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport LanguageIcon from '@material-ui/icons/Language'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { connect } from 'react-redux'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        language: {\n            margin: theme.spacing(0, 0.5, 0, 1),\n        },\n        languageText: {\n            display: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'block',\n            },\n        },\n        languageIcon: {\n            display: 'block',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n    })\n)\nconst LanguageSwitcher = props => {\n    const { currentLanguage } = props\n    const { i18n, t } = useTranslation()\n    const classes = useStyles()\n\n    const [languageMenu, setLanguageMenu] = useState(null)\n    const handleLanguageIconClick = event => {\n        setLanguageMenu(event.currentTarget)\n    }\n    const handleLanguageMenuClose = code => {\n        if (code) i18n.changeLanguage(code)\n        setLanguageMenu(null)\n    }\n    const LANGUAGES_LABEL = [\n        { code: 'en', text: 'English' },\n        { code: 'ru', text: 'Русский' },\n    ]\n\n    return (\n        <>\n            <Tooltip title={t('changeLanguage')} enterDelay={300}>\n                <Button\n                    color=\"inherit\"\n                    aria-owns={languageMenu ? 'language-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={handleLanguageIconClick}\n                    data-ga-event-category=\"header\"\n                    data-ga-event-action=\"language\"\n                >\n                    <LanguageIcon className={classes.languageIcon} />\n                    <span\n                        className={\n                            props.settings\n                                ? classes.language\n                                : [classes.language, classes.languageText].join(\n                                      ' '\n                                  )\n                        }\n                    >\n                        {LANGUAGES_LABEL.filter(\n                            language => language.code === currentLanguage\n                        ).length > 0\n                            ? LANGUAGES_LABEL.filter(\n                                  language => language.code === currentLanguage\n                              )[0].text\n                            : LANGUAGES_LABEL[0].text}\n                    </span>\n                    <ExpandMoreIcon fontSize=\"small\" />\n                </Button>\n            </Tooltip>\n\n            <Menu\n                id=\"language-menu\"\n                anchorEl={languageMenu}\n                open={Boolean(languageMenu)}\n                onClose={() => handleLanguageMenuClose()}\n            >\n                {LANGUAGES_LABEL.map(language => (\n                    <MenuItem\n                        component=\"a\"\n                        data-no-link=\"true\"\n                        key={language.code}\n                        selected={i18n.language === language.code}\n                        onClick={() => handleLanguageMenuClose(language.code)}\n                    >\n                        {language.text}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentLanguage: state.language,\n    }\n}\n\nexport default connect(mapStateToProps)(LanguageSwitcher)\n","import React, { useState, useRef } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport getAvatar from '../../utils/getAvatar'\nimport LoginModal from './LoginModal'\nimport * as cll from './Layout.module.css'\nimport AddProgress from '../../containers/Progresses/AddProgress'\n\nimport {\n    AppBar,\n    IconButton,\n    Slide,\n    Toolbar,\n    useScrollTrigger,\n    createStyles,\n    makeStyles,\n    Theme,\n    Container,\n    Badge,\n    Avatar,\n    LinearProgress,\n    Dialog,\n    useMediaQuery,\n    Box,\n    Paper,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport SpeedDial from '@material-ui/lab/SpeedDial'\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon'\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction'\nimport {\n    Book,\n    HomeRounded,\n    Notifications,\n    Person,\n    Star,\n} from '@material-ui/icons'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport AddFriends from '../../containers/Friends/AddFriends'\nimport LanguageSwitcher from '../LanguageSwitcher/LanguageSwitcher'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        speedDial: {\n            right: '12px',\n            // bottom: theme.spacing(2),\n            bottom: '16px',\n            position: 'fixed',\n        },\n        logout: {\n            left: theme.spacing(2),\n            bottom: theme.spacing(2),\n            position: 'fixed',\n        },\n        login: {\n            right: '16px',\n            bottom: '16px',\n            position: 'fixed',\n        },\n        home: {\n            right: '16px',\n            bottom: '88px',\n            position: 'fixed',\n        },\n        avatar: {\n            border: '1px solid ' + theme.palette.primary.main,\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        blogLabel: {\n            margin: theme.spacing(0, 0.5, 0, 1),\n            display: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'inline',\n            },\n        },\n        blogIcon: {\n            display: 'inline',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n    })\n)\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst AccountLayout = props => {\n    const { t } = useTranslation()\n    const domRef = useRef()\n    const matches = useMediaQuery(theme => theme.breakpoints.up('sm'))\n    const { account, language } = props\n\n    const [loginVisible, setLoginVisible] = useState(false)\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n    const [speedDialOpen, setSpeedDialOpen] = useState(false)\n\n    const openLink = url => props.history.push(url)\n\n    const isActivating = props.history.location.pathname === '/activate-account'\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n    const logedIn = props.isAuthed && account._id\n\n    const classes = useStyles()\n    const scrollTrigger = !useScrollTrigger()\n    const checkPagePath = paths => {\n        for (let path of paths)\n            if (props.history.location.pathname.indexOf(path) === 0) return true\n    }\n    const removeGutters =\n        !matches && checkPagePath(['/goals', '/posts', '/profile', '/account'])\n    return props.hide ? (\n        props.children\n    ) : (\n        <>\n            <div\n                className={cll.Layout}\n                style={props.white ? { background: '#fff' } : {}}\n            >\n                <Slide appear={false} direction=\"down\" in={scrollTrigger}>\n                    <AppBar elevation={1} color=\"secondary\">\n                        {props.isConnectingWS && !logedIn && (\n                            <LinearProgress\n                                style={{\n                                    width: '100%',\n                                    position: 'absolute',\n                                    top: 0,\n                                    left: 0,\n                                }}\n                            />\n                        )}\n\n                        <Toolbar>\n                            <div\n                                tabIndex={0}\n                                ref={domRef}\n                                style={{ width: 0, height: 0 }}\n                            />\n                            {/* <div className={classes.MenuButtonContiner}>\n                                <IconButton\n                                    onClick={() => props.history.goBack()}\n                                >\n                                    <ArrowBack color=\"primary\" />\n                                </IconButton>\n                            </div> */}\n                            {(account._id && props.header) || (\n                                <Box style={{ display: 'flex', flex: 1 }}>\n                                    <Box style={{ display: 'flex', flex: 1 }}>\n                                        <Button component={Link} to={'/'}>\n                                            <img\n                                                style={{\n                                                    height: '100%',\n                                                    position: 'absolute',\n                                                    left: 0,\n                                                }}\n                                                src=\"/android-icon-36x36.png\"\n                                            />\n                                            <img\n                                                style={{\n                                                    height: '18px',\n                                                    visibility: 'hidden',\n                                                }}\n                                                src=\"/android-icon-36x36.png\"\n                                            />\n                                            <Typography\n                                                variant=\"button\"\n                                                className={classes.blogLabel}\n                                            >\n                                                Addspire\n                                            </Typography>\n                                        </Button>\n                                    </Box>\n                                    <Box style={{ display: 'flex' }}>\n                                        <LanguageSwitcher />\n\n                                        <Button\n                                            component={Link}\n                                            to={`/${\n                                                language !== 'en'\n                                                    ? language + '/'\n                                                    : ''\n                                            }blog`}\n                                            style={{ marginRight: '20px' }}\n                                        >\n                                            <Book\n                                                className={classes.blogIcon}\n                                            />\n                                            <span className={classes.blogLabel}>\n                                                {t('layout.blog')}\n                                            </span>\n                                        </Button>\n\n                                        {(logedIn && isActivating) ||\n                                        (!logedIn && props.isConnectingWS) ? (\n                                            <Button\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/logout'\n                                                    )\n                                                }\n                                            >\n                                                {t('g.logout')}\n                                            </Button>\n                                        ) : (\n                                            !account._id && (\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"primary\"\n                                                    // startIcon={<Person />}\n                                                    onClick={() =>\n                                                        setLoginVisible(true)\n                                                    }\n                                                >\n                                                    {t('layout.login')}\n                                                </Button>\n                                            )\n                                        )}\n                                    </Box>\n                                </Box>\n                            )}\n                        </Toolbar>\n                    </AppBar>\n                </Slide>\n                <Toolbar id=\"back-to-top-anchor\" />\n                <Container\n                    style={{ paddingTop: '20px', paddingBottom: '20px' }}\n                    disableGutters={Boolean(removeGutters)}\n                >\n                    {props.children}\n                </Container>\n\n                <Toolbar\n                    style={{\n                        marginTop: '50px',\n                        background: '#eee',\n                        paddingTop: '22px',\n                        paddingBottom: '22px',\n                    }}\n                >\n                    <Box style={{ display: 'flex', flex: 1 }}>\n                        <Box\n                            style={{\n                                display: 'flex',\n                                flex: 1,\n                                justifyContent: 'center',\n                            }}\n                        >\n                            <Link\n                                to=\"/\"\n                                style={{\n                                    display: 'flex',\n                                    alignItems: 'baseline',\n                                }}\n                            >\n                                <img\n                                    style={{\n                                        height: '23px',\n                                    }}\n                                    src=\"/android-icon-36x36.png\"\n                                />\n                                <Typography variant=\"button\">\n                                    Addspire\n                                </Typography>\n                            </Link>\n                        </Box>\n                    </Box>\n                </Toolbar>\n\n                {logedIn && !isActivating && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial\"\n                        className={classes.speedDial}\n                        icon={<SpeedDialIcon />}\n                        onClose={() => {\n                            domRef.current.focus()\n                            setSpeedDialOpen(false)\n                        }}\n                        onOpen={() => setSpeedDialOpen(true)}\n                        open={speedDialOpen}\n                    >\n                        <SpeedDialAction\n                            icon={<Person />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addFriend')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setAddFriendOpen(true)\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Star />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addGoal')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartProgressVisible(true)\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                    </SpeedDial>\n                )}\n                {(logedIn || !props.isConnectingWS) &&\n                    (isActivating && 'Activate your account')}\n\n                <Slide appear={false} direction=\"up\" in={!useScrollTrigger()}>\n                    <Box\n                        style={{\n                            position: 'fixed',\n                            bottom: '12px',\n                            width: '100%',\n                        }}\n                    >\n                        {logedIn && !isActivating && (\n                            <Box\n                                style={{\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                }}\n                            >\n                                <Paper\n                                    elevation={3}\n                                    style={{ borderRadius: '37px' }}\n                                >\n                                    <IconButton\n                                        onClick={() => openLink('/')}\n                                        color={\n                                            props.history.location.pathname ===\n                                            '/'\n                                                ? 'primary'\n                                                : 'default'\n                                        }\n                                    >\n                                        <HomeRounded fontSize=\"large\" />\n                                    </IconButton>\n                                    <IconButton\n                                        onClick={() => openLink('/posts')}\n                                        color={\n                                            props.history.location.pathname ===\n                                            '/posts'\n                                                ? 'primary'\n                                                : 'default'\n                                        }\n                                    >\n                                        <Badge\n                                            badgeContent={numberOfUnseenNots}\n                                            color=\"secondary\"\n                                        >\n                                            <Notifications fontSize=\"large\" />\n                                        </Badge>\n                                    </IconButton>\n                                    <IconButton\n                                        onClick={() =>\n                                            openLink('/profile/' + account._id)\n                                        }\n                                    >\n                                        <Badge\n                                            badgeContent={\n                                                account.friends.filter(\n                                                    item =>\n                                                        item.status ===\n                                                        'inviting'\n                                                ).length\n                                            }\n                                            color=\"secondary\"\n                                        >\n                                            <Avatar\n                                                classes={\n                                                    props.history.location\n                                                        .pathname ===\n                                                    '/profile/' + account._id\n                                                        ? {\n                                                              root:\n                                                                  classes.avatar,\n                                                          }\n                                                        : {}\n                                                }\n                                                src={getAvatar(\n                                                    account._id,\n                                                    account.image\n                                                )}\n                                            />\n                                        </Badge>\n                                    </IconButton>\n                                </Paper>\n                            </Box>\n                        )}\n                    </Box>\n                </Slide>\n            </div>\n            <LoginModal\n                loginVisible={loginVisible}\n                setLoginVisible={setLoginVisible}\n            />\n            {(logedIn || !props.isConnectingWS) && (!isActivating && <></>)}\n\n            {account._id && (\n                <>\n                    <DialogFullscreen\n                        open={addFriendOpen}\n                        close={() => {\n                            setAddFriendOpen(false)\n                        }}\n                        title={t('g.addFriend')}\n                    >\n                        <AddFriends\n                            close={() => setAddFriendOpen(false)}\n                            open={addFriendOpen}\n                            account={account}\n                            friendData={props.friendData}\n                        />\n                    </DialogFullscreen>\n\n                    <Dialog\n                        fullScreen\n                        open={startProgressVisible}\n                        onClose={() => {\n                            setStartProgressVisible(false)\n                        }}\n                        TransitionComponent={TransitionComponent}\n                    >\n                        <AddProgress\n                            setStartProgressVisible={setStartProgressVisible}\n                            account={account}\n                            friendData={props.friendData}\n                            cancel={() => setStartProgressVisible(false)}\n                        />\n                    </Dialog>\n                </>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n        lastNotifications: state.lastNotifications,\n        isConnectingWS: state.isConnectingWS,\n        friendData: state.friendData,\n        language: state.language,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(AccountLayout))\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport Post from '../../components/Post/Post'\nimport pullData from '../../utils/pullData'\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Box,\n    Button,\n    createStyles,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    IconButton,\n    makeStyles,\n    Menu,\n    MenuItem,\n    Paper,\n    Typography,\n} from '@material-ui/core'\nimport Helmet from 'react-helmet'\nimport ImageCarousel from '../../components/UI/ImageCarousel/ImageCarousel'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport ReadMore from '../../components/UI/ReadMore'\nimport FollowButton from '../../components/FollowButton'\nimport UserButton from '../../components/UserButton/UserButton'\nimport MasonryCard from '../../components/MasonryCard'\nimport AddEditReward from '../../components/ProfileRewards/AddEditReward'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { useTranslation } from 'react-i18next'\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n        pageTitle: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst Reward = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [likesVisible, setLikesVisible] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [deleteVisible, setDeleteVisible] = useState(false)\n    const [addRewardOpen, setAddRewardOpen] = useState(false)\n    const [data, setData] = useState({})\n    const pathParts = props.history.location.pathname.split('/')\n    const rewardId =\n        props.rewardId || (pathParts.length > 2 ? pathParts[2] : '')\n    if (!rewardId) return null\n    const wish = pathParts[1] === 'wishlist'\n    useEffect(() => {\n        if (props.isAuthed) {\n            props.setData({ currentReward: rewardId })\n        } else {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n                const post = {}\n                for (let item of data.posts) post[item._id] = item\n\n                props.setData({\n                    friendData,\n                    post,\n                    account: {},\n                    reward: data.reward,\n                })\n            })\n        }\n    }, [props.isAuthed, props.history.location.pathname])\n\n    const { reward, account, friendData, posts } = props.isAuthed\n        ? props\n        : { ...data, posts: props.posts, account: {} }\n    if (!reward || !reward._id) return null\n    // props.setData({ currentPosts: [reward.post] })\n\n    const getDropDownMeuItems = () => {\n        const items = []\n        if (account._id === reward.owner)\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setAddRewardOpen(true)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.edit')}\n                </MenuItem>\n            )\n        items.push(\n            <MenuItem\n                onClick={() => {\n                    setDeleteVisible(true)\n                    setAnchorEl(null)\n                }}\n            >\n                {t('g.delete')}\n            </MenuItem>\n        )\n\n        if (reward.likes.includes(account._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.changeLikesReward(\n                            account._id,\n                            reward._id,\n                            false\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.unlike')}\n                </MenuItem>\n            )\n\n        return items.length > 0 && items\n    }\n\n    const dropDownMeuItems = account._id ? getDropDownMeuItems() : null\n    return friendData ? (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.pageTitle}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {reward.name}\n                </Typography>\n            }\n            hide={props.rewardId}\n        >\n            <Helmet>\n                <title>\n                    {reward.name ||\n                        (wish ? t('g.wishlistItem') : t('g.reward'))}{' '}\n                    {t('g.by')}\n                    {reward.owner || t('g.aUser')} - Addspire\n                </title>\n                <meta name=\"description\" content={reward.descriptionText} />\n            </Helmet>\n            <div className=\"contentDiv\">\n                <Paper style={{ padding: '15px' }}>\n                    {reward.images.length > 0 && (\n                        <ImageCarousel images={reward.images} />\n                    )}\n                    <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                        <Typography variant=\"h4\">{reward.name}</Typography>\n                        <Box\n                            style={{\n                                margin: '5px 0px',\n                            }}\n                        >\n                            <Button onClick={() => setLikesVisible(true)}>\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {reward.likes.length} {t('g.likes')}\n                                </span>\n                            </Button>\n                            <ShareButton\n                                title={\n                                    reward.name +\n                                    ` - ${t('g.item')} ${t('g.shareText')}`\n                                }\n                                media={reward.images && reward.images[0]}\n                                item={{\n                                    rewardId: reward._id,\n                                    rewardName: reward.name,\n                                }}\n                            />\n                            {dropDownMeuItems && account && account._id && (\n                                <>\n                                    <IconButton\n                                        onClick={event =>\n                                            setAnchorEl(event.currentTarget)\n                                        }\n                                    >\n                                        <MoreVertOutlined />\n                                    </IconButton>\n                                    <Menu\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={() => setAnchorEl(null)}\n                                    >\n                                        {dropDownMeuItems}\n                                    </Menu>\n                                </>\n                            )}\n                        </Box>\n                        <Box\n                            style={{\n                                margin: '0px 0px 20px',\n                            }}\n                        >\n                            {account &&\n                                account._id &&\n                                !reward.likes.includes(account._id) && (\n                                    <Button\n                                        color=\"primary\"\n                                        variant=\"contained\"\n                                        onClick={() =>\n                                            wsActions.changeLikesReward(\n                                                account._id,\n                                                reward._id,\n                                                true\n                                            )\n                                        }\n                                    >\n                                        {t('g.like')}\n                                    </Button>\n                                )}\n                        </Box>\n                    </div>\n                    <ReadMore\n                        initialHeight={200}\n                        contentEditor={reward.description}\n                    />\n                </Paper>\n\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('g.comments')}\n                </Typography>\n\n                {posts && posts[reward.post] && (\n                    <div key={reward.post} style={{ paddingTop: '10px' }}>\n                        <Post\n                            friendData={friendData}\n                            account={account}\n                            post={posts[reward.post]}\n                            noStartMessage\n                            noPostControls\n                            showReplies\n                        />\n                    </div>\n                )}\n            </div>\n            <Dialog\n                open={likesVisible}\n                onClose={() => setLikesVisible(false)}\n                title={t('reward.itemLikes')}\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>{t('reward.itemLikes')}</DialogTitle>\n                <DialogContent>\n                    {reward.likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setLikesVisible(false)}\n                        color=\"primary\"\n                    >\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog open={Boolean(deleteVisible)}>\n                <DialogTitle>{t('reward.deleteItem')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {t('reward.confirmDelete')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setDeleteVisible(false)}>\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        onClick={() => {\n                            wsActions.deleteReward(account._id, reward._id)\n                            setDeleteVisible(false)\n                            props.history.goBack()\n                        }}\n                        color=\"primary\"\n                    >\n                        {t('g.delete')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            {account._id === reward.owner && (\n                <AddEditReward\n                    open={addRewardOpen}\n                    close={() => setAddRewardOpen(false)}\n                    reward={reward}\n                />\n            )}\n        </Layout>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        posts: state.post,\n        postData: state.postData,\n        reward: state.reward,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Reward)\n)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as wsActions from '../../websocketActions'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport {\n    Box,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    IconButton,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport AddEditReward from './AddEditReward'\nimport Reward from '../../containers/Reward/Reward'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst ProfileRewards = props => {\n    const { t } = useTranslation()\n    const [addRewardOpen, setAddRewardOpen] = useState(false)\n    const [rewardPreview, setRewardPreview] = useState('')\n\n    const { account, owner, rewardData, wish, additionalButton } = props\n    const isOwner = account && account._id && account._id === owner._id\n    return (\n        <>\n            <HorizontalScrollList\n                title={wish ? t('g.wishlist') : t('g.rewards')}\n                items={owner.rewards\n                    .map(item => rewardData[item])\n                    .filter(\n                        item => item && Boolean(wish) === Boolean(item.wish)\n                    )}\n                content={item => {\n                    const content = (\n                        <>\n                            {' '}\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography variant=\"body2\" noWrap>\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </>\n                    )\n                    return (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            {props.openInDialog ? (\n                                <Box onClick={() => setRewardPreview(item._id)}>\n                                    {content}\n                                </Box>\n                            ) : (\n                                <Link\n                                    to={\n                                        (wish ? '/wishlist/' : '/rewards/') +\n                                        item._id\n                                    }\n                                >\n                                    {content}\n                                </Link>\n                            )}\n                            {additionalButton && additionalButton(item)}\n                        </CardContent>\n                    )\n                }}\n                withAdd={isOwner}\n                addTitle={t('g.addItem')}\n                onAdd={() => setAddRewardOpen(true)}\n            />\n            {isOwner && (\n                <AddEditReward\n                    open={addRewardOpen}\n                    close={() => setAddRewardOpen(false)}\n                    wish={wish}\n                />\n            )}\n            {props.openInDialog && (\n                <Dialog\n                    open={Boolean(rewardPreview)}\n                    onClose={() => setRewardPreview('')}\n                    fullWidth\n                    maxWidth=\"md\"\n                >\n                    <DialogActions>\n                        <IconButton onClick={() => setRewardPreview('')}>\n                            <Close />\n                        </IconButton>\n                    </DialogActions>\n                    <DialogContent>\n                        {rewardPreview && <Reward rewardId={rewardPreview} />}\n                    </DialogContent>\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        rewardData: state.rewardData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProfileRewards))\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Button,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogTitle,\n    IconButton,\n    Menu,\n    MenuItem,\n    Typography,\n} from '@material-ui/core'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport ProfileRewards from '../ProfileRewards/ProfileRewards'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport { useTranslation } from 'react-i18next'\n\nconst Rewards = props => {\n    const { t } = useTranslation()\n    // const [anchorEl, setAnchorEl] = useState(null)\n    const [addRewardOpen, setAddRewardOpen] = useState(false)\n    const [deleteRewardVisible, setDeleteRewardVisible] = useState(false)\n\n    const { rewardData, account, progress, rewards, onValueChange } = props\n\n    // const handleClose = () => {\n    //     setAnchorEl(null)\n    // }\n    // const handleClick = event => {\n    //     setAnchorEl(event.currentTarget)\n    // }\n\n    const rewardsIds = (onValueChange ? rewards : progress.rewards) || []\n    return progress || onValueChange ? (\n        <>\n            <HorizontalScrollList\n                title={t('g.rewards')}\n                items={rewardsIds\n                    .map(item => rewardData[item])\n                    .filter(item => item)}\n                content={item => (\n                    <CardContent\n                        style={{\n                            textAlign: 'center',\n                            position: 'relative',\n                            padding: '5px',\n                        }}\n                    >\n                        <Link to={'/rewards/' + item._id}>\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography variant=\"body2\" noWrap>\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </Link>\n                        {(account._id === item.owner ||\n                            account._id === progress.owner ||\n                            rewards) && (\n                            <Button\n                                onClick={() => {\n                                    setDeleteRewardVisible(item._id)\n                                }}\n                            >\n                                {t('g.remove')}\n                            </Button>\n                            // <>\n                            //     <IconButton onClick={e => handleClick(e)}>\n                            //         <Delete />\n                            //     </IconButton>\n                            //     <Menu\n                            //         anchorEl={anchorEl}\n                            //         open={Boolean(anchorEl)}\n                            //         onClose={handleClose}\n                            //     >\n                            //         <MenuItem\n                            //             onClick={() => {\n                            //                 setDeleteRewardVisible(item._id)\n                            //                 handleClose()\n                            //             }}\n                            //         >\n                            //             Delete\n                            //         </MenuItem>\n                            //     </Menu>\n                            // </>\n                        )}\n                    </CardContent>\n                )}\n                withAdd={Boolean(account._id)}\n                addTitle={t('reward.addReward')}\n                onAdd={() => setAddRewardOpen(true)}\n            />\n            <DialogFullscreen\n                open={addRewardOpen}\n                close={() => setAddRewardOpen(false)}\n                title={t('reward.addRewardToGoal')}\n            >\n                <ProfileRewards\n                    owner={account}\n                    openInDialog\n                    additionalButton={item => (\n                        <Button\n                            color=\"primary\"\n                            onClick={() => {\n                                if (onValueChange) {\n                                    onValueChange([...rewardsIds, item._id])\n                                } else\n                                    wsActions.addRewardToProgress(\n                                        account._id,\n                                        progress._id,\n                                        item._id\n                                    )\n                                setAddRewardOpen(false)\n                            }}\n                        >\n                            {t('g.choose')}\n                        </Button>\n                    )}\n                />\n            </DialogFullscreen>\n            <Dialog\n                open={Boolean(deleteRewardVisible)}\n                onClose={() => setDeleteRewardVisible(false)}\n            >\n                <DialogTitle>{t('reward.confirmRemove')}</DialogTitle>\n\n                <DialogActions>\n                    <Button\n                        onClick={() => setDeleteRewardVisible(false)}\n                        color=\"primary\"\n                    >\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        onClick={() => {\n                            if (onValueChange) {\n                                let newRewards = [...rewardsIds]\n                                newRewards.splice(\n                                    newRewards.indexOf(deleteRewardVisible),\n                                    1\n                                )\n                                onValueChange(newRewards)\n                            } else\n                                wsActions.deleteRewardFromProgress(\n                                    account._id,\n                                    progress._id,\n                                    deleteRewardVisible\n                                )\n\n                            setDeleteRewardVisible(false)\n                        }}\n                        color=\"primary\"\n                    >\n                        {t('g.confirm')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        rewardData: state.rewardData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Rewards)\n)\n","import React, { Component } from 'react'\nimport { withLeaflet } from 'react-leaflet'\nimport Locate from 'leaflet.locatecontrol'\nimport 'leaflet.locatecontrol/dist/L.Control.Locate.min.css'\nimport { withTranslation } from 'react-i18next'\n\nclass LocateControl extends Component {\n    componentDidMount() {\n        const { map } = this.props.leaflet\n\n        const lc = new Locate({\n            position: 'topleft',\n            strings: {\n                title: this.props.t('explore.myLocation'),\n            },\n            onActivate: () => {}, // callback before engine starts retrieving locations\n            drawCircle: false,\n            keepCurrentZoomLevel: true,\n        })\n        lc.addTo(map)\n\n        lc.start()\n    }\n\n    render() {\n        return null\n    }\n}\n\nexport default withLeaflet(withTranslation()(LocateControl))\n","export default [\n    'animals',\n    'building',\n    'cars',\n    'diy',\n    'design',\n    'education',\n    'entertainment',\n    'food',\n    'gardening',\n    'health',\n    'sport',\n    'home',\n    'kids',\n    'fashion',\n    'nature',\n    'travel',\n    'other',\n]\n","import { Chip } from '@material-ui/core'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport goalCategories from '../../constants/goalCategories'\nconst GoalCategories = props => {\n    const { t } = useTranslation()\n    const handleClick = category => {\n        let value = props.value ? [...props.value] : []\n        if (value.includes(category))\n            props.onChange(value.filter(item => item !== category))\n        else {\n            if (!props.nolim) while (value.length > 4) value.pop()\n            props.onChange([...value, category])\n        }\n    }\n    return (\n        <>\n            {goalCategories.map(category => (\n                <Chip\n                    label={t('g.' + category)}\n                    onClick={() => handleClick(category)}\n                    color={\n                        props.value && props.value.includes(category)\n                            ? 'primary'\n                            : 'default'\n                    }\n                    style={{ margin: '5px' }}\n                />\n            ))}\n        </>\n    )\n}\n\nexport default GoalCategories\n","import React, { useRef, useState, useEffect } from 'react'\n\nimport Form from 'antd/es/form'\n\nimport Rewards from '../Rewards/Rewards'\nimport { nameRules, descriptionRules } from '../../constants/fieldRules'\nimport ConnectionsSelect from './ConnectionsSelect'\nimport Select from 'antd/es/select'\nimport { Map, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from '../../containers/Explore/LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport {\n    AppBar,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Input,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport TinyEditor from '../UI/TinyEditor'\nimport { useTranslation } from 'react-i18next'\nimport GoalCategories from './GoalCategories'\nconst { Option } = Select\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst EditGoalAndProgressForm = props => {\n    const { t } = useTranslation()\n    const map = useRef(null)\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    const { progress } = props\n\n    const defPos = [40.689078, -74.044526]\n    const [position, setPosition] = useState(\n        progress && progress.position && progress.position.coordinates\n            ? [\n                  progress.position.coordinates[1],\n                  progress.position.coordinates[0],\n              ]\n            : defPos\n    )\n\n    const [zoom, setZoom] = useState(10)\n    const [descriptionPlain, setDescriptionPlain] = useState(\n        progress && progress.descriptionText\n    )\n\n    const onFinish = value => {\n        props.onFinish({\n            ...value,\n            descriptionText: descriptionPlain,\n            position: {\n                type: 'Point',\n                coordinates: [position[1], position[0]],\n            },\n        })\n    }\n\n    const layout = {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 20 },\n    }\n\n    const [form] = Form.useForm()\n\n    const mapDragEnd = e => {\n        setZoom(e.target._zoom)\n\n        setPosition([e.target.getCenter().lat, e.target.getCenter().lng])\n        form.setFieldsValue({ nomap: false })\n    }\n    const classes = useStyles()\n\n    return !props.goalId || progress ? (\n        <>\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.cancel}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {t(\n                            'progress.' + (progress ? 'editGoal' : 'addNewGoal')\n                        )}\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => form.submit()}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Form\n                style={{\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    padding: '15px',\n                    width: '100%',\n                }}\n                form={form}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={\n                    progress || {\n                        name: t('progress.newGoal'),\n                        repeat: 'no',\n                        days: ['0'],\n                        nomap: false,\n                    }\n                }\n                {...layout}\n                onValuesChange={(changedFields, allValues) => {\n                    allValues.days &&\n                        form.setFieldsValue({\n                            days: [...allValues.days].sort(),\n                        })\n                }}\n            >\n                <Form.Item\n                    name=\"images\"\n                    label={t('g.images')}\n                    valuePropName=\"images\"\n                    trigger=\"onValueChange\"\n                >\n                    <ImagePickerMulti />\n                </Form.Item>\n                <Form.Item\n                    label={t('g.name')}\n                    name=\"name\"\n                    rules={nameRules}\n                    getValueFromEvent={event => event.target.value}\n                >\n                    <Input fullWidth={true} />\n                </Form.Item>\n                <Form.Item\n                    label={t('g.desc')}\n                    name=\"description\"\n                    // rules={descriptionRules}\n                    trigger=\"onEditorChange\"\n                >\n                    <TinyEditor\n                        onEditorChangePlain={value =>\n                            setDescriptionPlain(value)\n                        }\n                    />\n                </Form.Item>\n                <Form.Item label={t('g.categories')} name=\"category\">\n                    <GoalCategories />\n                </Form.Item>\n                <Form.Item label={t('progress.achievers')} name=\"users\">\n                    <ConnectionsSelect />\n                </Form.Item>\n\n                <Form.Item label={t('g.repeats')} name=\"repeat\">\n                    <Select getPopupContainer={trigger => trigger.parentNode}>\n                        <Option value=\"no\">{t('g.noRepeat')}</Option>\n                        <Option value=\"day\">{t('g.everyDay')}</Option>\n                        <Option value=\"weekday\">{t('g.everyDayOfWeek')}</Option>\n                        <Option value=\"week\">{t('g.everyWeek')}</Option>\n                        <Option value=\"month\">{t('g.everyMonth')}</Option>\n                        <Option value=\"year\">{t('g.everyYear')}</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item\n                    noStyle\n                    shouldUpdate={(prevValues, currentValues) =>\n                        prevValues.repeat !== currentValues.repeat\n                    }\n                >\n                    {({ getFieldValue }) => {\n                        return getFieldValue('repeat') === 'weekday' ? (\n                            <Form.Item label=\"Days of week\" name=\"days\">\n                                <Select\n                                    mode=\"tags\"\n                                    getPopupContainer={trigger =>\n                                        trigger.parentNode\n                                    }\n                                >\n                                    <Option value=\"0\">{t('g.sunday')}</Option>\n                                    <Option value=\"1\">{t('g.monday')}</Option>\n                                    <Option value=\"2\">{t('g.tuesday')}</Option>\n                                    <Option value=\"3\">\n                                        {t('g.wednesday')}\n                                    </Option>\n                                    <Option value=\"4\">{t('g.thursday')}</Option>\n                                    <Option value=\"5\">{t('g.friday')}</Option>\n                                    <Option value=\"6\">{t('g.saturday')}</Option>\n                                </Select>\n                            </Form.Item>\n                        ) : null\n                    }}\n                </Form.Item>\n                <Form.Item\n                    name=\"rewards\"\n                    label={t('g.rewards')}\n                    valuePropName=\"rewards\"\n                    trigger=\"onValueChange\"\n                >\n                    <Rewards />\n                </Form.Item>\n                <Form.Item label={t('g.place')}>\n                    <div\n                        style={{\n                            position: 'relative',\n                            height: '300px',\n                        }}\n                    >\n                        <Map\n                            ref={map}\n                            center={position}\n                            zoom={zoom}\n                            ondragend={mapDragEnd}\n                            onmoveend={mapDragEnd}\n                            style={{\n                                width: '100%',\n                                height: '100%',\n                                position: 'relative',\n                                zIndex: 1,\n                            }}\n                            gestureHandling={true}\n                        >\n                            <TileLayer\n                                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                            />\n                            <LocateControl />\n                        </Map>\n                        <div\n                            style={{\n                                backgroundImage: `url(${require('../../assets/images/pin.png')})`,\n                                width: '20px',\n                                height: '35px',\n                                position: 'absolute',\n                                zIndex: 2,\n                                left: 'calc(50% - 10px)',\n                                top: 'calc(50% - 35px)',\n                                pointerEvents: 'none',\n                                touchAction: 'none',\n                            }}\n                        />\n                    </div>\n                </Form.Item>\n                <div style={{ textAlign: 'right', marginTop: '50px' }}>\n                    <Button size=\"large\" onClick={() => props.cancel(false)}>\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </div>\n            </Form>\n        </>\n    ) : null\n}\nexport default EditGoalAndProgressForm\n","import React from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport EditGoalAndProgressForm from '../../components/EditGoalAndProgressForm/EditGoalAndProgressForm'\n\nconst EditProgress = props => {\n    const { progress, account, state, setState, friendData } = props\n\n    const onFinish = value => {\n        wsActions.editGoalInProgress(props, value)\n        setState({ ...state, editProgressOpen: false })\n        document.body.removeAttribute('style')\n    }\n\n    return progress ? (\n        <EditGoalAndProgressForm\n            progress={progress}\n            onFinish={onFinish}\n            account={account}\n            friendData={friendData}\n            cancel={props.cancel}\n        />\n    ) : null\n}\n\nexport default EditProgress\n","import React, { useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport * as wsActions from '../../websocketActions'\nimport ActivityTable from './ActivityTable'\nimport EditProgress from './EditProgress'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport ImageCarousel from '../../components/UI/ImageCarousel/ImageCarousel'\n\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport FollowButton from '../../components/FollowButton'\nimport Helmet from 'react-helmet'\nimport RetweetOutlined from '@ant-design/icons/RetweetOutlined'\n// import Divider from 'antd/es/divider'\nimport ReadMore from '../../components/UI/ReadMore'\nimport {\n    Box,\n    Dialog,\n    Divider,\n    makeStyles,\n    Paper,\n    Slide,\n    Typography,\n    Button,\n    IconButton,\n    MenuItem,\n    Menu,\n    DialogTitle,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    CardMedia,\n    CardContent,\n    Chip,\n} from '@material-ui/core'\n\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport ShareButton from '../../components/UI/ShareButton'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport Rewards from '../../components/Rewards/Rewards'\nimport { useTranslation } from 'react-i18next'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n    },\n    icon: {\n        verticalAlign: 'bottom',\n        height: 20,\n        width: 20,\n    },\n    details: {\n        alignItems: 'center',\n    },\n    column: {\n        flexBasis: '33.33%',\n    },\n    helper: {\n        borderLeft: `2px solid ${theme.palette.divider}`,\n        padding: theme.spacing(1, 2),\n    },\n    link: {\n        color: theme.palette.primary.main,\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'underline',\n        },\n    },\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Activity = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const { account, progress, state, setState, friendData } = props\n\n    const [followersVisible, setFollowersVisible] = useState('')\n    const [anchorEl, setAnchorEl] = useState(null)\n\n    const getDay = day => {\n        switch (day) {\n            case '0':\n                return t('g.sunday')\n            case '1':\n                return t('g.monday')\n            case '2':\n                return t('g.tuesday')\n            case '3':\n                return t('g.wednesday')\n            case '4':\n                return t('g.thursday')\n            case '5':\n                return t('g.friday')\n            case '6':\n                return t('g.saturday')\n\n            default:\n                return ''\n        }\n    }\n\n    const getRepeatType = repeat => {\n        switch (repeat) {\n            case 'day':\n                return t('g.everyDay')\n            case 'weekday':\n                return t('g.everyDayOfWeek')\n            case 'week':\n                return t('g.everyWeek')\n            case 'month':\n                return t('g.everyMonth')\n            case 'year':\n                return t('g.everyYear')\n            default:\n                return ''\n        }\n    }\n\n    const getDropDownMeuItems = () => {\n        const items = []\n        if (account._id === progress.owner)\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setState({\n                            ...state,\n                            editProgressOpen: true,\n                        })\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.edit')}\n                </MenuItem>\n            )\n\n        if (account.followProgresses.includes(progress._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.unfollowProgress(account._id, progress._id)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </MenuItem>\n            )\n\n        if (progress.likes.includes(account._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.changeLikesProgress(\n                            account._id,\n                            progress._id,\n                            false\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.unlike')}\n                </MenuItem>\n            )\n        if (\n            account.progresses &&\n            account.progresses.includes(progress._id.toString())\n        )\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.leaveProgress(props)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.leave')}\n                </MenuItem>\n            )\n        return items.length > 0 && items\n    }\n\n    const dropDownMeuItems = account._id ? getDropDownMeuItems() : null\n    return progress ? (\n        <>\n            <Helmet>\n                <title>\n                    {`${progress.name} ${t('g.by')}${\n                        progress.owner\n                    } - Addspire`}\n                </title>\n                <meta name=\"description\" content={progress.descriptionText} />\n            </Helmet>\n            <Paper style={{ padding: '15px' }}>\n                {progress.images.length > 0 && (\n                    <ImageCarousel images={progress.images} />\n                )}\n                <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                    <Typography variant=\"h4\">{progress.name}</Typography>\n                    {progress.category.map(category => (\n                        <Chip\n                            label={t('g.' + category)}\n                            variant=\"outlined\"\n                            style={{ margin: '5px' }}\n                        />\n                    ))}\n                    <Box\n                        style={{\n                            margin: '5px 0px',\n                        }}\n                    >\n                        <Button\n                            onClick={() => setFollowersVisible('followers')}\n                            style={{ marginRight: '20px' }}\n                        >\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {`${progress.followingAccounts.length} ${t(\n                                    'g.followers'\n                                )}`}\n                            </span>\n                        </Button>\n                        <Button onClick={() => setFollowersVisible('likes')}>\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {`${progress.likes.length} ${t('g.likes')}`}\n                            </span>\n                        </Button>\n                        <ShareButton\n                            title={progress.name + t('g.shareText')}\n                            media={progress.images && progress.images[0]}\n                            item={{\n                                progressId: progress._id,\n                                progressName: progress.name,\n                            }}\n                        />\n                        {dropDownMeuItems && account && account._id && (\n                            <>\n                                <IconButton\n                                    onClick={event =>\n                                        setAnchorEl(event.currentTarget)\n                                    }\n                                >\n                                    <MoreVertOutlined />\n                                </IconButton>\n                                <Menu\n                                    anchorEl={anchorEl}\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    onClose={() => setAnchorEl(null)}\n                                >\n                                    {dropDownMeuItems}\n                                </Menu>\n                            </>\n                        )}\n                    </Box>\n                    <Box\n                        style={{\n                            margin: '0px 0px 20px',\n                        }}\n                    >\n                        {account &&\n                            account._id &&\n                            !account.followProgresses.includes(\n                                progress._id\n                            ) && (\n                                <Button\n                                    color=\"primary\"\n                                    onClick={() =>\n                                        wsActions.followProgress(\n                                            account._id,\n                                            progress._id\n                                        )\n                                    }\n                                    style={{ marginRight: '20px' }}\n                                    variant=\"contained\"\n                                >\n                                    {t('g.follow')}\n                                </Button>\n                            )}\n\n                        {account &&\n                            account._id &&\n                            !progress.likes.includes(account._id) && (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={() =>\n                                        wsActions.changeLikesProgress(\n                                            account._id,\n                                            progress._id,\n                                            true\n                                        )\n                                    }\n                                >\n                                    {t('g.like')}\n                                </Button>\n                            )}\n                    </Box>\n                </div>\n            </Paper>\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                {t('progress.tracking')}\n            </Typography>\n            <Paper style={{ padding: '15px' }}>\n                <ActivityTable\n                    progress={progress}\n                    account={account}\n                    state={state}\n                    setState={setState}\n                />\n            </Paper>\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                {t('g.desc')}\n            </Typography>\n            <Paper style={{ padding: '15px' }}>\n                {progress.repeat !== 'no' && (\n                    <>\n                        <p>\n                            <RetweetOutlined />\n                            {` ${t('g.repeats')} \n                            ${getRepeatType(progress.repeat) +\n                                (progress.repeat === 'weekday'\n                                    ? ' (' +\n                                      progress.days.reduce(\n                                          (acc, val, index) =>\n                                              acc +\n                                              (index > 0 ? ', ' : '') +\n                                              getDay(val),\n                                          ''\n                                      ) +\n                                      ').'\n                                    : '.')}`}\n                        </p>\n                        <Divider\n                            light\n                            variant=\"middle\"\n                            style={{ marginBottom: '15px' }}\n                        />\n                    </>\n                )}\n\n                <ReadMore\n                    initialHeight={200}\n                    contentEditor={progress.description}\n                />\n            </Paper>\n            <Rewards progress={progress} />\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                {t('g.postsAndComments')}\n            </Typography>\n\n            <Dialog\n                fullScreen\n                open={state.editProgressOpen}\n                onClose={() => setState({ ...state, editProgressOpen: false })}\n                TransitionComponent={TransitionComponent}\n            >\n                <EditProgress\n                    progress={progress}\n                    account={account}\n                    state={state}\n                    setState={setState}\n                    friendData={friendData}\n                    cancel={() =>\n                        setState({ ...state, editProgressOpen: false })\n                    }\n                />\n            </Dialog>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'likes'\n                        ? t('progress.goalLikes')\n                        : t('progress.goalFollowers')\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible === 'likes'\n                        ? t('progress.goalLikes')\n                        : t('progress.goalFollowers')}\n                </DialogTitle>\n                <DialogContent>\n                    {progress[\n                        followersVisible === 'likes'\n                            ? 'likes'\n                            : 'followingAccounts'\n                    ].map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    ) : null\n}\n\nexport default withRouter(Activity)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport { Box, Card, CardContent } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\n\nimport EditPost from './EditPost'\nimport { useTranslation } from 'react-i18next'\n\nconst AddPost = props => {\n    const { t } = useTranslation()\n    const [postOpen, setPostOpen] = useState(false)\n\n    const { parent, account, parentType } = props\n\n    const handleSave = (images, messageText) => {\n        wsActions.addPost(account._id, parent, parentType, messageText, images)\n        if (props.onSend) props.onSend()\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setPostOpen(false)\n    }\n\n    return account._id ? (\n        <>\n            <Card elevation={3}>\n                <CardContent>\n                    <Box style={{ display: 'flex', width: '100%' }}>\n                        <Box style={{ marginRight: '20px' }}>\n                            <UserButton\n                                noName={true}\n                                id={account._id}\n                                span={true}\n                                size={36}\n                            />\n                        </Box>\n                        <Box style={{ flex: 1 }}>\n                            <Box\n                                style={{\n                                    background: '#efefef',\n                                    padding: '5px 15px',\n                                    borderRadius: '15px',\n                                    color: '#7d7d7d',\n                                    cursor: 'pointer',\n                                }}\n                                onClick={() => setPostOpen(true)}\n                            >\n                                {t('post.postNew')}\n                            </Box>\n                        </Box>\n                    </Box>\n                    <EditPost\n                        open={postOpen}\n                        cancel={handleCancel}\n                        title={t('post.createNewPost')}\n                        save={handleSave}\n                    />\n                </CardContent>\n            </Card>\n        </>\n    ) : null\n}\n\nexport default withRouter(AddPost)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport Modal from 'antd/es/modal'\nimport Activity from './Activity'\nimport Post from '../../components/Post/Post'\nimport AddPost from '../../components/Post/AddPost'\nimport pullData from '../../utils/pullData'\nimport Layout from '../../components/Layout/Layout'\nimport {\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport axios from 'axios'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport { useTranslation } from 'react-i18next'\nimport { getPH, placeholderImages } from '../../components/MasonryCard'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst Progress = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [state, setState] = useState({})\n    const [similarProgresses, setSimilarProgresses] = useState([])\n    const [similarIsRequested, setSimilarIsRequested] = useState(false)\n\n    const [data, setData] = useState({})\n    const pathParts = props.history.location.pathname.split('/')\n    const progressId = pathParts.length > 2 ? pathParts[2] : ''\n    if (!progressId) return null\n    useEffect(() => {\n        if (props.isAuthed) {\n            props.setData({ currentProgress: progressId })\n            if (props.account._id)\n                wsActions.addRecentProgress(props.account._id, progressId)\n        } else {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n                const post = {}\n                for (let item of data.posts) post[item._id] = item\n\n                props.setData({\n                    friendData,\n                    post,\n                    account: {},\n                    progress: data.progress,\n                })\n            })\n        }\n    }, [props.isAuthed, props.history.location.pathname])\n\n    const { progress, account, friendData, posts } = props.isAuthed\n        ? props\n        : { ...data, posts: props.posts, account: {} }\n    useEffect(() => {\n        if (progress && progress._id && !similarIsRequested) {\n            setSimilarIsRequested(true)\n            axios\n                .post('/api/goals/similar', {\n                    search: {\n                        categories: progress.category || [],\n                        position: progress.position,\n                        currentId: progress._id,\n                    },\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setSimilarProgresses(res.data.progresses)\n                    }\n                })\n                .catch(err => {})\n        }\n    }, [progress && progress._id])\n\n    if (!progress || !progress._id) return null\n\n    props.setData({ currentPosts: progress.posts })\n\n    return friendData ? (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {progress.name}\n                </Typography>\n            }\n        >\n            <div className=\"contentDiv\">\n                <Activity\n                    state={state}\n                    setState={setState}\n                    progress={progress}\n                    account={account}\n                    friendData={friendData}\n                />\n\n                {similarProgresses.length > 0 && (\n                    <HorizontalScrollList\n                        title={t('g.similarGoals')}\n                        items={similarProgresses}\n                        content={item => (\n                            <CardActionArea>\n                                <Link to={'/goals/' + item._id}>\n                                    <CardMedia\n                                        style={{\n                                            height: '150px',\n                                            backgroundSize: 'contain',\n                                        }}\n                                        image={\n                                            item.images.length > 0\n                                                ? item.images[0]\n                                                : placeholderImages[\n                                                      getPH(item._id)\n                                                  ]\n                                        }\n                                        title={item.name}\n                                    />\n                                    <CardContent style={{ padding: '5px' }}>\n                                        <Typography variant=\"body2\" noWrap>\n                                            {item.name}\n                                        </Typography>\n                                    </CardContent>\n                                </Link>\n                            </CardActionArea>\n                        )}\n                    />\n                )}\n\n                {account._id && (\n                    <AddPost\n                        parent={progressId}\n                        account={account}\n                        parentType=\"progress\"\n                        // onSend={() => setEditingMessage('')}\n                    />\n                )}\n                {posts &&\n                    [...progress.posts]\n                        .sort((a, b) =>\n                            props.history.location.pathname.indexOf(a) > -1\n                                ? 1\n                                : props.history.location.pathname.indexOf(b) >\n                                  -1\n                                ? -1\n                                : 0\n                        )\n                        .map(postId => {\n                            if (posts[postId]) {\n                                const post = posts[postId]\n                                return (\n                                    <div\n                                        key={postId}\n                                        style={{ paddingTop: '10px' }}\n                                    >\n                                        <Post\n                                            friendData={friendData}\n                                            account={account}\n                                            post={post}\n                                        />\n                                    </div>\n                                )\n                            } else return null\n                        })\n                        .reverse()}\n\n                <Modal\n                    visible={state.previewImage}\n                    footer={null}\n                    onCancel={() => {\n                        setState({ ...state, previewImage: '' })\n                        document.body.removeAttribute('style')\n                    }}\n                >\n                    <img\n                        alt=\"example\"\n                        style={{ width: '100%' }}\n                        src={state.previewImage}\n                    />\n                </Modal>\n            </div>\n        </Layout>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        posts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Progress)\n)\n","import { Box, Button, Container, Typography } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport LoginModal from '../Layout/LoginModal'\nimport * as classes from './Welcome.module.scss'\nimport { useTranslation } from 'react-i18next'\n\nconst Welcome = props => {\n    const { t } = useTranslation()\n    const [loginVisible, setLoginVisible] = useState(false)\n\n    return (\n        <Container>\n            <Box>\n                <header className={classes.header}>\n                    <h1 className={classes.header__title}>\n                        <div>\n                            <span>{t('welcome.title')}</span>\n                        </div>\n                        <div className={classes.slider}>\n                            <ul className={classes.slider__words}>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase1')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase2')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase3')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase4')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase1')}\n                                </li>\n                            </ul>\n                        </div>\n                    </h1>\n                </header>\n            </Box>\n            <span className={classes.subheader}>{t('welcome.subheader')}</span>\n            <div className={classes.videoWrapper}>\n                <iframe\n                    width=\"560\"\n                    height=\"315\"\n                    src={\n                        'https://www.youtube.com/embed/' +\n                        t('welcome.videoLink')\n                    }\n                    frameBorder=\"0\"\n                    allowFullScreen\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                />\n            </div>\n            {!props.account._id && (\n                <>\n                    <Box\n                        style={{\n                            margin: '40px auto 10px',\n                            textAlign: 'center',\n                        }}\n                    >\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"large\"\n                            onClick={() => setLoginVisible(true)}\n                        >\n                            {t('welcome.button')}\n                        </Button>\n                    </Box>\n                    <LoginModal\n                        loginVisible={loginVisible}\n                        setLoginVisible={setLoginVisible}\n                    />\n                </>\n            )}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default connect(mapStateToProps)(Welcome)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\n\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Grid,\n    makeStyles,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport dayjs from 'dayjs'\nimport 'dayjs/locale/ru'\nimport { useTranslation } from 'react-i18next'\nimport i18n from '../../translations/i18n'\n\ndayjs().format()\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        root: {\n            flexGrow: 1,\n            marginTop: '20px',\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%', // 16:9\\\n            backgroundSize: 'contain',\n        },\n    })\n)\n\nconst Blog = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [posts, setPosts] = useState([])\n    const [title, setTitle] = useState('')\n    const [all, setAll] = useState(false)\n    useEffect(() => {\n        fetch('https://addspire-blog.herokuapp.com/graphql', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                query: `\n             query {\n   posts (\n       ${\n           !all\n               ? `where: { language:\"${\n                     props.history.location.pathname.indexOf('/ru') === 0\n                         ? 'ru'\n                         : 'en'\n                 }\" },`\n               : ''\n       } \n   sort:\"published_at:desc\"){\n    url\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}`,\n            }),\n        })\n            .then(res => res.json())\n            .then(data => {\n                setPosts(data.data.posts)\n                setTitle(t('blog.title'))\n            })\n    }, [props.history.location.pathname, all])\n    return (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n            <Layout white>\n                <Welcome />\n                <Button onClick={() => setAll(!all)} color=\"primary\">\n                    {all ? t('blog.hide') : t('blog.show')}\n                </Button>\n                <div className={classes.root}>\n                    <Grid container spacing={3}>\n                        {posts.map(post => (\n                            <Grid item xs={12} md={6} xl={4}>\n                                <Card>\n                                    <Link\n                                        to={\n                                            props.history.location.pathname +\n                                            '/' +\n                                            post.url.split('.')[0]\n                                        }\n                                    >\n                                        <CardActionArea>\n                                            <CardMedia\n                                                className={classes.media}\n                                                image={\n                                                    post.previewImage &&\n                                                    post.previewImage.url\n                                                }\n                                                title={post.title}\n                                            />\n                                            <CardContent>\n                                                <Typography\n                                                    gutterBottom\n                                                    variant=\"h5\"\n                                                    component=\"h2\"\n                                                >\n                                                    {post.title}\n                                                </Typography>\n                                                <Typography\n                                                    gutterBottom\n                                                    variant=\"subtitle1\"\n                                                >\n                                                    {post.subtitle}\n                                                </Typography>\n\n                                                <Typography\n                                                    align=\"right\"\n                                                    variant=\"button\"\n                                                    color=\"textSecondary\"\n                                                    component=\"p\"\n                                                >\n                                                    {dayjs(\n                                                        post.published_at\n                                                    ).format('MMMM D[,] YYYY')}\n                                                </Typography>\n                                            </CardContent>\n                                        </CardActionArea>\n                                    </Link>\n                                </Card>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </div>\n            </Layout>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","export const friendsBreakPoints = {\n    default: 4,\n    1600: 3,\n    1100: 2,\n    600: 1,\n}\n\nexport const cardBreakPoints = {\n    default: 4,\n    1100: 3,\n    700: 2,\n    310: 1,\n}\n","import React from 'react'\nimport Masonry from 'react-masonry-css'\nimport {\n    cardBreakPoints,\n    friendsBreakPoints,\n} from '../utils/masonryBreakPoints'\n\nexport default props => (\n    <div style={{ ...props.style }}>\n        <Masonry\n            breakpointCols={3}\n            className=\"my-masonry-grid\"\n            columnClassName=\"my-masonry-grid_column\"\n            breakpointCols={\n                props.friends ? friendsBreakPoints : cardBreakPoints\n            }\n        >\n            {props.children}\n        </Masonry>\n    </div>\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nconst ProgressButton = props => {\n    const { id } = props\n    if (!props.progressData[id]) return null\n    const userName = id => props.progressData[id].name\n\n    const handleClick = id => props.history.push('/goals/' + (id || props.id))\n    return (\n        <span\n            style={{ cursor: 'pointer', fontWeight: 'bold', ...props.style }}\n            onClick={e => {\n                e.stopPropagation()\n                handleClick()\n            }}\n        >\n            {userName(id)}\n        </span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        progressData: state.progressData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProgressButton))\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport { Map, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from './LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Grid,\n    Slider,\n    MenuItem,\n    Select,\n    Switch,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\n\nconst MapSettings = props => {\n    const { t } = useTranslation()\n    const { mapVisible, setMapVisible, onSearch, setSearch, search } = props\n    const map = useRef(null)\n    const [radius, setRadius] = useState(false)\n    const [changed, setChanged] = useState(false)\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n\n    const mapDragEnd = e => {\n        setSearch({\n            ...search,\n            zoom: e.target._zoom,\n            position: [e.target.getCenter().lat, e.target.getCenter().lng],\n            withMap: true,\n        })\n    }\n\n    useEffect(() => {\n        getRadius()\n    }, [props.search])\n\n    useEffect(() => setChanged(false), [mapVisible])\n\n    const getRadius = () => {\n        if (map && map.current && map.current.leafletElement) {\n            const metresPerPixel =\n                (40075016.686 *\n                    Math.abs(\n                        Math.cos(\n                            (map.current.leafletElement.getCenter().lat *\n                                Math.PI) /\n                                180\n                        )\n                    )) /\n                Math.pow(2, map.current.leafletElement.getZoom() + 8)\n\n            setRadius(\n                search.units === 'mi'\n                    ? (search.distance * 1609) / metresPerPixel\n                    : (search.distance * 1000) / metresPerPixel\n            )\n        }\n    }\n\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={mapVisible}\n            onClose={() => {\n                setMapVisible(false)\n                if (changed) onSearch(search)\n            }}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (changed) onSearch(search)\n                        }}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {t('explore.searchWithLocation')}\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (changed) onSearch(search)\n                        }}\n                    >\n                        {t('g.done')}\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Grid\n                container\n                style={{ padding: '15px', maxWidth: '800px' }}\n                alignItems=\"center\"\n            >\n                <Grid item xs={4} sm={4}>\n                    {t('explore.searchWithLocation')}\n                </Grid>\n                <Grid item xs={8} sm={8}>\n                    <Switch\n                        checked={search.withMap}\n                        color=\"primary\"\n                        onChange={e => {\n                            setSearch({\n                                ...search,\n                                withMap: e.target.checked,\n                            })\n                            setChanged(true)\n                        }}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    {t('g.distance')}\n                </Grid>\n                <Grid item xs={8}>\n                    <Slider\n                        valueLabelDisplay=\"auto\"\n                        min={1}\n                        max={500}\n                        onChange={(e, distance) => {\n                            setSearch({ ...search, distance })\n                            setChanged(true)\n                        }}\n                        value={search.distance}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    {t('g.units')}\n                </Grid>\n                <Grid item xs={8}>\n                    <Select\n                        value={search.units}\n                        onChange={event => {\n                            setSearch({\n                                ...search,\n                                units: event.target.value,\n                            })\n                            setChanged(true)\n                        }}\n                    >\n                        <MenuItem value=\"mi\">{t('g.miles')}</MenuItem>\n                        <MenuItem value=\"km\">{t('g.km')}</MenuItem>\n                    </Select>\n                </Grid>\n            </Grid>\n\n            <div\n                style={{\n                    position: 'relative',\n                    minHeight: '300px',\n                    flex: 1,\n                    marginTop: '30px',\n                    overflow: 'hidden',\n                }}\n            >\n                <Map\n                    whenReady={() => {\n                        getRadius()\n                    }}\n                    ref={map}\n                    center={search.position}\n                    zoom={search.zoom}\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        position: 'relative',\n                        zIndex: 1,\n                    }}\n                    ondragend={mapDragEnd}\n                    onmoveend={mapDragEnd}\n                    gestureHandling={true}\n                >\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <LocateControl />\n                </Map>\n                <div\n                    style={{\n                        backgroundImage: `url(${require('../../assets/images/pin.png')})`,\n                        width: '20px',\n                        height: '35px',\n                        position: 'absolute',\n                        zIndex: 3,\n                        left: 'calc(50% - 10px)',\n                        top: 'calc(50% - 35px)',\n                        pointerEvents: 'none',\n                        touchAction: 'none',\n                    }}\n                />\n                <div\n                    style={{\n                        background: 'rgba(82, 95, 165, .15)',\n                        width: 2 * radius + 'px',\n                        height: 2 * radius + 'px',\n                        position: 'absolute',\n                        zIndex: '2',\n                        left: 'calc(50% - ' + radius + 'px)',\n                        top: 'calc(50% - ' + radius + 'px)',\n                        pointerEvents: 'none',\n                        touchAction: 'none',\n                        borderRadius: radius + 'px',\n                        border: '1px rgba(82, 95, 165, .5) solid',\n                    }}\n                />\n            </div>\n        </Dialog>\n    )\n}\n\nexport default MapSettings\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport InfiniteScroll from 'react-infinite-scroller'\nimport message from 'antd/es/message'\n\nimport MasonryGrid from '../../components/MasonryGrid'\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport Helmet from 'react-helmet'\n\nimport 'leaflet/dist/leaflet.css'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    Box,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Divider,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { LocationOn, SearchOutlined } from '@material-ui/icons'\nimport MapSettings from './MapSettings'\nimport Layout from '../../components/Layout/Layout'\nimport { Link } from 'react-router-dom'\nimport ShareButton from '../../components/UI/ShareButton'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport Welcome from '../../components/Welcome'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next'\nimport GoalCategories from '../../components/EditGoalAndProgressForm/GoalCategories'\nimport ReadMore from '../../components/UI/ReadMore'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'relative',\n        },\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\n\nexport const sortProgresses = (a, b) => {\n    const valA = a.views || 0\n    const valB = b.views || 0\n    return valA > valB ? -1 : 1\n}\nconst Explore = props => {\n    const { t } = useTranslation()\n\n    const { account, progressData } = props\n    const [mapVisible, setMapVisible] = useState(false)\n    const [foundProgresses, setFoundProgresses] = useState([])\n\n    const [noMore, setNoMore] = useState(false)\n    const [value, setValue] = useState(false)\n\n    const [search, setSearch] = useState({\n        value: '',\n        withMap: false,\n        distance: 20,\n        zoom: 7,\n        position: [40.689078, -74.044526],\n        units: 'mi',\n        categories: [],\n    })\n\n    const onSearch = value => {\n        let liveFoundProcesses = [...foundProgresses]\n        if (value) {\n            setSearch(value)\n            setNoMore(false)\n            setFoundProgresses([])\n            liveFoundProcesses = []\n        }\n        if (!noMore || value) {\n            setNoMore(true)\n            axios\n                .post('/api/explore/search', {\n                    value: value || search,\n                    skip: value ? 0 : liveFoundProcesses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMore(res.data.noMore)\n                        setFoundProgresses([\n                            ...liveFoundProcesses,\n                            ...res.data.progresses,\n                        ])\n                        if (res.data.progresses.length === 0)\n                            message.warning(t('explore.noGoals'))\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(t('explore.wrongData'))\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n\n    const classes = useStyles()\n\n    let loadedProgresses = []\n    if (account._id && account.recentProgresses) {\n        loadedProgresses = account.recentProgresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n    return (\n        <Layout white>\n            <div>\n                <Helmet>\n                    <title>{t('explore.title')}</title>\n                    <meta name=\"description\" content={t('explore.desc')} />\n                </Helmet>\n\n                <MapSettings\n                    mapVisible={mapVisible}\n                    setMapVisible={setMapVisible}\n                    setFoundProgresses={setFoundProgresses}\n                    onSearch={onSearch}\n                    setSearch={setSearch}\n                    search={search}\n                />\n                <Welcome />\n                <HorizontalScrollList\n                    title={t('explore.recentViewedGoals')}\n                    items={loadedProgresses}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.images.length > 0\n                                            ? item.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                />\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('explore.topGoalsTitle')}\n                </Typography>\n\n                <Paper className={classes.root} variant=\"outlined\">\n                    <InputBase\n                        className={classes.input}\n                        placeholder={t('explore.mapPH')}\n                        onChange={e => {\n                            if (!e.target.value && !search.withMap) {\n                                setSearch({ ...search, value: '' })\n                            }\n                            setValue(e.target.value || '')\n                        }}\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => {\n                            if (value && value !== search.value) {\n                                onSearch({\n                                    ...search,\n                                    value,\n                                })\n                            }\n                        }}\n                    >\n                        <SearchOutlined />\n                    </IconButton>\n                    <Divider\n                        className={classes.divider}\n                        orientation=\"vertical\"\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => {\n                            setMapVisible(true)\n                            setSearch({ ...search, withMap: true })\n                        }}\n                        color={search.withMap ? 'primary' : 'default'}\n                    >\n                        <LocationOn />\n                    </IconButton>\n                </Paper>\n                <Box margin=\"10px 0px 50px\">\n                    <ReadMore\n                        initialHeight={135}\n                        addTitle={t('g.spaceCategories')}\n                    >\n                        <GoalCategories\n                            nolim\n                            value={search.categories}\n                            onChange={categories =>\n                                onSearch({ ...search, categories })\n                            }\n                        />\n                    </ReadMore>\n                </Box>\n\n                {/* {loadedProgresses.length > 0 ? ( */}\n                {/* ) : null} */}\n\n                <InfiniteScroll\n                    pageStart={0}\n                    loadMore={() => onSearch()}\n                    hasMore={!noMore}\n                    loader={\n                        <div className=\"loader\" key={0}>\n                            <span>{t('explore.loading')}</span>\n                        </div>\n                    }\n                >\n                    <MasonryGrid>\n                        {foundProgresses\n                            .sort(sortProgresses)\n                            .map((item, index) => (\n                                <MasonryCard\n                                    id={item._id}\n                                    key={index}\n                                    onClickLink={'/goals/' + item._id}\n                                    images={item.images}\n                                    body={\n                                        <>\n                                            {/* <UserButton\n                                                noName={true}\n                                                id={item.owner}\n                                                friendDataExp={friendData}\n                                            /> */}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {item.name}\n                                            </span>\n                                        </>\n                                    }\n                                    actions={\n                                        <ShareButton\n                                            link={\n                                                'https://addspire.com/goals/' +\n                                                item._id\n                                            }\n                                            title={\n                                                item.name +\n                                                t('explore.shareText')\n                                            }\n                                            media={\n                                                item.images && item.images[0]\n                                            }\n                                            item={{\n                                                progressId: item._id,\n                                                progressName: item.name,\n                                            }}\n                                        />\n                                    }\n                                />\n                            ))}\n                    </MasonryGrid>\n                </InfiniteScroll>\n            </div>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        progressData: state.progressData,\n    }\n}\n\nexport default connect(mapStateToProps)(Explore)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Avatar from 'antd/es/avatar'\n\nimport FriendActionButton from '../../components/FriendActionButton'\n\nimport getAvatar from '../../utils/getAvatar'\nimport pullData from '../../utils/pullData'\nimport UserButton from '../../components/UserButton/UserButton'\nimport MasonryGrid from '../../components/MasonryGrid'\n\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport ProgressButton from '../../components/ProgressButton'\nimport FollowButton from '../../components/FollowButton'\n\nimport * as wsActions from '../../websocketActions'\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport * as classes from './Profile.module.css'\nimport TypographyA from 'antd/es/typography'\n\nimport message from 'antd/es/message'\n\nimport Helmet from 'react-helmet'\n\nimport {\n    Box,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Paper,\n    Typography,\n    Button,\n    Chip,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    CardActionArea,\n    CardMedia,\n    CardContent,\n    DialogContentText,\n    TextField,\n    Slide,\n} from '@material-ui/core'\nimport Layout from '../../components/Layout/Layout'\nimport { Edit } from '@material-ui/icons'\nimport fieldLength from '../../constants/fieldLength'\nimport dayjs from 'dayjs'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport AddProgress from '../Progresses/AddProgress'\nimport AddFriends from '../Friends/AddFriends'\nimport DialogFullscreen from '../../components/UI/DialogFullscreen'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { sortProgresses } from '../Explore/Explore'\nimport ProfileRewards from '../../components/ProfileRewards/ProfileRewards'\nimport { spanStyle } from '../../components/Post/Message'\nimport Badge from 'antd/es/badge'\nimport LanguageSwitcher from '../../components/LanguageSwitcher/LanguageSwitcher'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        sectionTitle: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\nconst Profile = props => {\n    const { t } = useTranslation()\n    const [currentTab, setCurrentTab] = useState('accounts')\n    const classesM = useStyles()\n    const [data, setData] = useState({})\n    const [followersVisible, setFollowersVisible] = useState('')\n\n    const {\n        profile,\n        account,\n        progressData,\n        transactionData,\n        rewardData,\n    } = props.isAuthed ? props : data\n    const [deleteVisible, setDeleteVisible] = useState()\n    const [deleteField, setDeleteField] = useState('')\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n\n    useEffect(() => {\n        const pathParts = props.history.location.pathname.split('/')\n        if (pathParts.length > 2) {\n            const profileId = pathParts[2]\n            if (props.isAuthed) {\n                props.setData({ currentProfile: profileId })\n            } else {\n                pullData(props, data, setData, { forceAuth: false }, data => {\n                    const friendData = {}\n                    for (let friend of data.friendData)\n                        friendData[friend._id] = friend\n                    const progressData = {}\n                    for (let progress of data.progressData)\n                        progressData[progress._id] = progress\n\n                    const rewardData = {}\n                    for (let reward of data.rewardData)\n                        rewardData[reward._id] = reward\n\n                    props.setData({\n                        profile: data.profile,\n                        friendData,\n                        progressData,\n                        rewardData,\n                        account: {},\n                    })\n                })\n            }\n        } else {\n            if (props.isAuthed) {\n                props.setData({ currentProfile: account._id })\n            }\n        }\n    }, [props.isAuthed, props.history.location.pathname, props.account._id])\n\n    if (!profile || !profile._id) return null\n\n    const isOwner = account && account._id && account._id === profile._id\n    props.setPageTitle({ main: profile.name, sub: '' })\n\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n    if (profile && profile.friends && account && account._id) {\n        for (let friend of account.friends) {\n            if (friend.status === 'friend') realFriends.push(friend)\n            else if (friend.status === 'invited') invitedFriends.push(friend)\n            else if (friend.status === 'inviting') invitingFriends.push(friend)\n        }\n    }\n\n    const loading = false\n\n    const { progresses, transactions } = profile\n    let loadedProgresses\n    if (progresses) {\n        loadedProgresses = progresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n\n    // const newTransactions =\n    //     (transactions &&\n    //         transactions\n    //             .filter(item => transactionData[item])\n    //             .map(item => transactionData[item])\n    //             .filter(item => item.status !== 'Confirmed')) ||\n    //     []\n\n    // const recievedTransactions =\n    //     (transactions &&\n    //         transactions\n    //             .filter(item => transactionData[item])\n    //             .map(item => transactionData[item])\n    //             .filter(item => item.status === 'Confirmed')) ||\n    //     []\n\n    return (\n        <>\n            <Helmet>\n                <title>\n                    {profile.name} {t('g.shareText')}\n                </title>\n                <meta\n                    name=\"description\"\n                    content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                />\n            </Helmet>\n            <Layout\n                header={\n                    <Typography\n                        variant=\"h6\"\n                        className={classesM.title}\n                        color=\"inherit\"\n                        noWrap\n                    >\n                        {profile.name}\n                    </Typography>\n                }\n            >\n                <Paper style={{ padding: '15px' }}>\n                    <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                        {isOwner ? (\n                            <Upload\n                                name=\"avatar\"\n                                accept=\"image/*\"\n                                listType=\"picture-card\"\n                                className={classes.Avatar}\n                                showUploadList={false}\n                                customRequest={({ file }) => {\n                                    uploadFile(file, 800, 'avatar', url => {\n                                        if (url) props.increaseAvatarV()\n                                    })\n                                }}\n                            >\n                                <div\n                                    style={{\n                                        flex: 1,\n                                        display: 'flex',\n                                        height: '100%',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        flexDirection: 'column',\n                                    }}\n                                    onClick={e => {\n                                        if (window.isRNWebView) {\n                                            e.stopPropagation()\n                                            window.ReactNativeWebView.postMessage(\n                                                'uploadFile'\n                                            )\n                                            window.callback = url => {\n                                                props.increaseAvatarV()\n                                            }\n                                        }\n                                    }}\n                                >\n                                    {account.image ? (\n                                        <Avatar\n                                            src={getAvatar(\n                                                account._id,\n                                                account.image\n                                            )}\n                                            size={150}\n                                            style={{ margin: '25px' }}\n                                        />\n                                    ) : (\n                                        <>\n                                            {loading ? (\n                                                <LoadingOutlined />\n                                            ) : (\n                                                <PlusOutlined />\n                                            )}\n                                            <div className=\"ant-upload-text\">\n                                                {t('g.upload')}\n                                            </div>\n                                        </>\n                                    )}\n                                </div>\n                            </Upload>\n                        ) : (\n                            <Avatar\n                                src={getAvatar(profile._id, profile.image)}\n                                size={200}\n                            />\n                        )}\n\n                        <Box style={{ padding: '0 15px' }}>\n                            {props.onlineUsers.includes(account._id) && (\n                                <Badge color=\"green\" text=\"online\" />\n                            )}\n                            <TypographyA.Title\n                                level={2}\n                                editable={\n                                    isOwner\n                                        ? {\n                                              onChange: res =>\n                                                  wsActions.editAccount(\n                                                      { name: res },\n                                                      account._id\n                                                  ),\n                                              icon: (\n                                                  <IconButton color=\"primary\">\n                                                      <Edit />\n                                                  </IconButton>\n                                              ),\n                                              maxLength: fieldLength.name,\n                                              autoSize: {\n                                                  minRows: 1,\n                                                  maxRows: 1,\n                                              },\n                                          }\n                                        : false\n                                }\n                            >\n                                {profile.name}\n                            </TypographyA.Title>\n                        </Box>\n                        <Typography variant=\"h5\">({profile._id})</Typography>\n                        <Box\n                            style={{\n                                margin: '5px 0px',\n                            }}\n                        >\n                            <Button\n                                onClick={() => setFollowersVisible('followers')}\n                                style={{ marginRight: '20px' }}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {`${profile.followingAccounts.length} ${t(\n                                        'g.followers'\n                                    )}`}\n                                </span>\n                            </Button>\n                            <Button\n                                onClick={() => setFollowersVisible('following')}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {`${profile.followProgresses.length +\n                                        profile.followAccounts.length} \n                                    ${t('g.following')}`}\n                                </span>\n                            </Button>\n                        </Box>\n\n                        <div>\n                            <ShareButton\n                                link={\n                                    'https://addspire.com/profile/' +\n                                    profile._id\n                                }\n                                media={\n                                    profile.image &&\n                                    getAvatar(profile._id, profile.image)\n                                }\n                                title={profile.name + t('profile.shareText')}\n                                item={{\n                                    profileId: profile._id,\n                                    profileName: profile.name,\n                                }}\n                            />\n                            {account && account._id !== profile._id && (\n                                <span style={{ marginRight: '10px' }}>\n                                    {realFriends.find(\n                                        item => item.friend === profile._id\n                                    ) ? (\n                                        <Chip color=\"primary\" label=\"Friends\" />\n                                    ) : null}\n                                    {account.followAccounts &&\n                                        !account.followAccounts.includes(\n                                            profile._id\n                                        ) && (\n                                            <Button\n                                                color=\"primary\"\n                                                onClick={() =>\n                                                    wsActions.followAccount(\n                                                        account._id,\n                                                        profile._id\n                                                    )\n                                                }\n                                                style={{\n                                                    marginRight: '20px',\n                                                }}\n                                                variant=\"contained\"\n                                            >\n                                                {t('g.follow')}\n                                            </Button>\n                                        )}\n                                </span>\n                            )}\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={profile._id}\n                                additionalButtons={\n                                    isOwner\n                                        ? [\n                                              {\n                                                  onClick: () =>\n                                                      props.history.push(\n                                                          '/logout'\n                                                      ),\n                                                  title: t('g.logout'),\n                                              },\n                                          ]\n                                        : null\n                                }\n                                asText={true}\n                            />\n                        </div>\n                        <Box />\n                    </div>\n                </Paper>\n\n                <HorizontalScrollList\n                    title={t('g.goals')}\n                    items={loadedProgresses.sort(sortProgresses)}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.images.length > 0\n                                            ? item.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                    withAdd={isOwner}\n                    addTitle={t('g.addgoal')}\n                    onAdd={() => setStartProgressVisible(true)}\n                />\n\n                {isOwner && invitedFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title={t('profile.pendingFriendships')}\n                            items={invitedFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box style={{ margin: '5px 0' }}>\n                                        <Button\n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.acceptFriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.accept')}\n                                        </Button>\n                                    </Box>\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.decline')}\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                {isOwner && invitingFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title={t('profile.awaitingApproval')}\n                            items={invitingFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.decline')}\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                <HorizontalScrollList\n                    title={t('g.friends')}\n                    items={realFriends}\n                    content={item => (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <Box>\n                                <UserButton noName id={item.friend} size={80} />\n                            </Box>\n                            <UserButton\n                                noAva\n                                typography\n                                style={{\n                                    width: '100%',\n                                    margin: '3px 0 7px',\n                                }}\n                                id={item.friend}\n                            />\n\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={item.friend}\n                                asIcons={true}\n                                minimized\n                            />\n                        </CardContent>\n                    )}\n                    withAdd={isOwner}\n                    addTitle={t('g.addFriend')}\n                    onAdd={() => setAddFriendOpen(true)}\n                />\n\n                <HorizontalScrollList\n                    title={t('profile.receivedAndGivenRewards')}\n                    items={transactions\n                        .map(item => transactionData[item])\n                        .filter(item => item)\n                        .filter(item => rewardData[item.reward])\n                        .map(item => ({\n                            ...item,\n                            rewardObject: rewardData[item.reward],\n                        }))\n                        .sort((a, b) => {\n                            if (\n                                a.status === 'Confirmed' &&\n                                b.status !== 'Confirmed'\n                            )\n                                return 1\n                            if (\n                                a.status !== 'Confirmed' &&\n                                b.status === 'Confirmed'\n                            )\n                                return -1\n                            if (\n                                a.status !== 'Confirmed' &&\n                                b.status !== 'Confirmed'\n                            ) {\n                                if (\n                                    a.to === profile._id &&\n                                    b.to !== profile._id\n                                )\n                                    return 1\n                                if (\n                                    a.to !== profile._id &&\n                                    b.to === profile._id\n                                )\n                                    return -1\n                            }\n                            return new Date(a.date).getTime() <\n                                new Date(b.date).getTime()\n                                ? 1\n                                : -1\n                        })}\n                    content={item => (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <Link to={'/rewards/' + item.rewardObject._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.rewardObject.images.length > 0\n                                            ? item.rewardObject.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.rewardObject.name}\n                                />\n                                <CardContent\n                                    style={{\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.rewardObject.name}\n                                    </Typography>\n                                    <span style={spanStyle}>\n                                        {dayjs(item.date).fromNow()}\n                                    </span>\n                                </CardContent>\n                            </Link>\n                            <UserButton\n                                noName\n                                id={item.rewardObject.from}\n                                size={25}\n                            />\n                            {'>'}\n                            <UserButton\n                                noName\n                                id={item.rewardObject.to}\n                                size={25}\n                            />\n                            {item.status !== 'Confirmed' && (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={() =>\n                                        wsActions.confirmTransaction(\n                                            account._id,\n                                            item._id\n                                        )\n                                    }\n                                >\n                                    {item.to === profile._id\n                                        ? t('g.received')\n                                        : t('g.gave')}\n                                </Button>\n                            )}\n                        </CardContent>\n                    )}\n                />\n\n                <ProfileRewards owner={profile} />\n                <ProfileRewards owner={profile} wish />\n\n                {isOwner && (\n                    <>\n                        <Typography\n                            className={classesM.sectionTitle}\n                            color=\"textSecondary\"\n                            gutterBottom\n                        >\n                            {t('profile.settings')}\n                        </Typography>\n                        <Paper\n                            style={{\n                                padding: '15px',\n                            }}\n                        >\n                            <Box>\n                                <LanguageSwitcher settings />\n                            </Box>\n                            <Box style={{ margin: '20px auto' }}>\n                                <Button\n                                    onClick={() =>\n                                        props.history.push('/logout')\n                                    }\n                                    color=\"secondary\"\n                                >\n                                    {t('g.logout')}\n                                </Button>\n                            </Box>\n                            <Button\n                                onClick={() => setDeleteVisible(true)}\n                                color=\"secondary\"\n                            >\n                                {t('profile.deleteAccount')}\n                            </Button>\n                        </Paper>\n\n                        <Dialog open={Boolean(deleteVisible)}>\n                            <DialogTitle>\n                                {t('profile.deleteAccount')}\n                            </DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    <p>\n                                        {t('profile.pleaseEnterNickname')}\n                                        {account._id}\n                                        {t('profile.andPressOk')}\n                                    </p>\n                                    <TextField\n                                        onChange={e =>\n                                            setDeleteField(e.target.value)\n                                        }\n                                    />\n                                </DialogContentText>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button onClick={() => setDeleteVisible(false)}>\n                                    {t('g.cancel')}\n                                </Button>\n                                <Button\n                                    onClick={() => {\n                                        if (deleteField !== account._id) {\n                                            message.warning(\n                                                'The nickmanme is not correct.'\n                                            )\n                                        } else {\n                                            wsActions.deleteAccount(account._id)\n                                        }\n                                    }}\n                                    color=\"primary\"\n                                >\n                                    {t('g.delete')}\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n                    </>\n                )}\n            </Layout>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'following'\n                        ? t('g.following')\n                        : t('g.followers')\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible !== 'following' && 'Followers'}\n                    {followersVisible === 'following' && (\n                        <>\n                            <Button\n                                style={{ margin: '0px 20px 0px 0px' }}\n                                color={\n                                    currentTab === 'accounts'\n                                        ? 'primary'\n                                        : 'default'\n                                }\n                                onClick={() => setCurrentTab('accounts')}\n                                variant=\"contained\"\n                            >\n                                {t('g.users')}\n                            </Button>\n                            <Button\n                                color={\n                                    currentTab === 'goals'\n                                        ? 'primary'\n                                        : 'default'\n                                }\n                                onClick={() => setCurrentTab('goals')}\n                                variant=\"contained\"\n                            >\n                                {t('g.goals')}\n                            </Button>\n                        </>\n                    )}\n                </DialogTitle>\n                <DialogContent>\n                    {followersVisible === 'following' ? (\n                        currentTab === 'accounts' ? (\n                            profile.followAccounts.map(item => (\n                                <MasonryCard\n                                    friends={true}\n                                    noLink={true}\n                                    key={item}\n                                    actions={\n                                        <FollowButton\n                                            account={account}\n                                            id={item}\n                                        />\n                                    }\n                                    body={\n                                        <UserButton\n                                            span={true}\n                                            id={item}\n                                            size={50}\n                                        />\n                                    }\n                                />\n                            ))\n                        ) : (\n                            <MasonryGrid>\n                                {profile.followProgresses.map(item => (\n                                    <MasonryCard\n                                        id={item}\n                                        onClickLink={'/goals/' + item}\n                                        // noLink\n                                        key={item}\n                                        actions={\n                                            <FollowButton\n                                                type=\"progress\"\n                                                account={account}\n                                                id={item}\n                                            />\n                                        }\n                                        body={\n                                            <ProgressButton\n                                                span={true}\n                                                id={item}\n                                                size={50}\n                                            />\n                                        }\n                                        style={{\n                                            // maxHeight: '170px',\n                                            marginTop: '20px',\n                                        }}\n                                    />\n                                ))}\n                            </MasonryGrid>\n                        )\n                    ) : (\n                        profile.followingAccounts.map(item => (\n                            <MasonryCard\n                                friends={true}\n                                noLink={true}\n                                key={item}\n                                actions={\n                                    <FollowButton account={account} id={item} />\n                                }\n                                body={\n                                    <UserButton\n                                        span={true}\n                                        id={item}\n                                        size={50}\n                                    />\n                                }\n                            />\n                        ))\n                    )}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={startProgressVisible}\n                    onClose={() => {\n                        setStartProgressVisible(false)\n                    }}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <AddProgress\n                        setStartProgressVisible={setStartProgressVisible}\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setStartProgressVisible(false)}\n                    />\n                </Dialog>\n            )}\n            {isOwner && (\n                <DialogFullscreen\n                    open={addFriendOpen}\n                    close={() => {\n                        setAddFriendOpen(false)\n                    }}\n                    title={t('g.addFriend')}\n                >\n                    <AddFriends\n                        close={() => setAddFriendOpen(false)}\n                        open={addFriendOpen}\n                        account={account}\n                        friendData={props.friendData}\n                    />\n                </DialogFullscreen>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        profile: state.profile,\n        isAuthed: state.isAuthed,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        transactionData: state.transactionData,\n        rewardData: state.rewardData,\n        onlineUsers: state.onlineUsers,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n        increaseAvatarV: () => dispatch(actions.increaseAvatarV()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Profile)\n)\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const cancelTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'cancelTransaction',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n\nexport const confirmTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'confirmTransaction',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport message from 'antd/es/message'\n\nimport Input from 'antd/es/input'\nimport Form from 'antd/es/form'\nimport { withRouter } from 'react-router-dom'\n\nimport { nicknameRules, accountNameRules } from '../../constants/fieldRules'\nimport * as actions from '../../store/actions'\nimport { Layout } from 'antd'\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst ActivateAccount = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    if (!props.isAuthed) props.history.push('/logout')\n    useEffect(() => {\n        if (!props.accountNotActive) props.history.push('/settings')\n    }, [props.accountNotActive])\n    const onFinish = value => {\n        axios\n            .post('/api/activate-account', {\n                ...value,\n            })\n            .then(res => {\n                if (res.data.success) {\n                    message.success('Your account has been activated!')\n                    props.setAccountActivated(false)\n                } else {\n                    if (res.data.nicknameNotUnique) {\n                        message.warning(\n                            'The nickname is taken. Choose another nickname please.'\n                        )\n                    }\n                    if (res.data.errorCode) {\n                        message.error(\n                            'Something is wrong with the data. Please try one more time with new data.'\n                        )\n                    }\n                }\n            })\n            .catch(err => {})\n    }\n\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n\n    return (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {t('activate.activateAccount')}\n                </Typography>\n            }\n        >\n            <Form\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                {...layout}\n                style={{ marginTop: '50px' }}\n            >\n                <Form.Item\n                    label={t('g.name')}\n                    name=\"name\"\n                    rules={accountNameRules}\n                >\n                    <Input placeholder={t('activate.minLength')} />\n                </Form.Item>\n                <Form.Item\n                    label={t('activate.nickname')}\n                    name=\"nickname\"\n                    rules={nicknameRules}\n                >\n                    <Input placeholder={t('activate.minLenght')} />\n                </Form.Item>\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                        {t('g.save')}\n                    </Button>\n                </Form.Item>\n            </Form>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        user: state.user,\n        account: state.account,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        setAccountActivated: value =>\n            dispatch(actions.setAccountActivated(value)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ActivateAccount)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\nconst NotificationsTracker = props => {\n    const { account, friendData, progressData } = props\n\n    const sortNotifiacations = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications,\n            ]\n    }\n\n    for (let friend of account.friends) {\n        if (\n            friendData[friend.friend] &&\n            friend.status === 'friend' &&\n            friendData[friend.friend].notifications\n        )\n            lastNotifications = [\n                ...lastNotifications,\n                ...friendData[friend.friend].notifications,\n            ]\n    }\n    const filterSameNot = (res, not, index, arr) => {\n        if (!res.find(item => item.notId === not.notId)) {\n            res.push(not)\n        }\n        return res\n    }\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n\n    lastNotifications = lastNotifications.sort(sortNotifiacations).slice(0, 100)\n\n    lastNotifications = [\n        ...lastNotifications,\n        ...account.myNotifications,\n    ].filter(item => item.code !== 'add post')\n\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n    lastNotifications = lastNotifications.sort(sortNotifiacations)\n    if (!isEqual(lastNotifications, props.lastNotifications)) {\n        props.setData({ lastNotifications })\n    }\n\n    return <span />\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(NotificationsTracker)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport * as actions from './store/actions'\n\nconst RNBridge = props => {\n    window.addEventListener('message', function(e) {\n        // window.isRNWebView = true\n\n        try {\n            const data = JSON.parse(e.data)\n            switch (data.message) {\n                case 'token':\n                    const token = data.token\n                    props.tryAuth(token)\n                    break\n                case 'callback':\n                    window.callback(data.url)\n                    break\n                case 'back':\n                    if (!props.history.location.key) {\n                        window.isRNWebView &&\n                            window.ReactNativeWebView.postMessage('exit')\n                    } else props.history.goBack()\n                    break\n                default:\n                    return\n            }\n        } catch (err) {\n            console.error('failed to parse message from react-native ' + err)\n            return\n        }\n    })\n\n    return <></>\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: token => dispatch(actions.tryAuth(token)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(RNBridge)\n)\n","import React, { useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Comment from 'antd/es/comment'\nimport Divider from 'antd/es/divider'\nimport dayjs from 'dayjs'\nimport { Card, CardContent } from '@material-ui/core'\nimport * as wsActions from '../../websocketActions'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst DashboardEvents = props => {\n    const { t } = useTranslation()\n    const { lastNotifications } = props\n    const getRewardText = item => (\n        <span style={{ fontWeight: 'bold' }}>\n            {item.details.reward.money\n                ? '$' + item.details.reward.money\n                : item.details.reward.simple || item.details.reward.itemName}\n        </span>\n    )\n\n    const getStageName = stage => {\n        let stageDate\n        if (stage.day) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .dayOfYear(stage.day)\n            return stageDate.format('dddd D MMM YYYY')\n        } else if (stage.week) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .week(stage.week)\n            return (\n                stageDate\n                    .startOf('week')\n                    .format('wo [' + t('g.week') + '] D MMM YYYY - ') +\n                stageDate.endOf('week').format('D MMM YYYY')\n            )\n        } else if (stage.month) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .month(stage.month)\n            return stageDate.format('MMMM YYYY')\n        } else if (stage.year) {\n            stageDate = dayjs().year(stage.year)\n            return stageDate.format('YYYY')\n        }\n    }\n\n    useEffect(() => {\n        wsActions.setLastSeenNot(\n            props.account._id,\n            lastNotifications.reduce(function(p, v) {\n                v = parseInt(v.notId)\n                return p > v ? p : v\n            }, 0)\n        )\n    }, [lastNotifications])\n    return (\n        <Card>\n            <CardContent>\n                {lastNotifications.map((item, index) => {\n                    let text = null,\n                        stageName\n\n                    switch (item.code) {\n                        case 'change name':\n                            text = (\n                                <span>\n                                    {' '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.changedName')}\n                                </span>\n                            )\n                            break\n                        case 'delete account':\n                            text = (\n                                <span>\n                                    {item.user}\n                                    {t('dash.deletedAccount')}\n                                </span>\n                            )\n                            break\n                        case 'friend request':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.wantsToBecomeFriends')}\n                                </span>\n                            )\n                            break\n                        case 'friend add':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.and')}\n\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {t('dash.becameFriends')}\n                                </span>\n                            )\n                            break\n                        case 'unfriend':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.and')}\n\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {t('dash.stoppedFriends')}\n                                    {' stopped being friends.'}\n                                </span>\n                            )\n                            break\n                        case 'add wishlist item':\n                        case 'edit wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add wishlist item'\n                                        ? t('dash.addedToWish')\n                                        : t('dash.editedWish')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.deleted')}\n                                    {item.details.itemName} {t('dash.fromWish')}\n                                </span>\n                            )\n                            break\n                        case 'add goal':\n                        case 'edit goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add goal'\n                                        ? t('dash.addedGoal')\n                                        : t('dash.editedGoalND')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {'.'}\n                                </span>\n                            )\n                            break\n                        case 'delete goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.deleted')}\n                                    {item.details.itemName}{' '}\n                                    {t('dash.fromGoals')}\n                                </span>\n                            )\n                            break\n\n                        case 'cancel transaction':\n                        case 'confirm transaction':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'cancel transaction'\n                                        ? t('dash.cancelled')\n                                        : t('dash.confirmed')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName} ($\n                                        {item.details.price})\n                                    </span>\n                                    {t('dash.by')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.buyer}\n                                    />\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'start progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.startedParticipating')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {t('dash.as')}\n                                    {item.details.as}.\n                                </span>\n                            )\n                            break\n                        case 'stage approve':\n                        case 'stage progress':\n                        case 'stage fail':\n                        case 'stage dismiss':\n                            stageName = getStageName(item.details)\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {item.code === 'stage approve'\n                                        ? t('dash.approved')\n                                        : item.code === 'stage progress'\n                                        ? t('dash.putToProgress')\n                                        : item.code === 'stage fail'\n                                        ? t('dash.markedFailed')\n                                        : t('dash.dismissed')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {t('dash.for')}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n                                    .\n                                </span>\n                            )\n                            break\n\n                        case 'stage complete':\n                            text = (\n                                <span>\n                                    {t('dash.goal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {t('dash.for')}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n\n                                    {t('dash.wasApprovedAndFinished')}\n                                </span>\n                            )\n                            break\n\n                        case 'get reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.received')}\n                                    {getRewardText(item)}\n                                    {t('dash.asReward')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.from}\n                                    />\n                                    {t('dash.inGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'leave progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.leftGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'edit progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.editedGoalND')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {item.details.addedAccounts.length > 0 ? (\n                                        <>\n                                            {t('dash.andAdded')}\n                                            {item.details.addedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}{' '}\n                                        </>\n                                    ) : (\n                                        ''\n                                    )}\n                                    {item.details.droppedAccounts.length > 0 ? (\n                                        <>\n                                            {t('dash.andRemoved')}\n                                            {item.details.droppedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}\n                                            {'.'}\n                                        </>\n                                    ) : (\n                                        '.'\n                                    )}\n                                </span>\n                            )\n                            break\n                        case 'remove from progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.removed')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {t('dash.fromGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add to progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.added')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {t('dash.toGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.added')} {getRewardText(item)}{' '}\n                                    {t('dash.asRewardFor')}\n                                    {!item.details.for ||\n                                    item.details.for.length === 0\n                                        ? t('dash.all')\n                                        : item.details.for.map(account => (\n                                              <>\n                                                  <UserButton\n                                                      noAva={true}\n                                                      span={true}\n                                                      id={account}\n                                                  />\n                                                  ,\n                                              </>\n                                          ))}\n                                    {t('dash.inGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.removed')}\n                                    {getRewardText(item)}\n                                    {' as a reward for '}\n                                    {!item.details.for ||\n                                    item.details.for.length === 0\n                                        ? t('dash.all')\n                                        : item.details.for.map(account => (\n                                              <>\n                                                  <UserButton\n                                                      span={true}\n                                                      noAva={true}\n                                                      id={account}\n                                                  />\n                                                  ,\n                                              </>\n                                          ))}\n                                    {t('dash.inGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'shared':\n                            let action = () =>\n                                props.history.push(\n                                    item.details.url.split(\n                                        'https://addspire.com'\n                                    ).length > 0\n                                        ? item.details.url.split(\n                                              'https://addspire.com'\n                                          )[1]\n                                        : item.details.url\n                                )\n                            let title = t('dash.somethingOnAddspire')\n\n                            if (\n                                item.details.progressName &&\n                                item.details.progressId\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/goals/${item.details.progressId}`\n                                    )\n                                title = item.details.progressName\n                            } else if (\n                                item.details.profileId &&\n                                item.details.profileName\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/profile/${item.details.profileId}`\n                                    )\n                                title = item.details.profileName\n                            } else if (\n                                item.details.rewardId &&\n                                item.details.rewardName\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/rewards/${item.details.rewardId}`\n                                    )\n                                title = item.details.rewardName\n                            }\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.sharedAndInvitedYouTo')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                            cursor: 'pointer',\n                                        }}\n                                        onClick={() => action()}\n                                    >\n                                        {title}\n                                    </span>\n                                </span>\n                            )\n                            break\n                        default:\n                            text = t('dash.newEvent')\n                            break\n                    }\n                    return (\n                        <div key={index}>\n                            {index !== 0 && (\n                                <Divider style={{ margin: '5px 0px' }} />\n                            )}\n                            <Comment\n                                avatar={\n                                    <UserButton\n                                        noName={true}\n                                        id={item.user}\n                                        span={true}\n                                    />\n                                }\n                                content={text}\n                            />\n                        </div>\n                    )\n\n                    // <Card>{text}</Card>\n                })}{' '}\n            </CardContent>\n        </Card>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(DashboardEvents))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const setLastSeenNot = (accountId, notId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'setLastSeenNot',\n                accountId,\n                notId,\n            })\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\n\nimport Post from '../../components/Post/Post'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Badge,\n    Button,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DashboardEvents from './DashboardEvents'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            fontWeight: 600,\n        },\n    })\n)\n\nconst DashboardPosts = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const {\n        account,\n        friendData,\n        statePosts,\n        progressData,\n        currentPosts,\n    } = props\n\n    const [posts, setPosts] = useState([])\n    const [currentTab, setCurrentTab] = useState('posts')\n    const [startTime] = useState(new Date().getTime())\n\n    const sortPosts = (a, b) => {\n        const aN = a.notifications.filter(item => item.user !== account._id)\n        const bN = b.notifications.filter(item => item.user !== account._id)\n        if (aN.length === 0 && bN.length > 0) return 1\n        else if (aN.length > 0 && bN.length === 0) return -1\n        else if (aN.length === 0 && bN.length === 0) return 0\n        else\n            return new Date(aN[0].date).getTime() <\n                new Date(bN[0].date).getTime()\n                ? 1\n                : -1\n    }\n\n    const sortNotifications = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n\n    useEffect(() => {\n        if (currentPosts) {\n            const newPosts = currentPosts\n                .filter(item => statePosts[item])\n                .map(item => statePosts[item])\n\n            const newUnseenPosts = []\n            const newOldPosts = []\n            let oldPosts = [...posts]\n            for (let post of newPosts) {\n                let oldPostIndex = oldPosts.findIndex(item => {\n                    return item._id.toString() === post._id.toString()\n                })\n                if (oldPostIndex === -1) {\n                    if (\n                        post.notifications &&\n                        post.notifications.length > 0 &&\n                        new Date(post.notifications[0].date).getTime() >\n                            startTime\n                    ) {\n                        newUnseenPosts.push(post)\n                    } else {\n                        newOldPosts.push(post)\n                    }\n                } else {\n                    oldPosts[oldPostIndex] = post\n                }\n            }\n\n            for (let post of newOldPosts) {\n                const index = oldPosts.findIndex(item => {\n                    if (\n                        item &&\n                        item.notifications &&\n                        item.notifications.length > 0\n                    ) {\n                        return (\n                            new Date(item.notifications[0]).getTime() >\n                            new Date(post.notifications[0]).getTime()\n                        )\n                    } else return false\n                })\n                if (index === -1) {\n                    oldPosts.push(post)\n                } else {\n                    oldPosts.splice(index, 0, post)\n                }\n            }\n\n            let resultPosts = [...newUnseenPosts, ...oldPosts]\n            if (posts.length === 0) {\n                resultPosts = resultPosts.sort(sortPosts)\n            }\n            setPosts(resultPosts)\n        }\n    }, [currentPosts, statePosts])\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications.filter(\n                    item =>\n                        item.code === 'add post' && item.user !== account._id\n                ),\n            ]\n    }\n\n    lastNotifications = lastNotifications\n        .sort(sortNotifications)\n        .map(item => item.details.postId)\n        .slice(0, 10)\n\n    const neededPosts = [\n        ...new Set([\n            ...account.followPosts,\n            ...account.myPosts,\n            ...posts.map(post => post._id),\n            ...lastNotifications,\n        ]),\n    ]\n    if (!isEqual(currentPosts, neededPosts))\n        props.setData({ currentPosts: neededPosts })\n\n    props.setPageTitle({ main: 'Dashboard', sub: '' })\n\n    return (\n        <Layout\n            header={\n                <>\n                    <Button\n                        style={{ margin: '0px 20px' }}\n                        color={currentTab === 'posts' ? 'primary' : 'default'}\n                        onClick={() => setCurrentTab('posts')}\n                        variant=\"contained\"\n                    >\n                        {t('g.posts')}\n                    </Button>\n                    <Badge badgeContent={numberOfUnseenNots} color=\"secondary\">\n                        <Button\n                            color={\n                                currentTab === 'events' ? 'primary' : 'default'\n                            }\n                            onClick={() => setCurrentTab('events')}\n                            variant=\"contained\"\n                        >\n                            {t('g.events')}\n                        </Button>\n                    </Badge>\n                </>\n            }\n        >\n            {currentTab === 'posts' ? (\n                posts.map((item, index) => {\n                    let text = null\n                    const nots = item.notifications.filter(\n                        not => not.user !== account._id\n                    )\n                    const not = nots.length > 0 ? nots[0] : null\n                    if (not) {\n                        switch (not.code) {\n                            case 'edit wishlist item':\n                                text = t('dash.editedItem')\n                                break\n                            case 'edit goal':\n                                text = t('dash.editedGoal')\n                                break\n                            case 'comment':\n                                text = t('dash.addedComment')\n                                break\n                            case 'edit comment':\n                                text = t('dash.editedComment')\n                                break\n                            case 'like':\n                                text = t('dash.addedLike')\n                                break\n                            case 'dislike':\n                                text = t('dash.removedLike')\n                                break\n                            default:\n                                text = null\n                                break\n                        }\n                    }\n                    return (\n                        <div key={index} style={{ paddingTop: '10px' }}>\n                            {text && (\n                                <>\n                                    <Typography\n                                        className={classes.title}\n                                        color=\"textSecondary\"\n                                        gutterBottom\n                                    >\n                                        <span>\n                                            <UserButton\n                                                id={not.user}\n                                                noAva={true}\n                                                span={true}\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            />{' '}\n                                            {text}\n                                        </span>\n                                    </Typography>\n                                </>\n                            )}\n                            <Post\n                                friendData={friendData}\n                                account={account}\n                                post={item}\n                                progressData={progressData}\n                            />\n                        </div>\n                    )\n                })\n            ) : (\n                <DashboardEvents account={account} />\n            )}\n        </Layout>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        currentPosts: state.currentPosts,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(DashboardPosts)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\n\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Card,\n    CardContent,\n    CardMedia,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport dayjs from 'dayjs'\nimport ReactHtmlParser from 'react-html-parser'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        root: {\n            flexGrow: 1,\n            marginTop: '20px',\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%', // 16:9\\\n            backgroundSize: 'contain',\n        },\n        backToBlog: {\n            left: '16px',\n            bottom: '88px',\n            position: 'fixed',\n            zIndex: 1,\n        },\n    })\n)\n\nconst Blog = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [post, setPost] = useState(null)\n    // const [comments, setComments] = useState([])\n    const [title, setTitle] = useState('')\n\n    useEffect(() => {\n        fetch('https://addspire-blog.herokuapp.com/graphql', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                query: `\n            query {\n  posts (where: { language:\"${\n      props.history.location.pathname.indexOf('/ru') === 0 ? 'ru' : 'en'\n  }\",\n  _or: [\n      {url: \"${\n          props.history.location.pathname.split('/')[\n              props.history.location.pathname.split('/').length - 1\n          ]\n      }\"},\n      {url: \"${\n          props.history.location.pathname.split('/')[\n              props.history.location.pathname.split('/').length - 1\n          ]\n      }.ru\"}\n  ] }){\n    id\n    url\n    content\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}`,\n            }),\n        })\n            .then(res => res.json())\n            .then(data => {\n                if (data.data.posts.length > 0) {\n                    setPost(data.data.posts[0])\n                    setTitle(data.data.posts[0].title + t('g.shareText'))\n                }\n            })\n    }, [props.history.location.pathname])\n\n    useEffect(() => {\n        window.fbAsyncInit = function() {\n            window.FB.init({\n                appId: '115517331888071',\n                cookie: true, // enable cookies to allow the server to access the session\n                xfbml: true, // parse social plugins on this page\n                version: 'v2.5', // use version 2.1\n            })\n        }\n\n        // Load the SDK asynchronously\n        ;(function(d, s, id) {\n            var js,\n                fjs = d.getElementsByTagName(s)[0]\n            if (d.getElementById(id)) return\n            js = d.createElement(s)\n            js.id = id\n            js.src = '//connect.facebook.net/en_US/sdk.js'\n            fjs.parentNode.insertBefore(js, fjs)\n        })(document, 'script', 'facebook-jssdk')\n    }, [])\n    useEffect(() => {\n        if (window.FB) window.FB.XFBML.parse()\n    })\n    return post ? (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n\n            <Layout white>\n                <Welcome />\n\n                <Card\n                    style={{\n                        margin: '50px auto',\n                        maxWidth: '1000px',\n                        boxShadow: 'none',\n                    }}\n                >\n                    <CardMedia\n                        className={classes.media}\n                        image={post.previewImage && post.previewImage.url}\n                        title={post.title}\n                    />\n                    <CardContent style={{ paddingLeft: 0, paddingRight: 0 }}>\n                        <Typography\n                            align=\"right\"\n                            variant=\"button\"\n                            color=\"textSecondary\"\n                            component=\"p\"\n                            gutterBottom\n                        >\n                            {dayjs(post.published_at).format('MMMM Do[,] YYYY')}\n                        </Typography>\n                        <div style={{ textAlign: 'right' }}>\n                            <ShareButton\n                                post\n                                title={post.title + t('g.shareText')}\n                                media={\n                                    post.previewImage && post.previewImage.url\n                                }\n                            />\n                        </div>\n                        <Typography gutterBottom variant=\"h2\" component=\"h1\">\n                            {post.title}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h5\">\n                            {post.subtitle}\n                        </Typography>\n\n                        <Typography variant=\"body1\" className=\"blogArticle\">\n                            {ReactHtmlParser(post.content)}\n                        </Typography>\n                        <div style={{ textAlign: 'right' }}>\n                            <ShareButton\n                                post\n                                title={post.title + t('g.shareText')}\n                                media={\n                                    post.previewImage && post.previewImage.url\n                                }\n                            />\n                        </div>\n                        <div\n                            className=\"fb-comments\"\n                            data-href={\n                                'https://addspire.com' +\n                                props.history.location.pathname\n                            }\n                            data-numposts=\"5\"\n                            data-width=\"\"\n                        />\n                    </CardContent>\n                </Card>\n            </Layout>\n        </>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","import React, { useEffect, useRef, useCallback } from 'react'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\nimport { PageView, initGA } from './components/TrackingGA'\n\nimport AuthTest from './containers/Auth/AuthTest'\nimport './components/UI/loadStyles'\nimport Progress from './containers/Progress/Progress'\nimport Reward from './containers/Reward/Reward'\nimport Blog from './containers/Blog/Blog'\n\nimport Profile from './containers/Profile/Profile'\n\nimport ActivateAccount from './containers/ActivateAccount/ActivateAccount'\n\nimport { connect } from 'react-redux'\nimport * as actions from './store/actions'\nimport ConnectWebsocket from './containers/ConnectWebsocket/ConnectWebsocket'\nimport NotificationsTracker from './containers/Dashboard/NotificationsTracker'\n\nimport RNBridge from './RNBridge'\nimport DashboardPosts from './containers/Dashboard/DashboardPosts'\nimport Explore from './containers/Explore/Explore'\nimport BlogArticle from './containers/Blog/BlogArticle'\nimport { useTranslation } from 'react-i18next'\nimport dayjs from 'dayjs'\nimport 'dayjs/locale/ru'\n\nconst App = props => {\n    const mountedRef = useRef(true)\n    const { i18n } = useTranslation()\n\n    const { isAuthed } = props\n\n    const auth = useCallback(async () => {\n        try {\n            if (!mountedRef.current) return null\n            props.tryAuth()\n        } catch (error) {}\n    }, [mountedRef])\n    useEffect(() => {\n        if (!isAuthed) {\n            auth()\n        }\n        return () => {\n            mountedRef.current = false\n        }\n    }, [isAuthed])\n\n    useEffect(() => {\n        initGA('UA-45758937-4')\n    }, [])\n\n    useEffect(() => {\n        if (props.history.location.pathname.indexOf('/post/') === -1) {\n            window.scrollTo(0, 0)\n        }\n        PageView()\n    }, [props.history.location.pathname])\n\n    useEffect(() => {\n        const currentLanguage = i18n.language\n            ? i18n.language.split('-')[0]\n            : 'en'\n        props.setLanguage(currentLanguage)\n        dayjs.locale(currentLanguage)\n    }, [i18n.language])\n\n    const Logout = () => {\n        props.logout()\n        window.isRNWebView && window.ReactNativeWebView.postMessage('logout')\n        return <Redirect to=\"/explore\" />\n    }\n\n    let routes = (\n        <Switch>\n            <Route path=\"/\" exact component={Explore} />\n            {isAuthed !== null && (\n                <Route path=\"/posts\" exact component={DashboardPosts} />\n            )}\n\n            <Route path=\"/goals\" component={Progress} />\n            <Route path=\"/rewards\" component={Reward} />\n            <Route path=\"/wishlist\" component={Reward} />\n\n            <Route path=\"/profile\" component={Profile} />\n\n            {/* s */}\n            {/* <Route path=\"/shop\" component={Perk} /> */}\n            {/* <Route path=\"/wishlist\" component={WishlistItem} /> */}\n            <Route path=\"/logout\" exact component={Logout} />\n            <Route path=\"/ru/blog\" exact component={Blog} />\n            <Route path=\"/blog\" exact component={Blog} />\n            <Route path=\"/ru/blog\" component={BlogArticle} />\n            <Route path=\"/blog\" component={BlogArticle} />\n\n            <Route path=\"/activate-account\" exact component={ActivateAccount} />\n\n            {process.env.NODE_ENV === 'development' && !isAuthed && (\n                <Route path=\"/logintest\" exact component={AuthTest} />\n            )}\n            <Redirect to=\"/\" />\n        </Switch>\n    )\n\n    if (props.accountNotActive) {\n        routes = (\n            <Switch>\n                <Route path=\"/logout\" exact component={Logout} />\n\n                <Route\n                    path=\"/activate-account\"\n                    exact\n                    component={ActivateAccount}\n                />\n\n                {process.env.NODE_ENV === 'development' && !isAuthed && (\n                    <Route path=\"/logintest\" exact component={AuthTest} />\n                )}\n                {isAuthed ? (\n                    <Redirect to=\"/activate-account\" />\n                ) : (\n                    <Redirect to=\"/\" />\n                )}\n            </Switch>\n        )\n    }\n\n    return (\n        <>\n            {routes}\n            {isAuthed && <ConnectWebsocket />}\n            {isAuthed && <NotificationsTracker />}\n            <RNBridge />\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: () => dispatch(actions.tryAuth()),\n        logout: () => dispatch(actions.logout()),\n        setLanguage: language => dispatch(actions.setLanguage(language)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(App)\n)\n","import ReactGA from 'react-ga'\n\nexport const initGA = trackingID => {\n    ReactGA.initialize(trackingID)\n}\n\nexport const PageView = () => {\n    ReactGA.pageview(window.location.pathname + window.location.search)\n}\n\nexport const Event = (category, action, label) => {\n    ReactGA.event({\n        category: category,\n        action: action,\n        label: label,\n    })\n}\n","import { createReducer } from '@reduxjs/toolkit'\n\nexport const initialState = {\n    isAuthed: false,\n    user: null,\n    currentAccount: '',\n    account: {},\n    friendData: {},\n    transactionData: {},\n    progressData: {},\n    currentProfile: '',\n    profile: {},\n    currentProgress: '',\n    currentPosts: [],\n    progress: {},\n    post: {},\n    postData: {},\n    reward: {},\n    currentReward: '',\n    rewardData: {},\n    pageTitle: {},\n    friendSearchResult: [],\n    accountNotActive: false,\n    lastNotifications: [],\n    isConnectingWS: false,\n    onlineUsers: [],\n    language: 'en',\n}\n\nconst reducer = createReducer(initialState, {\n    SET_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'isAuthed',\n                'currentAccount',\n                'currentProfile',\n                'currentPosts',\n                'currentReward',\n                'profile',\n                'currentProgress',\n                'progress',\n                'reward',\n                'lastNotifications',\n                'onlineUsers',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    state[key] = action.data[key]\n                }\n            }\n\n            for (let key of [\n                'friendData',\n                'progressData',\n                'post',\n                'postData',\n                'rewardData',\n                'transactionData',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    for (let attr in action.data[key]) {\n                        if (action.data[key][attr]) {\n                            state[key][attr] = action.data[key][attr]\n                        }\n                    }\n                }\n            }\n            if (action.data.newOnlineUsers) {\n                state.onlineUsers = [\n                    ...state.onlineUsers,\n                    ...action.data.newOnlineUsers,\n                ]\n            }\n        }\n        if (state.user) {\n            if (state.user.currentAccount) {\n                state.currentAccount = state.user.currentAccount\n                state.accountNotActive = false\n            } else if (state.user.myAccount) {\n                state.currentAccount = state.user.myAccount\n                state.accountNotActive = false\n            } else {\n                state.accountNotActive = true\n            }\n        }\n    },\n    REMOVE_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'profile',\n                'progress',\n                'reward',\n            ]) {\n                for (let item of action.data[key]) {\n                    if (state[key]._id === item) {\n                        state[key] = {}\n                    }\n                }\n            }\n            for (let key of [\n                'post',\n                'friendData',\n                'progressData',\n                'postData',\n                'rewardData',\n                'transactionData',\n            ]) {\n                for (let item of action.data[key]) {\n                    delete state[key][item]\n                }\n            }\n        }\n    },\n    SET_FRIEND_SEARCH_RESULT: (state: Object, action: Object) => {\n        state.friendSearchResult = action.data\n    },\n\n    SET_FRIENDS_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            state.account.friendsData = action.data\n        }\n        if (action.data.perk) state.perk = action.data.perk\n    },\n    SET_AVATAR_V: (state: Object, action: Object) => {\n        state.account.image = action.v\n    },\n    SET_LANGUAGE: (state: Object, action: Object) => {\n        state.language = action.language\n    },\n    INCREASE_AVATAR_V: (state: Object) => {\n        state.account.image = state.account.image + 1\n    },\n    SET_IS_AUTHED: (state: Object, action: Object) => {\n        state.isAuthed = action.id\n    },\n    SET_PAGE_TITLE: (state: Object, action: Object) => {\n        state.pageTitle = action.title\n    },\n    SET_ACCOUNT_ACTIVATED: (state: Object, action: Object) => {\n        state.accountNotActive = action.value\n    },\n    SET_CONNECTING_WS: (state: Object, action: Object) => {\n        state.isConnectingWS = action.data\n    },\n})\n\nexport default reducer\n","import dayjs from 'dayjs'\nimport updateLocale from 'dayjs/plugin/updateLocale'\nimport dayOfYear from 'dayjs/plugin/dayOfYear'\nimport relativeTime from 'dayjs/plugin/relativeTime'\ndayjs.extend(relativeTime)\ndayjs.extend(dayOfYear)\ndayjs.extend(updateLocale)\n\ndayjs.updateLocale('en', {\n    // relativeTime: {\n    //     future: 'in %s',\n    //     past: '%s ago',\n    //     s: 'a few seconds',\n    //     m: 'a minute',\n    //     mm: '%d minutes',\n    //     h: 'an hour',\n    //     hh: '%d hours',\n    //     d: 'a day',\n    //     dd: '%d days',\n    //     M: 'a month',\n    //     MM: '%d months',\n    //     y: 'a year',\n    //     yy: '%d years',\n    // },\n    relativeTime: {\n        future: 'in %s',\n        past: '%s',\n        s: 'now',\n        ss: 'now',\n        m: '1 min',\n        mm: '%d mins',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 day',\n        dd: '%d days',\n        w: '1 wk',\n        ww: '%d wks',\n        M: '1 mth',\n        MM: '%d mths',\n        y: '1 year',\n        yy: '%d years',\n    },\n})\n\ndayjs.updateLocale('ru', {\n    relativeTime: {\n        future: 'через %s',\n        past: '%s',\n        s: 'сейчас',\n        ss: 'сейчас',\n        m: '1 мин',\n        mm: '%d мин',\n        h: '1 час',\n        hh: '%d часов',\n        d: '1 день',\n        dd: '%d дней',\n        w: '1 нед',\n        ww: '%d нед',\n        M: '1 мес',\n        MM: '%d мес',\n        y: '1 год',\n        yy: '%d лет',\n    },\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\n\nimport './index.css'\nimport App from './App'\nimport reducer from './store/reducer/reducer'\n//import * as serviceWorker from './serviceWorker';\nimport './setupDayjs'\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport { purple } from '@material-ui/core/colors'\nimport './translations/i18n'\n\nconst outerTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    typography: {\n        fontSize: 13,\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                backgroundColor: 'white',\n                color: '#333',\n            },\n        },\n    },\n})\n\nif (process.env.NODE_ENV === 'development') {\n    axios.defaults.baseURL = 'http://my.websiter.test:5000'\n} else {\n    axios.defaults.baseURL = 'https://addspire.com'\n}\n// axios.defaults.withCredentials = true\n\nexport const store = createStore(\n    reducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <ThemeProvider theme={outerTheme}>\n                <App />\n            </ThemeProvider>\n        </BrowserRouter>\n    </Provider>\n)\n\nconst root = document.getElementById('root')\n\nReactDOM.render(app, root)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}