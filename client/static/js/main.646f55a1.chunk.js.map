{"version":3,"sources":["components/Welcome/Welcome.module.scss","components/Layout/LoginModal.module.css","components/Layout/Layout.module.css","components/UI/ImageCarousel/imageCarousel.module.css","containers/Profile/Profile.module.css","containers/Auth/AuthTest.tsx","components/UI/TinyEditor.tsx","components/UI/ReadMore.tsx","components/UI/HorizontalScrollList.tsx","translations/languages/index.tsx","translations/i18n.tsx","utils/processRes.js","store/actions/auth.tsx","store/actions/saveResources.tsx","containers/ConnectWebsocket/methods/getListOfNeededResources.js","containers/ConnectWebsocket/methods/compareVersionsAndRerequest.js","containers/ConnectWebsocket/methods/getResourcesToMonitor.js","containers/ConnectWebsocket/ConnectWebsocket.tsx","containers/ConnectWebsocket/methods/requestResource.tsx","store/actions/updateResource.tsx","websocketActions/posts.tsx","websocketActions/account.tsx","websocketActions/friends.tsx","components/MasonryCard.tsx","components/UI/DialogFullscreen.tsx","utils/getAvatar.js","components/UserButton/UserButton.tsx","utils/pullData.js","components/Layout/LoginModal.tsx","components/FriendActionButton.tsx","components/FriendCard.tsx","containers/Friends/AddFriends.tsx","components/LanguageSwitcher/LanguageSwitcher.tsx","constants/fieldLength.js","constants/fieldRules.js","components/EditResource/ConnectionsSelect.tsx","containers/Explore/LocateControl.tsx","utils/uploadFile.js","components/UI/ImagePickerMulti.tsx","constants/goalCategories.tsx","components/EditResource/GoalCategories.tsx","components/EditResource/EditResource.tsx","websocketActions/resources.tsx","components/Layout/Layout.tsx","components/Post/EditPost.tsx","components/Post/AddPost.tsx","components/Post/AddMessage.tsx","components/UI/ImageCarousel/ImageCarousel.tsx","components/FollowButton.tsx","components/UI/ConfirmAction.tsx","components/Post/Message.tsx","components/UI/ShareButton.tsx","components/Post/Post.tsx","components/Post/ResourcePosts.tsx","components/SimilarResources.tsx","components/ResourceHeader.tsx","components/ResourceCore.tsx","components/MapPosition/MapPosition.tsx","containers/Reward/Reward.tsx","components/ProfileRewards/ProfileRewards.tsx","components/ProfileActivities/ProfileActivities.tsx","components/Rewards/EditProgressReward.tsx","websocketActions/goals.tsx","components/Rewards/Rewards.tsx","websocketActions/progresses.tsx","utils/getNowStageId.ts","containers/Goal/ActivityTable.tsx","websocketActions/activities.tsx","components/Activities/Activities.tsx","containers/Goal/Goal.tsx","containers/Activity/Activity.tsx","components/Welcome/index.tsx","containers/Blog/Blog.tsx","utils/masonryBreakPoints.js","components/MasonryGrid.tsx","components/ProgressButton.tsx","containers/Explore/MapSettings.tsx","containers/Explore/Explore.tsx","components/Transactions/Transactions.tsx","websocketActions/transactions.tsx","containers/Profile/Profile.tsx","containers/ActivateAccount/ActivateAccount.tsx","containers/Dashboard/NotificationsTracker.tsx","RNBridge.tsx","containers/Dashboard/DashboardEvents.tsx","websocketActions/dashboard.tsx","containers/Dashboard/DashboardPosts.tsx","containers/Blog/BlogArticle.tsx","App.tsx","components/TrackingGA/index.tsx","store/reducer/reducer.tsx","setupDayjs.tsx","index.tsx"],"names":["module","exports","header__title","subheader","slider","slider__word","slider__words","wordSlider","videoWrapper","Container","socialButtons","Background","Layout","Header","Footer","HideHeader","FooterButton","TopHeader","BottomHeader","Main","MenuButtonContiner","QuickButtonContiner","PageTitle","Dots","Avatar","Cookies","TinyEditor","props","contentState","t","useTranslation","value","blocksFromHtml","htmlToDraft","contentBlocks","entityMap","ContentState","createFromBlockArray","convertToRaw","react_default","a","createElement","react_draft_wysiwyg","Object","assign","placeholder","readOnly","wrapperClassName","editorClassName","defaultContentState","onContentStateChange","onEditorChange","onEditorChangePlain","convertFromRaw","getPlainText","toolbar","inline","inDropdown","list","textAlign","link","history","toolbarHidden","options","ReadMore","_useState","useState","_useState2","slicedToArray","overflow","setOverflow","_useState3","_useState4","open","setOpen","descRef","useRef","useEffect","current","offsetHeight","initialHeight","content","contentEditor","children","style","maxHeight","position","paddingBottom","ref","dangerouslySetInnerHTML","__html","bottom","width","transition","opacity","backgroundImage","height","left","Button","color","onClick","addTitle","useStyles","makeStyles","theme","createStyles","title","fontSize","margin","textTransform","fontWeight","addBox","palette","primary","main","display","alignItems","HorizontalScrollList","classes","items","length","empty","customEmpty","withAdd","Fragment","Typography","className","gutterBottom","Paper","padding","Box","overflowX","Card","borderRadius","cursor","flexShrink","marginRight","minHeight","CardActionArea","justifyContent","onAdd","CardContent","flex","flexDirection","AddCircle","map","item","index","marginTop","bottomContent","languages","en","translation","ru","i18n","use","LanguageDetector","initReactI18next","init","resources","fallbackLng","keySeparator","interpolation","escapeValue","nonExplicitSupportedLngs","processRes","res","data","logout","push","home","success","errorCode","message","warning","error","successCode","status","cookies","tryAuth","token","dispatch","sessionStorage","setItem","get","rememberMe","remove","path","userId","jwt_decode","axios","defaults","headers","post","put","delete","common","Accept","setIsAuthed","_id","id","type","setData","setPageTitle","setFriendSearchResult","getListOfNeededResources","notFoundResources","store","requestedResources","user","account","progress","reward","activity","progressData","friendData","postData","transactionData","rewardData","activityData","neededResources","isAuthed","currentAccount","_i","_arr","concat","toConsumableArray","progresses","followProgresses","recent","filter","resourceType","_step","_iterator","getListOfNeededResources_createForOfIteratorHelper","followPosts","s","n","done","err","e","f","_step2","_iterator2","myPosts","_step3","_iterator3","transactions","transaction","_step4","_iterator4","friends","friend","_i2","_arr2","rewards","_i3","_arr3","activities","_i4","_arr4","followingAccounts","followAccounts","currentProfile","profile","_i5","_arr5","_step5","_iterator5","rewardId","_step6","_iterator6","_step7","_iterator7","_step8","_iterator8","_i6","_arr6","currentGoal","participants","owner","users","likes","_step9","_iterator9","_step10","_iterator10","posts","_i7","_arr7","oldRewards","_i8","_arr8","oldActivities","currentPosts","_step11","_iterator11","postEl","_step12","_iterator12","parent","parentType","parentId","currentReward","_i9","_arr9","_step13","_iterator13","currentActivity","_i10","_arr10","_step14","_iterator14","friendSearchResult","_step15","_iterator15","reduce","obj","attr","Array","from","Set","includes","notNeededExist","notNeededResources","check1","key","mode","check2","removeData","compareVersionsAndRerequest","versions","state","webSocket","checkData","__v","requestResource","check","getResourcesToMonitor","addData","listOfGroups","ConnectWebsocket","markNotFoundResource","ids","newNotFound","_this","setState","start","pingTimeout","WebSocket","heartbeat","clearTimeout","setTimeout","close","readyState","send","JSON","stringify","messageCode","onopen","event","resourcesToMonitor","initializeRequestResources","onmessage","news","parse","onlineUsers","messageText","setFriendsData","friendsData","saveResource","newOnlineUsers","updateResource","code","update","set","expires","Date","getTime","onclose","checkInterval","clearInterval","setInterval","reRequestResourcesInterval","reRequestResources","ConnectWebsocket_createForOfIteratorHelper","group","nextProps","newRequestedResources","_loop","this","setConnectingToWS","prevProps","prevState","_loop2","Component","withRouter","connect","pulledFrom","actions","getState","myAccount","find","_createForOfIteratorHelper","notRequestedIds","applyDelta","source","delta","watchFields","result","cloneDeep","del","applyWithDot","keys","shift","split","applyUpdateToPart","updatedFields","applyDeleteToPart","splice","updateResource_createForOfIteratorHelper","removedFields","field","indexOf","parState","element","defineProperty","updateData","changeLikesMessage","messageId","accountId","postId","followResource","resourceId","unfollowResource","changeLikesResource","add","followAccount","accountFollow","unfollowAccount","addFriend","friendId","acceptFriend","unfriend","placeholderImages","getPH","matches","match","imagePH","parseInt","Math","abs","round","x","makeRand","images","picture","objectSpread","maxWidth","boxShadow","src","noLink","wordBreak","body","marginLeft","react_router_dom","to","onClickLink","TransitionComponent","Slide","direction","appBar","spacing","DialogFullscreen","Dialog","fullScreen","onClose","AppBar","Toolbar","IconButton","edge","aria-label","Close","variant","save","autoFocus","saveText","getAvatar","nickname","version","friendDataExp","getUserData","userName","text","name","typography","noWrap","userAvatar","ava","avatar","image","size","noClick","noName","badge","onlyName","stopPropagation","Group","noAva","span","es_button","pullData","callback","location","pathname","then","catch","cookieConsent","setCookieConsent","checkCookieConsent","remeberMeParam","basicURL","loginVisible","setLoginVisible","lineHeight","marginBottom","dist","window","FormControlLabel","control","Checkbox","checked","onChange","label","Divider","DialogTitle","DialogContent","DialogContentText","DialogActions","maxAge","FriendActionButton","anchorEl","setAnchorEl","invitingFriends","invitedFriends","realFriends","handleClose","handleClick","currentTarget","additionalButtons","MoreVertOutlined","Menu","keepMounted","Boolean","button","MenuItem","minimized","asText","preventDefault","wsActions","noFollow","forceAuth","MasonryCard","components_FriendActionButton","asIcons","components_UserButton_UserButton","root","input","iconButton","searchResult","setSearchField","searchField","AddFriends_createForOfIteratorHelper","fullFriend","paddingTop","align","InputBase","target","search","SearchOutlined","components_FriendCard","language","languageText","breakpoints","up","languageIcon","currentLanguage","_useTranslation","languageMenu","setLanguageMenu","handleLanguageMenuClose","changeLanguage","LANGUAGES_LABEL","Tooltip","enterDelay","aria-owns","undefined","aria-haspopup","data-ga-event-category","data-ga-event-action","Language_default","settings","join","ExpandMore_default","component","data-no-link","selected","fieldLength","nicknameRules","required","whitespace","min","max","pattern","nameRules","accountNameRules","es_select","getPopupContainer","trigger","parentNode","Option","LocateControl","leaflet","lc","Locate","strings","onActivate","drawCircle","keepCurrentZoomLevel","setView","addTo","withLeaflet","withTranslation","uploadFile","file","filename","alert","reader","FileReader","onload","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","resizeImageToSpecificSize","urltoFile","getSignedRequest","stop","_x","apply","arguments","readAsArrayBuffer","url","mimeType","fetch","arrayBuffer","buf","File","cb","resizeImageFromSrcToSpecificSize","readAsDataURL","img","Image","widthCoef","heightCoef","oc","document","octx","getContext","drawImage","toDataURL","onerror","_unused","fileName","response","doUploadFile","signedRequest","Content-Type","ImagePickerMulti","setImages","previewImage","setPreviewImage","onValueChange","upload","accept","listType","fileList","uid","onPreview","customRequest","_ref2","isRNWebView","ReactNativeWebView","postMessage","PlusOutlined_default","dividers","goalCategories","GoalCategories","category","Chip","nolim","pop","Select","divider","EditResource","leafletElement","ELG","useMapBounds","GestureHandling","resource","coordinates","setPosition","initialPosition","_useState5","descriptionText","_useState6","descriptionPlain","setDescriptionPlain","_Form$useForm","Form","useForm","form","goalId","cancel","charAt","toUpperCase","slice","submit","es_form","onFinish","autoComplete","initialValues","repeat","days","nomap","labelCol","wrapperCol","onValuesChange","changedFields","allValues","setFieldsValue","sort","Item","valuePropName","UI_ImagePickerMulti","rules","getValueFromEvent","Input","fullWidth","EditResource_GoalCategories","EditResource_ConnectionsSelect","noStyle","shouldUpdate","prevValues","currentValues","getFieldValue","Map","center","zoom","onclick","latlng","lat","lng","zIndex","gestureHandling","Explore_LocateControl","TileLayer","attribution","Marker","draggable","ondragend","getLatLng","speedDial","right","login","border","blogLabel","blogIcon","lastNotifications","isConnectingWS","domRef","useMediaQuery","startResourceVisible","setStartResourceVisible","addFriendOpen","setAddFriendOpen","_useState7","_useState8","speedDialOpen","setSpeedDialOpen","openLink","isActivating","numberOfUnseenNots","Layout_createForOfIteratorHelper","not","notId","lastSeenNot","logedIn","scrollTrigger","useScrollTrigger","removeGutters","paths","checkPagePath","hide","cll","white","background","appear","in","elevation","LinearProgress","top","tabIndex","header","Link","visibility","components_LanguageSwitcher_LanguageSwitcher","Book","disableGutters","SpeedDial","ariaLabel","icon","SpeedDialIcon","reason","focus","onOpen","SpeedDialAction","Person","tooltipTitle","whiteSpace","tooltipOpen","Star","Launch","HomeRounded","Badge","badgeContent","Notifications","Layout_LoginModal","Friends_AddFriends","components_EditResource_EditResource","EditPost","setMessageText","handleSave","handleCancel","postOpen","setPostOpen","Post_EditPost","messageValue","onSend","&>div::after","&>div::before","& textarea","setImageLoading","replyToUser","isTop","TextField","multiline","replyToMessage","editedMessage","replyTo","editingMessage","spanStyle","showUploadList","ImageCarousel","carousel","dots","autoplay","backgroundSize","backgroundPosition","backgroundRepeat","Modal","visible","footer","onCancel","alt","FollowButton","ConfirmAction","confirm","dayjs","format","Message","replies","isStart","replyVisible","setReplyVisible","deleteMessageOpen","setDeleteMessageOpen","setLikes","setReplyToUser","_useState9","_useState10","setEditingMessage","_useState11","_useState12","showReplies","setShowReplies","_useState13","_useState14","_useState15","_useState16","editMessageOpen","setEditMessageOpen","handleEditPostCancel","author","Post_AddMessage","date","fromNow","startMessage","messageType","anchorOrigin","vertical","horizontal","overlap","ThumbUp","UI_ImageCarousel_ImageCarousel","reply","details","itemId","UI_ReadMore","components_FollowButton","alertVisible","setAlertVisible","setFriends","basicProps","href","media","leaveDelay","startIcon","Share","FacebookShareButton","quote","FacebookIcon","TwitterShareButton","TwitterIcon","TelegramShareButton","TelegramIcon","PinterestShareButton","PinterestIcon","LinkedinShareButton","LinkedinIcon","VKShareButton","VKIcon","EmailShareButton","subject","EmailIcon","lib","onCopy","FileCopy","Snackbar","autoHideDuration","Alert","severity","isPostPage","postRef","scrollTo","offsetTop","behavior","noStartMessage","Post_Message","noPostControls","ThumbUpOutlined","AddCommentOutlined","UI_ShareButton","messages","Post_createForOfIteratorHelper","getNumberOfMessages","Post_AddPost","b","components_Post_Post","reverse","similarResources","setSimilarResources","similarIsRequested","setSimilarIsRequested","urlDir","categories","currentId","CardMedia","ResourceHeader","followersVisible","setFollowersVisible","editResourceOpen","setEditResourceOpen","deleteResourceOpen","setDeleteResourceOpen","leaveResourceOpen","setLeaveResourceOpen","accountProp","followProp","dropDownMeuItems","toString","getDropDownMeuItems","progressId","progressName","ownProps","pathParts","ResourceCore_createForOfIteratorHelper","setResource","Helmet","components_ResourceHeader","components_SimilarResources","Post_ResourcePosts","DefaultIcon","L","iconUrl","shadowUrl","iconShadow","iconSize","iconAnchor","prototype","MapPosition","setReward","components_ResourceCore","description","components_MapPosition_MapPosition","addRewardOpen","setAddRewardOpen","rewardPreview","setRewardPreview","wish","additionalButton","isSelect","multiple","isOwner","isSelected","openInDialog","containers_Reward_Reward","addActivityOpen","setAddActivityOpen","activityPreview","setActivityPreview","activityId","EditProgressReward","initialValue","rewardObj","components_ProfileRewards_ProfileRewards","ProfileActivities","EditProgressReward_Option","editRewardOpen","setEditRewardOpen","selectedReward","setSelectedReward","deleteRewardVisible","setDeleteRewardVisible","selectedRewardObj","Rewards_EditProgressReward","redTheme","createMuiTheme","red","overrides","MuiSelect","selectMenu","select","&:focus","backgroundColor","fade","blueTheme","blue","greenTheme","green","orangeTheme","orange","customTheme","purple","MuiListItem","secondaryAction","paddingRight","paddingLeft","showEarnedRewards","setShowEarnedRewards","activityObj","nowStageId","lastStages","stages","aS","aF","bS","bF","old","day","year","dayOfYear","startOf","endOf","week","month","now","diff","stageId","getNowStageId","ThemeProvider","tabs","defaultActiveKey","findIndex","stage","stageDate","getStatus","dismissed","failBy","approvedBy","getStatusText","myStatus","stageStatus","getTag","labelId","userStatus","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","tabTitle","TabPane","tab","List","dense","paid","selectedActivity","setSelectedActivity","deleteActivityVisible","setDeleteActivityVisible","activitiesIds","Goal_ActivityTable","setProgress","components_Activities_Activities","components_Rewards_Rewards","setActivity","RetweetOutlined_default","getRepeatType","acc","val","getDay","light","frameBorder","allowFullScreen","allow","flexGrow","setPosts","setTitle","all","setAll","method","query","json","components_Welcome","Grid","container","xs","md","xl","subtitle","published_at","friendsBreakPoints","default","1600","1100","600","cardBreakPoints","700","310","MasonryGrid","react_masonry_css_es5_default","breakpointCols","columnClassName","dataProp","MapSettings","mapVisible","setMapVisible","onSearch","setSearch","radius","setRadius","changed","setChanged","getRadius","metresPerPixel","cos","getCenter","PI","pow","getZoom","units","distance","sm","Switch","withMap","Slider","valueLabelDisplay","whenReady","CircleMarker","sortProgresses","views","foundProgresses","setFoundProgresses","noMore","setNoMore","setValue","liveFoundProcesses","skip","newFriendData","Explore_createForOfIteratorHelper","loadedProgresses","recentProgresses","Explore_MapSettings","Tabs","indicatorColor","textColor","Tab","orientation","LocationOn","react_infinite_scroller_default","pageStart","loadMore","hasMore","loader","selectedTransaction","setSelectedTransaction","deleteTransactionVisible","setDeleteTransactionVisible","transactionObj","rewardObject","sectionTitle","increaseAvatarV","currentTab","setCurrentTab","classesM","deleteVisible","setDeleteVisible","deleteField","setDeleteField","startProgressVisible","setStartProgressVisible","profileId","Profile_createForOfIteratorHelper","sub","Title","level","editable","Edit","maxLength","autoSize","minRows","maxRows","profileName","components_Transactions_Transactions","newValue","scrollButtons","components_ProgressButton","accountNotActive","setAccountActivated","nicknameNotUnique","offset","htmlType","statePosts","sortNotifiacations","NotificationsTracker_createForOfIteratorHelper","notifications","filterSameNot","arr","myNotifications","isEqual","addEventListener","goBack","console","p","v","stageName","itemName","price","buyer","as","getStageName","addedAccounts","ac","droppedAccounts","for","action","rewardName","activityName","comment","startTime","sortPosts","aN","bN","DashboardPosts_createForOfIteratorHelper","newPosts","newUnseenPosts","newOldPosts","oldPosts","oldPostIndex","_newOldPosts","resultPosts","neededPosts","nots","Dashboard_DashboardEvents","backToBlog","setPost","fbAsyncInit","FB","appId","cookie","xfbml","d","js","fjs","getElementsByTagName","getElementById","insertBefore","XFBML","ReactHtmlParser","data-href","data-numposts","data-width","setLanguage","mountedRef","auth","useCallback","abrupt","t0","trackingID","ReactGA","initialize","pageview","locale","Logout","react_router","routes","exact","Explore","DashboardPosts","Goal","Reward","Activity","Profile","Blog","BlogArticle","ActivateAccount","process","containers_ConnectWebsocket_ConnectWebsocket","Dashboard_NotificationsTracker","src_RNBridge","reducer","createReducer","pageTitle","SET_DATA","REMOVE_DATA","reducer_createForOfIteratorHelper","SET_FRIEND_SEARCH_RESULT","SET_FRIENDS_DATA","perk","SET_AVATAR_V","SET_LANGUAGE","INCREASE_AVATAR_V","SET_IS_AUTHED","SET_PAGE_TITLE","SET_ACCOUNT_ACTIVATED","SET_CONNECTING_WS","extend","weekOfYear","relativeTime","updateLocale","future","past","ss","m","mm","h","hh","dd","w","ww","M","MM","y","yy","__webpack_require__","__webpack_exports__","src_store","outerTheme","MuiAppBar","colorSecondary","baseURL","createStore","composeWithDevTools","applyMiddleware","thunk","app","es","src_App","ReactDOM","render"],"mappings":"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","file":"static/js/main.646f55a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__title\":\"Welcome_header__title__2PVWK\",\"subheader\":\"Welcome_subheader__8NTpe\",\"slider\":\"Welcome_slider__1C5Wk\",\"slider__word\":\"Welcome_slider__word__2M0ri\",\"slider__words\":\"Welcome_slider__words__2RsMS\",\"wordSlider\":\"Welcome_wordSlider__3DU7B\",\"videoWrapper\":\"Welcome_videoWrapper__203j_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LoginModal_Container__1PdGZ\",\"socialButtons\":\"LoginModal_socialButtons__1H9u7\",\"Background\":\"LoginModal_Background__2foqr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3q-xb\",\"Header\":\"Layout_Header__J8BzQ\",\"Footer\":\"Layout_Footer__1UfUY\",\"HideHeader\":\"Layout_HideHeader__2uuFO\",\"FooterButton\":\"Layout_FooterButton__VhJUa\",\"TopHeader\":\"Layout_TopHeader__277Y8\",\"BottomHeader\":\"Layout_BottomHeader__3YPE5\",\"Main\":\"Layout_Main__Py9vL\",\"MenuButtonContiner\":\"Layout_MenuButtonContiner__2imT-\",\"QuickButtonContiner\":\"Layout_QuickButtonContiner__3mw1U\",\"PageTitle\":\"Layout_PageTitle__1_EDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dots\":\"imageCarousel_Dots__3XuKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Profile_Avatar__3n37F\"};","import React from 'react'\n\nimport Form from 'antd/es/form'\nimport Input from 'antd/es/input'\nimport Button from 'antd/es/button'\nimport axios from 'axios'\nimport Cookies from 'universal-cookie'\n\nconst cookies = new Cookies()\n\nconst Auth = props => {\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n    const onFinish = value => {\n        axios\n            .post('/api/authtest/' + value.id)\n            .then(res => {\n                cookies.set('auth_token', res.data.cookie)\n                props.onTryAutoSignup()\n            })\n            .catch(err => {})\n    }\n    return (\n        <Form\n            name=\"dynamic_form_nest_item\"\n            onFinish={onFinish}\n            autoComplete=\"off\"\n            {...layout}\n        >\n            <Form.Item\n                label=\"Id\"\n                name=\"id\"\n                rules={[\n                    { required: true, message: 'Please input the goal name.' },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                    Save\n                </Button>\n            </Form.Item>\n        </Form>\n    )\n}\n\nexport default Auth\n","import React from 'react'\n// import { Editor } from '@tinymce/tinymce-react'\nimport { Editor } from 'react-draft-wysiwyg'\nimport { convertFromRaw, ContentState, convertToRaw } from 'draft-js'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\nimport htmlToDraft from 'html-to-draftjs'\nimport { useTranslation } from 'react-i18next'\n\nexport default props => {\n    const { t } = useTranslation()\n    let contentState\n    if (typeof props.value === 'string') {\n        const blocksFromHtml = htmlToDraft(props.value)\n        const { contentBlocks, entityMap } = blocksFromHtml\n        contentState = ContentState.createFromBlockArray(\n            contentBlocks,\n            entityMap\n        )\n        contentState = convertToRaw(contentState)\n    } else contentState = props.value\n    return (\n        // <Editor\n        //     apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n        //     // initialValue={form.getFieldValue('description')}\n        //     init={{\n        //         inline: true,\n        //     }}\n        //     onEditorChange={props.onEditorChange}\n        //     value={props.value}\n        // />\n        <Editor\n            placeholder={t('g.addSomeText')}\n            readOnly={props.readOnly}\n            // toolbarClassName=\"demo-toolbar-absolute\"\n            wrapperClassName=\"demo-wrapper\"\n            {...(!props.readOnly\n                ? { editorClassName: 'demo-editor' }\n                : { contentState: contentState })}\n            defaultContentState={contentState}\n            onContentStateChange={value => {\n                props.onEditorChange && props.onEditorChange(value)\n                props.onEditorChangePlain &&\n                    props.onEditorChangePlain(\n                        convertFromRaw(value).getPlainText(' ')\n                    )\n            }}\n            toolbar={{\n                inline: { inDropdown: true },\n                list: { inDropdown: true },\n                textAlign: { inDropdown: true },\n                link: { inDropdown: true },\n                history: { inDropdown: true },\n            }}\n            toolbarHidden={props.readOnly}\n            options={\n                !props.readOnly && [\n                    'inline',\n                    'blockType',\n                    'fontSize',\n                    'fontFamily',\n                    'list',\n                    'textAlign',\n                    'colorPicker',\n                    'link',\n                    'emoji',\n                    'remove',\n                    'history',\n                ]\n            }\n        />\n    )\n}\n","import { Button } from '@material-ui/core'\nimport React, { useEffect, useRef, useState } from 'react'\nimport TinyEditor from './TinyEditor'\nimport { useTranslation } from 'react-i18next'\n\nconst ReadMore = props => {\n    const { t } = useTranslation()\n    const [overflow, setOverflow] = useState(false)\n    const [open, setOpen] = useState(false)\n    const descRef = useRef(null)\n\n    useEffect(() => {\n        if (\n            descRef.current &&\n            descRef.current.offsetHeight > props.initialHeight\n        ) {\n            setOverflow(true)\n        }\n    }, [\n        descRef.current && descRef.current.offsetHeight,\n        props.content,\n        props.contentEditor,\n        props.children,\n    ])\n    return (\n        <div\n            style={{\n                maxHeight: open ? 'initial' : props.initialHeight + 'px',\n                overflow: 'hidden',\n                position: 'relative',\n                paddingBottom: overflow && open ? '50px' : '0px',\n            }}\n        >\n            {props.content && (\n                <div\n                    ref={descRef}\n                    dangerouslySetInnerHTML={{ __html: props.content }}\n                />\n            )}\n            {props.contentEditor && (\n                <div ref={descRef}>\n                    <TinyEditor readOnly value={props.contentEditor} />\n                </div>\n            )}\n            {props.children && <div ref={descRef}>{props.children}</div>}\n            {overflow && (\n                <div\n                    style={{\n                        position: 'absolute',\n                        bottom: 0,\n                        width: '100%',\n                        // zIndex: 1,\n                    }}\n                >\n                    <div\n                        style={{\n                            transition: 'opacity 0.25s',\n                            opacity: open ? 0 : 1,\n                            backgroundImage:\n                                'linear-gradient(to bottom, rgba(255, 255, 255, 1), #ffffff )',\n                            content: '',\n                            height: '50px',\n                            width: '100%',\n\n                            bottom: '0',\n                            left: '0',\n                            position: 'absolute',\n                        }}\n                    />\n\n                    <Button color=\"primary\" onClick={() => setOpen(!open)}>\n                        {open\n                            ? t('g.readLess')\n                            : t('g.readMore') + (props.addTitle || '')}\n                    </Button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default ReadMore\n","import {\n    Box,\n    Card,\n    CardActionArea,\n    CardContent,\n    createStyles,\n    makeStyles,\n    Paper,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { AddCircle } from '@material-ui/icons'\nimport Empty from 'antd/es/empty'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n        addBox: {\n            color: theme.palette.primary.main,\n            display: 'flex',\n            alignItems: 'center',\n        },\n    })\n)\nexport default props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    return props.items.length > 0 ||\n        props.empty ||\n        props.customEmpty ||\n        props.withAdd ? (\n        <>\n            {props.title && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {props.title}\n                </Typography>\n            )}\n            <Paper\n                style={{\n                    padding: '15px',\n                    paddingBottom: '10px',\n                }}\n            >\n                <Box\n                    style={{\n                        display: 'flex',\n                        overflowX: 'auto',\n                        padding: '3px',\n                    }}\n                >\n                    {props.items.length === 0 && props.empty ? (\n                        props.customEmpty || <Empty />\n                    ) : (\n                        <>\n                            {props.withAdd && (\n                                <Card\n                                    style={{\n                                        borderRadius: '15px',\n                                        cursor: 'pointer',\n                                        flexShrink: 0,\n                                        width: '100px',\n                                        marginRight: '10px',\n                                        position: 'relative',\n                                        minHeight: '160px',\n                                    }}\n                                >\n                                    <CardActionArea\n                                        style={{\n                                            height: '100%',\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                        }}\n                                        onClick={() => props.onAdd()}\n                                    >\n                                        <CardContent\n                                            style={{\n                                                flex: 1,\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                justifyContent: 'center',\n                                                padding: '5px',\n                                            }}\n                                        >\n                                            <Box\n                                                style={{\n                                                    flexDirection: 'column',\n                                                }}\n                                                className={classes.addBox}\n                                            >\n                                                <AddCircle />\n                                                <Box\n                                                    style={{\n                                                        textAlign: 'center',\n                                                    }}\n                                                >\n                                                    {props.addTitle ||\n                                                        t('g.add')}\n                                                </Box>\n                                            </Box>\n                                        </CardContent>\n                                    </CardActionArea>\n                                </Card>\n                            )}\n                            {props.items.map((item, index) => (\n                                <Card\n                                    style={{\n                                        borderRadius: '15px',\n                                        cursor: 'pointer',\n                                        flexShrink: 0,\n                                        width: '100px',\n                                        marginRight: '10px',\n                                        position: 'relative',\n                                    }}\n                                >\n                                    {props.content(item, index)}\n                                </Card>\n                            ))}\n                            <Box style={{ width: '10px', flexShrink: 0 }} />\n                        </>\n                    )}\n                </Box>\n                <Box style={{ marginTop: '20px' }}>\n                    {props.bottomContent || null}\n                </Box>\n            </Paper>\n        </>\n    ) : null\n}\n","import en from './en.json'\nimport ru from './ru.json'\n\nexport default {\n    en: {\n        translation: en,\n    },\n    ru: {\n        translation: ru,\n    },\n}\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport resources from './languages'\n\n// the translations\n// (tip move them in a JSON file and import them)\n\ni18n.use(LanguageDetector)\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n        resources,\n        fallbackLng: 'en',\n        keySeparator: '.', // we do not use keys in form messages.welcome\n        interpolation: {\n            escapeValue: false, // react already safes from xss\n        },\n        nonExplicitSupportedLngs: true,\n    })\n\nexport default i18n\n","import message from 'antd/es/message'\nimport i18n from '../translations/i18n'\n\nexport default (res, props) => {\n    const { t } = i18n\n    if (res.data.logout) props.history.push('/logout')\n    if (res.data.home) props.history.push('/')\n    if (res.data.success === false) {\n        if (res.data.errorCode) {\n            switch (res.data.errorCode) {\n                case 'no account':\n                    message.warning(t('processRes.accountNotFound'))\n                    break\n                case 'bad data':\n                    message.error(t('processRes.error'))\n                    break\n                default:\n                    message.warning(t('processRes.generalError'))\n                    break\n            }\n        } else {\n            message.error(t('processRes.generalError'))\n        }\n    } else {\n        if (res.data.successCode) {\n            switch (res.data.successCode) {\n                case 'avatar saved':\n                    message.success(t('processRes.avaSaved'))\n                    break\n                case 'success':\n                    message.success(t('processRes.success'))\n                    break\n                case 'item saved':\n                    message.success(t('processRes.saved'))\n                    break\n                case 'progress created':\n                    message.success(t('processRes.goalStarted'))\n                    break\n                case 'reward created':\n                    message.success(t('processRes.rewardStarted'))\n                    break\n                case 'activity created':\n                    message.success(t('processRes.activityStarted'))\n                    break\n                default:\n                    message.success(t('processRes.success'))\n                    break\n            }\n        }\n    }\n    if (res.data.status && res.data.status === 'no account')\n        props.history.push('/activate-account')\n}\n","import Cookies from 'universal-cookie'\nimport jwt_decode from 'jwt-decode'\n\nimport processRes from '../../utils/processRes'\nimport axios from 'axios'\n\nconst cookies = new Cookies()\n\nexport const tryAuth = token => (dispatch: Object) => {\n    sessionStorage.setItem('systemRefresh', '0')\n    if (!token) {\n        token = cookies.get('auth_token')\n        const rememberMe = cookies.get('rememberme')\n        if (rememberMe) {\n            cookies.remove('rememberme', {\n                path: '/',\n            })\n            if (rememberMe === 'false') {\n                cookies.remove('auth_token', {\n                    path: '/',\n                })\n            }\n        }\n    }\n\n    const userId = jwt_decode(token)\n    axios.defaults.headers.post['Content-Type'] = 'application/json'\n    axios.defaults.headers.put['Content-Type'] = 'application/json'\n    axios.defaults.headers.delete['Content-Type'] = 'application/json'\n    axios.defaults.headers.common.Accept = 'application/json'\n    if (token && userId) {\n        axios.defaults.headers.common['x-auth-token'] = token\n        axios.defaults.headers.post['x-auth-token'] = token\n        axios.defaults.headers.get['x-auth-token'] = token\n        axios.defaults.headers.delete['x-auth-token'] = token\n        axios.defaults.headers.put['x-auth-token'] = token\n        dispatch(setIsAuthed(userId._id))\n    } else {\n        dispatch(setIsAuthed(null))\n    }\n}\n\nconst setIsAuthed = id => ({\n    type: 'SET_IS_AUTHED',\n    id,\n})\n\nexport const setLanguage = language => ({\n    type: 'SET_LANGUAGE',\n    language,\n})\n\nexport const logout = () => dispatch => {\n    cookies.remove('rememberme', {\n        path: '/',\n    })\n    cookies.remove('auth_token', {\n        path: '/',\n    })\n    delete axios.defaults.headers.common['x-auth-token']\n    delete axios.defaults.headers.post['x-auth-token']\n    delete axios.defaults.headers.get['x-auth-token']\n    delete axios.defaults.headers.delete['x-auth-token']\n    delete axios.defaults.headers.put['x-auth-token']\n    dispatch(setIsAuthed(false))\n}\n\nexport const setData = data => ({\n    type: 'SET_DATA',\n    data,\n})\n\nexport const setConnectingToWS = data => ({\n    type: 'SET_CONNECTING_WS',\n    data,\n})\n\nexport const removeData = data => ({\n    type: 'REMOVE_DATA',\n    data,\n})\n\nexport const setFriendsData = data => ({\n    type: 'SET_FRIENDS_DATA',\n    data,\n})\n\nexport const setAvatarV = v => ({\n    type: 'SET_AVATAR_V',\n    v,\n})\n\nexport const increaseAvatarV = () => ({\n    type: 'INCREASE_AVATAR_V',\n})\n\nexport const setPageTitle = title => ({\n    type: 'SET_PAGE_TITLE',\n    title,\n})\n\nexport const buyPerk = (account, perk, owner, props) => dispatch => {\n    const currency = account.wallet.find(item => item.user === owner._id)\n    if (currency && currency.amount >= perk.price) {\n        axios\n            .post('/api/shop/buy', {\n                perkId: perk.perkId,\n                ownerId: owner._id,\n            })\n            .then(res => {\n                processRes(res)\n                if (res.data.success) {\n                    dispatch(setData(res.data, props.history.location.pathname))\n                }\n            })\n            .catch(err => {})\n    } else {\n        alert(\n            'You cannot buy this item as you do not have enough money from this user.'\n        )\n    }\n}\n\nexport const confirmTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/confirm', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const cancelTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/cancel', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const setFriendSearchResult = data => ({\n    type: 'SET_FRIEND_SEARCH_RESULT',\n    data,\n})\n\nexport const setAccountActivated = value => ({\n    type: 'SET_ACCOUNT_ACTIVATED',\n    value,\n})\n","import { setData } from './auth'\n\nexport const saveResource = (data, type, newOnlineUsers) => (\n    dispatch,\n    getState\n) => {\n    if (data.length > 0) {\n        const state = getState()\n        switch (type) {\n            case 'user':\n                const user = data[0]\n                let currentAccount = user.currentAccount\n                if (!currentAccount) currentAccount = user.myAccount\n                // if(!currentAccount)\n                //activate-account\n                dispatch(setData({ user, currentAccount }))\n                break\n            case 'account':\n                const account = data.find(\n                    item => item._id === state.currentAccount\n                )\n                if (account) {\n                    dispatch(setData({ account, newOnlineUsers }))\n                }\n\n                const profile = data.find(\n                    item => item._id === state.currentProfile\n                )\n                if (profile) {\n                    dispatch(setData({ profile, newOnlineUsers }))\n                }\n\n                break\n            case 'progress':\n                const progress = data.find(\n                    item => item._id === state.currentGoal\n                )\n                if (progress) {\n                    dispatch(setData({ progress }))\n                }\n                break\n\n            case 'post':\n                let post = {}\n                for (let item of data) {\n                    post[item._id] = item\n                }\n                dispatch(setData({ post }))\n                break\n\n            case 'reward':\n                const reward = data.find(\n                    item => item._id === state.currentReward\n                )\n                if (reward) {\n                    dispatch(setData({ reward }))\n                }\n                break\n            case 'activity':\n                const activity = data.find(\n                    item => item._id === state.currentActivity\n                )\n                if (activity) {\n                    dispatch(setData({ activity }))\n                }\n                break\n\n            case 'friendData':\n                let friendData = {}\n                for (let item of data) {\n                    friendData[item._id] = item\n                }\n                dispatch(setData({ friendData, newOnlineUsers }))\n                break\n            case 'progressData':\n                let progressData = {}\n                for (let item of data) {\n                    progressData[item._id] = item\n                }\n                dispatch(setData({ progressData }))\n                break\n            case 'transactionData':\n                let transactionData = {}\n                for (let item of data) {\n                    transactionData[item._id] = item\n                }\n                dispatch(setData({ transactionData }))\n                break\n            case 'postData':\n                let postData = {}\n                for (let item of data) {\n                    postData[item._id] = item\n                }\n                dispatch(setData({ postData }))\n                break\n            case 'rewardData':\n                let rewardData = {}\n                for (let item of data) {\n                    rewardData[item._id] = item\n                }\n                dispatch(setData({ rewardData }))\n                break\n            case 'activityData':\n                let activityData = {}\n                for (let item of data) {\n                    activityData[item._id] = item\n                }\n                dispatch(setData({ activityData }))\n                break\n\n            default:\n                break\n        }\n    }\n}\n","export default (props, notFoundResources) => {\n    const createEmptyObj = () => ({\n        user: [],\n        account: [],\n        progress: [],\n        reward: [],\n        activity: [],\n        post: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n        activityData: [],\n    })\n    const { store } = props\n    const requestedResources = createEmptyObj()\n    const neededResources = createEmptyObj()\n    if (store.isAuthed) {\n        if (!store.user) {\n            requestedResources.user.push(store.isAuthed)\n        } else {\n            neededResources.user.push(store.user._id)\n            if (store.currentAccount) {\n                if (store.account._id !== store.currentAccount) {\n                    requestedResources.account.push(store.currentAccount)\n                } else {\n                    neededResources.account.push(store.account._id)\n                    for (let progress of [\n                        ...store.account.progresses,\n                        ...store.account.followProgresses,\n                        ...store.account.recent.filter(\n                            item => item.resourceType === 'goal'\n                        ),\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let post of store.account.followPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let post of store.account.myPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let transaction of store.account.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n                    for (let friend of store.account.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let reward of [\n                        ...store.account.rewards,\n                        ...store.account.recent.filter(\n                            item => item.resourceType === 'reward'\n                        ),\n                    ]) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                    for (let activity of [\n                        ...store.account.activities,\n                        ...store.account.recent.filter(\n                            item => item.resourceType === 'activity'\n                        ),\n                    ]) {\n                        if (!store.activityData[activity]) {\n                            requestedResources.activityData.push(activity)\n                        }\n                        neededResources.activityData.push(activity)\n                    }\n                    for (let item of [\n                        ...store.account.followingAccounts,\n                        ...store.account.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n            if (store.currentProfile) {\n                if (store.profile._id !== store.currentProfile) {\n                    requestedResources.account.push(store.currentProfile)\n                } else {\n                    neededResources.account.push(store.profile._id)\n                    for (let progress of [\n                        ...store.profile.progresses,\n                        ...store.profile.followProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let transaction of store.profile.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        } else {\n                            const rewardId =\n                                store.transactionData[transaction].reward\n                            if (!store.rewardData[rewardId]) {\n                                requestedResources.rewardData.push(rewardId)\n                            }\n                            neededResources.rewardData.push(rewardId)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n\n                    for (let friend of store.profile.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let reward of store.profile.rewards) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                    for (let activity of store.profile.activities) {\n                        if (!store.activityData[activity]) {\n                            requestedResources.activityData.push(activity)\n                        }\n                        neededResources.activityData.push(activity)\n                    }\n                    for (let item of [\n                        ...store.profile.followingAccounts,\n                        ...store.profile.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n\n            if (store.currentGoal) {\n                if (store.progress._id !== store.currentGoal) {\n                    requestedResources.progress.push(store.currentGoal)\n                } else {\n                    neededResources.progress.push(store.progress._id)\n                    let participants = []\n                    if (store.progress.owner)\n                        participants.push(store.progress.owner)\n                    if (store.progress.users)\n                        participants = participants.concat(store.progress.users)\n                    if (store.progress.likes)\n                        participants = participants.concat(store.progress.likes)\n                    if (store.progress.followingAccounts)\n                        participants = participants.concat(\n                            store.progress.followingAccounts\n                        )\n\n                    for (let friend of participants) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n                    for (let post of store.progress.posts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n\n                    for (let reward of [\n                        ...store.progress.rewards,\n                        ...store.progress.oldRewards,\n                    ]) {\n                        if (!store.rewardData[reward.reward]) {\n                            requestedResources.rewardData.push(reward.reward)\n                        }\n                        neededResources.rewardData.push(reward.reward)\n                    }\n                    for (let activity of [\n                        ...store.progress.activities,\n                        ...store.progress.oldActivities,\n                    ]) {\n                        if (!store.activityData[activity]) {\n                            requestedResources.activityData.push(activity)\n                        }\n                        neededResources.activityData.push(activity)\n                    }\n                }\n            }\n            if (store.currentPosts) {\n                for (let post of store.currentPosts) {\n                    const postEl = store.post[post]\n                    if (!postEl) {\n                        requestedResources.post.push(post)\n                    } else {\n                        neededResources.post.push(post)\n                        for (let friend of postEl.users) {\n                            if (!store.friendData[friend]) {\n                                requestedResources.friendData.push(friend)\n                            }\n                            neededResources.friendData.push(friend)\n                        }\n                        if (post.parent) {\n                            if (post.parent.parentType === 'progress')\n                                neededResources.progressData.push(\n                                    post.parent.parentId\n                                )\n                            if (post.parent.parentType === 'reward')\n                                neededResources.rewardData.push(\n                                    post.parent.parentId\n                                )\n                            if (post.parent.parentType === 'activity')\n                                neededResources.activityData.push(\n                                    post.parent.parentId\n                                )\n                        }\n                    }\n                }\n            }\n            if (store.currentReward) {\n                if (store.reward._id !== store.currentReward) {\n                    requestedResources.reward.push(store.currentReward)\n                } else {\n                    neededResources.reward.push(store.reward._id)\n                    for (let friend of [\n                        ...store.reward.likes,\n                        ...store.reward.followingAccounts,\n                    ]) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n\n                    for (let post of store.reward.posts) {\n                        if (!store.post[post]) {\n                            requestedResources.post.push(post)\n                        }\n                        neededResources.post.push(post)\n                    }\n                }\n            }\n            if (store.currentActivity) {\n                if (store.activity._id !== store.currentActivity) {\n                    requestedResources.activity.push(store.currentActivity)\n                } else {\n                    neededResources.activity.push(store.activity._id)\n                    for (let friend of [\n                        ...store.activity.likes,\n                        ...store.activity.followingAccounts,\n                    ]) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n\n                    for (let post of store.activity.posts) {\n                        if (!store.post[post]) {\n                            requestedResources.post.push(post)\n                        }\n                        neededResources.post.push(post)\n                    }\n                }\n            }\n            if (store.friendSearchResult && store.friendSearchResult.length > 0)\n                for (let friend of store.friendSearchResult) {\n                    if (!store.friendData[friend._id]) {\n                        requestedResources.friendData.push(friend._id)\n                    }\n                    neededResources.friendData.push(friend._id)\n                }\n        }\n    }\n\n    const reduce = obj => {\n        for (let attr in obj) {\n            if (obj[attr]) {\n                obj[attr] = Array.from(\n                    new Set(\n                        obj[attr].filter(\n                            item => !notFoundResources.includes(item)\n                        )\n                    )\n                )\n            }\n        }\n    }\n\n    reduce(neededResources)\n    const notNeededResources = createEmptyObj()\n    notNeededResources.profile = []\n    let notNeededExist\n    const check1 = (key, mode) => {\n        if (\n            store[mode]._id &&\n            !neededResources[key].includes(store[mode]._id)\n        ) {\n            notNeededResources[mode].push(store[mode]._id)\n            notNeededExist = true\n        }\n    }\n    const check2 = key => {\n        for (let attr in store[key]) {\n            if (!neededResources[key].includes(attr)) {\n                notNeededResources[key].push(attr)\n                notNeededExist = true\n            }\n        }\n    }\n    check1('account', 'account')\n    check1('account', 'profile')\n    check1('progress', 'progress')\n    check1('reward', 'reward')\n    check1('activity', 'activity')\n    check2('post')\n    check2('friendData')\n    check2('rewardData')\n    check2('activityData')\n    check2('progressData')\n    check2('transactionData')\n    check2('postData')\n\n    if (notNeededExist) {\n        props.removeData(notNeededResources)\n    }\n\n    reduce(requestedResources)\n    return requestedResources\n}\n","import requestResource from './requestResource'\n\nexport default (versions, state, store, webSocket) => {\n    const notNeededResources = {\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        reward: [],\n        activity: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n        activityData: [],\n    }\n\n    const checkData = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key][attr]) {\n                    if (store[key][attr].__v !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    const check = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key]._id === attr) {\n                    if (store[key].__v !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                    if (!store[key]._id) notNeededResources[key].push(attr)\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    for (let attr in versions.user) {\n        if (typeof versions.user[attr] !== 'undefined') {\n            if (store.user._id === attr) {\n                if (store.user.__v !== versions.user[attr]) {\n                    requestResource('user', [attr], state)\n                }\n            } else notNeededResources.user.push(attr)\n        }\n    }\n\n    for (let attr in versions.account) {\n        if (typeof versions.account[attr] !== 'undefined') {\n            if (store.account._id === attr) {\n                if (store.account.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n            }\n            if (store.profile._id === attr) {\n                if (store.profile.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n                if (!store.account._id) notNeededResources.account.push(attr)\n            }\n        }\n        if (store.account._id !== attr && store.profile._id !== attr)\n            notNeededResources.account.push(attr)\n    }\n\n    check('progress')\n    check('reward')\n    check('activity')\n\n    checkData('post')\n    checkData('friendData')\n    checkData('progressData')\n    checkData('rewardData')\n    checkData('activityData')\n    checkData('postData')\n    checkData('transactionData')\n\n    if (\n        notNeededResources.user.length > 0 ||\n        notNeededResources.account.length > 0 ||\n        notNeededResources.progress.length > 0 ||\n        notNeededResources.post.length > 0 ||\n        notNeededResources.friendData.length > 0 ||\n        notNeededResources.reward.length > 0 ||\n        notNeededResources.rewardData.length > 0 ||\n        notNeededResources.activity.length > 0 ||\n        notNeededResources.activityData.length > 0 ||\n        notNeededResources.progressData.length > 0 ||\n        notNeededResources.postData.length > 0 ||\n        notNeededResources.transactionData.length > 0\n    ) {\n        return notNeededResources\n    }\n}\n","export default props => {\n    const { store } = props\n    const resources = {\n        user: {},\n        account: {},\n        progress: {},\n        post: {},\n        reward: {},\n        activity: {},\n        transactionData: {},\n        friendData: {},\n        progressData: {},\n        postData: {},\n        rewardData: {},\n        activityData: {},\n    }\n\n    if (store.user && store.user._id) {\n        resources.user[store.user._id] = store.user.__v\n    }\n\n    if (store.account._id) {\n        resources.account[store.account._id] = store.account.__v\n    }\n    if (store.profile._id) {\n        resources.account[store.profile._id] = store.profile.__v\n    }\n    if (store.progress._id) {\n        resources.progress[store.progress._id] = store.progress.__v\n    }\n    if (store.activity._id) {\n        resources.activity[store.activity._id] = store.activity.__v\n    }\n    if (store.activity._id) {\n        resources.activity[store.activity._id] = store.activity.__v\n    }\n\n    const addData = key => {\n        for (let item in store[key]) {\n            if (typeof store[key][item] !== 'undefined') {\n                if (store[key][item]._id) {\n                    resources[key][store[key][item]._id] = store[key][item].__v\n                }\n            }\n        }\n    }\n\n    addData('post')\n    addData('friendData')\n    addData('postData')\n    addData('progressData')\n    addData('rewardData')\n    addData('activityData')\n    addData('TransactionData')\n\n    return resources\n}\n","import React, { Component } from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport message from 'antd/es/message'\nimport getListOfNeededResources from './methods/getListOfNeededResources'\nimport compareVersionsAndRerequest from './methods/compareVersionsAndRerequest'\nimport getResourcesToMonitor from './methods/getResourcesToMonitor'\nimport Cookies from 'universal-cookie'\nimport axios from 'axios'\nimport i18n from '../../translations/i18n'\n\nexport let webSocket = false\nconst cookies = new Cookies()\nconst listOfGroups = [\n    'user',\n    'account',\n    'progress',\n    'reward',\n    'activity',\n    'post',\n    'postData',\n    'progressData',\n    'friendData',\n    'transactionData',\n    'rewardData',\n    'activityData',\n]\nclass ConnectWebsocket extends Component {\n    state = {\n        user: [],\n        account: [],\n        progress: [],\n        reward: [],\n        activity: [],\n        post: [],\n        friendData: [],\n        progressData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n        activityData: [],\n        notFoundResources: [],\n    }\n    markNotFoundResource = ids => {\n        const newNotFound = [...this.state.notFoundResources, ...ids]\n        this.setState({ notFoundResources: newNotFound })\n    }\n    start = () => {\n        let url\n        if (process.env.NODE_ENV === 'development') {\n            url = 'ws://my.websiter.test:5000'\n        } else {\n            url = 'wss://addspire.com'\n        }\n        let pingTimeout\n        webSocket = new WebSocket(url)\n\n        const heartbeat = versions => {\n            let notNeededResources\n            if (versions) {\n                notNeededResources = compareVersionsAndRerequest(\n                    versions,\n                    this.state,\n                    this.props.store,\n                    webSocket\n                )\n            }\n            clearTimeout(pingTimeout)\n\n            pingTimeout = setTimeout(() => {\n                webSocket.close()\n            }, 30000 + 1000)\n            if (webSocket && webSocket.readyState === 1) {\n                webSocket.send(\n                    JSON.stringify({\n                        messageCode: 'heartbeat',\n                        notNeededResources,\n                    })\n                )\n            }\n        }\n\n        webSocket.onopen = event => {\n            const resourcesToMonitor = getResourcesToMonitor(this.props)\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'auth',\n                    user: axios.defaults.headers.common['x-auth-token'],\n                    resourcesToMonitor,\n                    // progressId: this.props.progress._id,\n                })\n            )\n            this.initializeRequestResources(this.props)\n            heartbeat()\n        }\n\n        webSocket.onmessage = event => {\n            const news = JSON.parse(event.data)\n\n            switch (news.messageCode) {\n                case 'heartbeat':\n                    heartbeat(news.versions)\n                    this.props.setData({\n                        onlineUsers: news.onlineUsers,\n                    })\n                    break\n                case 'logout':\n                    this.props.logout()\n                    this.props.history.push('/logout')\n                    break\n\n                case 'successMessage':\n                    message.success(i18n.t('processRes.success'))\n                    break\n                case 'errorMessage':\n                    message.error(news.messageText)\n                    break\n                case 'friendsData':\n                    this.props.setFriendsData(news.friendsData)\n                    break\n                case 'redirectToAccount':\n                    this.props.history.push(\n                        '/profile/' + this.props.store.account._id\n                    )\n                    break\n                case 'addResource':\n                    this.props.saveResource(\n                        news.resources,\n                        news.type,\n                        news.newOnlineUsers\n                    )\n                    break\n                case 'updateResource':\n                    this.props.updateResource(\n                        news.code,\n                        news.id,\n                        news.update,\n                        this.state\n                    )\n                    break\n                case 'friendSearchResult':\n                    this.props.setFriendSearchResult(news.data)\n                    break\n                case 'goTo':\n                    this.props.history.push(news.messageText || '/')\n                    break\n                case '404':\n                    message.error(i18n.t('processRes.404'))\n                    this.props.history.push(news.messageText || '/')\n                    break\n\n                // case 'update':\n                //     let newProgress\n                //     let oldProgress = cloneDeep(this.props.progress)\n                //     if (oldProgress.__v === news.progress.__v - 1) {\n                //         newProgress = diffpatcher.patch(\n                //             oldProgress,\n                //             news.progress.patch\n                //         )\n                //         newProgress.__v = news.progress.__v\n                //         this.props.setData(\n                //             {\n                //                 progress: newProgress,\n                //             },\n                //             this.props.history.location.pathname\n                //         )\n                //     }\n                //     wsActions.getFriendsData(\n                //         newProgress || this.props.progress,\n                //         this.props.account.friends\n                //     )\n                //     break\n                case 'authSuccess':\n                    axios.defaults.headers.common['x-auth-token'] &&\n                        cookies.set(\n                            'auth_token',\n                            axios.defaults.headers.common['x-auth-token'],\n                            {\n                                path: '/',\n                                expires: new Date(\n                                    new Date().getTime() +\n                                        6 * 24 * 60 * 60 * 1000\n                                ),\n                            }\n                        )\n                    break\n                case 'error':\n                    message.error(i18n.t('processRes.error'))\n                    break\n                case 'notFoundResource':\n                    this.markNotFoundResource(news._id)\n                    break\n                default:\n                    break\n            }\n        }\n        webSocket.onclose = event => {\n            clearTimeout(pingTimeout)\n        }\n    }\n\n    checkInterval = null\n\n    check = () => {\n        if (!webSocket || webSocket.readyState === 3) {\n            clearInterval(this.checkInterval)\n            this.checkInterval = setInterval(this.check, 5000)\n            this.start()\n        }\n    }\n    // componentWillMount() {\n    //     this.checkInterval = setInterval(this.check, 50)\n    // }\n\n    reRequestResourcesInterval = null\n    reRequestResources = () => {\n        for (let group of listOfGroups) {\n            if (this.state[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: this.state[group],\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.checkInterval)\n        if (webSocket) {\n            webSocket.close()\n        }\n        this.props.setConnectingToWS(false)\n    }\n    componentDidMount() {\n        this.checkInterval = setInterval(this.check, 50)\n        this.props.setConnectingToWS(true)\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.store.currentAccount !== this.props.store.currentAccount)\n            if (webSocket && webSocket.readyState === 1) {\n                webSocket.send(\n                    JSON.stringify({\n                        messageCode: 'currentAccount',\n                        id: this.props.store.currentAccount,\n                    })\n                )\n            }\n    }\n    // componentWillReceiveProps(nextProps) {\n    //     this.initializeRequestResources(nextProps)\n    // }\n    // componentDidUpdate() {\n    //     this.initializeRequestResources(this.props)\n    // }\n    initializeRequestResources = nextProps => {\n        const newRequestedResources = getListOfNeededResources(\n            nextProps,\n            this.state.notFoundResources\n        )\n        for (let group of listOfGroups) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !this.state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        this.setState(() => newRequestedResources)\n        clearInterval(this.reRequestResourcesInterval)\n        this.reRequestResourcesInterval = setInterval(\n            this.reRequestResources,\n            3000\n        )\n    }\n\n    static getDerivedStateFromProps(nextProps, state) {\n        const newRequestedResources = getListOfNeededResources(\n            nextProps,\n            state.notFoundResources\n        )\n        for (let group of listOfGroups) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        // clearInterval(this.reRequestResourcesInterval)\n        // this.reRequestResourcesInterval = setInterval(\n        //     this.reRequestResources,\n        //     3000\n        // )\n        return newRequestedResources\n    }\n    render() {\n        return null\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        store: state,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        removeData: data => dispatch(actions.removeData(data)),\n        saveResource: (data, type, newOnlineUsers) =>\n            dispatch(actions.saveResource(data, type, newOnlineUsers)),\n        setFriendsData: data => dispatch(actions.setFriendsData(data)),\n\n        updateResource: (code, id, update, state) =>\n            dispatch(actions.updateResource(code, id, update, state)),\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n        setConnectingToWS: data => dispatch(actions.setConnectingToWS(data)),\n\n        logout: () => dispatch(actions.logout()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ConnectWebsocket)\n)\n","import { webSocket } from '../ConnectWebsocket'\n\nexport default (type, ids, state) => {\n    const notRequestedIds = ids.filter(id => !state[type].includes(id))\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'requestResource',\n                ids: notRequestedIds,\n                type,\n            })\n        )\n    }\n}\n","import requestResource from '../../containers/ConnectWebsocket/methods/requestResource'\nimport * as actions from './index'\nimport cloneDeep from 'lodash.clonedeep'\n\nconst applyDelta = (source, delta, watchFields) => {\n    // console.log('---------------------------APLY DELTA------------------------')\n    // console.log('----------------source----------------')\n    // console.log(source)\n    // console.log('----------------delta-------------------')\n    // console.log(delta)\n    const result = cloneDeep(source)\n\n    const applyUpdateToPart = (res, del, watchFields) => {\n        const applyWithDot = (res, keys, del) => {\n            if (keys.length > 1) {\n                const key = keys.shift()\n                applyWithDot(res[key], keys, del)\n            } else {\n                if (typeof res === 'array') {\n                    res.push(del)\n                } else {\n                    res[keys[0]] = del\n                }\n            }\n        }\n        for (let attr in del) {\n            const keys = attr.split('.')\n            if (!watchFields || watchFields.includes(keys[0])) {\n                if (typeof del[attr] !== 'undefined') {\n                    applyWithDot(res, keys, del[attr])\n                }\n            }\n        }\n    }\n\n    applyUpdateToPart(result, delta.updatedFields, watchFields)\n\n    const applyDeleteToPart = (result, keys) => {\n        if (keys.length > 1) {\n            const key = keys.shift()\n            applyDeleteToPart(result[key], keys)\n        } else {\n            if (typeof result === 'object') {\n                delete result[keys[0]]\n            } else if (typeof result === 'array') {\n                result.splice(keys[0], 1)\n            }\n        }\n    }\n\n    for (let field of delta.removedFields) {\n        if (field.indexOf('.') > -1) {\n            const keys = field.split('.')\n            if (!watchFields || watchFields.includes(keys[0]))\n                applyDeleteToPart(result, keys)\n        } else {\n            delete result[field]\n        }\n    }\n    // console.log('--------------------------------result----------------')\n    // console.log(result)\n    return result\n}\n\nexport const updateResource = (code, id, update, parState) => (\n    dispatch,\n    getState\n) => {\n    if (update && id && code) {\n        const state = getState()\n        const check = key => {\n            if (state[key]._id === id) {\n                if (state[key].__v === update.updatedFields.__v - 1) {\n                    const element = applyDelta(state[key], update)\n                    dispatch(actions.setData({ [key]: element }))\n                } else {\n                    if (state[key].id) requestResource(code, [id], parState)\n                }\n            }\n        }\n        const check2 = (key, watchFields) => {\n            let updateData = {\n                [key]: cloneDeep(state[key]),\n            }\n            const friend = updateData[key][id]\n            if (friend) {\n                if (friend.__v === update.updatedFields.__v - 1) {\n                    updateData[key][id] = applyDelta(\n                        friend,\n                        update,\n                        watchFields\n                    )\n                    dispatch(actions.setData(updateData))\n                } else {\n                    requestResource(code, [id], parState)\n                }\n            }\n        }\n        switch (code) {\n            case 'user':\n                check('user')\n                break\n            case 'account':\n                check('account')\n                check('profile')\n                break\n            case 'progress':\n                check('progress')\n                break\n            case 'reward':\n                check('reward')\n                break\n            case 'activity':\n                check('activity')\n                break\n            case 'post':\n                dispatch(actions.setData(check2(code)))\n                break\n            case 'friendData':\n                dispatch(\n                    actions.setData(\n                        check2(code, ['name', 'image', 'notifications', '__v'])\n                    )\n                )\n                break\n            case 'progressData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'owner',\n                            'worker',\n                            'goal',\n                            'name',\n                            'notifications',\n                            'likes',\n                            'followingAccounts',\n                            'activities',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'rewardData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'name',\n                            'owner',\n                            'images',\n                            'likes',\n                            'followingAccounts',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'activityData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'name',\n                            'owner',\n                            'images',\n                            'likes',\n                            'stages',\n                            'followingAccounts',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'postData':\n                dispatch(\n                    actions.setData(check2(code, ['notifications', '__v']))\n                )\n                break\n\n            case 'transactionData':\n                dispatch(actions.setData(check2(code)))\n                break\n            default:\n                break\n        }\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const sendMessage = (\n    accountId,\n    postId,\n    messageValue,\n    image,\n    replyToMessage,\n    editedMessage\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'sendMessage',\n                messageValue,\n                image,\n                postId,\n                accountId,\n                replyToMessage,\n                editedMessage,\n            })\n        )\n    }\n}\n\nexport const changeLikesMessage = (\n    messageCode,\n    messageId,\n    accountId,\n    postId\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode,\n                messageId,\n                accountId,\n                postId,\n            })\n        )\n    }\n}\n\nexport const addPost = (\n    accountId,\n    parentId,\n    parentType,\n    messageValue,\n    images\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addPost',\n                accountId,\n                parentId,\n                parentType,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n\nexport const editPost = (accountId, postId, messageValue, images) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editPost',\n                accountId,\n                postId,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n\nexport const deletePost = (accountId, postId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deletePost',\n                accountId,\n                postId,\n            })\n        )\n    }\n}\n\nexport const deleteMessage = (accountId, postId, messageId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteMessage',\n                accountId,\n                postId,\n                messageId,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const deleteAccount = id => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteAccount',\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const editAccount = (value, id) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editAccount',\n                name: value.name,\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const followResource = (accountId, resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followResource',\n                accountId,\n                resourceId,\n                type,\n            })\n        )\n    }\n}\nexport const unfollowResource = (accountId, resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowResource',\n                accountId,\n                resourceId,\n                type,\n            })\n        )\n    }\n}\nexport const changeLikesResource = (accountId, resourceId, add, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesResource',\n                accountId,\n                resourceId,\n                add,\n                type,\n            })\n        )\n    }\n}\n\nexport const followAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\nexport const unfollowAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\n\nexport const addRecent = (accountId, resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRecent',\n                accountId,\n                resourceId,\n                type,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const searchFriends = search => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'searchFriends',\n                search,\n            })\n        )\n    }\n}\n\nexport const addFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const acceptFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'acceptFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const unfriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const shareWithFriends = (accountId, url, friends, item) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'shareWithFriends',\n                accountId,\n                url,\n                friends,\n                item,\n            })\n        )\n    }\n}\n","import { Box } from '@material-ui/core'\nimport React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nexport const placeholderImages = [\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg',\n]\nexport const getPH = id => {\n    if (!id) return 0\n    const makeRand = x => {\n        x = Math.abs(x)\n        while (x > 1) x = x / 10\n        return x\n    }\n    const matches = id.match(/\\d+$/)\n    const imagePH = matches && matches.length > 0 ? parseInt(matches[0]) : 0\n    return Math.abs(\n        Math.round(makeRand(imagePH) * (placeholderImages.length - 1))\n    )\n}\nexport default withRouter(props => {\n    const images = props.images || []\n\n    const picture = !props.friends ? (\n        <img\n            style={{\n                maxWidth: '100%',\n                margin: 'auto',\n                display: 'block',\n                borderRadius: '15px',\n                boxShadow:\n                    '0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)',\n                ...props.style,\n            }}\n            src={\n                images.length > 0\n                    ? images[0]\n                    : placeholderImages[getPH(props.id)]\n            }\n        />\n    ) : null\n\n    return props.noLink ? (\n        <>\n            {picture}\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Box style={{ flex: 1 }}>{props.body}</Box>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    ) : (\n        <>\n            <Link to={props.onClickLink} style={{ cursor: 'pointer' }}>\n                {picture}\n            </Link>\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Link\n                    to={props.onClickLink}\n                    style={{ cursor: 'pointer', flex: 1 }}\n                >\n                    {props.body}\n                </Link>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    )\n})\n","import {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nexport default props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={props.open}\n            onClose={props.close}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.close}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {props.title}\n                    </Typography>\n                    {props.save && (\n                        <Button autoFocus color=\"inherit\" onClick={props.save}>\n                            {props.saveText || t('g.save')}\n                        </Button>\n                    )}\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n            {props.children}\n        </Dialog>\n    )\n}\n","export default (nickname, version) => {\n    if (!nickname) return ''\n    else {\n        return (\n            'https://websiter.s3.us-east-2.amazonaws.com/' +\n            nickname +\n            '/avatar?v=' +\n            (version || 0)\n        )\n    }\n}\n","import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport Avatar from 'antd/es/avatar'\nimport getAvatar from '../../utils/getAvatar'\nimport { Typography } from '@material-ui/core'\nimport Badge from 'antd/es/badge'\n\nconst UserButton = props => {\n    const { account, profile, id, friendSearchResult, onlineUsers } = props\n    const friendData = props.friendDataExp || props.friendData\n    const getUserData = id =>\n        id === account._id\n            ? account\n            : id === profile._id\n            ? profile\n            : id === friendSearchResult._id\n            ? friendSearchResult\n            : friendData[id]\n    const userName = id => {\n        const text = getUserData(id) ? getUserData(id).name : id\n        return props.typography ? <Typography noWrap>{text}</Typography> : text\n    }\n    const userAvatar = id => {\n        const ava = getUserData(id) ? (\n            <Avatar\n                src={getAvatar(id, getUserData(id).image)}\n                size={props.size || (props.noClick ? 20 : 40)}\n                style={props.group || props.noName ? {} : { margin: ' 0 5px' }}\n            />\n        ) : null\n        return getUserData(id) ? (\n            onlineUsers.includes(id) ? (\n                <span key={id}>\n                    <Badge color=\"green\">{ava}</Badge>\n                </span>\n            ) : (\n                <span key={id}>{ava}</span>\n            )\n        ) : null\n    }\n\n    return props.onlyName ? (\n        userName(id)\n    ) : props.group ? (\n        <span onClick={e => e.stopPropagation()}>\n            <Avatar.Group style={{ margin: ' 0 5px' }}>\n                {props.ids.map(id => userAvatar(id))}\n            </Avatar.Group>\n        </span>\n    ) : props.noClick ? (\n        <>\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </>\n    ) : props.span ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n                // display: 'flex',\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : props.inline ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : (\n        <Link\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            <Button\n                type=\"link\"\n                style={{ padding: '0px 5px', height: 'auto', ...props.style }}\n            >\n                {!props.noAva && userAvatar(id)}\n\n                {!props.noName && userName(id)}\n            </Button>\n        </Link>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        profile: state.profile,\n        friendData: state.friendData,\n        friendSearchResult: state.friendSearchResult,\n        onlineUsers: state.onlineUsers,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(UserButton))\n","import axios from 'axios'\nimport processRes from './processRes'\nexport default (props, data, setData, options, callback) => {\n    // if (typeof props.isAuthed === 'undefined') return\n    // options = {\n    //     forceAuth: true,\n    //     forceActivate: true,\n    //     pullData: true,\n    //     ...(options || {}),\n    // }\n\n    // if (!props.isAuthed) {\n    //     props.tryAuth(props, options.forceAuth)\n    // }\n\n    // if (options.pullData) {\n    axios\n        .get('/api' + props.history.location.pathname)\n        .then(res => {\n            processRes(res, props)\n            // if (options.forceActivate) {\n            //     if (props.isAuthed && res.data.status === 'no account') {\n            //         props.history.push('/activate-account')\n            //     }\n            // }\n\n            setData(res.data)\n            callback(res.data)\n        })\n        .catch(err => {})\n    // }\n}\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Cookies from 'universal-cookie'\nimport classes from './LoginModal.module.css'\nimport {\n    FacebookLoginButton,\n    GithubLoginButton,\n    GoogleLoginButton,\n    InstagramLoginButton,\n} from 'react-social-login-buttons'\nimport {\n    Button,\n    Checkbox,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Divider,\n    FormControlLabel,\n    Slide,\n} from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst cookies = new Cookies()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst LoginModal = props => {\n    const { t } = useTranslation()\n    const [state, setState] = useState(false)\n    const [cookieConsent, setCookieConsent] = useState(false)\n\n    useEffect(() => {\n        checkCookieConsent()\n    })\n\n    let remeberMeParam = '?rememberme=false'\n    if (state) {\n        remeberMeParam = '?rememberme=true'\n    }\n\n    const checkCookieConsent = () => {\n        const cookiesConsent = cookies.get('cookies_consent')\n        if (cookiesConsent) {\n            setCookieConsent(true)\n        }\n    }\n\n    const agreeWithCookies = () => {\n        cookies.set('cookies_consent', 'true', {\n            path: '/',\n            maxAge: 31530000,\n        })\n        checkCookieConsent()\n    }\n    const basicURL =\n        process.env.NODE_ENV !== 'development'\n            ? 'https://addspire.com/api/auth/'\n            : 'http://my.websiter.test:5000/api/auth/'\n    return props.loginVisible ? (\n        !cookieConsent ? (\n            <Dialog open={!cookieConsent}>\n                <DialogTitle>{'Cookies consent'}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {t('login.cookieText')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => {\n                            props.setLoginVisible(false)\n                            setCookieConsent(false)\n                        }}\n                    >\n                        {t('g.disagree')}\n                    </Button>\n                    <Button\n                        onClick={agreeWithCookies}\n                        color=\"primary\"\n                        autoFocus\n                    >\n                        {t('g.agree')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        ) : (\n            <Dialog\n                fullScreen\n                open={props.loginVisible}\n                onClose={() => props.setLoginVisible(false)}\n                TransitionComponent={TransitionComponent}\n            >\n                <div className=\"contentDiv\">\n                    <div\n                        className={classes.Container}\n                        style={{\n                            maxWidth: '500px',\n                            margin: '0 auto',\n                        }}\n                    >\n                        <h1\n                            style={{\n                                fontWeight: 'bold',\n                                lineHeight: '1.3em',\n                                marginBottom: 0,\n                                fontSize: '2.5em',\n                            }}\n                        >\n                            {t('login.welcome')}\n                        </h1>\n                        <div\n                            className={classes.socialButtons}\n                            style={{ marginBottom: '30px' }}\n                        >\n                            <FacebookLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `facebook/start${remeberMeParam}`)\n                                }\n                            />\n                            <GoogleLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `google/start${remeberMeParam}`)\n                                }\n                            />\n                            <InstagramLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `instagram/start${remeberMeParam}`)\n                                }\n                            />\n                            <GithubLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `github/start${remeberMeParam}`)\n                                }\n                            />\n                        </div>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={state}\n                                    onChange={() => setState(!state)}\n                                    color=\"primary\"\n                                />\n                            }\n                            label={t('login.rememberMe')}\n                        />\n\n                        <Divider style={{ margin: '20px' }} />\n\n                        <Button\n                            onClick={() => props.setLoginVisible(false)}\n                            color=\"secondary\"\n                        >\n                            {t('login.loginLater')}\n                        </Button>\n                    </div>\n                    <div className={classes.Background} />\n                </div>\n            </Dialog>\n        )\n    ) : null\n}\n\nexport default withRouter(LoginModal)\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../websocketActions'\n\nimport { IconButton, Menu, MenuItem, Button, Box } from '@material-ui/core'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst FriendActionButton = props => {\n    const { t } = useTranslation()\n    const [anchorEl, setAnchorEl] = useState(null)\n    const { invitingFriends, invitedFriends, realFriends, _id, account } = props\n    const accountId = account ? account._id : ''\n    if (!accountId) return null\n    const handleClose = () => {\n        setAnchorEl(null)\n    }\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    if (accountId === _id)\n        return props.additionalButtons ? (\n            <>\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n                <Menu\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={handleClose}\n                >\n                    {props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick()\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                </Menu>\n            </>\n        ) : null\n\n    return (\n        <>\n            {props.minimized ? (\n                props.asText ? (\n                    <Button\n                        onClick={e => handleClick(e)}\n                        variant=\"contained\"\n                        color=\"primary\"\n                    >\n                        {t('g.actions')}\n                    </Button>\n                ) : (\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                )\n            ) : invitingFriends.find(item => item.friend === _id) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.acceptFriend(accountId, _id)\n                        }}\n                    >\n                        {t('g.acceptFriendship')}\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : ![...realFriends, ...invitingFriends, ...invitedFriends].find(\n                  item => item.friend === _id\n              ) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.addFriend(accountId, _id)\n                        }}\n                    >\n                        {t('g.becomeFriends')}\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : props.asText ? (\n                <Button\n                    onClick={e => handleClick(e)}\n                    variant=\"contained\"\n                    color=\"primary\"\n                >\n                    {t('g.actions')}\n                </Button>\n            ) : (\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n            )}\n            <Menu\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                {props.minimized &&\n                    invitingFriends.find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.acceptFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            {t('g.acceptFriendship')}\n                        </MenuItem>\n                    )}\n                {props.minimized &&\n                    ![\n                        ...realFriends,\n                        ...invitingFriends,\n                        ...invitedFriends,\n                    ].find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.addFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            {t('g.becomeFriends')}\n                        </MenuItem>\n                    )}\n                {props.additionalButtons &&\n                    props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                {invitingFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"2\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.decline')}\n                    </MenuItem>\n                ) : invitedFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"3\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.cancelInvitation')}\n                    </MenuItem>\n                ) : realFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"4\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.unfriend')}\n                    </MenuItem>\n                ) : null}\n                {props.noFollow ? null : account.followAccounts.includes(\n                      _id\n                  ) ? (\n                    <MenuItem\n                        key=\"5\"\n                        onClick={() => {\n                            wsActions.unfollowAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.unfollow')}\n                    </MenuItem>\n                ) : (\n                    <MenuItem\n                        key=\"6\"\n                        onClick={() => {\n                            wsActions.followAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.follow')}\n                    </MenuItem>\n                )}\n            </Menu>\n        </>\n    )\n}\n\nexport default FriendActionButton\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../store/actions'\nimport { withRouter } from 'react-router-dom'\n\nimport FriendActionButton from './FriendActionButton'\nimport UserButton from './UserButton/UserButton'\nimport MasonryCard from './MasonryCard'\nimport { useTranslation } from 'react-i18next'\n\nconst FriendCard = props => {\n    const { t } = useTranslation()\n    return (\n        <MasonryCard\n            friends={true}\n            noLink={true}\n            actions={\n                <FriendActionButton\n                    account={props.account}\n                    realFriends={props.realFriends}\n                    invitedFriends={props.invitedFriends}\n                    invitingFriends={props.invitingFriends}\n                    _id={props.friend._id}\n                    additionalButtons={[\n                        {\n                            title: t('g.seeProfile'),\n                            onClick: () =>\n                                props.history.push(\n                                    '/profile/' + props.friend._id\n                                ),\n                        },\n                    ]}\n                    asIcons={true}\n                />\n            }\n            body={<UserButton span={true} id={props.friend._id} size={50} />}\n        />\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(FriendCard)\n)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport FriendCard from '../../components/FriendCard'\nimport {\n    Container,\n    createStyles,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Typography,\n} from '@material-ui/core'\nimport { SearchOutlined } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n            margin: '30px auto',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n            margin: 'auto',\n        },\n        iconButton: {\n            padding: 10,\n        },\n    })\n)\nconst AddFriends = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    useEffect(() => {\n        props.setFriendSearchResult({})\n        setSearchField('')\n    }, [props.open])\n    const [searchField, setSearchField] = useState('')\n    const { account, friendData, searchResult } = props\n\n    if (!account._id) return null\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n\n    if (account.friends) {\n        for (let friend of account.friends) {\n            const fullFriend = { ...friendData[friend.friend], ...friend }\n            if (fullFriend) {\n                if (fullFriend.status === 'friend') realFriends.push(fullFriend)\n                else if (fullFriend.status === 'invited')\n                    invitedFriends.push(fullFriend)\n                else if (fullFriend.status === 'inviting')\n                    invitingFriends.push(fullFriend)\n            }\n        }\n    }\n\n    return (\n        <Container style={{ paddingTop: '20px', maxWidth: '800px' }}>\n            <Typography variant=\"body2\" align=\"center\">\n                {t('friends.instructions')}\n            </Typography>\n            <Paper className={classes.root}>\n                <InputBase\n                    className={classes.input}\n                    placeholder={t('friends.searchFriends')}\n                    onChange={e => setSearchField(e.target.value)}\n                />\n                <IconButton\n                    className={classes.iconButton}\n                    onClick={() => wsActions.searchFriends(searchField)}\n                >\n                    <SearchOutlined />\n                </IconButton>\n            </Paper>\n            {searchResult.length > 0 &&\n                searchResult.map(friend => (\n                    <FriendCard\n                        {...props}\n                        friend={friend}\n                        realFriends={realFriends}\n                        invitingFriends={invitingFriends}\n                        invitedFriends={invitedFriends}\n                    />\n                ))}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        searchResult: state.friendSearchResult,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AddFriends)\n","import { Menu, MenuItem, Tooltip, Button } from '@material-ui/core'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport LanguageIcon from '@material-ui/icons/Language'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { connect } from 'react-redux'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        language: {\n            margin: theme.spacing(0, 0.5, 0, 1),\n        },\n        languageText: {\n            display: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'block',\n            },\n        },\n        languageIcon: {\n            display: 'block',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n    })\n)\nconst LanguageSwitcher = props => {\n    const { currentLanguage } = props\n    const { i18n, t } = useTranslation()\n    const classes = useStyles()\n\n    const [languageMenu, setLanguageMenu] = useState(null)\n    const handleLanguageIconClick = event => {\n        setLanguageMenu(event.currentTarget)\n    }\n    const handleLanguageMenuClose = code => {\n        if (code) i18n.changeLanguage(code)\n        setLanguageMenu(null)\n    }\n    const LANGUAGES_LABEL = [\n        { code: 'en', text: 'English' },\n        { code: 'ru', text: '' },\n    ]\n\n    return (\n        <>\n            <Tooltip title={t('changeLanguage')} enterDelay={300}>\n                <Button\n                    color=\"inherit\"\n                    aria-owns={languageMenu ? 'language-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={handleLanguageIconClick}\n                    data-ga-event-category=\"header\"\n                    data-ga-event-action=\"language\"\n                >\n                    <LanguageIcon className={classes.languageIcon} />\n                    <span\n                        className={\n                            props.settings\n                                ? classes.language\n                                : [classes.language, classes.languageText].join(\n                                      ' '\n                                  )\n                        }\n                    >\n                        {LANGUAGES_LABEL.filter(\n                            language => language.code === currentLanguage\n                        ).length > 0\n                            ? LANGUAGES_LABEL.filter(\n                                  language => language.code === currentLanguage\n                              )[0].text\n                            : LANGUAGES_LABEL[0].text}\n                    </span>\n                    <ExpandMoreIcon fontSize=\"small\" />\n                </Button>\n            </Tooltip>\n\n            <Menu\n                id=\"language-menu\"\n                anchorEl={languageMenu}\n                open={Boolean(languageMenu)}\n                onClose={() => handleLanguageMenuClose()}\n            >\n                {LANGUAGES_LABEL.map(language => (\n                    <MenuItem\n                        component=\"a\"\n                        data-no-link=\"true\"\n                        key={language.code}\n                        selected={i18n.language === language.code}\n                        onClick={() => handleLanguageMenuClose(language.code)}\n                    >\n                        {language.text}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentLanguage: state.language,\n    }\n}\n\nexport default connect(mapStateToProps)(LanguageSwitcher)\n","export default {\n    name: 200,\n    description: 10000,\n    message: 10000,\n}\n","import fieldLength from './fieldLength'\nimport i18n from '../translations/i18n'\n\nexport const nicknameRules = [\n    {\n        required: true,\n        message: i18n.t('rules.nicknameShort'),\n        whitespace: true,\n        min: 2,\n    },\n    {\n        message: `${i18n.t('rules.nicknameLong')} ${fieldLength.name}.`,\n        whitespace: true,\n        max: fieldLength.name,\n    },\n    {\n        pattern: /^[a-zA-Z0-9_-]*$/,\n        message: i18n.t('rules.nicknameType'),\n    },\n]\n\nexport const nameRules = [\n    {\n        required: true,\n        min: 1,\n        whitespace: true,\n        message: i18n.t('rules.nameShort'),\n    },\n    {\n        max: fieldLength.name,\n        message: `${i18n.t('rules.nameLong')} ${fieldLength.name}.`,\n    },\n]\n\nexport const accountNameRules = [\n    {\n        required: true,\n        min: 2,\n        whitespace: true,\n        message: i18n.t('rules.accNameShort'),\n    },\n    {\n        max: fieldLength.name,\n        message: `${i18n.t('rules.accNameLong')} ${fieldLength.name}.`,\n    },\n]\n\nexport const descriptionRules = [\n    {\n        max: fieldLength.description,\n        message: `${i18n.t('rules.descLong')} ${fieldLength.description}.`,\n    },\n]\n\nexport const messageRules = [\n    {\n        min: 1,\n        whitespace: true,\n        message: i18n.t('rules.messageShort'),\n    },\n    {\n        max: fieldLength.message,\n        message: `${i18n.t('rules.messageLong')} ${fieldLength.message}.`,\n    },\n]\n","import React from 'react'\n\nimport Select from 'antd/es/select'\nimport UserButton from '../UserButton/UserButton'\nimport { useTranslation } from 'react-i18next'\nimport { connect } from 'react-redux'\n\nconst ConnectionsSelect = props => {\n    const { t } = useTranslation()\n    const { account, friendData } = props\n    return account._id && friendData ? (\n        <Select\n            mode=\"multiple\"\n            style={{ width: '100%' }}\n            placeholder={t('g.pleaseSelect')}\n            value={props.value}\n            onChange={props.onChange}\n            getPopupContainer={trigger => trigger.parentNode}\n        >\n            {[\n                props.account,\n                ...props.account.friends\n                    .filter(friend => friend.status === 'friend')\n                    .map(friend => props.friendData[friend.friend]),\n            ].map(\n                item =>\n                    item &&\n                    item._id && (\n                        <Select.Option key={item._id}>\n                            <UserButton id={item._id} noClick={true} />\n                        </Select.Option>\n                    )\n            )}\n        </Select>\n    ) : (\n        <span>Please login to share with your Addspire friends.</span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n    }\n}\n\nexport default connect(mapStateToProps)(ConnectionsSelect)\n","import React, { Component } from 'react'\nimport { withLeaflet } from 'react-leaflet'\nimport Locate from 'leaflet.locatecontrol'\nimport 'leaflet.locatecontrol/dist/L.Control.Locate.min.css'\nimport { withTranslation } from 'react-i18next'\n\nclass LocateControl extends Component {\n    componentDidMount() {\n        const { map } = this.props.leaflet\n\n        const lc = new Locate({\n            position: 'topleft',\n            strings: {\n                title: this.props.t('explore.myLocation'),\n            },\n            onActivate: () => {}, // callback before engine starts retrieving locations\n            drawCircle: false,\n            keepCurrentZoomLevel: true,\n            setView: this.props.setView === 'no' ? false : 'untilPanOrZoom',\n        })\n        lc.addTo(map)\n\n        lc.start()\n    }\n\n    render() {\n        return null\n    }\n}\n\nexport default withLeaflet(withTranslation()(LocateControl))\n","import message from 'antd/es/message'\nimport axios from 'axios'\n\nexport const uploadFile = (file, size, filename, callback) => {\n    if (file == null) {\n        return alert('No file selected.')\n    }\n\n    const reader = new FileReader()\n    reader.onload = async event => {\n        resizeImageToSpecificSize(file, { width: size, height: size }, data => {\n            if (!data) {\n                callback()\n            } else {\n                urltoFile(data, '/120').then(function(file) {\n                    getSignedRequest(file, filename, callback)\n                })\n            }\n        })\n    }\n\n    reader.readAsArrayBuffer(file)\n}\n\nconst urltoFile = (url, filename, mimeType) => {\n    mimeType = mimeType || (url.match(/^data:([^;]+);/) || '')[1]\n    return fetch(url)\n        .then(function(res) {\n            return res.arrayBuffer()\n        })\n        .then(function(buf) {\n            return new File([buf], filename, { type: 'image/jpeg' })\n        })\n}\n\nconst resizeImageToSpecificSize = (file, size, cb) => {\n    if (file) {\n        var reader = new FileReader()\n        reader.onload = function(event) {\n            resizeImageFromSrcToSpecificSize(event.target.result, size, cb)\n        }\n        reader.readAsDataURL(file)\n    }\n}\n\nconst resizeImageFromSrcToSpecificSize = (src, size, cb) => {\n    try {\n        var data\n        var img = new Image()\n        img.onload = function() {\n            const widthCoef = img.width / size.width\n            const heightCoef = img.height / size.height\n            var oc = document.createElement('canvas'),\n                octx = oc.getContext('2d')\n            oc.width = img.width\n            oc.height = img.height\n            octx.drawImage(img, 0, 0)\n            if (widthCoef > 1 || heightCoef > 1) {\n                if (img.width > img.height) {\n                    oc.height = (img.height / img.width) * size.width\n                    oc.width = size.width\n                } else {\n                    oc.width = (img.width / img.height) * size.width\n                    oc.height = size.width\n                }\n            }\n            octx.drawImage(oc, 0, 0, oc.width, oc.height)\n            octx.drawImage(img, 0, 0, oc.width, oc.height)\n            data = oc.toDataURL('image/jpeg', 0.6)\n            cb(data)\n        }\n        img.onerror = () => {\n            cb()\n        }\n        img.src = src\n    } catch {}\n}\n\nconst getSignedRequest = (file, fileName, callback) => {\n    return axios\n        .post('/api/sign-s3', {\n            fileName,\n        })\n        .then(response => {\n            doUploadFile(file, response.data, callback)\n        })\n        .catch(err => {})\n}\n\nconst doUploadFile = (file, data, callback) => {\n    return axios\n        .put(data.signedRequest, file, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        })\n        .then(response => {\n            callback(data.url)\n            message.success('The image has been saved.')\n        })\n        .catch(err => {})\n}\n","import Upload from 'antd/es/upload'\nimport React, { useState, useEffect } from 'react'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport { uploadFile } from '../../utils/uploadFile'\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst ImagePickerMulti = props => {\n    const { t } = useTranslation()\n    const [images, setImages] = useState(props.images || [])\n    const [previewImage, setPreviewImage] = useState()\n\n    useEffect(() => {\n        props.onValueChange(images)\n    }, [images])\n\n    return (\n        <>\n            <Upload\n                accept=\"image/*\"\n                listType=\"picture-card\"\n                fileList={images.map((image, index) => ({\n                    url: image,\n                    uid: index,\n                }))}\n                onPreview={file => {\n                    setPreviewImage(file.url)\n                }}\n                onChange={({ fileList }) =>\n                    setImages(fileList.map(item => item.url))\n                }\n                customRequest={({ file }) => {\n                    uploadFile(file, 800, undefined, url => {\n                        if (!url) {\n                            setImages([...images])\n                        } else {\n                            setImages([...images, url])\n                        }\n                    })\n                }}\n            >\n                {images.length >= 8 ? null : (\n                    <div\n                        style={{\n                            flex: 1,\n                            display: 'flex',\n                            height: '100%',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            flexDirection: 'column',\n                        }}\n                        onClick={e => {\n                            if (window.isRNWebView) {\n                                e.stopPropagation()\n                                window.ReactNativeWebView.postMessage(\n                                    'uploadFile'\n                                )\n                                window.callback = url => {\n                                    setImages([...images, url])\n                                }\n                            }\n                        }}\n                    >\n                        <PlusOutlined />\n                        <div className=\"ant-upload-text\">{t('g.upload')}</div>\n                    </div>\n                )}\n            </Upload>\n            <Dialog\n                open={Boolean(previewImage)}\n                onClose={() => setPreviewImage()}\n            >\n                <DialogTitle id=\"scroll-dialog-title\">\n                    {t('g.previewImage')}\n                </DialogTitle>\n                <DialogContent dividers={true}>\n                    <img src={previewImage} style={{ width: '100%' }} />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setPreviewImage()} color=\"primary\">\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n\nexport default ImagePickerMulti\n","export default [\n    'animals',\n    'building',\n    'cars',\n    'diy',\n    'design',\n    'education',\n    'entertainment',\n    'food',\n    'gardening',\n    'health',\n    'sport',\n    'home',\n    'kids',\n    'fashion',\n    'nature',\n    'travel',\n    'other',\n]\n","import { Chip } from '@material-ui/core'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport goalCategories from '../../constants/goalCategories'\nconst GoalCategories = props => {\n    const { t } = useTranslation()\n    const handleClick = category => {\n        let value = props.value ? [...props.value] : []\n        if (value.includes(category))\n            props.onChange(value.filter(item => item !== category))\n        else {\n            if (!props.nolim) while (value.length > 4) value.pop()\n            props.onChange([...value, category])\n        }\n    }\n    return (\n        <>\n            {goalCategories.map(category => (\n                <Chip\n                    label={t('g.' + category)}\n                    onClick={() => handleClick(category)}\n                    color={\n                        props.value && props.value.includes(category)\n                            ? 'primary'\n                            : 'default'\n                    }\n                    style={{ margin: '5px' }}\n                />\n            ))}\n        </>\n    )\n}\n\nexport default GoalCategories\n","import React, { useRef, useState, useEffect } from 'react'\n\nimport Form from 'antd/es/form'\n\nimport { nameRules } from '../../constants/fieldRules'\nimport ConnectionsSelect from './ConnectionsSelect'\nimport Select from 'antd/es/select'\nimport { Map, Marker, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport * as wsActions from '../../websocketActions'\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from '../../containers/Explore/LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport {\n    AppBar,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Input,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport TinyEditor from '../UI/TinyEditor'\nimport { useTranslation } from 'react-i18next'\nimport GoalCategories from './GoalCategories'\nconst { Option } = Select\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst EditResource = props => {\n    const { t } = useTranslation()\n    const map = useRef(null)\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch({\n                useMapBounds: false,\n                placeholder: t('g.mapPlaceholder'),\n                title: t('g.mapTitle'),\n            }).addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    const { resource, account, type } = props\n\n    const defPos = [40.689078, -74.044526]\n    const [position, setPosition] = useState(\n        resource && resource.position && resource.position.coordinates\n            ? [\n                  resource.position.coordinates[1],\n                  resource.position.coordinates[0],\n              ]\n            : defPos\n    )\n    const [initialPosition, setInitialPosition] = useState(position)\n\n    const [descriptionPlain, setDescriptionPlain] = useState(\n        resource && resource.descriptionText\n    )\n\n    const onFinish = value => {\n        wsActions.saveResource(\n            account._id,\n            {\n                ...value,\n                descriptionText: descriptionPlain,\n                position: {\n                    type: 'Point',\n                    coordinates: [position[1], position[0]],\n                },\n                _id: resource && resource._id,\n            },\n            type\n        )\n\n        props.cancel()\n    }\n\n    const layout = {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 20 },\n    }\n\n    const [form] = Form.useForm()\n\n    const mapDragEnd = e => {\n        const latlng = e.target.getLatLng()\n        setPosition([latlng.lat, latlng.lng])\n        form.setFieldsValue({ nomap: false })\n    }\n    const mapClick = e => {\n        setPosition([e.latlng.lat, e.latlng.lng])\n        form.setFieldsValue({ nomap: false })\n    }\n    const classes = useStyles()\n\n    return !props.goalId || resource ? (\n        <>\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.cancel}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {t(\n                            'g.' +\n                                (resource ? 'edit' : 'add') +\n                                type.charAt(0).toUpperCase() +\n                                type.slice(1)\n                        )}\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => form.submit()}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Form\n                style={{\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    padding: '15px',\n                    width: '100%',\n                }}\n                form={form}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={\n                    resource || {\n                        name: t(\n                            'g.new' +\n                                type.charAt(0).toUpperCase() +\n                                type.slice(1)\n                        ),\n                        repeat: 'no',\n                        days: ['0'],\n                        nomap: false,\n                        users: [account._id],\n                    }\n                }\n                {...layout}\n                onValuesChange={(changedFields, allValues) => {\n                    allValues.days &&\n                        form.setFieldsValue({\n                            days: [...allValues.days].sort(),\n                        })\n                }}\n            >\n                <Form.Item\n                    name=\"images\"\n                    label={t('g.images')}\n                    valuePropName=\"images\"\n                    trigger=\"onValueChange\"\n                >\n                    <ImagePickerMulti />\n                </Form.Item>\n                <Form.Item\n                    label={t('g.name')}\n                    name=\"name\"\n                    rules={nameRules}\n                    getValueFromEvent={event => event.target.value}\n                >\n                    <Input fullWidth={true} />\n                </Form.Item>\n                <Form.Item\n                    label={t('g.desc')}\n                    name=\"description\"\n                    // rules={descriptionRules}\n                    trigger=\"onEditorChange\"\n                >\n                    <TinyEditor\n                        onEditorChangePlain={value =>\n                            setDescriptionPlain(value)\n                        }\n                    />\n                </Form.Item>\n                <Form.Item label={t('g.categories')} name=\"category\">\n                    <GoalCategories />\n                </Form.Item>\n\n                {type === 'activity' && (\n                    <>\n                        <Form.Item label={t('progress.achievers')} name=\"users\">\n                            <ConnectionsSelect />\n                        </Form.Item>\n                        <Form.Item label={t('g.repeats')} name=\"repeat\">\n                            <Select\n                                getPopupContainer={trigger =>\n                                    trigger.parentNode\n                                }\n                            >\n                                <Option value=\"no\">{t('g.noRepeat')}</Option>\n                                <Option value=\"day\">{t('g.everyDay')}</Option>\n                                <Option value=\"weekday\">\n                                    {t('g.everyDayOfWeek')}\n                                </Option>\n                                <Option value=\"week\">{t('g.everyWeek')}</Option>\n                                <Option value=\"month\">\n                                    {t('g.everyMonth')}\n                                </Option>\n                                <Option value=\"year\">{t('g.everyYear')}</Option>\n                            </Select>\n                        </Form.Item>\n                        <Form.Item\n                            noStyle\n                            shouldUpdate={(prevValues, currentValues) =>\n                                prevValues.repeat !== currentValues.repeat\n                            }\n                        >\n                            {({ getFieldValue }) => {\n                                return getFieldValue('repeat') === 'weekday' ? (\n                                    <Form.Item label=\"Days of week\" name=\"days\">\n                                        <Select\n                                            mode=\"tags\"\n                                            getPopupContainer={trigger =>\n                                                trigger.parentNode\n                                            }\n                                        >\n                                            <Option value=\"0\">\n                                                {t('g.sunday')}\n                                            </Option>\n                                            <Option value=\"1\">\n                                                {t('g.monday')}\n                                            </Option>\n                                            <Option value=\"2\">\n                                                {t('g.tuesday')}\n                                            </Option>\n                                            <Option value=\"3\">\n                                                {t('g.wednesday')}\n                                            </Option>\n                                            <Option value=\"4\">\n                                                {t('g.thursday')}\n                                            </Option>\n                                            <Option value=\"5\">\n                                                {t('g.friday')}\n                                            </Option>\n                                            <Option value=\"6\">\n                                                {t('g.saturday')}\n                                            </Option>\n                                        </Select>\n                                    </Form.Item>\n                                ) : null\n                            }}\n                        </Form.Item>\n                    </>\n                )}\n\n                <Form.Item label={t('g.place')}>\n                    <div\n                        style={{\n                            position: 'relative',\n                            height: '300px',\n                        }}\n                    >\n                        <Map\n                            ref={map}\n                            center={initialPosition}\n                            zoom={11}\n                            onclick={mapClick}\n                            style={{\n                                width: '100%',\n                                height: '100%',\n                                position: 'relative',\n                                zIndex: 1,\n                            }}\n                            gestureHandling={true}\n                        >\n                            <LocateControl\n                                setView={\n                                    resource &&\n                                    resource.position &&\n                                    resource.position.coordinates\n                                        ? 'no'\n                                        : true\n                                }\n                            />\n                            <TileLayer\n                                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                            />\n                            <Marker\n                                position={position}\n                                draggable\n                                ondragend={mapDragEnd}\n                            />\n                        </Map>\n                    </div>\n                </Form.Item>\n                <div style={{ textAlign: 'right', marginTop: '50px' }}>\n                    <Button size=\"large\" onClick={() => props.cancel(false)}>\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </div>\n            </Form>\n        </>\n    ) : null\n}\nexport default EditResource\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const leaveProgress = data => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'leaveProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n            })\n        )\n    }\n}\n\nexport const saveResource = (accountId, value, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveResource',\n                accountId,\n                value,\n                type,\n            })\n        )\n    }\n}\n\nexport const leaveResource = (resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'leaveResource',\n                resourceId,\n                type,\n            })\n        )\n    }\n}\nexport const deleteResource = (resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteResource',\n                resourceId,\n                type,\n            })\n        )\n    }\n}\n","import React, { useState, useRef } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport getAvatar from '../../utils/getAvatar'\nimport LoginModal from './LoginModal'\nimport * as cll from './Layout.module.css'\n\nimport {\n    AppBar,\n    IconButton,\n    Slide,\n    Toolbar,\n    useScrollTrigger,\n    createStyles,\n    makeStyles,\n    Theme,\n    Container,\n    Badge,\n    Avatar,\n    LinearProgress,\n    Dialog,\n    useMediaQuery,\n    Box,\n    Paper,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport SpeedDial from '@material-ui/lab/SpeedDial'\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon'\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction'\nimport {\n    Book,\n    GifTwoTone,\n    HomeRounded,\n    Launch,\n    Notifications,\n    Person,\n    Star,\n} from '@material-ui/icons'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport AddFriends from '../../containers/Friends/AddFriends'\nimport LanguageSwitcher from '../LanguageSwitcher/LanguageSwitcher'\nimport { useTranslation } from 'react-i18next'\nimport EditResource from '../EditResource/EditResource'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        speedDial: {\n            right: '12px',\n            // bottom: theme.spacing(2),\n            bottom: '16px',\n            position: 'fixed',\n        },\n        logout: {\n            left: theme.spacing(2),\n            bottom: theme.spacing(2),\n            position: 'fixed',\n        },\n        login: {\n            right: '16px',\n            bottom: '16px',\n            position: 'fixed',\n        },\n        home: {\n            right: '16px',\n            bottom: '88px',\n            position: 'fixed',\n        },\n        avatar: {\n            border: '1px solid ' + theme.palette.primary.main,\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        blogLabel: {\n            margin: theme.spacing(0, 0.5, 0, 1),\n            display: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'inline',\n            },\n        },\n        blogIcon: {\n            display: 'inline',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n    })\n)\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst AccountLayout = props => {\n    const { t } = useTranslation()\n    const domRef = useRef()\n    const matches = useMediaQuery(theme => theme.breakpoints.up('sm'))\n    const { account, language } = props\n\n    const [loginVisible, setLoginVisible] = useState(false)\n    const [startResourceVisible, setStartResourceVisible] = useState('')\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n    const [speedDialOpen, setSpeedDialOpen] = useState(false)\n\n    const openLink = url => props.history.push(url)\n\n    const isActivating = props.history.location.pathname === '/activate-account'\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n    const logedIn = props.isAuthed && account._id\n\n    const classes = useStyles()\n    const scrollTrigger = !useScrollTrigger()\n    const checkPagePath = paths => {\n        for (let path of paths)\n            if (props.history.location.pathname.indexOf(path) === 0) return true\n    }\n    const removeGutters =\n        !matches && checkPagePath(['/goals', '/posts', '/profile', '/account'])\n    return props.hide ? (\n        props.children\n    ) : (\n        <>\n            <div\n                className={cll.Layout}\n                style={props.white ? { background: '#fff' } : {}}\n            >\n                <Slide appear={false} direction=\"down\" in={scrollTrigger}>\n                    <AppBar elevation={1} color=\"secondary\">\n                        {props.isConnectingWS && !logedIn && (\n                            <LinearProgress\n                                style={{\n                                    width: '100%',\n                                    position: 'absolute',\n                                    top: 0,\n                                    left: 0,\n                                }}\n                            />\n                        )}\n\n                        <Toolbar>\n                            <div\n                                tabIndex={0}\n                                ref={domRef}\n                                style={{ width: 0, height: 0 }}\n                            />\n                            {/* <div className={classes.MenuButtonContiner}>\n                                <IconButton\n                                    onClick={() => props.history.goBack()}\n                                >\n                                    <ArrowBack color=\"primary\" />\n                                </IconButton>\n                            </div> */}\n                            {(account._id && props.header) || (\n                                <Box style={{ display: 'flex', flex: 1 }}>\n                                    <Box style={{ display: 'flex', flex: 1 }}>\n                                        <Button component={Link} to={'/'}>\n                                            <img\n                                                style={{\n                                                    height: '100%',\n                                                    position: 'absolute',\n                                                    left: 0,\n                                                }}\n                                                src=\"/android-icon-36x36.png\"\n                                            />\n                                            <img\n                                                style={{\n                                                    height: '18px',\n                                                    visibility: 'hidden',\n                                                }}\n                                                src=\"/android-icon-36x36.png\"\n                                            />\n                                            <Typography\n                                                variant=\"button\"\n                                                className={classes.blogLabel}\n                                            >\n                                                Addspire\n                                            </Typography>\n                                        </Button>\n                                    </Box>\n                                    <Box style={{ display: 'flex' }}>\n                                        <LanguageSwitcher />\n\n                                        <Button\n                                            component={Link}\n                                            to={`/${\n                                                language !== 'en'\n                                                    ? language + '/'\n                                                    : ''\n                                            }blog`}\n                                            style={{ marginRight: '20px' }}\n                                        >\n                                            <Book\n                                                className={classes.blogIcon}\n                                            />\n                                            <span className={classes.blogLabel}>\n                                                {t('layout.blog')}\n                                            </span>\n                                        </Button>\n\n                                        {(logedIn && isActivating) ||\n                                        (!logedIn && props.isConnectingWS) ? (\n                                            <Button\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/logout'\n                                                    )\n                                                }\n                                            >\n                                                {t('g.logout')}\n                                            </Button>\n                                        ) : (\n                                            !account._id && (\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"primary\"\n                                                    // startIcon={<Person />}\n                                                    onClick={() =>\n                                                        setLoginVisible(true)\n                                                    }\n                                                >\n                                                    {t('layout.login')}\n                                                </Button>\n                                            )\n                                        )}\n                                    </Box>\n                                </Box>\n                            )}\n                        </Toolbar>\n                    </AppBar>\n                </Slide>\n                <Toolbar id=\"back-to-top-anchor\" />\n                <Container\n                    style={{ paddingTop: '20px', paddingBottom: '20px' }}\n                    disableGutters={Boolean(removeGutters)}\n                >\n                    {props.children}\n                </Container>\n\n                {/* <Toolbar\n                    style={{\n                        marginTop: '50px',\n                        background: '#eee',\n                        paddingTop: '22px',\n                        paddingBottom: '22px',\n                    }}\n                >\n                    <Box style={{ display: 'flex', flex: 1 }}>\n                        <Box\n                            style={{\n                                display: 'flex',\n                                flex: 1,\n                                justifyContent: 'center',\n                            }}\n                        >\n                            <Link\n                                to=\"/\"\n                                style={{\n                                    display: 'flex',\n                                    alignItems: 'baseline',\n                                }}\n                            >\n                                <img\n                                    style={{\n                                        height: '23px',\n                                    }}\n                                    src=\"/android-icon-36x36.png\"\n                                />\n                                <Typography variant=\"button\">\n                                    Addspire\n                                </Typography>\n                            </Link>\n                        </Box>\n                    </Box>\n                </Toolbar> */}\n\n                {logedIn && !isActivating && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial\"\n                        className={classes.speedDial}\n                        icon={<SpeedDialIcon />}\n                        onClose={(event, reason) => {\n                            if (reason !== 'mouseLeave') {\n                                domRef.current.focus()\n                                setSpeedDialOpen(false)\n                            }\n                        }}\n                        onOpen={(event, reason) =>\n                            reason === 'toggle' && setSpeedDialOpen(true)\n                        }\n                        open={speedDialOpen}\n                    >\n                        <SpeedDialAction\n                            icon={<Person />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addFriend')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setAddFriendOpen(true)\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Star />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addGoal')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartResourceVisible('goal')\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Launch />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addActivity')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartResourceVisible('activity')\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Star />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addReward')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartResourceVisible('reward')\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                    </SpeedDial>\n                )}\n                {(logedIn || !props.isConnectingWS) &&\n                    (isActivating && 'Activate your account')}\n\n                <Slide appear={false} direction=\"up\" in={!useScrollTrigger()}>\n                    <Box\n                        style={{\n                            position: 'fixed',\n                            bottom: '12px',\n                            width: '100%',\n                        }}\n                    >\n                        {logedIn && !isActivating && (\n                            <Box\n                                style={{\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                }}\n                            >\n                                <Paper\n                                    elevation={3}\n                                    style={{ borderRadius: '37px' }}\n                                >\n                                    <IconButton\n                                        onClick={() => openLink('/')}\n                                        color={\n                                            props.history.location.pathname ===\n                                            '/'\n                                                ? 'primary'\n                                                : 'default'\n                                        }\n                                    >\n                                        <HomeRounded fontSize=\"large\" />\n                                    </IconButton>\n                                    <IconButton\n                                        onClick={() => openLink('/posts')}\n                                        color={\n                                            props.history.location.pathname ===\n                                            '/posts'\n                                                ? 'primary'\n                                                : 'default'\n                                        }\n                                    >\n                                        <Badge\n                                            badgeContent={numberOfUnseenNots}\n                                            color=\"secondary\"\n                                        >\n                                            <Notifications fontSize=\"large\" />\n                                        </Badge>\n                                    </IconButton>\n                                    <IconButton\n                                        onClick={() =>\n                                            openLink('/profile/' + account._id)\n                                        }\n                                    >\n                                        <Badge\n                                            badgeContent={\n                                                account.friends.filter(\n                                                    item =>\n                                                        item.status ===\n                                                        'inviting'\n                                                ).length\n                                            }\n                                            color=\"secondary\"\n                                        >\n                                            <Avatar\n                                                classes={\n                                                    props.history.location\n                                                        .pathname ===\n                                                    '/profile/' + account._id\n                                                        ? {\n                                                              root:\n                                                                  classes.avatar,\n                                                          }\n                                                        : {}\n                                                }\n                                                src={getAvatar(\n                                                    account._id,\n                                                    account.image\n                                                )}\n                                            />\n                                        </Badge>\n                                    </IconButton>\n                                </Paper>\n                            </Box>\n                        )}\n                    </Box>\n                </Slide>\n            </div>\n            <LoginModal\n                loginVisible={loginVisible}\n                setLoginVisible={setLoginVisible}\n            />\n            {(logedIn || !props.isConnectingWS) && (!isActivating && <></>)}\n\n            {account._id && (\n                <>\n                    <DialogFullscreen\n                        open={addFriendOpen}\n                        close={() => {\n                            setAddFriendOpen(false)\n                        }}\n                        title={t('g.addFriend')}\n                    >\n                        <AddFriends\n                            close={() => setAddFriendOpen(false)}\n                            open={addFriendOpen}\n                            account={account}\n                            friendData={props.friendData}\n                        />\n                    </DialogFullscreen>\n\n                    <Dialog\n                        fullScreen\n                        open={Boolean(startResourceVisible)}\n                        onClose={() => {\n                            setStartResourceVisible('')\n                        }}\n                        TransitionComponent={TransitionComponent}\n                    >\n                        <EditResource\n                            account={account}\n                            friendData={props.friendData}\n                            cancel={() => setStartResourceVisible('')}\n                            type={startResourceVisible}\n                        />\n                    </Dialog>\n                </>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n        lastNotifications: state.lastNotifications,\n        isConnectingWS: state.isConnectingWS,\n        friendData: state.friendData,\n        language: state.language,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(AccountLayout))\n","import React, { useEffect, useState } from 'react'\nimport { Box, Button, makeStyles, Typography } from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport TinyEditor from '../UI/TinyEditor'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst EditPost = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    const [images, setImages] = useState(props.images || [])\n\n    const [messageText, setMessageText] = useState(props.content || '')\n\n    useEffect(() => {\n        setImages(props.images || [])\n        setMessageText(props.content || '')\n    }, [props.open])\n\n    const handleSave = () => {\n        props.save(images, messageText)\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setImages([])\n        setMessageText('')\n        props.cancel()\n    }\n\n    return (\n        <DialogFullscreen\n            open={props.open}\n            close={handleCancel}\n            title={props.title}\n            save={handleSave}\n        >\n            <Box\n                style={{\n                    padding: '0 16px',\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    width: '100%',\n                }}\n            >\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('g.desc')}\n                </Typography>\n                <Box>\n                    <TinyEditor\n                        value={messageText}\n                        onEditorChange={value => setMessageText(value)}\n                    />\n                </Box>\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('g.images')}\n                </Typography>\n                <ImagePickerMulti\n                    images={images}\n                    onValueChange={value => setImages(value)}\n                />\n                <Box\n                    style={{\n                        textAlign: 'right',\n                        marginTop: '50px',\n                    }}\n                >\n                    <Button size=\"large\" onClick={handleCancel}>\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                        onClick={handleSave}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </Box>\n            </Box>\n        </DialogFullscreen>\n    )\n}\n\nexport default EditPost\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport { Box, Card, CardContent } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\n\nimport EditPost from './EditPost'\nimport { useTranslation } from 'react-i18next'\n\nconst AddPost = props => {\n    const { t } = useTranslation()\n    const [postOpen, setPostOpen] = useState(false)\n\n    const { parent, account, parentType } = props\n\n    const handleSave = (images, messageText) => {\n        wsActions.addPost(account._id, parent, parentType, messageText, images)\n        if (props.onSend) props.onSend()\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setPostOpen(false)\n    }\n\n    return account._id ? (\n        <>\n            <Card elevation={3}>\n                <CardContent>\n                    <Box style={{ display: 'flex', width: '100%' }}>\n                        <Box style={{ marginRight: '20px' }}>\n                            <UserButton\n                                noName={true}\n                                id={account._id}\n                                span={true}\n                                size={36}\n                            />\n                        </Box>\n                        <Box style={{ flex: 1 }}>\n                            <Box\n                                style={{\n                                    background: '#efefef',\n                                    padding: '5px 15px',\n                                    borderRadius: '15px',\n                                    color: '#7d7d7d',\n                                    cursor: 'pointer',\n                                }}\n                                onClick={() => setPostOpen(true)}\n                            >\n                                {t('post.postNew')}\n                            </Box>\n                        </Box>\n                    </Box>\n                    <EditPost\n                        open={postOpen}\n                        cancel={handleCancel}\n                        title={t('post.createNewPost')}\n                        save={handleSave}\n                    />\n                </CardContent>\n            </Card>\n        </>\n    ) : null\n}\n\nexport default withRouter(AddPost)\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport * as wsActions from '../../websocketActions'\nimport { Box, TextField, Button, makeStyles } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport { spanStyle } from './Message'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles({\n    text: {\n        '&>div::after': { border: 'none' },\n        '&>div::before': { border: 'none !important' },\n        '& textarea': {\n            fontSize: '14px',\n        },\n    },\n})\nconst AddMessage = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [previewImage, setPreviewImage] = useState('')\n    const [imageLoading, setImageLoading] = useState(false)\n    const [images, setImages] = useState(props.images || [])\n    const { post, account } = props\n\n    const [messageText, setMessageText] = useState(\n        props.content ||\n            (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n    )\n\n    useEffect(() => {\n        setMessageText(\n            props.content ||\n                (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n        )\n    }, [props.replyToUser, props.content])\n\n    const uploadImage = file => {\n        uploadFile(file, 800, undefined, url => {\n            setImages([...images, url])\n        })\n    }\n\n    return post && account._id ? (\n        <Box style={{ display: 'flex', width: '100%', margin: '10px 0px' }}>\n            <Box style={{ marginRight: '10px' }}>\n                <UserButton\n                    noName={true}\n                    id={account._id}\n                    span={true}\n                    size={props.isTop ? 36 : 25}\n                />\n            </Box>\n            <Box style={{ flex: 1 }}>\n                <Box\n                    style={{\n                        background: '#efefef',\n                        padding: '5px 15px',\n                        borderRadius: '15px',\n                    }}\n                >\n                    <TextField\n                        multiline\n                        value={messageText}\n                        onChange={e => setMessageText(e.target.value)}\n                        margin=\"dense\"\n                        placeholder={t('post.addComment')}\n                        className={classes.text}\n                        fullWidth\n                    />\n                    {images.length > 0 && (\n                        <ImagePickerMulti\n                            images={images}\n                            onValueChange={value => setImages(value)}\n                        />\n                    )}\n                    <Button\n                        onClick={() => {\n                            wsActions.sendMessage(\n                                account._id,\n                                post._id,\n                                messageText,\n                                images,\n                                props.replyTo,\n                                props.editingMessage\n                            )\n                            setMessageText('')\n                            setImages([])\n                            if (props.onSend) props.onSend()\n                        }}\n                    >\n                        <span style={spanStyle}>{t('g.send')}</span>\n                    </Button>\n                    <Upload\n                        accept=\"image/*\"\n                        showUploadList={false}\n                        customRequest={({ file }) => {\n                            if (images.length > 8) {\n                                message.warning(t('post.imageLimit'))\n                                return\n                            }\n                            setImageLoading(true)\n                            uploadFile(file, 800, undefined, url => {\n                                setImageLoading(false)\n                                if (!url) {\n                                    setImages([...images])\n                                } else {\n                                    setImages([...images, url])\n                                }\n                            })\n                        }}\n                    >\n                        <Button\n                            onClick={e => {\n                                if (window.isRNWebView) {\n                                    e.stopPropagation()\n                                    window.ReactNativeWebView.postMessage(\n                                        'uploadFile'\n                                    )\n                                    window.callback = url => {\n                                        setImageLoading(false)\n                                        setImages([...images, url])\n                                    }\n                                }\n                            }}\n                        >\n                            <span style={spanStyle}>{t('g.image')}</span>\n                        </Button>\n                    </Upload>\n                    {props.cancel && (\n                        <Button onClick={props.cancel}>\n                            <span style={spanStyle}>{t('g.cancel')}</span>\n                        </Button>\n                    )}\n                </Box>\n            </Box>\n        </Box>\n    ) : (\n        <Box style={{ height: '10px' }} />\n    )\n}\n\nexport default withRouter(AddMessage)\n","import React, { useState } from 'react'\nimport Carousel from 'antd/es/carousel'\nimport classes from './imageCarousel.module.css'\nimport Modal from 'antd/es/modal/Modal'\n\nconst ImageCarousel = props => {\n    const [previewImage, setPreviewImage] = useState(false)\n\n    return props.images && props.images.length > 0 ? (\n        <>\n            <Carousel\n                style={{ width: props.size || 'auto', margin: '10px 0' }}\n                dots={{ className: classes.Dots }}\n                autoplay\n            >\n                {props.images.map(\n                    (image, index) =>\n                        image && (\n                            <div\n                                key={index}\n                                onClick={() => setPreviewImage(image)}\n                            >\n                                <div\n                                    style={{\n                                        backgroundImage: 'url(\"' + image + '\")',\n                                        backgroundSize: props.type || 'contain',\n                                        backgroundPosition: 'center',\n                                        width: props.size || '100%',\n                                        height:\n                                            props.height ||\n                                            props.size ||\n                                            '300px',\n                                        maxWidth: '800px',\n                                        backgroundRepeat: 'no-repeat',\n                                        borderRadius: '20px',\n                                        margin: 'auto',\n                                    }}\n                                />\n                            </div>\n                        )\n                )}\n            </Carousel>\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => setPreviewImage('')}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </>\n    ) : null\n}\n\nexport default ImageCarousel\n","import React from 'react'\nimport * as wsActions from '../websocketActions'\nimport { Button } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst FollowButton = props => {\n    const { t } = useTranslation()\n    const { account, type, id } = props\n    if (account && account._id && account._id !== id) {\n        if (type !== 'account') {\n            return account[\n                type === 'goal'\n                    ? 'followProgresses'\n                    : type === 'reward'\n                    ? 'followRewards'\n                    : 'followActivities'\n            ].includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowResource(account._id, id, type)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followResource(account._id, id, type)\n                    }}\n                >\n                    {t('g.follow')}\n                </Button>\n            )\n        } else {\n            return account.followAccounts.includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowAccount(account._id, id)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followAccount(account._id, id)\n                    }}\n                >\n                    {t('g.follow')}\n                </Button>\n            )\n        }\n    }\n    return null\n}\n\nexport default FollowButton\n","import { Button, Dialog, DialogActions, DialogTitle } from '@material-ui/core'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nexport default props => {\n    const { t } = useTranslation()\n\n    return (\n        <Dialog open={Boolean(props.open)} onClose={props.cancel}>\n            <DialogTitle>{props.title}</DialogTitle>\n\n            <DialogActions>\n                <Button onClick={props.cancel} color=\"primary\">\n                    {t('g.cancel')}\n                </Button>\n                <Button\n                    onClick={() => {\n                        props.confirm()\n                        props.cancel()\n                    }}\n                    color=\"primary\"\n                >\n                    {t('g.confirm')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport * as wsActions from '../../websocketActions'\nimport AddMessage from './AddMessage'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    Badge,\n    Box,\n    Button,\n    Chip,\n    IconButton,\n    Menu,\n    MenuItem,\n} from '@material-ui/core'\nimport dayjs from 'dayjs'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport { MoreVertOutlined, ThumbUp } from '@material-ui/icons'\nimport ReadMore from '../UI/ReadMore'\nimport EditPost from './EditPost'\nimport { useTranslation } from 'react-i18next'\nimport ConfirmAction from '../UI/ConfirmAction'\nimport message from 'antd/es/message'\n\ndayjs().format()\n\nexport const spanStyle = {\n    fontSize: '12px',\n    color: '#666',\n    textTransform: 'none',\n}\nconst Message = props => {\n    const { t } = useTranslation()\n    const { account, message, friendData, post, replies, isStart } = props\n    const [replyVisible, setReplyVisible] = useState(false)\n    const [deleteMessageOpen, setDeleteMessageOpen] = useState(false)\n    const [likes, setLikes] = useState(null)\n    const [replyToUser, setReplyToUser] = useState('')\n    const [editingMessage, setEditingMessage] = useState('')\n    const [showReplies, setShowReplies] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [editMessageOpen, setEditMessageOpen] = useState(false)\n\n    const handleEditPostSave = (images, messageText) => {\n        wsActions.editPost(account._id, post._id, messageText, images)\n        if (props.onSend) props.onSend()\n        handleEditPostCancel()\n    }\n\n    const handleEditPostCancel = () => {\n        setEditMessageOpen(false)\n    }\n\n    return account && friendData ? (\n        <>\n            {account._id !== message.author || !editingMessage ? (\n                <>\n                    {props.isStart ? (\n                        <Box\n                            style={{\n                                display: 'flex',\n                                width: '100%',\n                                margin: '10px 0px',\n                            }}\n                        >\n                            <Box style={{ marginRight: '10px' }}>\n                                <UserButton\n                                    noName={true}\n                                    id={message.author}\n                                    span={true}\n                                />\n                            </Box>\n                            <Box style={{ flex: 1 }}>\n                                <span\n                                    style={{\n                                        color: '#333',\n                                        fontWeight: 'bold',\n                                        fontSize: '14px',\n                                    }}\n                                >\n                                    <UserButton\n                                        id={message.author}\n                                        span={true}\n                                        noAva={true}\n                                    />{' '}\n                                    <div\n                                        style={spanStyle}\n                                        onClick={() =>\n                                            props.history.push(\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                    '/goals/' +\n                                                        post.parent.parentId +\n                                                        '/post/' +\n                                                        post._id\n                                            )\n                                        }\n                                    >\n                                        {dayjs(message.date).fromNow()}\n                                    </div>\n                                    {/* <span style={{ fontWeight: 'normal' }}>in</span>{' '}\n                {post.parent &&\n                    progressData &&\n                    progressData[post.parent.parentId] && (\n                        <span\n                            style={{ cursor: 'pointer' }}\n                            onClick={() =>\n                                props.history.push(\n                                    '/goals/' + post.parent.parentId\n                                )\n                            }\n                        >\n                            {progressData[post.parent.parentId].goal.name}\n                        </span>\n                    )} */}\n                                    {post.startMessage &&\n                                        ['wishlist', 'perk', 'goal'].includes(\n                                            post.startMessage.messageType\n                                        ) && (\n                                            <span\n                                                style={{\n                                                    cursor: 'pointer',\n                                                }}\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/profile/' +\n                                                            message.author\n                                                    )\n                                                }\n                                            >\n                                                {post.startMessage\n                                                    .messageType === 'wishlist'\n                                                    ? t('g.wishlist')\n                                                    : post.startMessage\n                                                          .messageType ===\n                                                      'goals'\n                                                    ? t('g.goals')\n                                                    : t('g.rewards')}\n                                            </span>\n                                        )}\n                                </span>\n                            </Box>\n                            {account._id === message.author && (\n                                <Box>\n                                    <IconButton\n                                        onClick={event =>\n                                            setAnchorEl(event.currentTarget)\n                                        }\n                                    >\n                                        <MoreVertOutlined />\n                                    </IconButton>\n                                    <Menu\n                                        id=\"simple-menu\"\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={() => setAnchorEl(null)}\n                                    >\n                                        <MenuItem\n                                            onClick={() => {\n                                                setEditMessageOpen(true)\n                                                setAnchorEl(null)\n                                            }}\n                                        >\n                                            {t('g.edit')}\n                                        </MenuItem>\n                                        <MenuItem\n                                            onClick={() => {\n                                                setDeleteMessageOpen(true)\n                                                setAnchorEl(null)\n                                            }}\n                                        >\n                                            {t('g.delete')}\n                                        </MenuItem>\n                                    </Menu>\n                                    <EditPost\n                                        open={editMessageOpen}\n                                        cancel={handleEditPostCancel}\n                                        title={t('post.editPost')}\n                                        save={handleEditPostSave}\n                                        images={message.image}\n                                        content={message.text}\n                                    />\n                                    <ConfirmAction\n                                        open={deleteMessageOpen}\n                                        cancel={() =>\n                                            setDeleteMessageOpen(false)\n                                        }\n                                        title={t('post.confirmDelete')}\n                                        confirm={() =>\n                                            wsActions.deletePost(\n                                                account._id,\n                                                post._id\n                                            )\n                                        }\n                                    />\n                                </Box>\n                            )}\n                        </Box>\n                    ) : (\n                        <>\n                            <Box style={{ display: 'flex', width: '100%' }}>\n                                <Box style={{ marginRight: '10px' }}>\n                                    <UserButton\n                                        noName={true}\n                                        id={message.author}\n                                        span={true}\n                                        size={props.isTop ? 36 : 25}\n                                    />\n                                </Box>\n                                <Box style={{ flex: 1 }}>\n                                    <Badge\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'right',\n                                        }}\n                                        overlap=\"circle\"\n                                        badgeContent={\n                                            message.likes.length ? (\n                                                <Chip\n                                                    icon={<ThumbUp />}\n                                                    color=\"primary\"\n                                                    label={message.likes.length}\n                                                    size=\"small\"\n                                                    onClick={() =>\n                                                        setLikes(message.likes)\n                                                    }\n                                                />\n                                            ) : (\n                                                0\n                                            )\n                                        }\n                                    >\n                                        <Box\n                                            style={{\n                                                background: '#efefef',\n                                                padding: '5px 15px',\n                                                borderRadius: '15px',\n                                            }}\n                                        >\n                                            <UserButton\n                                                id={message.author}\n                                                span={true}\n                                                noAva={true}\n                                            />\n                                            {message.image &&\n                                                message.image.length > 0 && (\n                                                    <ImageCarousel\n                                                        images={message.image}\n                                                        height=\"60vmin\"\n                                                        type=\"contain\"\n                                                    />\n                                                )}\n                                            {message.text && (\n                                                <p\n                                                    style={{\n                                                        wordBreak: 'break-word',\n                                                    }}\n                                                >\n                                                    {message.text}\n                                                </p>\n                                            )}\n                                        </Box>\n                                    </Badge>\n                                    <Box>\n                                        <span\n                                            style={{\n                                                ...spanStyle,\n                                                marginRight: '15px',\n                                            }}\n                                        >\n                                            {dayjs(message.date).fromNow()}\n                                        </span>\n\n                                        <Button\n                                            onClick={() => {\n                                                if (account._id)\n                                                    wsActions.changeLikesMessage(\n                                                        message.likes.includes(\n                                                            account._id\n                                                        )\n                                                            ? 'dislikeMessage'\n                                                            : 'likeMessage',\n                                                        message.messageId,\n                                                        account._id,\n                                                        post._id\n                                                    )\n                                                else\n                                                    message.warning(\n                                                        t('g.needLogin')\n                                                    )\n                                            }}\n                                        >\n                                            <span style={spanStyle}>\n                                                {message.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? t('g.unlike')\n                                                    : t('g.like')}\n                                            </span>\n                                        </Button>\n\n                                        {message.author !== account._id && (\n                                            <Button\n                                                onClick={() => {\n                                                    if (!account._id)\n                                                        message.warning(\n                                                            t('g.needLogin')\n                                                        )\n                                                    if (account._id)\n                                                        if (\n                                                            props.setReplyVisible\n                                                        ) {\n                                                            props.setReplyVisible(\n                                                                true\n                                                            )\n                                                            props.setReplyToUser(\n                                                                props.message\n                                                                    .author\n                                                            )\n                                                        } else {\n                                                            setReplyVisible(\n                                                                true\n                                                            )\n                                                            setReplyToUser('')\n                                                        }\n                                                    setShowReplies(true)\n                                                }}\n                                            >\n                                                <span style={spanStyle}>\n                                                    {t('post.reply')}\n                                                </span>\n                                            </Button>\n                                        )}\n                                        {message.author === account._id && (\n                                            <Button\n                                                onClick={() =>\n                                                    setEditingMessage(\n                                                        message.messageId\n                                                    )\n                                                }\n                                            >\n                                                <span style={spanStyle}>\n                                                    {t('g.edit')}\n                                                </span>\n                                            </Button>\n                                        )}\n                                    </Box>\n                                    {props.isTop &&\n                                    replies &&\n                                    replies.length > 0 ? (\n                                        showReplies ? (\n                                            replies.map((reply, index) => (\n                                                <Message\n                                                    key={index}\n                                                    message={reply}\n                                                    post={post}\n                                                    account={account}\n                                                    friendData={friendData}\n                                                    setReplyVisible={\n                                                        setReplyVisible\n                                                    }\n                                                    setReplyToUser={\n                                                        setReplyToUser\n                                                    }\n                                                />\n                                            ))\n                                        ) : (\n                                            <Button\n                                                onClick={() =>\n                                                    setShowReplies(true)\n                                                }\n                                            >\n                                                <span\n                                                    style={{\n                                                        ...spanStyle,\n                                                        fontSize: '15px',\n                                                    }}\n                                                >\n                                                    {`${t('g.show')} ${\n                                                        replies.length\n                                                    } ${t('post.replies')}`}\n                                                </span>\n                                            </Button>\n                                        )\n                                    ) : null}\n\n                                    {props.isTop && replyVisible ? (\n                                        <AddMessage\n                                            post={post}\n                                            account={account}\n                                            replyTo={message.messageId}\n                                            replyToUser={replyToUser}\n                                            cancel={() =>\n                                                setReplyVisible(false)\n                                            }\n                                        />\n                                    ) : null}\n                                </Box>\n                            </Box>\n                        </>\n                    )}\n\n                    {isStart ? (\n                        <>\n                            {message.messageType === 'wishlist' && (\n                                <>\n                                    {' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                            cursor: 'pointer',\n                                            margin: '10px 0px 0px ',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${\n                                                    message.details.owner\n                                                }/${message.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {message.details.name}\n                                    </span>\n                                </>\n                            )}\n                            {message.text && (\n                                <ReadMore\n                                    initialHeight={700}\n                                    contentEditor={message.text}\n                                />\n                            )}\n                            {message.image && message.image.length > 0 && (\n                                <ImageCarousel\n                                    images={message.image}\n                                    height=\"60vmin\"\n                                    type=\"contain\"\n                                />\n                            )}\n                        </>\n                    ) : (\n                        <></>\n                    )}\n                </>\n            ) : (\n                <AddMessage\n                    post={post}\n                    account={account}\n                    replyTo={message.messageId}\n                    editingMessage={editingMessage}\n                    content={message.text}\n                    images={message.image}\n                    onSend={() => setEditingMessage('')}\n                    cancel={() => setEditingMessage('')}\n                />\n            )}\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title=\"Message likes\"\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton\n                                    account={account}\n                                    id={item}\n                                    type=\"account\"\n                                />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n        </>\n    ) : null\n}\n\nexport default withRouter(Message)\n","import React, { useState } from 'react'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Box,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    Paper,\n    Snackbar,\n    Tooltip,\n    Typography,\n} from '@material-ui/core'\nimport { withRouter } from 'react-router-dom'\nimport { FileCopy, Share } from '@material-ui/icons'\nimport {\n    EmailShareButton,\n    FacebookShareButton,\n    // WeiboShareButton,\n    // HatenaShareButton,\n    // InstapaperShareButton,\n    // LineShareButton,\n    LinkedinShareButton,\n    // LivejournalShareButton,\n    // MailruShareButton,\n    // OKShareButton,\n    PinterestShareButton,\n    // PocketShareButton,\n    // RedditShareButton,\n    TelegramShareButton,\n    // TumblrShareButton,\n    TwitterShareButton,\n    // ViberShareButton,\n    VKShareButton,\n    // WhatsappShareButton,     ,\n    FacebookIcon,\n    TwitterIcon,\n    LinkedinIcon,\n    PinterestIcon,\n    VKIcon,\n    // OKIcon,\n    TelegramIcon,\n    // WhatsappIcon,\n    // RedditIcon,\n    // TumblrIcon,\n    // MailruIcon,\n    EmailIcon,\n    // LivejournalIcon,\n    // ViberIcon,\n    // WorkplaceIcon,\n    // LineIcon,\n    // PocketIcon,\n    // InstapaperIcon,\n    // WeiboIcon,\n    // HatenaIcon,\n    // FacebookMessengerIcon,\n    // FacebookMessengerShareButton,\n} from 'react-share'\nimport { spanStyle } from '../Post/Message'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { Alert } from '@material-ui/lab'\nimport { useTranslation } from 'react-i18next'\nimport ConnectionsSelect from '../EditResource/ConnectionsSelect'\nimport { connect } from 'react-redux'\n\nconst ShareButton = props => {\n    const { t } = useTranslation()\n    const [alertVisible, setAlertVisible] = useState(false)\n    const [open, setOpen] = useState(false)\n    const [friends, setFriends] = useState([])\n    const { account } = props\n    const basicProps = {\n        url: props.link || window.location.href,\n        title: props.title,\n        media: props.media || 'https://addspire.com/logo.jpg',\n        style: {\n            margin: '10px',\n            display: 'inline-block',\n            textAlign: 'center',\n            cursor: 'pointer',\n        },\n    }\n    return (\n        <>\n            <Tooltip title={t('g.share')} enterDelay={500} leaveDelay={200}>\n                {props.post ? (\n                    <Button onClick={() => setOpen(true)} startIcon={<Share />}>\n                        <span style={spanStyle}>{t('g.share')}</span>\n                    </Button>\n                ) : (\n                    <IconButton\n                        // color=\"primary\"\n                        style={props.style}\n                        onClick={() => setOpen(true)}\n                    >\n                        <Share />\n                    </IconButton>\n                )}\n            </Tooltip>\n            <Dialog open={open} onClose={() => setOpen(false)}>\n                <DialogTitle>{t('g.shareTo')}</DialogTitle>\n                <DialogContent>\n                    <Box style={{ margin: '10px auto 30px' }}>\n                        <Typography variant=\"subtitle1\">\n                            {t('g.addspireFriends')}:\n                        </Typography>\n                        <Box style={{ marginTop: '15px', padding: '10px' }}>\n                            <ConnectionsSelect\n                                value={friends}\n                                onChange={value => setFriends(value)}\n                            />\n                            <Button\n                                color=\"primary\"\n                                style={{ marginTop: '10px' }}\n                                onClick={() =>\n                                    friends.length > 0 &&\n                                    wsActions.shareWithFriends(\n                                        account._id,\n                                        basicProps.url,\n                                        friends,\n                                        props.item\n                                    )\n                                }\n                            >\n                                {t('g.send')}\n                            </Button>\n                        </Box>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"subtitle1\">\n                            {t('g.otherFriends')}:\n                        </Typography>\n                    </Box>\n                    <Box style={{ marginTop: '15px', padding: '10px' }}>\n                        <FacebookShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <FacebookIcon size={32} round />\n                            <Box>Facebook</Box>\n                        </FacebookShareButton>\n                        {/* <FacebookMessengerShareButton\n                            {...basicProps}\n                            appId=\"521270401588372\"\n                        >\n                            <FacebookMessengerIcon size={32} round />\n                        </FacebookMessengerShareButton> */}\n                        <TwitterShareButton {...basicProps}>\n                            <TwitterIcon size={32} round />\n                            <Box>Twitter</Box>\n                        </TwitterShareButton>\n                        <TelegramShareButton {...basicProps}>\n                            <TelegramIcon size={32} round />\n                            <Box>Telegram</Box>\n                        </TelegramShareButton>\n                        <PinterestShareButton {...basicProps}>\n                            <PinterestIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </PinterestShareButton>\n\n                        {/* <InstapaperShareButton {...basicProps}>\n                            <InstapaperIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </InstapaperShareButton>\n                        <PocketShareButton {...basicProps}>\n                            <PocketIcon size={32} round />\n                            <Box>Pocket</Box>\n                        </PocketShareButton> */}\n                        <LinkedinShareButton {...basicProps}>\n                            <LinkedinIcon size={32} round />\n                            <Box>LinkedIn</Box>\n                        </LinkedinShareButton>\n                        {/* <ViberShareButton {...basicProps}>\n                            <ViberIcon size={32} round />\n                        </ViberShareButton>\n                        <LineShareButton {...basicProps}>\n                            <LineIcon size={32} round />\n                        </LineShareButton> */}\n                        {/* <LivejournalShareButton {...basicProps}>\n                            <LivejournalIcon size={32} round />\n                        </LivejournalShareButton> */}\n                        {/* <MailruShareButton {...basicProps}>\n                            <MailruIcon size={32} round />\n                        </MailruShareButton> */}\n                        {/* <OKShareButton {...basicProps} image={props.media}>\n                            <OKIcon size={32} round />\n                        </OKShareButton>\n                        <RedditShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <RedditIcon size={32} round />\n                        </RedditShareButton>\n                        <TumblrShareButton {...basicProps}>\n                            <TumblrIcon size={32} round />\n                        </TumblrShareButton> */}\n                        <VKShareButton {...basicProps} image={props.media}>\n                            <VKIcon size={32} round />\n                            <Box>VK</Box>\n                        </VKShareButton>\n                        {/* <WhatsappShareButton {...basicProps} separator=\":: \">\n                            <WhatsappIcon size={32} round />\n                        </WhatsappShareButton> */}\n                        {/* <WorkplaceShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <WorkplaceIcon size={32} round />\n                        </WorkplaceShareButton> */}\n                        {/* <WeiboShareButton {...basicProps} image={props.media}>\n                            <WeiboIcon size={32} round />\n                        </WeiboShareButton> */}\n                        {/* <HatenaShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <HatenaIcon size={32} round />\n                        </HatenaShareButton> */}\n                        <EmailShareButton\n                            {...basicProps}\n                            subject={props.title}\n                            body=\"body\"\n                        >\n                            <EmailIcon size={32} round />\n                            <Box>{t('g.email')}</Box>\n                        </EmailShareButton>\n\n                        <CopyToClipboard\n                            text={basicProps.url}\n                            {...basicProps}\n                            onCopy={() => setAlertVisible(true)}\n                            style={{ border: 'none', background: 'none' }}\n                        >\n                            <button>\n                                <FileCopy style={{ fontSize: 32 }} />\n                                <Box>{t('g.copyUrl')}</Box>\n                            </button>\n                        </CopyToClipboard>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setOpen(false)}>\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Snackbar\n                open={alertVisible}\n                autoHideDuration={2000}\n                onClose={() => setAlertVisible(false)}\n            >\n                <Alert\n                    onClose={() => setAlertVisible(false)}\n                    severity=\"success\"\n                >\n                    {t('g.urlCopied')}\n                </Alert>\n            </Snackbar>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n    }\n}\nexport default withRouter(connect(mapStateToProps)(ShareButton))\n","import React, { useEffect, useRef, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport Message, { spanStyle } from './Message'\nimport AddMessage from './AddMessage'\nimport {\n    Button,\n    Card,\n    CardContent,\n    Chip,\n    Divider,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    AddCommentOutlined,\n    ThumbUp,\n    ThumbUpOutlined,\n} from '@material-ui/icons'\nimport ShareButton from '../UI/ShareButton'\nimport { useTranslation } from 'react-i18next'\nimport message from 'antd/es/message'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Post = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const { post, account, friendData, progressData } = props\n    const isPostPage = props.history.location.pathname.indexOf(post._id) > -1\n    const [postOpen, setPostOpen] = useState(props.showReplies || isPostPage)\n    const [likes, setLikes] = useState(null)\n    const getNumberOfMessages = messages => {\n        let result = 0\n        for (let item of messages) {\n            result = result + 1 + item.replies.length\n        }\n        return result\n    }\n    const postRef = useRef(null)\n\n    useEffect(() => {\n        if (isPostPage && postRef.current) {\n            window.scrollTo({\n                top: postRef.current.offsetTop - 70,\n                behavior: 'smooth',\n            })\n            setPostOpen(true)\n        }\n    }, [isPostPage])\n    return post ? (\n        <>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('post.mainPost')}\n                </Typography>\n            )}\n            <Card elevation={isPostPage && 3}>\n                <CardContent ref={postRef}>\n                    {!props.noStartMessage && (\n                        <>\n                            <Message\n                                message={post.startMessage}\n                                post={post}\n                                account={account}\n                                friendData={friendData}\n                                progressData={progressData}\n                                replies={[]}\n                                isStart={true}\n                            />\n\n                            {post.startMessage.likes.length > 0 && (\n                                <Chip\n                                    icon={<ThumbUp />}\n                                    color=\"primary\"\n                                    label={post.startMessage.likes.length}\n                                    size=\"small\"\n                                    onClick={() =>\n                                        setLikes(post.startMessage.likes)\n                                    }\n                                    style={{ marginBottom: '10px' }}\n                                />\n                            )}\n                            <Divider />\n                        </>\n                    )}\n\n                    <div\n                        style={{\n                            textAlign: 'left',\n                            // marginBottom: '200px',\n                            position: 'relative',\n                        }}\n                    >\n                        {!props.noPostControls && (\n                            <>\n                                <div\n                                    style={{\n                                        display: 'flex',\n                                        justifyContent: 'space-around',\n                                    }}\n                                >\n                                    <span key=\"comment-basic-like\">\n                                        <Button\n                                            onClick={() => {\n                                                if (account._id)\n                                                    wsActions.changeLikesMessage(\n                                                        post.startMessage.likes.includes(\n                                                            account._id\n                                                        )\n                                                            ? 'dislikeMessage'\n                                                            : 'likeMessage',\n                                                        post.startMessage\n                                                            .messageId,\n                                                        account._id,\n                                                        post._id\n                                                    )\n                                                else\n                                                    message.warning(\n                                                        t('g.needLogin')\n                                                    )\n                                            }}\n                                            startIcon={<ThumbUpOutlined />}\n                                        >\n                                            <span style={spanStyle}>\n                                                {post.startMessage.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? t('g.unlike')\n                                                    : t('g.like')}\n                                            </span>\n                                        </Button>\n                                    </span>\n                                    <span>\n                                        <Button\n                                            onClick={() => setPostOpen(true)}\n                                            startIcon={<AddCommentOutlined />}\n                                        >\n                                            <span style={spanStyle}>\n                                                {t('post.comment')}\n                                            </span>\n                                        </Button>\n                                    </span>\n                                    <span key=\"comment-basic-like\">\n                                        <ShareButton\n                                            post\n                                            link={\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                'https://addspire.com/goals/' +\n                                                    post.parent.parentId +\n                                                    '/post/' +\n                                                    post._id\n                                            }\n                                            media={\n                                                post.startMessage.image &&\n                                                post.startMessage.image.length >\n                                                    0 &&\n                                                post.startMessage.image[0]\n                                            }\n                                            title={t('post.shareText')}\n                                            item={{\n                                                postId: post._id,\n                                            }}\n                                        />\n                                    </span>\n                                </div>\n                                <Divider />\n                            </>\n                        )}\n                        {!postOpen ? (\n                            post.messages.length > 0 && (\n                                <Button onClick={() => setPostOpen(true)}>\n                                    <span\n                                        style={{\n                                            ...spanStyle,\n                                            fontSize: '15px',\n                                        }}\n                                    >\n                                        {`${t('g.show')} \n                                        ${getNumberOfMessages(post.messages)} \n                                        ${t('post.comments')}`}\n                                    </span>\n                                </Button>\n                            )\n                        ) : (\n                            <>\n                                <AddMessage\n                                    post={post}\n                                    account={account}\n                                    isTop={true}\n                                />\n                                {post.messages && post.messages.length\n                                    ? post.messages.map((message, index) => (\n                                          <Message\n                                              key={index}\n                                              message={message}\n                                              post={post}\n                                              account={account}\n                                              friendData={friendData}\n                                              replies={message.replies}\n                                              isTop={true}\n                                          />\n                                      ))\n                                    : null}\n                            </>\n                        )}\n                    </div>\n                </CardContent>\n            </Card>\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title={t('post.messageLikes')}\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton\n                                    account={account}\n                                    id={item}\n                                    type=\"account\"\n                                />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('post.otherPosts')}\n                </Typography>\n            )}\n        </>\n    ) : null\n}\n\nexport default withRouter(Post)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport AddPost from './AddPost'\nimport Post from './Post'\nimport { useTranslation } from 'react-i18next'\nimport { makeStyles, Typography } from '@material-ui/core'\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\nconst ResourcePosts = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const { resource, account, posts, friendData, type } = props\n\n    return (\n        <>\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                {t('g.postsAndComments')}\n            </Typography>\n            {account._id && (\n                <AddPost\n                    parent={resource._id}\n                    account={account}\n                    parentType={type}\n                    // onSend={() => setEditingMessage('')}\n                />\n            )}\n            {posts &&\n                [...resource.posts]\n                    .sort((a, b) =>\n                        props.history.location.pathname.indexOf(a) > -1\n                            ? 1\n                            : props.history.location.pathname.indexOf(b) > -1\n                            ? -1\n                            : 0\n                    )\n                    .map(postId => {\n                        if (posts[postId]) {\n                            const post = posts[postId]\n                            return (\n                                <div\n                                    key={postId}\n                                    style={{ paddingTop: '10px' }}\n                                >\n                                    <Post\n                                        friendData={friendData}\n                                        account={account}\n                                        post={post}\n                                    />\n                                </div>\n                            )\n                        } else return null\n                    })\n                    .reverse()}\n        </>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ResourcePosts))\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport HorizontalScrollList from './UI/HorizontalScrollList'\nimport { useTranslation } from 'react-i18next'\nimport {\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from './MasonryCard'\n\nconst SimilarResources = props => {\n    const { t } = useTranslation()\n    const { resource, type } = props\n    const [similarResources, setSimilarResources] = useState([])\n    const [similarIsRequested, setSimilarIsRequested] = useState(false)\n    const title =\n        type === 'goal'\n            ? t('g.similarGoals')\n            : type === 'reward'\n            ? t('g.similarRewards')\n            : t('g.similarActivities')\n    const urlDir =\n        type === 'goal' ? 'goals' : type === 'reward' ? 'rewards' : 'activitie'\n    useEffect(() => {\n        if (resource && resource._id && !similarIsRequested) {\n            setSimilarIsRequested(true)\n            axios\n                .post('/api/similar', {\n                    search: {\n                        categories: resource.category || [],\n                        position: resource.position,\n                        currentId: resource._id,\n                        type: type,\n                    },\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setSimilarResources(res.data.resources)\n                    }\n                })\n                .catch(err => {})\n        }\n    }, [resource && resource._id])\n    return similarResources.length > 0 ? (\n        <HorizontalScrollList\n            title={title}\n            items={similarResources}\n            content={item => (\n                <CardActionArea>\n                    <Link to={'/' + urlDir + '/' + item._id}>\n                        <CardMedia\n                            style={{\n                                height: '150px',\n                                backgroundSize: 'contain',\n                            }}\n                            image={\n                                item.images.length > 0\n                                    ? item.images[0]\n                                    : placeholderImages[getPH(item._id)]\n                            }\n                            title={item.name}\n                        />\n                        <CardContent style={{ padding: '5px' }}>\n                            <Typography variant=\"body2\" noWrap>\n                                {item.name}\n                            </Typography>\n                        </CardContent>\n                    </Link>\n                </CardActionArea>\n            )}\n        />\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(SimilarResources))\n","import React, { useState } from 'react'\nimport {\n    Box,\n    Button,\n    Chip,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    Menu,\n    MenuItem,\n    Paper,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport ImageCarousel from './UI/ImageCarousel/ImageCarousel'\nimport ShareButton from './UI/ShareButton'\nimport * as wsActions from '../websocketActions'\nimport { useTranslation } from 'react-i18next'\nimport EditResource from '../components/EditResource/EditResource'\nimport MasonryCard from './MasonryCard'\nimport FollowButton from './FollowButton'\nimport UserButton from './UserButton/UserButton'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport ConfirmAction from './UI/ConfirmAction'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst ResourceHeader = props => {\n    const { t } = useTranslation()\n    const { resource, account, friendData, type } = props\n    const [followersVisible, setFollowersVisible] = useState('')\n    const [editResourceOpen, setEditResourceOpen] = useState(false)\n    const [deleteResourceOpen, setDeleteResourceOpen] = useState(false)\n    const [leaveResourceOpen, setLeaveResourceOpen] = useState(false)\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const accountProp =\n        type === 'goal'\n            ? 'progresses'\n            : type === 'reward'\n            ? 'rewards'\n            : 'activities'\n    const followProp =\n        type === 'goal'\n            ? 'followProgresses'\n            : type === 'reward'\n            ? 'followRewards'\n            : 'followActivities'\n    const getDropDownMeuItems = () => {\n        const items = []\n        if (account._id === resource.owner)\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setEditResourceOpen(true)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.edit')}\n                </MenuItem>\n            )\n\n        if (account[followProp].includes(resource._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.unfollowResource(\n                            account._id,\n                            resource._id,\n                            type\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </MenuItem>\n            )\n\n        if (resource.likes.includes(account._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.changeLikesResource(\n                            account._id,\n                            resource._id,\n                            false,\n                            type\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.unlike')}\n                </MenuItem>\n            )\n        if (\n            type !== 'reward' &&\n            account[accountProp] &&\n            account[accountProp].includes(resource._id.toString())\n        )\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setLeaveResourceOpen(true)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.leave')}\n                </MenuItem>\n            )\n        if (\n            account[accountProp] &&\n            account[accountProp].includes(resource._id.toString())\n        )\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setDeleteResourceOpen(true)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.delete')}\n                </MenuItem>\n            )\n        return items.length > 0 && items\n    }\n\n    const dropDownMeuItems = account._id ? getDropDownMeuItems() : null\n    return (\n        <>\n            <Paper style={{ padding: '15px' }}>\n                {resource.images.length > 0 && (\n                    <ImageCarousel images={resource.images} />\n                )}\n                <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                    <Typography variant=\"h4\" gutterBottom>\n                        {resource.name}\n                    </Typography>\n                    <Typography variant=\"body1\" gutterBottom>\n                        {t('g.' + type) + ' ' + t('g.by')}\n                        <UserButton id={resource.owner} />\n                    </Typography>\n                    {resource.category.map(category => (\n                        <Chip\n                            label={t('g.' + category)}\n                            variant=\"outlined\"\n                            style={{ margin: '5px' }}\n                        />\n                    ))}\n                    <Box\n                        style={{\n                            margin: '5px 0px',\n                        }}\n                    >\n                        <Button\n                            onClick={() => setFollowersVisible('followers')}\n                            style={{ marginRight: '20px' }}\n                        >\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {`${resource.followingAccounts.length} ${t(\n                                    'g.followers'\n                                )}`}\n                            </span>\n                        </Button>\n                        <Button onClick={() => setFollowersVisible('likes')}>\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {`${resource.likes.length} ${t('g.likes')}`}\n                            </span>\n                        </Button>\n                        <ShareButton\n                            title={resource.name + t('g.shareText')}\n                            media={resource.images && resource.images[0]}\n                            item={{\n                                progressId: resource._id,\n                                progressName: resource.name,\n                                type,\n                            }}\n                        />\n                        {dropDownMeuItems && account && account._id && (\n                            <>\n                                <IconButton\n                                    onClick={event =>\n                                        setAnchorEl(event.currentTarget)\n                                    }\n                                >\n                                    <MoreVertOutlined />\n                                </IconButton>\n                                <Menu\n                                    anchorEl={anchorEl}\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    onClose={() => setAnchorEl(null)}\n                                >\n                                    {dropDownMeuItems}\n                                </Menu>\n                            </>\n                        )}\n                    </Box>\n                    <Box\n                        style={{\n                            margin: '0px 0px 20px',\n                        }}\n                    >\n                        {account &&\n                            account._id &&\n                            !account[followProp].includes(resource._id) && (\n                                <Button\n                                    color=\"primary\"\n                                    onClick={() =>\n                                        wsActions.followResource(\n                                            account._id,\n                                            resource._id,\n                                            type\n                                        )\n                                    }\n                                    style={{ marginRight: '20px' }}\n                                    variant=\"contained\"\n                                >\n                                    {t('g.follow')}\n                                </Button>\n                            )}\n\n                        {account &&\n                            account._id &&\n                            !resource.likes.includes(account._id) && (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={() =>\n                                        wsActions.changeLikesResource(\n                                            account._id,\n                                            resource._id,\n                                            true,\n                                            type\n                                        )\n                                    }\n                                >\n                                    {t('g.like')}\n                                </Button>\n                            )}\n                    </Box>\n                </div>\n            </Paper>\n            <Dialog\n                fullScreen\n                open={editResourceOpen}\n                onClose={() => setEditResourceOpen(false)}\n                TransitionComponent={TransitionComponent}\n            >\n                <EditResource\n                    type={type}\n                    account={account}\n                    friendData={friendData}\n                    cancel={() => setEditResourceOpen(false)}\n                    resource={resource}\n                />\n            </Dialog>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'likes'\n                        ? t('g.' + type + 'Likes')\n                        : t('g.' + type + 'Followers')\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible === 'likes'\n                        ? t('g.' + type + 'Likes')\n                        : t('g.' + type + 'Followers')}\n                </DialogTitle>\n                <DialogContent>\n                    {resource[\n                        followersVisible === 'likes'\n                            ? 'likes'\n                            : 'followingAccounts'\n                    ].map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton\n                                    account={account}\n                                    id={item}\n                                    type=\"account\"\n                                />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <ConfirmAction\n                open={deleteResourceOpen}\n                cancel={() => setDeleteResourceOpen(false)}\n                title={t('resource.confirmDelete')}\n                confirm={() => wsActions.deleteResource(resource._id, type)}\n            />\n            <ConfirmAction\n                open={leaveResourceOpen}\n                cancel={() => setLeaveResourceOpen(false)}\n                title={t('resource.confirmLeave')}\n                confirm={() => wsActions.leaveResource(resource._id, type)}\n            />\n        </>\n    )\n}\n\nexport default ResourceHeader\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../store/actions'\nimport * as wsActions from '../websocketActions'\n\nimport pullData from '../utils/pullData'\nimport Layout from './Layout/Layout'\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\nimport ResourcePosts from './Post/ResourcePosts'\nimport SimilarResources from './SimilarResources'\nimport Helmet from 'react-helmet'\nimport ResourceHeader from './ResourceHeader'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst ResourceCore = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    const [data, setData] = useState({})\n    const pathParts = props.history.location.pathname.split('/')\n    const resourceId = pathParts.length > 2 ? pathParts[2] : ''\n    if (!resourceId) return null\n    const { type } = props\n    useEffect(() => {\n        if (props.isAuthed) {\n            props.setData({\n                [type === 'goal'\n                    ? 'currentGoal'\n                    : type === 'reward'\n                    ? 'currentReward'\n                    : 'currentActivity']: resourceId,\n            })\n            if (props.account._id)\n                wsActions.addRecent(props.account._id, resourceId, props.type)\n        } else {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n                const activityData = {}\n                if (data.activityData)\n                    for (let activity of data.activityData)\n                        activityData[activity._id] = activity\n                const rewardData = {}\n                if (data.rewardData)\n                    for (let reward of data.rewardData)\n                        rewardData[reward._id] = reward\n                const post = {}\n                if (data.posts)\n                    for (let item of data.posts) post[item._id] = item\n\n                props.setData({\n                    friendData,\n                    post,\n                    account: {},\n                    activityData,\n                    rewardData,\n                    onlineUsers: data.onlineUsers,\n                    [type === 'goal' ? 'progress' : type]: data.resource,\n                })\n            })\n        }\n    }, [props.isAuthed, props.history.location.pathname])\n\n    const { resource, account, friendData, posts } = props.isAuthed\n        ? props\n        : { ...data, posts: props.posts, account: {} }\n    useEffect(() => {\n        props.setResource(resource)\n    }, [resource])\n\n    if (!resource || !resource._id) return null\n\n    props.setData({ currentPosts: resource.posts })\n\n    return friendData ? (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {resource.name}\n                </Typography>\n            }\n        >\n            <div className=\"contentDiv\">\n                <Helmet>\n                    <title>\n                        {`${resource.name} ${t('g.by')}${\n                            resource.owner\n                        } - Addspire`}\n                    </title>\n                    <meta\n                        name=\"description\"\n                        content={resource.descriptionText}\n                    />\n                </Helmet>\n                <ResourceHeader\n                    account={account}\n                    resource={resource}\n                    friendData={friendData}\n                    type={type}\n                />\n                {/* <Activity\n                    state={state}\n                    setState={setState}\n                    resource={resource}\n                    account={account}\n                    friendData={friendData}\n                /> */}\n                {props.children}\n\n                <SimilarResources resource={resource} type={type} />\n\n                <ResourcePosts\n                    resource={resource}\n                    posts={posts}\n                    friendData={friendData}\n                    type={type}\n                />\n            </div>\n        </Layout>\n    ) : null\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        posts: state.post,\n        resource: state[ownProps.type === 'goal' ? 'progress' : ownProps.type],\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ResourceCore)\n)\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport { Map, Marker, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\n\nimport { useTranslation } from 'react-i18next'\nimport LocateControl from '../../containers/Explore/LocateControl'\n\nimport icon from 'leaflet/dist/images/marker-icon.png'\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png'\nimport L from 'leaflet'\n\nlet DefaultIcon = L.icon({\n    iconUrl: icon,\n    shadowUrl: iconShadow,\n    iconSize: [25, 41],\n    iconAnchor: [10, 41],\n})\n\nL.Marker.prototype.options.icon = DefaultIcon\n\nconst MapPosition = props => {\n    const { t } = useTranslation()\n    const map = useRef(null)\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch({\n                useMapBounds: false,\n                placeholder: t('g.mapPlaceholder'),\n                title: t('g.mapTitle'),\n            }).addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    return props.position ? (\n        <Map\n            ref={map}\n            style={{\n                width: '100%',\n                height: '300px',\n                position: 'relative',\n                zIndex: 1,\n            }}\n            gestureHandling={true}\n            center={[...props.position.coordinates].reverse()}\n            zoom={11}\n        >\n            <TileLayer\n                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            <LocateControl setView=\"no\" />\n            <Marker position={[...props.position.coordinates].reverse()} />\n        </Map>\n    ) : null\n}\n\nexport default MapPosition\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport ReadMore from '../../components/UI/ReadMore'\nimport { makeStyles, Paper, Typography } from '@material-ui/core'\n\nimport { useTranslation } from 'react-i18next'\nimport ResourceCore from '../../components/ResourceCore'\nimport MapPosition from '../../components/MapPosition/MapPosition'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Reward = () => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [reward, setReward] = useState(null)\n\n    return (\n        <ResourceCore type=\"reward\" setResource={setReward}>\n            {reward && (\n                <>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.desc')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <ReadMore\n                            initialHeight={200}\n                            contentEditor={reward.description}\n                        />\n                    </Paper>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.position')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <MapPosition position={reward.position} />\n                    </Paper>\n                    {/* Used in goals\n                    Associated rewards */}\n                </>\n            )}\n        </ResourceCore>\n    )\n}\n\nexport default withRouter(Reward)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport {\n    Box,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    IconButton,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport Reward from '../../containers/Reward/Reward'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\nimport EditResource from '../EditResource/EditResource'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst ProfileRewards = props => {\n    const { t } = useTranslation()\n    const [addRewardOpen, setAddRewardOpen] = useState(false)\n    const [rewardPreview, setRewardPreview] = useState('')\n\n    const {\n        account,\n        owner,\n        rewardData,\n        wish,\n        additionalButton,\n        isSelect,\n        value,\n        onChange,\n        multiple,\n    } = props\n    const isOwner = account && account._id && account._id === owner._id\n\n    const handleSelect = id => {\n        if (multiple)\n            if (value.includes(id)) {\n                onChange(value.filter(item => item !== id))\n            } else {\n                onChange([...value, id])\n            }\n        else onChange([id])\n    }\n\n    return (\n        <>\n            <HorizontalScrollList\n                title={\n                    isSelect\n                        ? 'I want to give these rewards:'\n                        : wish\n                        ? t('g.wishlist')\n                        : t('g.rewards')\n                }\n                items={owner.rewards\n                    .map(item => rewardData[item])\n                    .filter(item => item)}\n                content={item => {\n                    const isSelected = isSelect && value.includes(item._id)\n                    const content = (\n                        <>\n                            {' '}\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={isSelected ? 'primary' : undefined}\n                                    style={{\n                                        fontWeight: isSelected\n                                            ? 600\n                                            : 'initial',\n                                    }}\n                                >\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </>\n                    )\n                    return (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <CardActionArea\n                                onClick={() =>\n                                    isSelect && handleSelect(item._id)\n                                }\n                            >\n                                {isSelect ? (\n                                    content\n                                ) : props.openInDialog ? (\n                                    <Box\n                                        onClick={() =>\n                                            setRewardPreview(item._id)\n                                        }\n                                    >\n                                        {content}\n                                    </Box>\n                                ) : (\n                                    <Link\n                                        to={\n                                            (wish\n                                                ? '/wishlist/'\n                                                : '/rewards/') + item._id\n                                        }\n                                    >\n                                        {content}\n                                    </Link>\n                                )}\n                            </CardActionArea>\n                            {additionalButton && additionalButton(item)}\n                        </CardContent>\n                    )\n                }}\n                withAdd={isOwner}\n                addTitle={t('g.addReward')}\n                onAdd={() => setAddRewardOpen(true)}\n            />\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={addRewardOpen}\n                    onClose={() => setAddRewardOpen(false)}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <EditResource\n                        type=\"reward\"\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setAddRewardOpen(false)}\n                    />\n                </Dialog>\n            )}\n            {props.openInDialog && (\n                <Dialog\n                    open={Boolean(rewardPreview)}\n                    onClose={() => setRewardPreview('')}\n                    fullWidth\n                    maxWidth=\"md\"\n                >\n                    <DialogActions>\n                        <IconButton onClick={() => setRewardPreview('')}>\n                            <Close />\n                        </IconButton>\n                    </DialogActions>\n                    <DialogContent>\n                        {rewardPreview && <Reward rewardId={rewardPreview} />}\n                    </DialogContent>\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        rewardData: state.rewardData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProfileRewards))\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as wsActions from '../../websocketActions'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport {\n    Box,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    IconButton,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport AddEditActivity from './AddEditActivity'\nimport Reward from '../../containers/Reward/Reward'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\nimport EditResource from '../EditResource/EditResource'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst ProfileRewards = props => {\n    const { t } = useTranslation()\n    const [addActivityOpen, setAddActivityOpen] = useState(false)\n    const [activityPreview, setActivityPreview] = useState('')\n\n    const {\n        account,\n        owner,\n        activityData,\n        wish,\n        additionalButton,\n        isSelect,\n        value,\n        onChange,\n        activities,\n        multiple,\n    } = props\n    const isOwner = account && account._id && account._id === owner._id\n    const handleSelect = id => {\n        if (multiple)\n            if (value.includes(id)) {\n                onChange(value.filter(item => item !== id))\n            } else {\n                onChange([...value, id])\n            }\n        else onChange([id])\n    }\n    return (\n        <>\n            <HorizontalScrollList\n                title={isSelect ? 'For these activities:' : t('g.activities')}\n                items={(activities || owner.activities)\n                    .map(item => activityData[item])\n                    .filter(\n                        item => item && Boolean(wish) === Boolean(item.wish)\n                    )}\n                content={item => {\n                    const isSelected = isSelect && value.includes(item._id)\n                    const content = (\n                        <>\n                            {' '}\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={isSelected ? 'primary' : undefined}\n                                    style={{\n                                        fontWeight: isSelected\n                                            ? 600\n                                            : 'initial',\n                                    }}\n                                >\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </>\n                    )\n                    return (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <CardActionArea\n                                onClick={() =>\n                                    isSelect && handleSelect(item._id)\n                                }\n                            >\n                                {isSelect ? (\n                                    content\n                                ) : props.openInDialog ? (\n                                    <Box\n                                        onClick={() =>\n                                            setActivityPreview(item._id)\n                                        }\n                                    >\n                                        {content}\n                                    </Box>\n                                ) : (\n                                    <Link to={'/activities/' + item._id}>\n                                        {content}\n                                    </Link>\n                                )}\n                            </CardActionArea>\n                            {additionalButton && additionalButton(item)}\n                        </CardContent>\n                    )\n                }}\n                withAdd={isOwner}\n                addTitle={t('g.addItem')}\n                onAdd={() => setAddActivityOpen(true)}\n            />\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={addActivityOpen}\n                    onClose={() => setAddActivityOpen(false)}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <EditResource\n                        type=\"activity\"\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setAddActivityOpen(false)}\n                    />\n                </Dialog>\n            )}\n            {props.openInDialog && (\n                <Dialog\n                    open={Boolean(activityPreview)}\n                    onClose={() => setActivityPreview('')}\n                    fullWidth\n                    maxWidth=\"md\"\n                >\n                    <DialogActions>\n                        <IconButton onClick={() => setActivityPreview('')}>\n                            <Close />\n                        </IconButton>\n                    </DialogActions>\n                    <DialogContent>\n                        {activityPreview && (\n                            <Reward activityId={activityPreview} />\n                        )}\n                    </DialogContent>\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        activityData: state.activityData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProfileRewards))\n","import React from 'react'\n\nimport Form from 'antd/es/form'\n\nimport Select from 'antd/es/select'\nimport 'leaflet/dist/leaflet.css'\nimport * as wsActions from '../../websocketActions'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    AppBar,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Box,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\nimport ProfileRewards from '../ProfileRewards/ProfileRewards'\nimport ProfileActivities from '../ProfileActivities/ProfileActivities'\nconst { Option } = Select\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst EditProgressReward = props => {\n    const { t } = useTranslation()\n    const [form] = Form.useForm()\n\n    const { account, rewardId, progress } = props\n\n    const onFinish = value => {\n        wsActions.saveRewardInProgress(\n            account._id,\n            progress._id,\n            rewardId,\n            value\n        )\n\n        props.cancel()\n    }\n\n    const classes = useStyles()\n    let initialValue = {\n        rewards: [],\n        activities: [],\n        repeat: 'time',\n    }\n    if (rewardId !== 'new') {\n        const rewardObj = progress.rewards.find(\n            item => item.rewardId === rewardId\n        )\n        initialValue = {\n            rewards: [rewardObj.reward],\n            activities: rewardObj.activities,\n            repeat: rewardObj.repeat,\n        }\n    }\n\n    return (\n        <>\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.cancel}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {t(\n                            'progress.' +\n                                (rewardId !== 'new' ? 'editGoal' : 'addNewGoal')\n                        )}\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => form.submit()}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Form\n                form={form}\n                style={{\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    padding: '15px',\n                    width: '100%',\n                }}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={initialValue}\n            >\n                <Form.Item name=\"rewards\">\n                    <ProfileRewards owner={account} isSelect multiple />\n                </Form.Item>\n\n                <Form.Item name=\"activities\">\n                    <ProfileActivities\n                        owner={account}\n                        isSelect\n                        activities={progress.activities}\n                    />\n                </Form.Item>\n                <Form.Item name=\"repeat\">\n                    <Select getPopupContainer={trigger => trigger.parentNode}>\n                        <Option value=\"once\">{t('g.once')}</Option>\n                        <Option value=\"time\">{t('g.everyTime')}</Option>\n                        <Option value=\"manual\">{t('g.manual')}</Option>\n                        {/* \n                        <Option value=\"day\">{t('g.everyDay')}</Option>\n                        <Option value=\"week\">{t('g.everyWeek')}</Option>\n                        <Option value=\"month\">{t('g.everyMonth')}</Option>\n                        <Option value=\"year\">{t('g.everyYear')}</Option> */}\n                    </Select>\n                </Form.Item>\n\n                <div style={{ textAlign: 'right', marginTop: '50px' }}>\n                    <Button size=\"large\" onClick={() => props.cancel(false)}>\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </div>\n            </Form>\n        </>\n    )\n}\nexport default EditProgressReward\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const saveGoal = (accountId, goalId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveGoal',\n                accountId,\n                goalId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteGoal = (accountId, goalId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteGoal',\n                accountId,\n                goalId,\n            })\n        )\n    }\n}\n\nexport const saveRewardInProgress = (accountId, goalId, rewardId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveRewardInProgress',\n                accountId,\n                goalId,\n                rewardId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteRewardInProgress = (accountId, goalId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteRewardInProgress',\n                accountId,\n                goalId,\n                rewardId,\n            })\n        )\n    }\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Button,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogTitle,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport ProfileActivities from '../ProfileActivities/ProfileActivities'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport { useTranslation } from 'react-i18next'\nimport UserButton from '../UserButton/UserButton'\nimport EditProgressReward from './EditProgressReward'\nimport ConfirmAction from '../UI/ConfirmAction'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst Rewards = props => {\n    const { t } = useTranslation()\n    // const [anchorEl, setAnchorEl] = useState(null)\n    const [editRewardOpen, setEditRewardOpen] = useState('')\n    const [selectedReward, setSelectedReward] = useState('')\n    const [deleteRewardVisible, setDeleteRewardVisible] = useState('')\n\n    const { account, progress, rewardData, activityData } = props\n\n    // const handleClose = () => {\n    //     setAnchorEl(null)\n    // }\n    // const handleClick = event => {\n    //     setAnchorEl(event.currentTarget)\n    // }\n    const rewardObj =\n        progress &&\n        progress.rewards.find(item => item.rewardId === selectedReward)\n    const selectedRewardObj =\n        progress && rewardObj && rewardData[rewardObj.reward]\n\n    return (\n        <>\n            <HorizontalScrollList\n                title={t('g.rewards')}\n                items={progress.rewards.filter(item => rewardData[item.reward])}\n                content={item => (\n                    <CardContent\n                        style={{\n                            textAlign: 'center',\n                            position: 'relative',\n                            padding: '5px',\n                        }}\n                    >\n                        <CardActionArea\n                            onClick={() => setSelectedReward(item.rewardId)}\n                        >\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    rewardData[item.reward].images.length > 0\n                                        ? rewardData[item.reward].images[0]\n                                        : placeholderImages[\n                                              getPH(item.rewardId)\n                                          ]\n                                }\n                                title={rewardData[item.reward].name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={\n                                        selectedReward === item.rewardId\n                                            ? 'primary'\n                                            : undefined\n                                    }\n                                    style={{\n                                        fontWeight:\n                                            selectedReward === item.rewardId\n                                                ? 600\n                                                : 'initial',\n                                    }}\n                                >\n                                    {rewardData[item.reward].name}\n                                </Typography>\n                            </CardContent>\n                        </CardActionArea>\n                    </CardContent>\n                )}\n                withAdd={Boolean(account._id)}\n                addTitle={t('g.addReward')}\n                onAdd={() => setEditRewardOpen('new')}\n                bottomContent={\n                    selectedReward && selectedRewardObj ? (\n                        <>\n                            <Typography gutterBottom>\n                                {selectedRewardObj.name}\n                            </Typography>\n                            <Button\n                                onClick={() =>\n                                    props.history.push(\n                                        '/rewards/' + selectedRewardObj._id\n                                    )\n                                }\n                                color=\"primary\"\n                            >\n                                Go to reward item\n                            </Button>\n                            {selectedRewardObj &&\n                                account._id &&\n                                rewardObj.owner === account._id && (\n                                    <>\n                                        <Button\n                                            onClick={() =>\n                                                wsActions.sendReward(\n                                                    account._id,\n                                                    progress._id,\n                                                    selectedReward\n                                                )\n                                            }\n                                            color=\"primary\"\n                                        >\n                                            Send reward manually\n                                        </Button>\n                                        <Button\n                                            onClick={() =>\n                                                setEditRewardOpen(\n                                                    selectedReward\n                                                )\n                                            }\n                                        >\n                                            Edit reward\n                                        </Button>\n                                        <Button\n                                            onClick={() =>\n                                                setDeleteRewardVisible(\n                                                    selectedReward\n                                                )\n                                            }\n                                        >\n                                            Remove reward\n                                        </Button>\n                                    </>\n                                )}\n\n                            <Typography gutterBottom>\n                                {selectedRewardObj.name}\n                                {' details'}\n                            </Typography>\n                            <UserButton id={rewardObj.owner} />\n                            <span>\n                                {t(\n                                    'g.' +\n                                        (rewardObj.repeat === 'manual'\n                                            ? 'manual'\n                                            : rewardObj.repeat === 'once'\n                                            ? 'once'\n                                            : rewardObj.repeat === 'time'\n                                            ? 'everyTime'\n                                            : '')\n                                )}\n                                {t('reward.forActivities')}\n                                {rewardObj.activities.map(activity => {\n                                    if (activityData[activity]) {\n                                        return (\n                                            <Link\n                                                to={\n                                                    '/activities/' +\n                                                    activityData[activity]._id\n                                                }\n                                            >\n                                                {activityData[activity].name}\n                                            </Link>\n                                        )\n                                    }\n                                    return ''\n                                })}\n                            </span>\n                        </>\n                    ) : null\n                }\n            />\n            {progress && (\n                <>\n                    <DialogFullscreen\n                        open={Boolean(editRewardOpen)}\n                        close={() => setEditRewardOpen('')}\n                        title={t('activity.addActivityToGoal')}\n                    >\n                        {editRewardOpen && (\n                            <EditProgressReward\n                                account={account}\n                                rewardId={editRewardOpen}\n                                rewardData={rewardData}\n                                activityData={activityData}\n                                progress={progress}\n                                cancel={() => setEditRewardOpen('')}\n                            />\n                        )}\n                    </DialogFullscreen>\n                    <ConfirmAction\n                        open={Boolean(deleteRewardVisible)}\n                        title={t('activity.confirmRemove')}\n                        cancel={() => setDeleteRewardVisible('')}\n                        confirm={() => {\n                            wsActions.deleteRewardInProgress(\n                                account._id,\n                                progress._id,\n                                deleteRewardVisible\n                            )\n                            setSelectedReward('')\n                        }}\n                    />\n                </>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Rewards)\n)\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const getFriendsData = (progress, accountFriends) => {\n    if (webSocket && webSocket.readyState === 1) {\n        if (progress) {\n            let accountIds = [\n                progress.owner,\n                progress.worker,\n                ...accountFriends,\n            ]\n\n            accountIds = [...new Set(accountIds)]\n\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'getFriendsData',\n                    accountIds,\n                })\n            )\n        }\n    }\n}\n\nexport const editGoalInProgress = (data, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n                value,\n            })\n        )\n    }\n}\n\nexport const startProgress = (accountId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'startProgress',\n                accountId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteRewardFromProgress = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteRewardFromProgress',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\nexport const addRewardToProgress = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRewardToProgress',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n\nexport const deleteActivityFromProgress = (\n    accountId,\n    progressId,\n    activityId\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteActivityFromProgress',\n                accountId,\n                progressId,\n                activityId,\n            })\n        )\n    }\n}\nexport const addActivityToProgress = (accountId, progressId, activityId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addActivityToProgress',\n                accountId,\n                progressId,\n                activityId,\n            })\n        )\n    }\n}\n\nexport const sendReward = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'sendReward',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n","import dayjs from 'dayjs'\ndayjs().format()\nexport default activityObj => {\n    let lastStages = activityObj.stages\n        .slice(Math.max(activityObj.stages.length - 7, 0))\n        .sort((a, b) => {\n            let aS, aF, bS, bF\n            if (a.old && !b.old) return 1\n            else if (b.old && !a.old) return -1\n            else {\n                if (a.day) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .startOf('day')\n                    aF = dayjs()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .endOf('day')\n                    bS = dayjs()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .startOf('day')\n                    bF = dayjs()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .endOf('day')\n                } else if (a.week) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .week(a.week)\n                        .startOf('week')\n                    aF = dayjs()\n                        .year(a.year)\n                        .week(a.week)\n                        .endOf('week')\n                    bS = dayjs()\n                        .year(b.year)\n                        .week(b.week)\n                        .startOf('week')\n                    bF = dayjs()\n                        .year(b.year)\n                        .week(b.week)\n                        .endOf('week')\n                } else if (a.month) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .month(a.month)\n                        .startOf('month')\n                    aF = dayjs()\n                        .year(a.year)\n                        .month(a.month)\n                        .endOf('month')\n                    bS = dayjs()\n                        .year(b.year)\n                        .month(b.month)\n                        .startOf('month')\n                    bF = dayjs()\n                        .year(b.year)\n                        .month(b.month)\n                        .endOf('month')\n                } else if (a.year) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .startOf('year')\n                    aF = dayjs()\n                        .year(a.year)\n                        .endOf('year')\n                    bS = dayjs()\n                        .year(b.year)\n                        .startOf('year')\n                    bF = dayjs()\n                        .year(b.year)\n                        .endOf('year')\n                }\n                if (aS) {\n                    const now = dayjs()\n\n                    if (\n                        Math.min(\n                            Math.abs(now.diff(aS)),\n                            Math.abs(now.diff(aF))\n                        ) <=\n                        Math.min(Math.abs(now.diff(bS)), Math.abs(now.diff(bF)))\n                    )\n                        return -1\n                    else return 1\n                }\n            }\n            return 0\n        })\n\n    return lastStages.length > 0 ? lastStages[0].stageId : 0\n}\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Tabs from 'antd/es/tabs'\nimport Badge from 'antd/es/badge'\nimport dayjs from 'dayjs'\nimport {\n    Button,\n    CardContent,\n    CardMedia,\n    Chip,\n    createMuiTheme,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemSecondaryAction,\n    ListItemText,\n    MenuItem,\n    MuiThemeProvider,\n    Select,\n    Typography,\n} from '@material-ui/core'\nimport { blue, green, orange, purple, red } from '@material-ui/core/colors'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport { getPH, placeholderImages } from '../../components/MasonryCard'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\nimport getNowStageId from '../../utils/getNowStageId'\n\ndayjs().format()\n\nconst redTheme = createMuiTheme({\n    palette: { primary: { main: red[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: red[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(red[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst blueTheme = createMuiTheme({\n    palette: { primary: { main: blue[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: blue[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(blue[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst greenTheme = createMuiTheme({\n    palette: { primary: { main: green[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: green[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(green[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst orangeTheme = createMuiTheme({\n    palette: { primary: { main: orange[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: orange[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(orange[600], 0.05),\n                },\n            },\n        },\n    },\n})\n\nconst customTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    overrides: {\n        MuiListItem: {\n            secondaryAction: {\n                paddingRight: '133px',\n                paddingLeft: 0,\n            },\n        },\n    },\n})\n\nconst ActivityTable = props => {\n    const { t } = useTranslation()\n    const [showEarnedRewards, setShowEarnedRewards] = useState(false)\n    const { account, rewardData, activityData, activityId, activity } = props\n\n    if (!activityId) return null\n    const activityObj =\n        activityId === activity._id ? activity : activityData[activityId]\n    if (!activityObj) return null\n\n    const isOwner = account && account._id === activityObj.owner\n\n    const nowStageId = getNowStageId(activityObj)\n    const stages = activityObj.stages\n\n    return stages.length === 0 ? null : (\n        <MuiThemeProvider theme={customTheme}>\n            <Tabs\n                // activeKey={activeTab}\n                type=\"card\"\n                defaultActiveKey={\n                    nowStageId\n                        ? stages\n                              .findIndex(item => item.stageId === nowStageId)\n                              .toString()\n                        : '2'\n                }\n                // onTabClick={key => setActiveTab(key === activeTab ? -1 : key)}\n            >\n                {stages.map((stage, index) => {\n                    const getStatus = id => {\n                        if (isOwner && stage.dismissed) return 'dismissed'\n                        if (stage.failBy.find(item => item.accountId === id))\n                            return 'fail'\n                        if (\n                            stage.approvedBy.find(item => item.accountId === id)\n                        )\n                            return 'complete'\n                        return 'process'\n                    }\n\n                    const getStatusText = id => {\n                        const status = getStatus(id)\n                        switch (status) {\n                            case 'fail':\n                                return t('progress.failed')\n                            case 'complete':\n                                return t('progress.completed')\n                            case 'dismissed':\n                                return t('progress.dismissed')\n                            default:\n                                return t('progress.inProcess')\n                        }\n                    }\n                    const myStatus =\n                        account && account._id && getStatus(account._id)\n\n                    const stageStatus = getStatus(activityObj.owner)\n\n                    const getTag = id => {\n                        return id === account._id ? (\n                            <Select\n                                labelId=\"demo-simple-select-label\"\n                                id=\"demo-simple-select\"\n                                value={myStatus}\n                                onChange={e =>\n                                    wsActions.changeStage(\n                                        e.target.value,\n                                        account._id,\n                                        activityObj._id,\n                                        stage.stageId\n                                    )\n                                }\n                            >\n                                <MenuItem value=\"complete\">\n                                    {t('progress.complete')}\n                                </MenuItem>\n                                <MenuItem value=\"process\">\n                                    {t('progress.inProcess')}\n                                </MenuItem>\n                                <MenuItem value=\"fail\">\n                                    {t('progress.fail')}\n                                </MenuItem>\n                                <MenuItem value=\"dismissed\">\n                                    {t('progress.dismiss')}\n                                </MenuItem>\n                            </Select>\n                        ) : (\n                            <Chip color=\"primary\" label={getStatusText(id)} />\n                        )\n                    }\n\n                    const users = activityObj.users\n                        .filter(item => item !== activityObj.owner)\n                        .map(user => {\n                            const userStatus = getStatus(user)\n                            return (\n                                <ListItem>\n                                    <ListItemAvatar>\n                                        <UserButton noName={true} id={user} />\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={\n                                            <UserButton\n                                                id={user}\n                                                noAva={true}\n                                                span={true}\n                                                onlyName={true}\n                                            />\n                                        }\n                                    />\n                                    <ListItemSecondaryAction>\n                                        <MuiThemeProvider\n                                            theme={\n                                                userStatus === 'process'\n                                                    ? blueTheme\n                                                    : userStatus === 'complete'\n                                                    ? greenTheme\n                                                    : userStatus === 'fail'\n                                                    ? redTheme\n                                                    : orangeTheme\n                                            }\n                                        >\n                                            {getTag(user)}\n                                        </MuiThemeProvider>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            )\n                        })\n\n                    const owner = [\n                        <ListItem>\n                            <ListItemAvatar>\n                                <UserButton\n                                    noName={true}\n                                    id={activityObj.owner}\n                                />\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Typography noWrap variant=\"body2\">\n                                        <UserButton\n                                            id={activityObj.owner}\n                                            noAva={true}\n                                            span={true}\n                                            onlyName={true}\n                                        />\n                                    </Typography>\n                                }\n                            />\n                            <ListItemSecondaryAction>\n                                <MuiThemeProvider\n                                    theme={\n                                        stageStatus === 'process'\n                                            ? blueTheme\n                                            : stageStatus === 'complete'\n                                            ? greenTheme\n                                            : stageStatus === 'fail'\n                                            ? redTheme\n                                            : orangeTheme\n                                    }\n                                >\n                                    {getTag(activityObj.owner)}\n                                </MuiThemeProvider>\n                            </ListItemSecondaryAction>\n                        </ListItem>,\n                    ]\n                    let stageDate\n                    let tabTitle = <div>One time goal</div>\n                    if (stage.day) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .dayOfYear(stage.day)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('dddd')}</span>\n                                </div>\n                                <div>\n                                    <span>{stageDate.format('D MMM YY')}</span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.week) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .week(stage.week)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('wo')} week</span>\n                                </div>\n                                <div>\n                                    <span>\n                                        {stageDate\n                                            .startOf('week')\n                                            .format('D MMM YY')}\n                                    </span>\n                                </div>\n                                <div>\n                                    <span>\n                                        {stageDate\n                                            .endOf('week')\n                                            .format('D MMM YY')}\n                                    </span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.month) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .month(stage.month)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('MMMM')}</span>\n                                </div>\n                                <div>\n                                    <span>{stageDate.format('YYYY')}</span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.year) {\n                        stageDate = dayjs().year(stage.year)\n\n                        tabTitle = (\n                            <div>\n                                <span>{stageDate.format('YYYY')}</span>\n                            </div>\n                        )\n                    }\n\n                    return (\n                        <Tabs.TabPane\n                            tab={\n                                <Badge\n                                    color={\n                                        stageStatus === 'complete'\n                                            ? 'green'\n                                            : stageStatus === 'dismissed'\n                                            ? 'orange'\n                                            : stageStatus === 'fail'\n                                            ? 'volcano'\n                                            : 'blue'\n                                    }\n                                >\n                                    <span\n                                        style={{\n                                            fontSize: '12px',\n                                            textTransform: 'uppercase',\n                                            textAlign: 'center',\n                                        }}\n                                    >\n                                        {tabTitle}\n                                    </span>\n                                </Badge>\n                            }\n                            key={index}\n                        >\n                            <List dense={true}>\n                                {owner}\n                                {users}\n                            </List>\n\n                            {stage.paid.length > 0 && (\n                                <>\n                                    {/* {showEarnedRewards && (\n                                        // <Rewards\n                                        //     rewards={stage.paid}\n                                        //     readOnly\n                                        // />\n                                    )} */}\n                                    <Button\n                                        onClick={() =>\n                                            setShowEarnedRewards(\n                                                !showEarnedRewards\n                                            )\n                                        }\n                                        color=\"primary\"\n                                        style={{}}\n                                    >\n                                        {(showEarnedRewards\n                                            ? t('g.hide')\n                                            : t('g.show')) +\n                                            t('progress.earnedRewards')}\n                                    </Button>\n                                    {showEarnedRewards && (\n                                        <HorizontalScrollList\n                                            items={stage.paid\n                                                .map(item => rewardData[item])\n                                                .filter(item => item)}\n                                            content={item => (\n                                                <CardContent\n                                                    style={{\n                                                        textAlign: 'center',\n                                                        position: 'relative',\n                                                        padding: '5px',\n                                                    }}\n                                                >\n                                                    <Link\n                                                        to={\n                                                            '/rewards/' +\n                                                            item._id\n                                                        }\n                                                    >\n                                                        <CardMedia\n                                                            style={{\n                                                                height: '150px',\n                                                                backgroundSize:\n                                                                    'contain',\n                                                            }}\n                                                            image={\n                                                                item.images\n                                                                    .length > 0\n                                                                    ? item\n                                                                          .images[0]\n                                                                    : placeholderImages[\n                                                                          getPH(\n                                                                              item._id\n                                                                          )\n                                                                      ]\n                                                            }\n                                                            title={item.name}\n                                                        />\n                                                        <CardContent\n                                                            style={{\n                                                                padding: '5px',\n                                                            }}\n                                                        >\n                                                            <Typography\n                                                                variant=\"body2\"\n                                                                noWrap\n                                                            >\n                                                                {item.name}\n                                                            </Typography>\n                                                        </CardContent>\n                                                    </Link>\n                                                </CardContent>\n                                            )}\n                                        />\n                                    )}\n                                </>\n                            )}\n                        </Tabs.TabPane>\n                    )\n                })}\n            </Tabs>\n        </MuiThemeProvider>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n        activity: state.activity,\n        account: state.account,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ActivityTable))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const saveActivity = (accountId, activity) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveActivity',\n                accountId,\n                activity,\n            })\n        )\n    }\n}\n\nexport const changeLikesActivity = (accountId, activityId, add) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesActivity',\n                accountId,\n                activityId,\n                add,\n            })\n        )\n    }\n}\n\nexport const deleteActivity = (accountId, activityId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteActivity',\n                accountId,\n                activityId,\n            })\n        )\n    }\n}\n\nexport const changeStage = (value, accountId, activityId, stageId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeStage',\n                value,\n                activityId,\n                accountId,\n                stageId,\n            })\n        )\n    }\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Button,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogTitle,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport ProfileActivities from '../ProfileActivities/ProfileActivities'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport { useTranslation } from 'react-i18next'\nimport ActivityTable from '../../containers/Goal/ActivityTable'\nimport EditResource from '../EditResource/EditResource'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst Activities = props => {\n    const { t } = useTranslation()\n    // const [anchorEl, setAnchorEl] = useState(null)\n    const [addActivityOpen, setAddActivityOpen] = useState(false)\n    const [selectedActivity, setSelectedActivity] = useState('')\n    const [deleteActivityVisible, setDeleteActivityVisible] = useState(false)\n\n    const { activityData, account, progress, activities } = props\n\n    // const handleClose = () => {\n    //     setAnchorEl(null)\n    // }\n    // const handleClick = event => {\n    //     setAnchorEl(event.currentTarget)\n    // }\n\n    const activitiesIds = (progress ? progress.activities : activities) || []\n    return (\n        <>\n            <HorizontalScrollList\n                title={t('g.activities')}\n                items={activitiesIds\n                    .map(item => activityData[item])\n                    .filter(item => item)}\n                content={item => (\n                    <CardContent\n                        style={{\n                            textAlign: 'center',\n                            position: 'relative',\n                            padding: '5px',\n                        }}\n                    >\n                        <CardActionArea\n                            onClick={() => setSelectedActivity(item._id)}\n                        >\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={\n                                        selectedActivity === item._id\n                                            ? 'primary'\n                                            : undefined\n                                    }\n                                    style={{\n                                        fontWeight:\n                                            selectedActivity === item._id\n                                                ? 600\n                                                : 'initial',\n                                    }}\n                                >\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </CardActionArea>\n                    </CardContent>\n                )}\n                withAdd={Boolean(\n                    account &&\n                        (props.isOwner ||\n                            (progress && progress.owner === account._id))\n                )}\n                addTitle={t('g.addActivity')}\n                onAdd={() => setAddActivityOpen(true)}\n                bottomContent={\n                    selectedActivity && activityData[selectedActivity] ? (\n                        <>\n                            <Typography gutterBottom>\n                                {activityData[selectedActivity]\n                                    ? activityData[selectedActivity].name\n                                    : 'Selected activity'}\n                            </Typography>\n                            <Button\n                                onClick={() =>\n                                    props.history.push(\n                                        '/activities/' + selectedActivity\n                                    )\n                                }\n                                color=\"primary\"\n                            >\n                                Go to activity\n                            </Button>\n                            {progress && (\n                                <Button\n                                    onClick={() =>\n                                        setDeleteActivityVisible(\n                                            selectedActivity\n                                        )\n                                    }\n                                >\n                                    Remove activity\n                                </Button>\n                            )}\n                            <Typography gutterBottom>\n                                {activityData[selectedActivity]\n                                    ? activityData[selectedActivity].name\n                                    : 'Selected activity'}\n                                {' tracking'}\n                            </Typography>\n                            <ActivityTable activityId={selectedActivity} />\n                        </>\n                    ) : null\n                }\n            />\n            {progress && (\n                <>\n                    <DialogFullscreen\n                        open={addActivityOpen}\n                        close={() => setAddActivityOpen(false)}\n                        title={t('activity.addActivityToGoal')}\n                    >\n                        <ProfileActivities\n                            owner={account}\n                            isSelect\n                            value={[]}\n                            onChange={value => {\n                                if (value.length > 0)\n                                    wsActions.addActivityToProgress(\n                                        account._id,\n                                        progress._id,\n                                        value[0]\n                                    )\n                                setAddActivityOpen(false)\n                            }}\n                            // openInDialog\n                            // additionalButton={item => (\n                            //     <Button\n                            //         color=\"primary\"\n                            //         onClick={() => {\n                            //             wsActions.addActivityToProgress(\n                            //                 account._id,\n                            //                 progress._id,\n                            //                 item._id\n                            //             )\n                            //             setAddActivityOpen(false)\n                            //         }}\n                            //     >\n                            //         {t('g.choose')}\n                            //     </Button>\n                            // )}\n                        />\n                    </DialogFullscreen>\n                    <Dialog\n                        open={Boolean(deleteActivityVisible)}\n                        onClose={() => setDeleteActivityVisible(false)}\n                    >\n                        <DialogTitle>{t('activity.confirmRemove')}</DialogTitle>\n\n                        <DialogActions>\n                            <Button\n                                onClick={() => setDeleteActivityVisible(false)}\n                                color=\"primary\"\n                            >\n                                {t('g.cancel')}\n                            </Button>\n                            <Button\n                                onClick={() => {\n                                    wsActions.deleteActivityFromProgress(\n                                        account._id,\n                                        progress._id,\n                                        deleteActivityVisible\n                                    )\n                                    setDeleteActivityVisible(false)\n                                    setSelectedActivity('')\n                                }}\n                                color=\"primary\"\n                            >\n                                {t('g.confirm')}\n                            </Button>\n                        </DialogActions>\n                    </Dialog>\n                </>\n            )}\n            {props.isOwner && (\n                <Dialog\n                    fullScreen\n                    open={addActivityOpen}\n                    onClose={() => setAddActivityOpen(false)}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <EditResource\n                        type=\"activity\"\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setAddActivityOpen(false)}\n                    />\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        activityData: state.activityData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Activities)\n)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport ReadMore from '../../components/UI/ReadMore'\nimport { makeStyles, Paper, Typography } from '@material-ui/core'\n\nimport Rewards from '../../components/Rewards/Rewards'\nimport Activities from '../../components/Activities/Activities'\nimport { useTranslation } from 'react-i18next'\nimport ResourceCore from '../../components/ResourceCore'\nimport MapPosition from '../../components/MapPosition/MapPosition'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Goal = () => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [progress, setProgress] = useState(null)\n    return (\n        <ResourceCore type=\"goal\" setResource={setProgress}>\n            {progress && progress._id && (\n                <>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.desc')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <ReadMore\n                            initialHeight={200}\n                            contentEditor={progress.description}\n                        />\n                    </Paper>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.position')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <MapPosition position={progress.position} />\n                    </Paper>\n                    <Activities progress={progress} />\n                    <Rewards progress={progress} />\n                </>\n            )}\n        </ResourceCore>\n    )\n}\n\nexport default withRouter(Goal)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport RetweetOutlined from '@ant-design/icons/RetweetOutlined'\nimport ReadMore from '../../components/UI/ReadMore'\nimport { Divider, makeStyles, Paper, Typography } from '@material-ui/core'\n\nimport { useTranslation } from 'react-i18next'\nimport ResourceCore from '../../components/ResourceCore'\nimport ActivityTable from '../Goal/ActivityTable'\nimport MapPosition from '../../components/MapPosition/MapPosition'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Activity = () => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [activity, setActivity] = useState(null)\n\n    const getDay = day => {\n        switch (day) {\n            case '0':\n                return t('g.sunday')\n            case '1':\n                return t('g.monday')\n            case '2':\n                return t('g.tuesday')\n            case '3':\n                return t('g.wednesday')\n            case '4':\n                return t('g.thursday')\n            case '5':\n                return t('g.friday')\n            case '6':\n                return t('g.saturday')\n\n            default:\n                return ''\n        }\n    }\n\n    const getRepeatType = repeat => {\n        switch (repeat) {\n            case 'day':\n                return t('g.everyDay')\n            case 'weekday':\n                return t('g.everyDayOfWeek')\n            case 'week':\n                return t('g.everyWeek')\n            case 'month':\n                return t('g.everyMonth')\n            case 'year':\n                return t('g.everyYear')\n            default:\n                return ''\n        }\n    }\n    return (\n        <ResourceCore type=\"activity\" setResource={setActivity}>\n            {activity && (\n                <>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.tracking')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <ActivityTable activityId={activity._id} />\n                    </Paper>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.desc')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        {activity.repeat !== 'no' && (\n                            <>\n                                <p>\n                                    <RetweetOutlined />\n                                    {` ${t('g.repeats')} \n                            ${getRepeatType(activity.repeat) +\n                                (activity.repeat === 'weekday'\n                                    ? ' (' +\n                                      activity.days.reduce(\n                                          (acc, val, index) =>\n                                              acc +\n                                              (index > 0 ? ', ' : '') +\n                                              getDay(val),\n                                          ''\n                                      ) +\n                                      ').'\n                                    : '.')}`}\n                                </p>\n                                <Divider\n                                    light\n                                    variant=\"middle\"\n                                    style={{ marginBottom: '15px' }}\n                                />\n                            </>\n                        )}\n\n                        <ReadMore\n                            initialHeight={200}\n                            contentEditor={activity.description}\n                        />\n                    </Paper>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.position')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <MapPosition position={activity.position} />\n                    </Paper>\n                    {/* Used in goals\n                    Associated rewards */}\n                </>\n            )}\n        </ResourceCore>\n    )\n}\n\nexport default withRouter(Activity)\n","import { Box, Button, Container, Typography } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport LoginModal from '../Layout/LoginModal'\nimport * as classes from './Welcome.module.scss'\nimport { useTranslation } from 'react-i18next'\nimport { accountNameRules } from '../../constants/fieldRules'\n\nconst Welcome = props => {\n    const { t } = useTranslation()\n    const [loginVisible, setLoginVisible] = useState(false)\n\n    return props.account._id ? null : (\n        <Container>\n            <Box>\n                <header className={classes.header}>\n                    <h1 className={classes.header__title}>\n                        <div>\n                            <span>{t('welcome.title')}</span>\n                        </div>\n                        <div className={classes.slider}>\n                            <ul className={classes.slider__words}>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase1')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase2')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase3')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase4')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase1')}\n                                </li>\n                            </ul>\n                        </div>\n                    </h1>\n                </header>\n            </Box>\n            <span className={classes.subheader}>{t('welcome.subheader')}</span>\n            <div className={classes.videoWrapper}>\n                <iframe\n                    width=\"560\"\n                    height=\"315\"\n                    src={\n                        'https://www.youtube.com/embed/' +\n                        t('welcome.videoLink')\n                    }\n                    frameBorder=\"0\"\n                    allowFullScreen\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                />\n            </div>\n            {!props.account._id && (\n                <>\n                    <Box\n                        style={{\n                            margin: '40px auto 10px',\n                            textAlign: 'center',\n                        }}\n                    >\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"large\"\n                            onClick={() => setLoginVisible(true)}\n                        >\n                            {t('welcome.button')}\n                        </Button>\n                    </Box>\n                    <LoginModal\n                        loginVisible={loginVisible}\n                        setLoginVisible={setLoginVisible}\n                    />\n                </>\n            )}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default connect(mapStateToProps)(Welcome)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\n\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Grid,\n    makeStyles,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport dayjs from 'dayjs'\nimport 'dayjs/locale/ru'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        root: {\n            flexGrow: 1,\n            marginTop: '20px',\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%', // 16:9\\\n            backgroundSize: 'contain',\n        },\n    })\n)\n\nconst Blog = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [posts, setPosts] = useState([])\n    const [title, setTitle] = useState('')\n    const [all, setAll] = useState(false)\n    useEffect(() => {\n        fetch('https://addspire-blog.herokuapp.com/graphql', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                query: `\n             query {\n   posts (\n       ${\n           !all\n               ? `where: { language:\"${\n                     props.history.location.pathname.indexOf('/ru') === 0\n                         ? 'ru'\n                         : 'en'\n                 }\" },`\n               : ''\n       } \n   sort:\"published_at:desc\"){\n    url\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}`,\n            }),\n        })\n            .then(res => res.json())\n            .then(data => {\n                setPosts(data.data.posts)\n                setTitle(t('blog.title'))\n            })\n    }, [props.history.location.pathname, all])\n    return (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n            <Layout white>\n                <Welcome />\n                <Button onClick={() => setAll(!all)} color=\"primary\">\n                    {all ? t('blog.hide') : t('blog.show')}\n                </Button>\n                <div className={classes.root}>\n                    <Grid container spacing={3}>\n                        {posts.map(post => (\n                            <Grid item xs={12} md={6} xl={4}>\n                                <Card>\n                                    <Link\n                                        to={\n                                            props.history.location.pathname +\n                                            '/' +\n                                            post.url.split('.')[0]\n                                        }\n                                    >\n                                        <CardActionArea>\n                                            <CardMedia\n                                                className={classes.media}\n                                                image={\n                                                    post.previewImage &&\n                                                    post.previewImage.url\n                                                }\n                                                title={post.title}\n                                            />\n                                            <CardContent>\n                                                <Typography\n                                                    gutterBottom\n                                                    variant=\"h5\"\n                                                    component=\"h2\"\n                                                >\n                                                    {post.title}\n                                                </Typography>\n                                                <Typography\n                                                    gutterBottom\n                                                    variant=\"subtitle1\"\n                                                >\n                                                    {post.subtitle}\n                                                </Typography>\n\n                                                <Typography\n                                                    align=\"right\"\n                                                    variant=\"button\"\n                                                    color=\"textSecondary\"\n                                                    component=\"p\"\n                                                >\n                                                    {dayjs(\n                                                        post.published_at\n                                                    ).format('MMMM D[,] YYYY')}\n                                                </Typography>\n                                            </CardContent>\n                                        </CardActionArea>\n                                    </Link>\n                                </Card>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </div>\n            </Layout>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","export const friendsBreakPoints = {\n    default: 4,\n    1600: 3,\n    1100: 2,\n    600: 1,\n}\n\nexport const cardBreakPoints = {\n    default: 4,\n    1100: 3,\n    700: 2,\n    310: 1,\n}\n","import React from 'react'\nimport Masonry from 'react-masonry-css'\nimport {\n    cardBreakPoints,\n    friendsBreakPoints,\n} from '../utils/masonryBreakPoints'\n\nexport default props => (\n    <div style={{ ...props.style }}>\n        <Masonry\n            breakpointCols={3}\n            className=\"my-masonry-grid\"\n            columnClassName=\"my-masonry-grid_column\"\n            breakpointCols={\n                props.friends ? friendsBreakPoints : cardBreakPoints\n            }\n        >\n            {props.children}\n        </Masonry>\n    </div>\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nconst ProgressButton = props => {\n    const { id, type } = props\n    const dataProp =\n        type === 'goals'\n            ? 'progressData'\n            : type === 'rewards'\n            ? 'rewardData'\n            : 'activityData'\n    if (!props[dataProp][id]) return null\n\n    const handleClick = () => props.history.push('/' + type + '/' + id)\n    return (\n        <span\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n            }}\n            onClick={e => {\n                e.stopPropagation()\n                handleClick()\n            }}\n        >\n            {props[dataProp][id].name}\n        </span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        progressData: state.progressData,\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProgressButton))\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport { CircleMarker, Map, Marker, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from './LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Grid,\n    Slider,\n    MenuItem,\n    Select,\n    Switch,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\n\nconst MapSettings = props => {\n    const { t } = useTranslation()\n    const { mapVisible, setMapVisible, onSearch, setSearch, search } = props\n    const map = useRef(null)\n    const [radius, setRadius] = useState(false)\n    const [changed, setChanged] = useState(false)\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch({\n                useMapBounds: false,\n                placeholder: t('g.mapPlaceholder'),\n                title: t('g.mapTitle'),\n            }).addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    const [initialPosition, setInitialPosition] = useState(search.position)\n\n    const mapClick = e => {\n        setSearch({\n            ...search,\n            position: [e.latlng.lat, e.latlng.lng],\n            withMap: true,\n        })\n    }\n    const mapDragEnd = e => {\n        const latlng = e.target.getLatLng()\n        setSearch({\n            ...search,\n            position: [latlng.lat, latlng.lng],\n            withMap: true,\n        })\n    }\n\n    useEffect(() => {\n        getRadius()\n    }, [props.search])\n\n    useEffect(() => setChanged(false), [mapVisible])\n\n    const getRadius = () => {\n        if (map && map.current && map.current.leafletElement) {\n            const metresPerPixel =\n                (40075016.686 *\n                    Math.abs(\n                        Math.cos(\n                            (map.current.leafletElement.getCenter().lat *\n                                Math.PI) /\n                                180\n                        )\n                    )) /\n                Math.pow(2, map.current.leafletElement.getZoom() + 8)\n\n            setRadius(\n                search.units === 'mi'\n                    ? (search.distance * 1609) / metresPerPixel\n                    : (search.distance * 1000) / metresPerPixel\n            )\n        }\n    }\n\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={mapVisible}\n            onClose={() => {\n                setMapVisible(false)\n                if (changed) onSearch(search)\n            }}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (changed) onSearch(search)\n                        }}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {t('explore.searchWithLocation')}\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (changed) onSearch(search)\n                        }}\n                    >\n                        {t('g.done')}\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Grid\n                container\n                style={{ padding: '15px', maxWidth: '800px' }}\n                alignItems=\"center\"\n            >\n                <Grid item xs={4} sm={4}>\n                    {t('explore.searchWithLocation')}\n                </Grid>\n                <Grid item xs={8} sm={8}>\n                    <Switch\n                        checked={search.withMap}\n                        color=\"primary\"\n                        onChange={e => {\n                            setSearch({\n                                ...search,\n                                withMap: e.target.checked,\n                            })\n                            setChanged(true)\n                        }}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    {t('g.distance')}\n                </Grid>\n                <Grid item xs={8}>\n                    <Slider\n                        valueLabelDisplay=\"auto\"\n                        min={1}\n                        max={500}\n                        onChange={(e, distance) => {\n                            setSearch({ ...search, distance })\n                            setChanged(true)\n                        }}\n                        value={search.distance}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    {t('g.units')}\n                </Grid>\n                <Grid item xs={8}>\n                    <Select\n                        value={search.units}\n                        onChange={event => {\n                            setSearch({\n                                ...search,\n                                units: event.target.value,\n                            })\n                            setChanged(true)\n                        }}\n                    >\n                        <MenuItem value=\"mi\">{t('g.miles')}</MenuItem>\n                        <MenuItem value=\"km\">{t('g.km')}</MenuItem>\n                    </Select>\n                </Grid>\n            </Grid>\n\n            <div\n                style={{\n                    position: 'relative',\n                    minHeight: '300px',\n                    flex: 1,\n                    marginTop: '30px',\n                    overflow: 'hidden',\n                }}\n            >\n                <Map\n                    whenReady={() => {\n                        getRadius()\n                    }}\n                    ref={map}\n                    center={initialPosition}\n                    zoom={11}\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        position: 'relative',\n                        zIndex: 1,\n                    }}\n                    onClick={mapClick}\n                    gestureHandling={true}\n                >\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <LocateControl />\n                    <CircleMarker center={search.position} radius={radius} />\n                    <Marker\n                        position={search.position}\n                        draggable\n                        ondragend={mapDragEnd}\n                    />\n                </Map>\n            </div>\n        </Dialog>\n    )\n}\n\nexport default MapSettings\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport InfiniteScroll from 'react-infinite-scroller'\nimport message from 'antd/es/message'\n\nimport MasonryGrid from '../../components/MasonryGrid'\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport Helmet from 'react-helmet'\n\nimport 'leaflet/dist/leaflet.css'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    Box,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Divider,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Tab,\n    Tabs,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { LocationOn, SearchOutlined } from '@material-ui/icons'\nimport MapSettings from './MapSettings'\nimport Layout from '../../components/Layout/Layout'\nimport { Link } from 'react-router-dom'\nimport ShareButton from '../../components/UI/ShareButton'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport Welcome from '../../components/Welcome'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next'\nimport GoalCategories from '../../components/EditResource/GoalCategories'\nimport ReadMore from '../../components/UI/ReadMore'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'relative',\n        },\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\n\nexport const sortProgresses = (a, b) => {\n    const valA = a.views || 0\n    const valB = b.views || 0\n    return valA > valB ? -1 : 1\n}\nconst Explore = props => {\n    const { t } = useTranslation()\n\n    const { account, progressData } = props\n    const [mapVisible, setMapVisible] = useState(false)\n    const [foundProgresses, setFoundProgresses] = useState([])\n\n    const [noMore, setNoMore] = useState(false)\n    const [value, setValue] = useState(false)\n\n    const [search, setSearch] = useState({\n        value: '',\n        withMap: false,\n        distance: 20,\n        zoom: 7,\n        position: [40.689078, -74.044526],\n        units: 'mi',\n        categories: [],\n        type: 'goal',\n    })\n\n    const onSearch = value => {\n        let liveFoundProcesses = [...foundProgresses]\n        if (value) {\n            setSearch(value)\n            setNoMore(false)\n            setFoundProgresses([])\n            liveFoundProcesses = []\n        }\n        if (!noMore || value) {\n            setNoMore(true)\n            axios\n                .post('/api/explore/search', {\n                    value: value || search,\n                    skip: value ? 0 : liveFoundProcesses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMore(res.data.noMore)\n                        setFoundProgresses([\n                            ...liveFoundProcesses,\n                            ...res.data.progresses,\n                        ])\n                        if (res.data.progresses.length === 0)\n                            message.warning(t('explore.noGoals'))\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(t('explore.wrongData'))\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n\n    const classes = useStyles()\n\n    let loadedProgresses = []\n    if (account._id && account.recentProgresses) {\n        loadedProgresses = account.recentProgresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n    const urlDir =\n        search.type === 'goal'\n            ? 'goals'\n            : search.type === 'activity'\n            ? 'activities'\n            : 'rewards'\n    return (\n        <Layout white>\n            <div>\n                <Helmet>\n                    <title>{t('explore.title')}</title>\n                    <meta name=\"description\" content={t('explore.desc')} />\n                </Helmet>\n\n                <MapSettings\n                    mapVisible={mapVisible}\n                    setMapVisible={setMapVisible}\n                    setFoundProgresses={setFoundProgresses}\n                    onSearch={onSearch}\n                    setSearch={setSearch}\n                    search={search}\n                />\n                <Welcome />\n                <HorizontalScrollList\n                    title={t('explore.recentViewedGoals')}\n                    items={loadedProgresses}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.images.length > 0\n                                            ? item.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                />\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('explore.topGoalsTitle')}\n                </Typography>\n\n                <Tabs\n                    value={search.type}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    onChange={(event, type) => onSearch({ ...search, type })}\n                    style={{ marginBottom: '15px' }}\n                >\n                    <Tab label={t('g.goals')} value=\"goal\" />\n                    <Tab label={t('g.activities')} value=\"activity\" />\n                    <Tab label={t('g.rewards')} value=\"reward\" />\n                </Tabs>\n\n                <Paper className={classes.root} variant=\"outlined\">\n                    <InputBase\n                        className={classes.input}\n                        placeholder={t(\n                            'explore.' +\n                                (search.type === 'goal'\n                                    ? 'mapPHGoals'\n                                    : search.type === 'activity'\n                                    ? 'mapPHActivities'\n                                    : 'mapPHRewards')\n                        )}\n                        onChange={e => {\n                            if (!e.target.value && !search.withMap) {\n                                setSearch({ ...search, value: '' })\n                            }\n                            setValue(e.target.value || '')\n                        }}\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => {\n                            if (value && value !== search.value) {\n                                onSearch({\n                                    ...search,\n                                    value,\n                                })\n                            }\n                        }}\n                    >\n                        <SearchOutlined />\n                    </IconButton>\n                    <Divider\n                        className={classes.divider}\n                        orientation=\"vertical\"\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => {\n                            setMapVisible(true)\n                            setSearch({ ...search, withMap: true })\n                        }}\n                        color={search.withMap ? 'primary' : 'default'}\n                    >\n                        <LocationOn />\n                    </IconButton>\n                </Paper>\n                <Box margin=\"10px 0px 50px\">\n                    <ReadMore\n                        initialHeight={135}\n                        addTitle={t('g.spaceCategories')}\n                    >\n                        <GoalCategories\n                            nolim\n                            value={search.categories}\n                            onChange={categories =>\n                                onSearch({ ...search, categories })\n                            }\n                        />\n                    </ReadMore>\n                </Box>\n\n                {/* {loadedProgresses.length > 0 ? ( */}\n                {/* ) : null} */}\n\n                <InfiniteScroll\n                    pageStart={0}\n                    loadMore={() => onSearch()}\n                    hasMore={!noMore}\n                    loader={\n                        <div className=\"loader\" key={0}>\n                            <span>{t('explore.loading')}</span>\n                        </div>\n                    }\n                >\n                    <MasonryGrid>\n                        {foundProgresses\n                            .sort(sortProgresses)\n                            .map((item, index) => (\n                                <MasonryCard\n                                    id={item._id}\n                                    key={index}\n                                    onClickLink={'/' + urlDir + '/' + item._id}\n                                    images={item.images}\n                                    body={\n                                        <>\n                                            {/* <UserButton\n                                                noName={true}\n                                                id={item.owner}\n                                                friendDataExp={friendData}\n                                            /> */}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {item.name}\n                                            </span>\n                                        </>\n                                    }\n                                    actions={\n                                        <ShareButton\n                                            link={\n                                                'https://addspire.com/' +\n                                                urlDir +\n                                                '/' +\n                                                item._id\n                                            }\n                                            title={\n                                                item.name +\n                                                t('explore.shareText')\n                                            }\n                                            media={\n                                                item.images && item.images[0]\n                                            }\n                                            item={{\n                                                progressId: item._id,\n                                                progressName: item.name,\n                                            }}\n                                        />\n                                    }\n                                />\n                            ))}\n                    </MasonryGrid>\n                </InfiniteScroll>\n            </div>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        progressData: state.progressData,\n    }\n}\n\nexport default connect(mapStateToProps)(Explore)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Badge,\n    Box,\n    Button,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    MenuItem,\n    Select,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport { useTranslation } from 'react-i18next'\nimport ActivityTable from '../../containers/Goal/ActivityTable'\nimport dayjs from 'dayjs'\nimport { spanStyle } from '../Post/Message'\nimport ConfirmAction from '../UI/ConfirmAction'\nimport UserButton from '../UserButton/UserButton'\ndayjs().format()\n\nconst Transactions = props => {\n    const { t } = useTranslation()\n    // const [anchorEl, setAnchorEl] = useState(null)\n\n    const [selectedTransaction, setSelectedTransaction] = useState('')\n    const [deleteTransactionVisible, setDeleteTransactionVisible] = useState(\n        false\n    )\n\n    const { transactionData, rewardData, account, transactions, owner } = props\n\n    // const handleClose = () => {\n    //     setAnchorEl(null)\n    // }\n    // const handleClick = event => {\n    //     setAnchorEl(event.currentTarget)\n    // }\n\n    const transactionObj =\n        selectedTransaction && transactionData[selectedTransaction]\n    const rewardObj = transactionObj && rewardData[transactionObj.reward]\n    return (\n        <>\n            <HorizontalScrollList\n                title={t('profile.receivedAndGivenRewards')}\n                items={transactions\n                    .map(item => transactionData[item])\n                    .filter(item => item)\n                    .filter(item => rewardData[item.reward])\n                    .map(item => ({\n                        ...item,\n                        rewardObject: rewardData[item.reward],\n                    }))\n                    .sort((a, b) => {\n                        if (\n                            a.status === 'confirmed' &&\n                            b.status !== 'confirmed'\n                        )\n                            return 1\n                        if (\n                            a.status !== 'confirmed' &&\n                            b.status === 'confirmed'\n                        )\n                            return -1\n                        if (a.status === 'process' && b.status !== 'process')\n                            return 1\n                        if (a.status !== 'process' && b.status === 'process')\n                            return -1\n                        // if (\n                        //     a.status !== 'confirmed' &&\n                        //     b.status !== 'confirmed'\n                        // ) {\n                        //     if (a.to === owner._id && b.to !== owner._id)\n                        //         return 1\n                        //     if (a.to !== owner._id && b.to === owner._id)\n                        //         return -1\n                        // }\n                        return new Date(a.date).getTime() <\n                            new Date(b.date).getTime()\n                            ? 1\n                            : -1\n                    })}\n                content={item => (\n                    <CardContent\n                        style={{\n                            textAlign: 'center',\n                            position: 'relative',\n                            padding: '5px',\n                        }}\n                    >\n                        <CardActionArea\n                            onClick={() => setSelectedTransaction(item._id)}\n                        >\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.rewardObject.images.length > 0\n                                        ? item.rewardObject.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.rewardObject.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={\n                                        selectedTransaction === item._id\n                                            ? 'primary'\n                                            : undefined\n                                    }\n                                    style={{\n                                        fontWeight:\n                                            selectedTransaction === item._id\n                                                ? 600\n                                                : 'initial',\n                                    }}\n                                >\n                                    {item.rewardObject.name}\n                                </Typography>\n                                <span style={spanStyle}>\n                                    {dayjs(item.date).fromNow()}\n                                </span>\n                                <Box />\n                            </CardContent>\n                        </CardActionArea>\n                        <Box\n                            style={{\n                                position: 'absolute',\n                                top: '5px',\n                                right: '5px',\n                            }}\n                        >\n                            <Box\n                                style={{\n                                    width: '10px',\n                                    height: '10px',\n                                    borderRadius: '10px',\n                                    background:\n                                        item.status === 'confirmed'\n                                            ? 'green'\n                                            : item.status === 'cancelled'\n                                            ? 'red'\n                                            : 'blue',\n                                }}\n                            />\n                        </Box>\n                    </CardContent>\n                )}\n                bottomContent={\n                    transactionObj && rewardObj ? (\n                        <>\n                            <Typography variant=\"h4\" gutterBottom>\n                                <Link to={'/rewards/' + rewardObj._id}>\n                                    {rewardObj.name || 'Selected activity'}\n                                </Link>\n                            </Typography>\n                            <Box style={{ ...spanStyle, margin: '10px' }}>\n                                {dayjs(transactionObj.date).format(\n                                    'DD/MM/YYYY'\n                                )}\n                            </Box>\n                            <Typography gutterBottom>\n                                {t('trans.from')}\n                                <UserButton\n                                    size={20}\n                                    id={transactionObj.from}\n                                />\n                                {t('trans.to')}\n                                <UserButton size={20} id={transactionObj.to} />\n                                {t('trans.inGoal')}\n                                <Link\n                                    to={'/goals/' + transactionObj.progressId}\n                                >\n                                    <span style={{ fontWeight: 500 }}>\n                                        {transactionObj.progress}\n                                    </span>\n                                </Link>\n                                {t('trans.inActivity')}\n                                <Link\n                                    to={\n                                        '/activities/' +\n                                        transactionObj.activityId\n                                    }\n                                >\n                                    <span style={{ fontWeight: 500 }}>\n                                        {transactionObj.activity}\n                                    </span>\n                                </Link>\n                            </Typography>\n                            {t('trans.status')}\n\n                            {account._id === transactionObj.to ||\n                            account._id === transactionObj.from ? (\n                                <>\n                                    <Select\n                                        value={transactionObj.status}\n                                        onChange={e =>\n                                            wsActions.confirmTransaction(\n                                                account._id,\n                                                transactionObj._id,\n                                                e.target.value\n                                            )\n                                        }\n                                        style={{ margin: '15px 0px' }}\n                                    >\n                                        <MenuItem value=\"confirmed\">\n                                            {t('trans.confirmed')}\n                                        </MenuItem>\n                                        <MenuItem value=\"pending\">\n                                            {t('trans.pending')}\n                                        </MenuItem>\n                                        <MenuItem value=\"cancelled\">\n                                            {t('trans.cancelled')}\n                                        </MenuItem>\n                                    </Select>\n                                    <Box>\n                                        <Button\n                                            onClick={() =>\n                                                setDeleteTransactionVisible(\n                                                    true\n                                                )\n                                            }\n                                        >\n                                            {t('trans.deleteItem')}\n                                        </Button>\n                                    </Box>\n                                </>\n                            ) : (\n                                transactionObj.status\n                            )}\n                        </>\n                    ) : null\n                }\n            />\n\n            <ConfirmAction\n                open={deleteTransactionVisible}\n                title={t('trans.confirmDelete')}\n                cancel={() => setDeleteTransactionVisible(false)}\n                confirm={() =>\n                    wsActions.deleteTransaction(\n                        account._id,\n                        selectedTransaction\n                    )\n                }\n            />\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        transactionData: state.transactionData,\n        rewardData: state.rewardData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Transactions)\n)\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const cancelTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'cancelTransaction',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n\nexport const confirmTransaction = (accountId, id, status) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'confirmTransaction',\n                id,\n                accountId,\n                status,\n            })\n        )\n    }\n}\n\nexport const deleteTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteTransaction',\n                accountId,\n                id,\n            })\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Avatar from 'antd/es/avatar'\n\nimport FriendActionButton from '../../components/FriendActionButton'\n\nimport getAvatar from '../../utils/getAvatar'\nimport pullData from '../../utils/pullData'\nimport UserButton from '../../components/UserButton/UserButton'\nimport MasonryGrid from '../../components/MasonryGrid'\n\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport ProgressButton from '../../components/ProgressButton'\nimport FollowButton from '../../components/FollowButton'\n\nimport * as wsActions from '../../websocketActions'\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport * as classes from './Profile.module.css'\nimport TypographyA from 'antd/es/typography'\n\nimport message from 'antd/es/message'\n\nimport Helmet from 'react-helmet'\n\nimport {\n    Box,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Paper,\n    Typography,\n    Button,\n    Chip,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    CardActionArea,\n    CardMedia,\n    CardContent,\n    DialogContentText,\n    TextField,\n    Slide,\n    Tabs,\n    Tab,\n} from '@material-ui/core'\nimport Layout from '../../components/Layout/Layout'\nimport { Edit } from '@material-ui/icons'\nimport fieldLength from '../../constants/fieldLength'\nimport dayjs from 'dayjs'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport AddFriends from '../Friends/AddFriends'\nimport DialogFullscreen from '../../components/UI/DialogFullscreen'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { sortProgresses } from '../Explore/Explore'\nimport ProfileRewards from '../../components/ProfileRewards/ProfileRewards'\n\nimport Badge from 'antd/es/badge'\nimport LanguageSwitcher from '../../components/LanguageSwitcher/LanguageSwitcher'\nimport { useTranslation } from 'react-i18next'\nimport Activities from '../../components/Activities/Activities'\nimport EditResource from '../../components/EditResource/EditResource'\nimport Transactions from '../../components/Transactions/Transactions'\n\ndayjs().format()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        sectionTitle: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\nconst Profile = props => {\n    const { t } = useTranslation()\n    const [currentTab, setCurrentTab] = useState('accounts')\n    const classesM = useStyles()\n    const [data, setData] = useState({})\n    const [followersVisible, setFollowersVisible] = useState('')\n\n    const { profile, account, progressData } = props\n    const [deleteVisible, setDeleteVisible] = useState()\n    const [deleteField, setDeleteField] = useState('')\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n\n    useEffect(() => {\n        const pathParts = props.history.location.pathname.split('/')\n        if (pathParts.length > 2) {\n            const profileId = pathParts[2]\n            if (props.isAuthed) {\n                props.setData({ currentProfile: profileId })\n            } else {\n                pullData(props, data, setData, { forceAuth: false }, data => {\n                    const friendData = {}\n                    for (let friend of data.friendData)\n                        friendData[friend._id] = friend\n\n                    const progressData = {}\n                    if (data.progressData)\n                        for (let progress of data.progressData)\n                            progressData[progress._id] = progress\n\n                    const activityData = {}\n                    if (data.activityData)\n                        for (let activity of data.activityData)\n                            activityData[activity._id] = activity\n                    const rewardData = {}\n                    if (data.rewardData)\n                        for (let reward of data.rewardData)\n                            rewardData[reward._id] = reward\n                    const post = {}\n                    if (data.posts)\n                        for (let item of data.posts) post[item._id] = item\n\n                    props.setData({\n                        profile: data.profile,\n                        friendData,\n                        post,\n                        account: {},\n                        progressData,\n                        activityData,\n                        rewardData,\n                        onlineUsers: data.onlineUsers,\n                    })\n                })\n            }\n        } else {\n            if (props.isAuthed) {\n                props.setData({ currentProfile: account._id })\n            }\n        }\n    }, [props.isAuthed, props.history.location.pathname, props.account._id])\n\n    if (!profile || !profile._id) return null\n\n    const isOwner = account && account._id && account._id === profile._id\n    props.setPageTitle({ main: profile.name, sub: '' })\n\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n    if (profile && profile.friends && account && account._id) {\n        for (let friend of account.friends) {\n            if (friend.status === 'friend') realFriends.push(friend)\n            else if (friend.status === 'invited') invitedFriends.push(friend)\n            else if (friend.status === 'inviting') invitingFriends.push(friend)\n        }\n    }\n\n    const loading = false\n\n    const { progresses } = profile\n    let loadedProgresses\n    if (progresses) {\n        loadedProgresses = progresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n\n    // const newTransactions =\n    //     (transactions &&\n    //         transactions\n    //             .filter(item => transactionData[item])\n    //             .map(item => transactionData[item])\n    //             .filter(item => item.status !== 'Confirmed')) ||\n    //     []\n\n    // const recievedTransactions =\n    //     (transactions &&\n    //         transactions\n    //             .filter(item => transactionData[item])\n    //             .map(item => transactionData[item])\n    //             .filter(item => item.status === 'Confirmed')) ||\n    //     []\n\n    return (\n        <>\n            <Helmet>\n                <title>\n                    {profile.name} {t('g.shareText')}\n                </title>\n                <meta\n                    name=\"description\"\n                    content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                />\n            </Helmet>\n            <Layout\n                header={\n                    <Typography\n                        variant=\"h6\"\n                        className={classesM.title}\n                        color=\"inherit\"\n                        noWrap\n                    >\n                        {profile.name}\n                    </Typography>\n                }\n            >\n                <Paper style={{ padding: '15px' }}>\n                    <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                        {isOwner ? (\n                            <Upload\n                                name=\"avatar\"\n                                accept=\"image/*\"\n                                listType=\"picture-card\"\n                                className={classes.Avatar}\n                                showUploadList={false}\n                                customRequest={({ file }) => {\n                                    uploadFile(file, 800, 'avatar', url => {\n                                        if (url) props.increaseAvatarV()\n                                    })\n                                }}\n                            >\n                                <div\n                                    style={{\n                                        flex: 1,\n                                        display: 'flex',\n                                        height: '100%',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        flexDirection: 'column',\n                                    }}\n                                    onClick={e => {\n                                        if (window.isRNWebView) {\n                                            e.stopPropagation()\n                                            window.ReactNativeWebView.postMessage(\n                                                'uploadFile'\n                                            )\n                                            window.callback = url => {\n                                                props.increaseAvatarV()\n                                            }\n                                        }\n                                    }}\n                                >\n                                    {account.image ? (\n                                        <Avatar\n                                            src={getAvatar(\n                                                account._id,\n                                                account.image\n                                            )}\n                                            size={150}\n                                            style={{ margin: '25px' }}\n                                        />\n                                    ) : (\n                                        <>\n                                            {loading ? (\n                                                <LoadingOutlined />\n                                            ) : (\n                                                <PlusOutlined />\n                                            )}\n                                            <div className=\"ant-upload-text\">\n                                                {t('g.upload')}\n                                            </div>\n                                        </>\n                                    )}\n                                </div>\n                            </Upload>\n                        ) : (\n                            <Avatar\n                                src={getAvatar(profile._id, profile.image)}\n                                size={200}\n                            />\n                        )}\n\n                        <Box style={{ padding: '0 15px' }}>\n                            {props.onlineUsers.includes(profile._id) && (\n                                <Badge color=\"green\" text=\"online\" />\n                            )}\n                            <TypographyA.Title\n                                level={2}\n                                editable={\n                                    isOwner\n                                        ? {\n                                              onChange: res =>\n                                                  wsActions.editAccount(\n                                                      { name: res },\n                                                      account._id\n                                                  ),\n                                              icon: (\n                                                  <IconButton color=\"primary\">\n                                                      <Edit />\n                                                  </IconButton>\n                                              ),\n                                              maxLength: fieldLength.name,\n                                              autoSize: {\n                                                  minRows: 1,\n                                                  maxRows: 1,\n                                              },\n                                          }\n                                        : false\n                                }\n                            >\n                                {profile.name}\n                            </TypographyA.Title>\n                        </Box>\n                        <Typography variant=\"h5\">({profile._id})</Typography>\n                        <Box\n                            style={{\n                                margin: '5px 0px',\n                            }}\n                        >\n                            <Button\n                                onClick={() => setFollowersVisible('followers')}\n                                style={{ marginRight: '20px' }}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {`${profile.followingAccounts.length} ${t(\n                                        'g.followers'\n                                    )}`}\n                                </span>\n                            </Button>\n                            <Button\n                                onClick={() => setFollowersVisible('following')}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {`${profile.followProgresses.length +\n                                        profile.followAccounts.length} \n                                    ${t('g.following')}`}\n                                </span>\n                            </Button>\n                        </Box>\n\n                        <div>\n                            <ShareButton\n                                link={\n                                    'https://addspire.com/profile/' +\n                                    profile._id\n                                }\n                                media={\n                                    profile.image &&\n                                    getAvatar(profile._id, profile.image)\n                                }\n                                title={profile.name + t('profile.shareText')}\n                                item={{\n                                    profileId: profile._id,\n                                    profileName: profile.name,\n                                }}\n                            />\n                            {account && account._id !== profile._id && (\n                                <span style={{ marginRight: '10px' }}>\n                                    {realFriends.find(\n                                        item => item.friend === profile._id\n                                    ) ? (\n                                        <Chip color=\"primary\" label=\"Friends\" />\n                                    ) : null}\n                                    {account.followAccounts &&\n                                        !account.followAccounts.includes(\n                                            profile._id\n                                        ) && (\n                                            <Button\n                                                color=\"primary\"\n                                                onClick={() =>\n                                                    wsActions.followAccount(\n                                                        account._id,\n                                                        profile._id\n                                                    )\n                                                }\n                                                style={{\n                                                    marginRight: '20px',\n                                                }}\n                                                variant=\"contained\"\n                                            >\n                                                {t('g.follow')}\n                                            </Button>\n                                        )}\n                                </span>\n                            )}\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={profile._id}\n                                additionalButtons={\n                                    isOwner\n                                        ? [\n                                              {\n                                                  onClick: () =>\n                                                      props.history.push(\n                                                          '/logout'\n                                                      ),\n                                                  title: t('g.logout'),\n                                              },\n                                          ]\n                                        : null\n                                }\n                                asText={true}\n                            />\n                        </div>\n                        <Box />\n                    </div>\n                </Paper>\n\n                <HorizontalScrollList\n                    title={t('g.goals')}\n                    items={loadedProgresses.sort(sortProgresses)}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.images.length > 0\n                                            ? item.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography\n                                        variant=\"body2\"\n                                        noWrap\n                                        align=\"center\"\n                                    >\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                    withAdd={isOwner}\n                    addTitle={t('g.addGoal')}\n                    onAdd={() => setStartProgressVisible(true)}\n                />\n\n                <Activities activities={profile.activities} isOwner />\n                <ProfileRewards owner={profile} />\n                <Transactions\n                    transactions={profile.transactions}\n                    isOwner\n                    owner={profile}\n                />\n                {/* <ProfileRewards owner={profile} wish /> */}\n                {isOwner && invitedFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title={t('profile.pendingFriendships')}\n                            items={invitedFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.decline')}\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                {isOwner && invitingFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title={t('profile.awaitingApproval')}\n                            items={invitingFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box style={{ margin: '5px 0' }}>\n                                        <Button\n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.acceptFriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.accept')}\n                                        </Button>\n                                    </Box>\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.decline')}\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                <HorizontalScrollList\n                    title={t('g.friends')}\n                    items={realFriends}\n                    content={item => (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <Box>\n                                <UserButton noName id={item.friend} size={80} />\n                            </Box>\n                            <UserButton\n                                noAva\n                                typography\n                                style={{\n                                    width: '100%',\n                                    margin: '3px 0 7px',\n                                }}\n                                id={item.friend}\n                            />\n\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={item.friend}\n                                asIcons={true}\n                                minimized\n                            />\n                        </CardContent>\n                    )}\n                    withAdd={isOwner}\n                    addTitle={t('g.addFriend')}\n                    onAdd={() => setAddFriendOpen(true)}\n                />\n\n                {isOwner && (\n                    <>\n                        <Typography\n                            className={classesM.sectionTitle}\n                            color=\"textSecondary\"\n                            gutterBottom\n                        >\n                            {t('profile.settings')}\n                        </Typography>\n                        <Paper\n                            style={{\n                                padding: '15px',\n                            }}\n                        >\n                            <Box>\n                                <LanguageSwitcher settings />\n                            </Box>\n                            <Box style={{ margin: '20px auto' }}>\n                                <Button\n                                    onClick={() =>\n                                        props.history.push('/logout')\n                                    }\n                                    color=\"secondary\"\n                                >\n                                    {t('g.logout')}\n                                </Button>\n                            </Box>\n                            <Button\n                                onClick={() => setDeleteVisible(true)}\n                                color=\"secondary\"\n                            >\n                                {t('profile.deleteAccount')}\n                            </Button>\n                        </Paper>\n\n                        <Dialog open={Boolean(deleteVisible)}>\n                            <DialogTitle>\n                                {t('profile.deleteAccount')}\n                            </DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    <p>\n                                        {t('profile.pleaseEnterNickname')}\n                                        {account._id}\n                                        {t('profile.andPressOk')}\n                                    </p>\n                                    <TextField\n                                        onChange={e =>\n                                            setDeleteField(e.target.value)\n                                        }\n                                    />\n                                </DialogContentText>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button onClick={() => setDeleteVisible(false)}>\n                                    {t('g.cancel')}\n                                </Button>\n                                <Button\n                                    onClick={() => {\n                                        if (deleteField !== account._id) {\n                                            message.warning(\n                                                'The nickmanme is not correct.'\n                                            )\n                                        } else {\n                                            wsActions.deleteAccount(account._id)\n                                        }\n                                    }}\n                                    color=\"primary\"\n                                >\n                                    {t('g.delete')}\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n                    </>\n                )}\n            </Layout>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'following'\n                        ? t('g.following')\n                        : t('g.followers')\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible !== 'following'\n                        ? t('g.followers')\n                        : t('g.following')}\n                    {followersVisible === 'following' && (\n                        <Tabs\n                            value={currentTab}\n                            onChange={(event, newValue) =>\n                                setCurrentTab(newValue)\n                            }\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            variant=\"scrollable\"\n                            scrollButtons=\"auto\"\n                        >\n                            <Tab label={t('g.users')} value=\"accounts\" />\n                            <Tab label={t('g.goals')} value=\"goals\" />\n                            <Tab label={t('g.activities')} value=\"activities\" />\n                            <Tab label={t('g.rewards')} value=\"rewards\" />\n                        </Tabs>\n                    )}\n                </DialogTitle>\n                <DialogContent>\n                    {followersVisible === 'following' ? (\n                        currentTab === 'accounts' ? (\n                            profile.followAccounts.map(item => (\n                                <MasonryCard\n                                    friends={true}\n                                    noLink={true}\n                                    key={item}\n                                    actions={\n                                        <FollowButton\n                                            account={account}\n                                            id={item}\n                                            type=\"account\"\n                                        />\n                                    }\n                                    body={\n                                        <UserButton\n                                            span={true}\n                                            id={item}\n                                            size={50}\n                                        />\n                                    }\n                                />\n                            ))\n                        ) : (\n                            <MasonryGrid>\n                                {profile[\n                                    currentTab === 'goals'\n                                        ? 'followProgresses'\n                                        : currentTab === 'rewards'\n                                        ? 'followRewards'\n                                        : 'followActivities'\n                                ].map(item => (\n                                    <MasonryCard\n                                        id={item}\n                                        onClickLink={\n                                            '/' + currentTab + '/' + item\n                                        }\n                                        // noLink\n                                        key={item}\n                                        actions={\n                                            <FollowButton\n                                                type={\n                                                    currentTab === 'goals'\n                                                        ? 'progress'\n                                                        : currentTab ===\n                                                          'rewards'\n                                                        ? 'reward'\n                                                        : 'activity'\n                                                }\n                                                account={account}\n                                                id={item}\n                                            />\n                                        }\n                                        body={\n                                            <ProgressButton\n                                                span={true}\n                                                id={item}\n                                                size={50}\n                                                type={currentTab}\n                                            />\n                                        }\n                                        style={{\n                                            // maxHeight: '170px',\n                                            marginTop: '20px',\n                                        }}\n                                        images={\n                                            props[\n                                                currentTab === 'goals'\n                                                    ? 'progressData'\n                                                    : currentTab === 'rewards'\n                                                    ? 'rewardData'\n                                                    : 'activityData'\n                                            ][item] &&\n                                            props[\n                                                currentTab === 'goals'\n                                                    ? 'progressData'\n                                                    : currentTab === 'rewards'\n                                                    ? 'rewardData'\n                                                    : 'activityData'\n                                            ][item].images\n                                        }\n                                    />\n                                ))}\n                            </MasonryGrid>\n                        )\n                    ) : (\n                        profile.followingAccounts.map(item => (\n                            <MasonryCard\n                                friends={true}\n                                noLink={true}\n                                key={item}\n                                actions={\n                                    <FollowButton\n                                        account={account}\n                                        id={item}\n                                        type=\"account\"\n                                    />\n                                }\n                                body={\n                                    <UserButton\n                                        span={true}\n                                        id={item}\n                                        size={50}\n                                    />\n                                }\n                            />\n                        ))\n                    )}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={startProgressVisible}\n                    onClose={() => {\n                        setStartProgressVisible(false)\n                    }}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <EditResource\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setStartProgressVisible(false)}\n                        type=\"goal\"\n                    />\n                </Dialog>\n            )}\n            {isOwner && (\n                <DialogFullscreen\n                    open={addFriendOpen}\n                    close={() => {\n                        setAddFriendOpen(false)\n                    }}\n                    title={t('g.addFriend')}\n                >\n                    <AddFriends\n                        close={() => setAddFriendOpen(false)}\n                        open={addFriendOpen}\n                        account={account}\n                        friendData={props.friendData}\n                    />\n                </DialogFullscreen>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        profile: state.profile,\n        isAuthed: state.isAuthed,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        transactionData: state.transactionData,\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n        onlineUsers: state.onlineUsers,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n        increaseAvatarV: () => dispatch(actions.increaseAvatarV()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Profile)\n)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport message from 'antd/es/message'\n\nimport Input from 'antd/es/input'\nimport Form from 'antd/es/form'\nimport { withRouter } from 'react-router-dom'\n\nimport { nicknameRules, accountNameRules } from '../../constants/fieldRules'\nimport * as actions from '../../store/actions'\n\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next'\nimport Layout from '../../components/Layout/Layout'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst ActivateAccount = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    if (!props.isAuthed) props.history.push('/logout')\n    useEffect(() => {\n        if (!props.accountNotActive) props.history.push('/settings')\n    }, [props.accountNotActive])\n    const onFinish = value => {\n        axios\n            .post('/api/activate-account', {\n                ...value,\n            })\n            .then(res => {\n                if (res.data.success) {\n                    message.success('Your account has been activated!')\n                    props.setAccountActivated(false)\n                } else {\n                    if (res.data.nicknameNotUnique) {\n                        message.warning(\n                            'The nickname is taken. Choose another nickname please.'\n                        )\n                    }\n                    if (res.data.errorCode) {\n                        message.error(\n                            'Something is wrong with the data. Please try one more time with new data.'\n                        )\n                    }\n                }\n            })\n            .catch(err => {})\n    }\n\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n\n    return (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {t('activate.activateAccount')}\n                </Typography>\n            }\n        >\n            <Typography variant=\"h4\" align=\"center\">\n                Addspire\n            </Typography>\n            <Typography variant=\"h4\" align=\"center\">\n                Account activation\n            </Typography>\n            <Form\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                {...layout}\n                style={{\n                    maxWidth: '1200px',\n                    margin: '50px auto 0px',\n                    padding: '15px',\n                    width: '90%',\n                }}\n            >\n                <Form.Item\n                    label={t('g.name')}\n                    name=\"name\"\n                    rules={accountNameRules}\n                >\n                    <Input placeholder={t('activate.minLength')} />\n                </Form.Item>\n                <Form.Item\n                    label={t('activate.nickname')}\n                    name=\"nickname\"\n                    rules={nicknameRules}\n                >\n                    <Input placeholder={t('activate.minLenght')} />\n                </Form.Item>\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                        {t('g.save')}\n                    </Button>\n                </Form.Item>\n            </Form>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        user: state.user,\n        account: state.account,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        setAccountActivated: value =>\n            dispatch(actions.setAccountActivated(value)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ActivateAccount)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\nconst NotificationsTracker = props => {\n    const { account, friendData, progressData } = props\n\n    const sortNotifiacations = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications,\n            ]\n    }\n\n    for (let friend of account.friends) {\n        if (\n            friendData[friend.friend] &&\n            friend.status === 'friend' &&\n            friendData[friend.friend].notifications\n        )\n            lastNotifications = [\n                ...lastNotifications,\n                ...friendData[friend.friend].notifications,\n            ]\n    }\n    const filterSameNot = (res, not, index, arr) => {\n        if (!res.find(item => item.notId === not.notId)) {\n            res.push(not)\n        }\n        return res\n    }\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n\n    lastNotifications = lastNotifications.sort(sortNotifiacations).slice(0, 100)\n\n    lastNotifications = [\n        ...lastNotifications,\n        ...account.myNotifications,\n    ].filter(item => item.code !== 'add post')\n\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n    lastNotifications = lastNotifications.sort(sortNotifiacations)\n    if (!isEqual(lastNotifications, props.lastNotifications)) {\n        props.setData({ lastNotifications })\n    }\n\n    return <span />\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(NotificationsTracker)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport * as actions from './store/actions'\n\nconst RNBridge = props => {\n    window.addEventListener('message', function(e) {\n        // window.isRNWebView = true\n\n        try {\n            const data = JSON.parse(e.data)\n            switch (data.message) {\n                case 'token':\n                    const token = data.token\n                    props.tryAuth(token)\n                    break\n                case 'callback':\n                    window.callback(data.url)\n                    break\n                case 'back':\n                    if (!props.history.location.key) {\n                        window.isRNWebView &&\n                            window.ReactNativeWebView.postMessage('exit')\n                    } else props.history.goBack()\n                    break\n                default:\n                    return\n            }\n        } catch (err) {\n            console.error('failed to parse message from react-native ' + err)\n            return\n        }\n    })\n\n    return <></>\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: token => dispatch(actions.tryAuth(token)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(RNBridge)\n)\n","import React, { useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Comment from 'antd/es/comment'\nimport Divider from 'antd/es/divider'\nimport dayjs from 'dayjs'\nimport { Card, CardContent } from '@material-ui/core'\nimport * as wsActions from '../../websocketActions'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst DashboardEvents = props => {\n    const { t } = useTranslation()\n    const { lastNotifications } = props\n\n    const getStageName = stage => {\n        let stageDate\n        if (stage.day) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .dayOfYear(stage.day)\n            return stageDate.format('dddd D MMM YYYY')\n        } else if (stage.week) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .week(stage.week)\n            return (\n                stageDate\n                    .startOf('week')\n                    .format('wo [' + t('g.week') + '] D MMM YYYY - ') +\n                stageDate.endOf('week').format('D MMM YYYY')\n            )\n        } else if (stage.month) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .month(stage.month)\n            return stageDate.format('MMMM YYYY')\n        } else if (stage.year) {\n            stageDate = dayjs().year(stage.year)\n            return stageDate.format('YYYY')\n        }\n    }\n\n    useEffect(() => {\n        wsActions.setLastSeenNot(\n            props.account._id,\n            lastNotifications.reduce(function(p, v) {\n                v = parseInt(v.notId)\n                return p > v ? p : v\n            }, 0)\n        )\n    }, [lastNotifications])\n    return (\n        <Card>\n            <CardContent>\n                {lastNotifications.map((item, index) => {\n                    let text = null,\n                        stageName\n\n                    switch (item.code) {\n                        case 'change name':\n                            text = (\n                                <span>\n                                    {' '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.changedName')}\n                                </span>\n                            )\n                            break\n                        case 'delete account':\n                            text = (\n                                <span>\n                                    {item.user}\n                                    {t('dash.deletedAccount')}\n                                </span>\n                            )\n                            break\n                        case 'friend request':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.wantsToBecomeFriends')}\n                                </span>\n                            )\n                            break\n                        case 'friend add':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.and')}\n\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {t('dash.becameFriends')}\n                                </span>\n                            )\n                            break\n                        case 'unfriend':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.and')}\n\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {t('dash.stoppedFriends')}\n                                    {' stopped being friends.'}\n                                </span>\n                            )\n                            break\n                        case 'add wishlist item':\n                        case 'edit wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add wishlist item'\n                                        ? t('dash.addedToWish')\n                                        : t('dash.editedWish')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.deleted')}\n                                    {item.details.itemName} {t('dash.fromWish')}\n                                </span>\n                            )\n                            break\n                        case 'add goal':\n                        case 'edit goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add goal'\n                                        ? t('dash.addedGoal')\n                                        : t('dash.editedGoalND')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {'.'}\n                                </span>\n                            )\n                            break\n                        case 'delete goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.deleted')}\n                                    {item.details.itemName}{' '}\n                                    {t('dash.fromGoals')}\n                                </span>\n                            )\n                            break\n\n                        case 'cancel transaction':\n                        case 'confirm transaction':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'cancel transaction'\n                                        ? t('dash.cancelled')\n                                        : t('dash.confirmed')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName} ($\n                                        {item.details.price})\n                                    </span>\n                                    {t('dash.by')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.buyer}\n                                    />\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'start progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.startedParticipating')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {t('dash.as')}\n                                    {item.details.as}.\n                                </span>\n                            )\n                            break\n                        case 'stage approve':\n                        case 'stage progress':\n                        case 'stage fail':\n                        case 'stage dismiss':\n                            stageName = getStageName(item.details)\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {item.code === 'stage approve'\n                                        ? t('dash.approved')\n                                        : item.code === 'stage progress'\n                                        ? t('dash.putToProgress')\n                                        : item.code === 'stage fail'\n                                        ? t('dash.markedFailed')\n                                        : t('dash.dismissed')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {t('dash.for')}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n                                    .\n                                </span>\n                            )\n                            break\n\n                        case 'stage complete':\n                            text = (\n                                <span>\n                                    {t('dash.goal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {t('dash.for')}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n\n                                    {t('dash.wasApprovedAndFinished')}\n                                </span>\n                            )\n                            break\n\n                        case 'leave progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.leftGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'edit progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.editedGoalND')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {item.details.addedAccounts.length > 0 ? (\n                                        <>\n                                            {t('dash.andAdded')}\n                                            {item.details.addedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}{' '}\n                                        </>\n                                    ) : (\n                                        ''\n                                    )}\n                                    {item.details.droppedAccounts.length > 0 ? (\n                                        <>\n                                            {t('dash.andRemoved')}\n                                            {item.details.droppedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}\n                                            {'.'}\n                                        </>\n                                    ) : (\n                                        '.'\n                                    )}\n                                </span>\n                            )\n                            break\n                        case 'remove from progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.removed')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {t('dash.fromGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add to progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.added')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {t('dash.toGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add reward':\n                        case 'add activity':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.added')} {item.name}{' '}\n                                    {item.code === 'add reward' && (\n                                        <>\n                                            {t('dash.asRewardFor')}\n                                            {!item.details.for ||\n                                            item.details.for.length === 0\n                                                ? t('dash.all')\n                                                : item.details.for.map(\n                                                      account => (\n                                                          <>\n                                                              <UserButton\n                                                                  noAva={true}\n                                                                  span={true}\n                                                                  id={account}\n                                                              />\n                                                              ,\n                                                          </>\n                                                      )\n                                                  )}\n                                        </>\n                                    )}\n                                    {t('dash.inGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete reward':\n                        case 'delete activity':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.removed')}\n                                    {item.name}\n                                    {item.code === 'delete reward' && (\n                                        <>\n                                            {t('dash.asRewardFor')}\n                                            {!item.details.for ||\n                                            item.details.for.length === 0\n                                                ? t('dash.all')\n                                                : item.details.for.map(\n                                                      account => (\n                                                          <>\n                                                              <UserButton\n                                                                  span={true}\n                                                                  noAva={true}\n                                                                  id={account}\n                                                              />\n                                                              ,\n                                                          </>\n                                                      )\n                                                  )}\n                                        </>\n                                    )}\n                                    {t('dash.inGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n\n                        case 'shared':\n                            let action = () =>\n                                props.history.push(\n                                    item.details.url.split(\n                                        'https://addspire.com'\n                                    ).length > 0\n                                        ? item.details.url.split(\n                                              'https://addspire.com'\n                                          )[1]\n                                        : item.details.url\n                                )\n                            let title = t('dash.somethingOnAddspire')\n\n                            if (\n                                item.details.progressName &&\n                                item.details.progressId\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/goals/${item.details.progressId}`\n                                    )\n                                title = item.details.progressName\n                            } else if (\n                                item.details.profileId &&\n                                item.details.profileName\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/profile/${item.details.profileId}`\n                                    )\n                                title = item.details.profileName\n                            } else if (\n                                item.details.rewardId &&\n                                item.details.rewardName\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/rewards/${item.details.rewardId}`\n                                    )\n                                title = item.details.rewardName\n                            } else if (\n                                item.details.activityId &&\n                                item.details.activityName\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/activities/${item.details.activityId}`\n                                    )\n                                title = item.details.activityName\n                            }\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.sharedAndInvitedYouTo')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                            cursor: 'pointer',\n                                        }}\n                                        onClick={() => action()}\n                                    >\n                                        {title}\n                                    </span>\n                                </span>\n                            )\n                            break\n                        default:\n                            text = t('dash.newEvent')\n                            break\n                    }\n                    return (\n                        <div key={index}>\n                            {index !== 0 && (\n                                <Divider style={{ margin: '5px 0px' }} />\n                            )}\n                            <Comment\n                                avatar={\n                                    <UserButton\n                                        noName={true}\n                                        id={item.user}\n                                        span={true}\n                                    />\n                                }\n                                content={text}\n                            />\n                        </div>\n                    )\n\n                    // <Card>{text}</Card>\n                })}{' '}\n            </CardContent>\n        </Card>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(DashboardEvents))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const setLastSeenNot = (accountId, notId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'setLastSeenNot',\n                accountId,\n                notId,\n            })\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\n\nimport Post from '../../components/Post/Post'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Badge,\n    Button,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DashboardEvents from './DashboardEvents'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            fontWeight: 600,\n        },\n    })\n)\n\nconst DashboardPosts = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const {\n        account,\n        friendData,\n        statePosts,\n        progressData,\n        currentPosts,\n    } = props\n\n    const [posts, setPosts] = useState([])\n    const [currentTab, setCurrentTab] = useState('posts')\n    const [startTime] = useState(new Date().getTime())\n\n    const sortPosts = (a, b) => {\n        const aN = a.notifications.filter(item => item.user !== account._id)\n        const bN = b.notifications.filter(item => item.user !== account._id)\n        if (aN.length === 0 && bN.length > 0) return 1\n        else if (aN.length > 0 && bN.length === 0) return -1\n        else if (aN.length === 0 && bN.length === 0) return 0\n        else\n            return new Date(aN[0].date).getTime() <\n                new Date(bN[0].date).getTime()\n                ? 1\n                : -1\n    }\n\n    const sortNotifications = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n\n    useEffect(() => {\n        if (currentPosts) {\n            const newPosts = currentPosts\n                .filter(item => statePosts[item])\n                .map(item => statePosts[item])\n\n            const newUnseenPosts = []\n            const newOldPosts = []\n            let oldPosts = [...posts]\n            for (let post of newPosts) {\n                let oldPostIndex = oldPosts.findIndex(item => {\n                    return item._id.toString() === post._id.toString()\n                })\n                if (oldPostIndex === -1) {\n                    if (\n                        post.notifications &&\n                        post.notifications.length > 0 &&\n                        new Date(post.notifications[0].date).getTime() >\n                            startTime\n                    ) {\n                        newUnseenPosts.push(post)\n                    } else {\n                        newOldPosts.push(post)\n                    }\n                } else {\n                    oldPosts[oldPostIndex] = post\n                }\n            }\n\n            for (let post of newOldPosts) {\n                const index = oldPosts.findIndex(item => {\n                    if (\n                        item &&\n                        item.notifications &&\n                        item.notifications.length > 0\n                    ) {\n                        return (\n                            new Date(item.notifications[0]).getTime() >\n                            new Date(post.notifications[0]).getTime()\n                        )\n                    } else return false\n                })\n                if (index === -1) {\n                    oldPosts.push(post)\n                } else {\n                    oldPosts.splice(index, 0, post)\n                }\n            }\n\n            let resultPosts = [...newUnseenPosts, ...oldPosts]\n            if (posts.length === 0) {\n                resultPosts = resultPosts.sort(sortPosts)\n            }\n            setPosts(resultPosts)\n        }\n    }, [currentPosts, statePosts])\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications.filter(\n                    item =>\n                        item.code === 'add post' && item.user !== account._id\n                ),\n            ]\n    }\n\n    lastNotifications = lastNotifications\n        .sort(sortNotifications)\n        .map(item => item.details.postId)\n        .slice(0, 10)\n\n    const neededPosts = [\n        ...new Set([\n            ...account.followPosts,\n            ...account.myPosts,\n            ...posts.map(post => post._id),\n            ...lastNotifications,\n        ]),\n    ]\n    if (!isEqual(currentPosts, neededPosts))\n        props.setData({ currentPosts: neededPosts })\n\n    props.setPageTitle({ main: 'Dashboard', sub: '' })\n\n    return (\n        <Layout\n            header={\n                <>\n                    <Button\n                        style={{ margin: '0px 20px' }}\n                        color={currentTab === 'posts' ? 'primary' : 'default'}\n                        onClick={() => setCurrentTab('posts')}\n                        variant=\"contained\"\n                    >\n                        {t('g.posts')}\n                    </Button>\n                    <Badge badgeContent={numberOfUnseenNots} color=\"secondary\">\n                        <Button\n                            color={\n                                currentTab === 'events' ? 'primary' : 'default'\n                            }\n                            onClick={() => setCurrentTab('events')}\n                            variant=\"contained\"\n                        >\n                            {t('g.events')}\n                        </Button>\n                    </Badge>\n                </>\n            }\n        >\n            {currentTab === 'posts' ? (\n                posts.map((item, index) => {\n                    let text = null\n                    const nots = item.notifications.filter(\n                        not => not.user !== account._id\n                    )\n                    const not = nots.length > 0 ? nots[0] : null\n                    if (not) {\n                        switch (not.code) {\n                            case 'edit wishlist item':\n                                text = t('dash.editedItem')\n                                break\n                            case 'edit goal':\n                                text = t('dash.editedGoal')\n                                break\n                            case 'comment':\n                                text = t('dash.addedComment')\n                                break\n                            case 'edit comment':\n                                text = t('dash.editedComment')\n                                break\n                            case 'like':\n                                text = t('dash.addedLike')\n                                break\n                            case 'dislike':\n                                text = t('dash.removedLike')\n                                break\n                            default:\n                                text = null\n                                break\n                        }\n                    }\n                    return (\n                        <div key={index} style={{ paddingTop: '10px' }}>\n                            {text && (\n                                <>\n                                    <Typography\n                                        className={classes.title}\n                                        color=\"textSecondary\"\n                                        gutterBottom\n                                    >\n                                        <span>\n                                            <UserButton\n                                                id={not.user}\n                                                noAva={true}\n                                                span={true}\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            />{' '}\n                                            {text}\n                                        </span>\n                                    </Typography>\n                                </>\n                            )}\n                            <Post\n                                friendData={friendData}\n                                account={account}\n                                post={item}\n                                progressData={progressData}\n                            />\n                        </div>\n                    )\n                })\n            ) : (\n                <DashboardEvents account={account} />\n            )}\n        </Layout>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        currentPosts: state.currentPosts,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(DashboardPosts)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\n\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Card,\n    CardContent,\n    CardMedia,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport dayjs from 'dayjs'\nimport ReactHtmlParser from 'react-html-parser'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        root: {\n            flexGrow: 1,\n            marginTop: '20px',\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%', // 16:9\\\n            backgroundSize: 'contain',\n        },\n        backToBlog: {\n            left: '16px',\n            bottom: '88px',\n            position: 'fixed',\n            zIndex: 1,\n        },\n    })\n)\n\nconst Blog = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [post, setPost] = useState(null)\n    // const [comments, setComments] = useState([])\n    const [title, setTitle] = useState('')\n\n    useEffect(() => {\n        fetch('https://addspire-blog.herokuapp.com/graphql', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                query: `\n            query {\n  posts (where: { language:\"${\n      props.history.location.pathname.indexOf('/ru') === 0 ? 'ru' : 'en'\n  }\",\n  _or: [\n      {url: \"${\n          props.history.location.pathname.split('/')[\n              props.history.location.pathname.split('/').length - 1\n          ]\n      }\"},\n      {url: \"${\n          props.history.location.pathname.split('/')[\n              props.history.location.pathname.split('/').length - 1\n          ]\n      }.ru\"}\n  ] }){\n    id\n    url\n    content\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}`,\n            }),\n        })\n            .then(res => res.json())\n            .then(data => {\n                if (data.data.posts.length > 0) {\n                    setPost(data.data.posts[0])\n                    setTitle(data.data.posts[0].title + t('g.shareText'))\n                }\n            })\n    }, [props.history.location.pathname])\n\n    useEffect(() => {\n        window.fbAsyncInit = function() {\n            window.FB.init({\n                appId: '115517331888071',\n                cookie: true, // enable cookies to allow the server to access the session\n                xfbml: true, // parse social plugins on this page\n                version: 'v2.5', // use version 2.1\n            })\n        }\n\n        // Load the SDK asynchronously\n        ;(function(d, s, id) {\n            var js,\n                fjs = d.getElementsByTagName(s)[0]\n            if (d.getElementById(id)) return\n            js = d.createElement(s)\n            js.id = id\n            js.src = '//connect.facebook.net/en_US/sdk.js'\n            fjs.parentNode.insertBefore(js, fjs)\n        })(document, 'script', 'facebook-jssdk')\n    }, [])\n    useEffect(() => {\n        if (window.FB) window.FB.XFBML.parse()\n    })\n    return post ? (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n\n            <Layout white>\n                <Welcome />\n\n                <Card\n                    style={{\n                        margin: '50px auto',\n                        maxWidth: '1000px',\n                        boxShadow: 'none',\n                    }}\n                >\n                    <CardMedia\n                        className={classes.media}\n                        image={post.previewImage && post.previewImage.url}\n                        title={post.title}\n                    />\n                    <CardContent style={{ paddingLeft: 0, paddingRight: 0 }}>\n                        <Typography\n                            align=\"right\"\n                            variant=\"button\"\n                            color=\"textSecondary\"\n                            component=\"p\"\n                            gutterBottom\n                        >\n                            {dayjs(post.published_at).format('MMMM Do[,] YYYY')}\n                        </Typography>\n                        <div style={{ textAlign: 'right' }}>\n                            <ShareButton\n                                post\n                                title={post.title + t('g.shareText')}\n                                media={\n                                    post.previewImage && post.previewImage.url\n                                }\n                            />\n                        </div>\n                        <Typography gutterBottom variant=\"h2\" component=\"h1\">\n                            {post.title}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h5\">\n                            {post.subtitle}\n                        </Typography>\n\n                        <Typography variant=\"body1\" className=\"blogArticle\">\n                            {ReactHtmlParser(post.content)}\n                        </Typography>\n                        <div style={{ textAlign: 'right' }}>\n                            <ShareButton\n                                post\n                                title={post.title + t('g.shareText')}\n                                media={\n                                    post.previewImage && post.previewImage.url\n                                }\n                            />\n                        </div>\n                        <div\n                            className=\"fb-comments\"\n                            data-href={\n                                'https://addspire.com' +\n                                props.history.location.pathname\n                            }\n                            data-numposts=\"5\"\n                            data-width=\"\"\n                        />\n                    </CardContent>\n                </Card>\n            </Layout>\n        </>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","import React, { useEffect, useRef, useCallback } from 'react'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\nimport { PageView, initGA } from './components/TrackingGA'\n\nimport AuthTest from './containers/Auth/AuthTest'\nimport './components/UI/loadStyles'\nimport Goal from './containers/Goal/Goal'\nimport Reward from './containers/Reward/Reward'\nimport Activity from './containers/Activity/Activity'\nimport Blog from './containers/Blog/Blog'\n\nimport Profile from './containers/Profile/Profile'\n\nimport ActivateAccount from './containers/ActivateAccount/ActivateAccount'\n\nimport { connect } from 'react-redux'\nimport * as actions from './store/actions'\nimport ConnectWebsocket from './containers/ConnectWebsocket/ConnectWebsocket'\nimport NotificationsTracker from './containers/Dashboard/NotificationsTracker'\n\nimport RNBridge from './RNBridge'\nimport DashboardPosts from './containers/Dashboard/DashboardPosts'\nimport Explore from './containers/Explore/Explore'\nimport BlogArticle from './containers/Blog/BlogArticle'\nimport { useTranslation } from 'react-i18next'\nimport dayjs from 'dayjs'\nimport 'dayjs/locale/ru'\n\nconst App = props => {\n    const mountedRef = useRef(true)\n    const { i18n } = useTranslation()\n\n    const { isAuthed } = props\n\n    const auth = useCallback(async () => {\n        try {\n            if (!mountedRef.current) return null\n            props.tryAuth()\n        } catch (error) {}\n    }, [mountedRef])\n    useEffect(() => {\n        if (!isAuthed) {\n            auth()\n        }\n        return () => {\n            mountedRef.current = false\n        }\n    }, [isAuthed])\n\n    useEffect(() => {\n        initGA('UA-45758937-4')\n    }, [])\n\n    useEffect(() => {\n        if (props.history.location.pathname.indexOf('/post/') === -1) {\n            window.scrollTo(0, 0)\n        }\n        PageView()\n    }, [props.history.location.pathname])\n\n    useEffect(() => {\n        const currentLanguage = i18n.language\n            ? i18n.language.split('-')[0]\n            : 'en'\n        props.setLanguage(currentLanguage)\n        dayjs.locale(currentLanguage)\n    }, [i18n.language])\n\n    const Logout = () => {\n        props.logout()\n        window.isRNWebView && window.ReactNativeWebView.postMessage('logout')\n        return <Redirect to=\"/explore\" />\n    }\n\n    let routes = (\n        <Switch>\n            <Route path=\"/\" exact component={Explore} />\n            {isAuthed !== null && (\n                <Route path=\"/posts\" exact component={DashboardPosts} />\n            )}\n\n            <Route path=\"/goals\" component={Goal} />\n            <Route path=\"/rewards\" component={Reward} />\n            <Route path=\"/activities\" component={Activity} />\n            <Route path=\"/wishlist\" component={Reward} />\n\n            <Route path=\"/profile\" component={Profile} />\n\n            {/* s */}\n            {/* <Route path=\"/shop\" component={Perk} /> */}\n            {/* <Route path=\"/wishlist\" component={WishlistItem} /> */}\n            <Route path=\"/logout\" exact component={Logout} />\n            <Route path=\"/ru/blog\" exact component={Blog} />\n            <Route path=\"/blog\" exact component={Blog} />\n            <Route path=\"/ru/blog\" component={BlogArticle} />\n            <Route path=\"/blog\" component={BlogArticle} />\n\n            <Route path=\"/activate-account\" exact component={ActivateAccount} />\n\n            {process.env.NODE_ENV === 'development' && !isAuthed && (\n                <Route path=\"/logintest\" exact component={AuthTest} />\n            )}\n            <Redirect to=\"/\" />\n        </Switch>\n    )\n\n    if (props.accountNotActive) {\n        routes = (\n            <Switch>\n                <Route path=\"/logout\" exact component={Logout} />\n\n                <Route\n                    path=\"/activate-account\"\n                    exact\n                    component={ActivateAccount}\n                />\n\n                {process.env.NODE_ENV === 'development' && !isAuthed && (\n                    <Route path=\"/logintest\" exact component={AuthTest} />\n                )}\n                {isAuthed ? (\n                    <Redirect to=\"/activate-account\" />\n                ) : (\n                    <Redirect to=\"/\" />\n                )}\n            </Switch>\n        )\n    }\n\n    return (\n        <>\n            {routes}\n            {isAuthed && <ConnectWebsocket />}\n            {isAuthed && <NotificationsTracker />}\n            <RNBridge />\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: () => dispatch(actions.tryAuth()),\n        logout: () => dispatch(actions.logout()),\n        setLanguage: language => dispatch(actions.setLanguage(language)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(App)\n)\n","import ReactGA from 'react-ga'\n\nexport const initGA = trackingID => {\n    ReactGA.initialize(trackingID)\n}\n\nexport const PageView = () => {\n    ReactGA.pageview(window.location.pathname + window.location.search)\n}\n\nexport const Event = (category, action, label) => {\n    ReactGA.event({\n        category: category,\n        action: action,\n        label: label,\n    })\n}\n","import { createReducer } from '@reduxjs/toolkit'\n\nexport const initialState = {\n    isAuthed: false,\n    user: null,\n    currentAccount: '',\n    account: {},\n    friendData: {},\n    transactionData: {},\n    progressData: {},\n    currentProfile: '',\n    profile: {},\n    currentGoal: '',\n    currentPosts: [],\n    progress: {},\n    post: {},\n    postData: {},\n    reward: {},\n    activity: {},\n    currentReward: '',\n    currentActivity: '',\n    rewardData: {},\n    activityData: {},\n    pageTitle: {},\n    friendSearchResult: [],\n    accountNotActive: false,\n    lastNotifications: [],\n    isConnectingWS: false,\n    onlineUsers: [],\n    language: 'en',\n}\n\nconst reducer = createReducer(initialState, {\n    SET_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'isAuthed',\n                'currentAccount',\n                'currentProfile',\n                'currentPosts',\n                'currentReward',\n                'currentActivity',\n                'profile',\n                'currentGoal',\n                'progress',\n                'reward',\n                'activity',\n                'lastNotifications',\n                'onlineUsers',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    state[key] = action.data[key]\n                }\n            }\n\n            for (let key of [\n                'friendData',\n                'progressData',\n                'post',\n                'postData',\n                'rewardData',\n                'activityData',\n                'transactionData',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    for (let attr in action.data[key]) {\n                        if (action.data[key][attr]) {\n                            state[key][attr] = action.data[key][attr]\n                        }\n                    }\n                }\n            }\n            if (action.data.newOnlineUsers) {\n                state.onlineUsers = [\n                    ...state.onlineUsers,\n                    ...action.data.newOnlineUsers,\n                ]\n            }\n        }\n        if (state.user) {\n            if (state.user.currentAccount) {\n                state.currentAccount = state.user.currentAccount\n                state.accountNotActive = false\n            } else if (state.user.myAccount) {\n                state.currentAccount = state.user.myAccount\n                state.accountNotActive = false\n            } else {\n                state.accountNotActive = true\n            }\n        }\n    },\n    REMOVE_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'profile',\n                'progress',\n                'reward',\n                'activity',\n            ]) {\n                for (let item of action.data[key]) {\n                    if (state[key]._id === item) {\n                        state[key] = {}\n                    }\n                }\n            }\n            for (let key of [\n                'post',\n                'friendData',\n                'progressData',\n                'postData',\n                'rewardData',\n                'activityData',\n                'transactionData',\n            ]) {\n                for (let item of action.data[key]) {\n                    delete state[key][item]\n                }\n            }\n        }\n    },\n    SET_FRIEND_SEARCH_RESULT: (state: Object, action: Object) => {\n        state.friendSearchResult = action.data\n    },\n\n    SET_FRIENDS_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            state.account.friendsData = action.data\n        }\n        if (action.data.perk) state.perk = action.data.perk\n    },\n    SET_AVATAR_V: (state: Object, action: Object) => {\n        state.account.image = action.v\n    },\n    SET_LANGUAGE: (state: Object, action: Object) => {\n        state.language = action.language\n    },\n    INCREASE_AVATAR_V: (state: Object) => {\n        state.account.image = state.account.image + 1\n    },\n    SET_IS_AUTHED: (state: Object, action: Object) => {\n        state.isAuthed = action.id\n    },\n    SET_PAGE_TITLE: (state: Object, action: Object) => {\n        state.pageTitle = action.title\n    },\n    SET_ACCOUNT_ACTIVATED: (state: Object, action: Object) => {\n        state.accountNotActive = action.value\n    },\n    SET_CONNECTING_WS: (state: Object, action: Object) => {\n        state.isConnectingWS = action.data\n    },\n})\n\nexport default reducer\n","import dayjs from 'dayjs'\nimport updateLocale from 'dayjs/plugin/updateLocale'\nimport dayOfYear from 'dayjs/plugin/dayOfYear'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\ndayjs.extend(weekOfYear)\ndayjs.extend(relativeTime)\ndayjs.extend(dayOfYear)\ndayjs.extend(updateLocale)\n\ndayjs.updateLocale('en', {\n    // relativeTime: {\n    //     future: 'in %s',\n    //     past: '%s ago',\n    //     s: 'a few seconds',\n    //     m: 'a minute',\n    //     mm: '%d minutes',\n    //     h: 'an hour',\n    //     hh: '%d hours',\n    //     d: 'a day',\n    //     dd: '%d days',\n    //     M: 'a month',\n    //     MM: '%d months',\n    //     y: 'a year',\n    //     yy: '%d years',\n    // },\n    relativeTime: {\n        future: 'in %s',\n        past: '%s',\n        s: 'now',\n        ss: 'now',\n        m: '1 min',\n        mm: '%d mins',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 day',\n        dd: '%d days',\n        w: '1 wk',\n        ww: '%d wks',\n        M: '1 mth',\n        MM: '%d mths',\n        y: '1 year',\n        yy: '%d years',\n    },\n})\n\ndayjs.updateLocale('ru', {\n    relativeTime: {\n        future: ' %s',\n        past: '%s',\n        s: '',\n        ss: '',\n        m: '1 ',\n        mm: '%d ',\n        h: '1 ',\n        hh: '%d ',\n        d: '1 ',\n        dd: '%d ',\n        w: '1 ',\n        ww: '%d ',\n        M: '1 ',\n        MM: '%d ',\n        y: '1 ',\n        yy: '%d ',\n    },\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\n\nimport './index.css'\nimport App from './App'\nimport reducer from './store/reducer/reducer'\n//import * as serviceWorker from './serviceWorker';\nimport './setupDayjs'\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport { purple } from '@material-ui/core/colors'\nimport './translations/i18n'\n\nconst outerTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    typography: {\n        fontSize: 13,\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                backgroundColor: 'white',\n                color: '#333',\n            },\n        },\n    },\n})\n\nif (process.env.NODE_ENV === 'development') {\n    axios.defaults.baseURL = 'http://my.websiter.test:5000'\n} else {\n    axios.defaults.baseURL = 'https://addspire.com'\n}\n// axios.defaults.withCredentials = true\n\nexport const store = createStore(\n    reducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <ThemeProvider theme={outerTheme}>\n                <App />\n            </ThemeProvider>\n        </BrowserRouter>\n    </Provider>\n)\n\nconst root = document.getElementById('root')\n\nReactDOM.render(app, root)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}