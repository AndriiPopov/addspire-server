(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){e.exports={Container:"Auth_Container__1KNy7",socialButtons:"Auth_socialButtons__2wwH9",Background:"Auth_Background__39m_a"}},367:function(e,t,a){e.exports={Dots:"imageCarousel_Dots__2JZGt"}},375:function(e,t,a){e.exports={Avatar:"Settings_Avatar__1usz_"}},386:function(e,t,a){e.exports=a(812)},415:function(e,t,a){},57:function(e,t,a){e.exports={Layout:"Layout_Layout__3t6t4",Header:"Layout_Header__3lh1Y",Footer:"Layout_Footer__1Dfqu",HideHeader:"Layout_HideHeader__2WRsh",FooterButton:"Layout_FooterButton__1lZv2",TopHeader:"Layout_TopHeader__3_LuK",BottomHeader:"Layout_BottomHeader__3DOBo",Main:"Layout_Main__3usmk",MenuButtonContiner:"Layout_MenuButtonContiner__PpulB",QuickButtonContiner:"Layout_QuickButtonContiner__4d4Lg",PageTitle:"Layout_PageTitle__368dw"}},609:function(e,t){},611:function(e,t){},648:function(e,t){},649:function(e,t){},812:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),i=a.n(o),l=a(18),c=a(25),s=a.n(c),u=a(7),d=a(61),p=a(149),m=a(328),f=(a(415),a(41)),g=a(5),h=a(202),b=a(88),y=a(102),v=a.n(y),E=a(34),x=a(103),w=new b.a,k=Object(f.g)(Object(u.b)(function(e){return{lastUrl:e.lastUrl}})(function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(g.a)(l,2),s=c[0],u=c[1];Object(n.useEffect)(function(){p()});var d="?rememberme=false";o&&(d="?rememberme=true");e.lastUrl&&e.lastUrl;var p=function(){w.get("cookies_consent")&&u(!0)},m="https://addspire.com/api/auth/";return s?r.a.createElement("div",{className:"contentDiv"},r.a.createElement("div",{className:v.a.Container},r.a.createElement("h1",null,"Welcome to Addspire!"),r.a.createElement("h2",null,"This is where great progresses live."),r.a.createElement("h1",null,"Continue with:"),r.a.createElement("div",{className:v.a.socialButtons},r.a.createElement(x.FacebookLoginButton,{onClick:function(){return window.location=m+"facebook/start".concat(d)}}),r.a.createElement(x.GoogleLoginButton,{onClick:function(){return window.location=m+"google/start".concat(d)}}),r.a.createElement(x.GithubLoginButton,{onClick:function(){return window.location=m+"github/start".concat(d)}})),r.a.createElement(h.a,{checked:o,onChange:function(){return i(!o)}},"Remember me")),r.a.createElement("div",{className:v.a.Background})):r.a.createElement(E.a,{title:"Cookies consent",visible:!s,onOk:function(){w.set("cookies_consent","true",{path:"/",maxAge:3153e4}),p()},onCancel:function(){window.open("https://websiter.dev","_self")},destroyOnClose:!0,maskClosable:!1},r.a.createElement("p",null,"We use cookies only for login purposes. "),r.a.createElement("p",null,"In order to proceed you need to agree with the use of cookies."))})),O=a(12),D=a(35),_=a(4),S=(new b.a,a(116),a(105),a(213),a(532),a(266),a(267),a(537),a(268),a(269),a(270),a(271),a(214),a(544),a(546),a(548),a(550),a(553),a(555),a(557),a(215),a(160),a(274),a(814),a(813),a(566),a(568),a(570),a(572),a(574),a(577),a(579),a(581),a(583),a(585),a(587),a(272),a(273),a(589),a(28)),j=a(42),C=a(379),A=a(71),I=a(57),T=a(357),P=a.n(T),F=a(154),N=a.n(F),z=a(359),R=a.n(z),M=a(358),L=a.n(M),B=a(240),W=a.n(B),U=a(242),Y=a.n(U),V=a(238),J=a.n(V),H=a(241),G=a.n(H),q=a(239),K=a.n(q),$=a(360),Q=a.n($),Z=function(e,t){return e?"https://websiter.s3.us-east-2.amazonaws.com/"+e+"/avatar?v="+(t||0):""},X=a(130),ee=new b.a,te=Object(f.g)(Object(u.b)(function(e){return{lastUrl:e.lastUrl}})(function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(g.a)(l,2),s=c[0],u=c[1];Object(n.useEffect)(function(){p()});var d="?rememberme=false";o&&(d="?rememberme=true");e.lastUrl&&e.lastUrl;var p=function(){ee.get("cookies_consent")&&u(!0)},m="https://addspire.com/api/auth/";return r.a.createElement(E.a,{visible:e.loginVisible,onOk:function(){},onCancel:function(){return e.setLoginVisible(!1)},destroyOnClose:!0,maskClosable:!1,footer:[],width:"100%",style:{maxWidth:"600px"}},s?r.a.createElement("div",{className:"contentDiv"},r.a.createElement("div",{className:v.a.Container},r.a.createElement("h1",{style:{fontWeight:"bold",lineHeight:"1.3em",marginBottom:0,fontSize:"2.5em"}},"Welcome to Addspire!"),r.a.createElement("h3",null,"This is where great inspiration lives."),r.a.createElement("div",{className:v.a.socialButtons,style:{marginBottom:"30px"}},r.a.createElement(x.FacebookLoginButton,{onClick:function(){return window.location=m+"facebook/start".concat(d)}}),r.a.createElement(x.GoogleLoginButton,{s:!0,onClick:function(){return window.location=m+"google/start".concat(d)}}),r.a.createElement(x.GithubLoginButton,{onClick:function(){return window.location=m+"github/start".concat(d)}})),r.a.createElement(h.a,{checked:o,onChange:function(){return i(!o)}},r.a.createElement(X.a.Link,{style:{fontSize:"17px"}},"Remember me"))),r.a.createElement("div",{className:v.a.Background})):r.a.createElement(E.a,{title:"Cookies consent",visible:!s,onOk:function(){ee.set("cookies_consent","true",{path:"/",maxAge:3153e4}),p()},onCancel:function(){window.open("https://addspire.com","_self")},destroyOnClose:!0,maskClosable:!1,width:"100%",style:{maxWidth:"600px"}},r.a.createElement("p",{style:{marginBottom:"0.3em"}},"We use cookies only for login purposes."," "),r.a.createElement("p",null,"In order to proceed you need to agree with the use of cookies.")))})),ae=a(356),ne=a(380),re=a(96),oe=a.n(re),ie=a(362),le=a.n(ie),ce=a(818),se=a(40),ue=a(8),de=a(342),pe=a(343),me=a(382),fe=a(344),ge=a(383),he=a(345),be=a.n(he),ye=a(32),ve=function(e,t){if(e.data.logout&&t.history.push("/logout"),!1===e.data.success)if(e.data.errorCode)switch(e.data.errorCode){case"no account":ye.b.warning("Account is not found. Please login.");break;case"bad data":ye.b.error("Error. Please try one more time with correct data.");break;case"progress exist":ye.b.warning("This progress already exists.");break;default:ye.b.warning("Something wrong has happened... Try again!")}else ye.b.error("Something failed");else if(e.data.successCode)switch(e.data.successCode){case"avatar saved":ye.b.success("The avatar image has been updated.");break;case"success":ye.b.success("Success!");break;case"item saved":ye.b.success("Item is saved");break;case"prgress created":ye.b.success("Progress has started!");break;default:ye.b.success("Success!")}e.data.status&&"no account"===e.data.status&&t.history.push("/activate-account")},Ee=new b.a,xe=function(e,t){return function(a){sessionStorage.setItem("systemRefresh","0");var n=Ee.get("auth_token"),r=Ee.get("rememberme");r&&(Ee.remove("rememberme",{path:"/"}),"false"===r&&Ee.remove("auth_token",{path:"/"}));var o=be.a.decode(n);if(s.a.defaults.headers.post["Content-Type"]="application/json",s.a.defaults.headers.put["Content-Type"]="application/json",s.a.defaults.headers.delete["Content-Type"]="application/json",s.a.defaults.headers.common.Accept="application/json",n&&o)s.a.defaults.headers.common["x-auth-token"]=n,s.a.defaults.headers.post["x-auth-token"]=n,s.a.defaults.headers.get["x-auth-token"]=n,s.a.defaults.headers.delete["x-auth-token"]=n,s.a.defaults.headers.put["x-auth-token"]=n,a(ke(o._id));else{a(ke(!1)),a(we(e.history.location.pathname));var i=e.history.location.pathname.split("/");2!==i.length||["explore","login","logintest"].includes(i[1])||e.history.push("/logout"),t&&e.history.push("/logout")}}},we=function(e){return{type:"SAVE_LAST_URL",url:e}},ke=function(e){return{type:"SET_IS_AUTHED",id:e}},Oe=function(){return function(e){Ee.remove("rememberme",{path:"/"}),Ee.remove("auth_token",{path:"/"}),delete s.a.defaults.headers.common["x-auth-token"],delete s.a.defaults.headers.post["x-auth-token"],delete s.a.defaults.headers.get["x-auth-token"],delete s.a.defaults.headers.delete["x-auth-token"],delete s.a.defaults.headers.put["x-auth-token"],e(ke(!1))}},De=function(e){return{type:"SET_DATA",data:e}},_e=function(e){return{type:"SET_PAGE_TITLE",title:e}},Se=function(e){return{type:"SET_FRIEND_SEARCH_RESULT",data:e}},je=a(55),Ce=function(e,t,a){var n=t.filter(function(t){return!a[e].includes(t)});ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"requestResource",ids:n,type:e}))},Ae=a(234),Ie=a.n(Ae),Te=function(e,t,a){var n=Ie()(e);!function(e,t,a){var n=function e(t,a,n){a.length>1?e(t[a.shift()],a,n):"array"===typeof t?t.push(n):t[a[0]]=n};for(var r in t){var o=r.split(".");a&&!a.includes(o[0])||"undefined"!==typeof t[r]&&n(e,o,t[r])}}(n,t.updatedFields,a);var r=function e(t,a){a.length>1?e(t[a.shift()],a):"object"===typeof t?delete t[a[0]]:"array"===typeof t&&t.splice(a[0],1)},o=!0,i=!1,l=void 0;try{for(var c,s=t.removedFields[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;if(u.indexOf(".")>-1){var d=u.split(".");a&&!a.includes(d[0])||r(n,d)}else delete n[u]}}catch(p){i=!0,l=p}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}return n},Pe=function(e){var t=e.store,a={user:[],account:[],progress:[],post:[],group:[],progressData:[],friendData:[],postData:[],groupData:[],transactionData:[]},n={user:[],account:[],progress:[],post:[],group:[],progressData:[],friendData:[],postData:[],groupData:[],transactionData:[]};if(t.isAuthed)if(t.user){if(n.user.push(t.user._id),t.currentAccount)if(t.account._id!==t.currentAccount)a.account.push(t.currentAccount);else{n.account.push(t.account._id);for(var r=0,o=[].concat(Object(ue.a)(t.account.progresses),Object(ue.a)(t.account.followProgresses));r<o.length;r++){var i=o[r];t.progressData[i]||a.progressData.push(i),n.progressData.push(i)}var l=!0,c=!1,s=void 0;try{for(var u,d=t.account.groups[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value;t.groupData[p]||a.groupData.push(p),n.groupData.push(p)}}catch(et){c=!0,s=et}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}var m=!0,f=!1,g=void 0;try{for(var h,b=t.account.followPosts[Symbol.iterator]();!(m=(h=b.next()).done);m=!0){var y=h.value;t.postData[y]||a.postData.push(y),n.postData.push(y)}}catch(et){f=!0,g=et}finally{try{m||null==b.return||b.return()}finally{if(f)throw g}}var v=!0,E=!1,x=void 0;try{for(var w,k=t.account.myPosts[Symbol.iterator]();!(v=(w=k.next()).done);v=!0){var O=w.value;t.postData[O]||a.postData.push(O),n.postData.push(O)}}catch(et){E=!0,x=et}finally{try{v||null==k.return||k.return()}finally{if(E)throw x}}var D=!0,_=!1,S=void 0;try{for(var j,C=t.account.transactions[Symbol.iterator]();!(D=(j=C.next()).done);D=!0){var A=j.value;t.transactionData[A]||a.transactionData.push(A),n.transactionData.push(A)}}catch(et){_=!0,S=et}finally{try{D||null==C.return||C.return()}finally{if(_)throw S}}var I=!0,T=!1,P=void 0;try{for(var F,N=t.account.friends[Symbol.iterator]();!(I=(F=N.next()).done);I=!0){var z=F.value;t.friendData[z.friend]||a.friendData.push(z.friend),n.friendData.push(z.friend)}}catch(et){T=!0,P=et}finally{try{I||null==N.return||N.return()}finally{if(T)throw P}}for(var R=0,M=[].concat(Object(ue.a)(t.account.followingAccounts),Object(ue.a)(t.account.followAccounts));R<M.length;R++){var L=M[R];t.friendData[L]||a.friendData.push(L),n.friendData.push(L)}}if(t.currentProfile)if(t.profile._id!==t.currentProfile)a.account.push(t.currentProfile);else{n.account.push(t.profile._id);for(var B=0,W=[].concat(Object(ue.a)(t.profile.progresses),Object(ue.a)(t.profile.followProgresses));B<W.length;B++){var U=W[B];t.progressData[U]||a.progressData.push(U),n.progressData.push(U)}var Y=!0,V=!1,J=void 0;try{for(var H,G=t.profile.groups[Symbol.iterator]();!(Y=(H=G.next()).done);Y=!0){var q=H.value;t.groupData[q]||a.groupData.push(q),n.groupData.push(q)}}catch(et){V=!0,J=et}finally{try{Y||null==G.return||G.return()}finally{if(V)throw J}}var K=!0,$=!1,Q=void 0;try{for(var Z,X=t.profile.friends[Symbol.iterator]();!(K=(Z=X.next()).done);K=!0){var ee=Z.value;t.friendData[ee.friend]||a.friendData.push(ee.friend),n.friendData.push(ee.friend)}}catch(et){$=!0,Q=et}finally{try{K||null==X.return||X.return()}finally{if($)throw Q}}for(var te=0,ae=[].concat(Object(ue.a)(t.profile.followingAccounts),Object(ue.a)(t.profile.followAccounts));te<ae.length;te++){var ne=ae[te];t.friendData[ne]||a.friendData.push(ne),n.friendData.push(ne)}}if(t.currentGroup)if(t.group._id!==t.currentGroup)a.group.push(t.currentGroup);else{n.group.push(t.group._id);var re=!0,oe=!1,ie=void 0;try{for(var le,ce=t.group.users[Symbol.iterator]();!(re=(le=ce.next()).done);re=!0){var se=le.value;t.friendData[se]||a.friendData.push(se),n.friendData.push(se)}}catch(et){oe=!0,ie=et}finally{try{re||null==ce.return||ce.return()}finally{if(oe)throw ie}}var de=!0,pe=!1,me=void 0;try{for(var fe,ge=t.group.progresses[Symbol.iterator]();!(de=(fe=ge.next()).done);de=!0){var he=fe.value;t.progressData[he]||a.progressData.push(he),n.progressData.push(he)}}catch(et){pe=!0,me=et}finally{try{de||null==ge.return||ge.return()}finally{if(pe)throw me}}var be=!0,ye=!1,ve=void 0;try{for(var Ee,xe=t.group.posts[Symbol.iterator]();!(be=(Ee=xe.next()).done);be=!0){var we=Ee.value;t.postData[we]||a.postData.push(we),n.postData.push(we)}}catch(et){ye=!0,ve=et}finally{try{be||null==xe.return||xe.return()}finally{if(ye)throw ve}}}if(t.currentProgress)if(t.progress._id!==t.currentProgress)a.progress.push(t.currentProgress);else{n.progress.push(t.progress._id);var ke=[];t.progress.owner&&ke.push(t.progress.owner),t.progress.worker&&ke.push(t.progress.worker),ke=[].concat(Object(ue.a)(ke),Object(ue.a)(t.progress.experts||[]),Object(ue.a)(t.progress.supporters||[]));var Oe=!0,De=!1,_e=void 0;try{for(var Se,je=ke[Symbol.iterator]();!(Oe=(Se=je.next()).done);Oe=!0){var Ce=Se.value;t.friendData[Ce]||a.friendData.push(Ce),n.friendData.push(Ce)}}catch(et){De=!0,_e=et}finally{try{Oe||null==je.return||je.return()}finally{if(De)throw _e}}var Ae=!0,Ie=!1,Te=void 0;try{for(var Pe,Fe=t.progress.posts[Symbol.iterator]();!(Ae=(Pe=Fe.next()).done);Ae=!0){var Ne=Pe.value;t.postData[Ne]||a.postData.push(Ne),n.postData.push(Ne)}}catch(et){Ie=!0,Te=et}finally{try{Ae||null==Fe.return||Fe.return()}finally{if(Ie)throw Te}}}if(t.currentPosts){var ze=!0,Re=!1,Me=void 0;try{for(var Le,Be=t.currentPosts[Symbol.iterator]();!(ze=(Le=Be.next()).done);ze=!0){var We=Le.value,Ue=t.post[We];if(Ue){n.post.push(We);var Ye=!0,Ve=!1,Je=void 0;try{for(var He,Ge=Ue.users[Symbol.iterator]();!(Ye=(He=Ge.next()).done);Ye=!0){var qe=He.value;t.friendData[qe]||a.friendData.push(qe),n.friendData.push(qe)}}catch(et){Ve=!0,Je=et}finally{try{Ye||null==Ge.return||Ge.return()}finally{if(Ve)throw Je}}We.parent&&("progress"===We.parent.parentType?n.progressData.push(We.parent.parentId):"group"===We.parent.parentType&&n.groupData.push(We.parent.parentId))}else a.post.push(We)}}catch(et){Re=!0,Me=et}finally{try{ze||null==Be.return||Be.return()}finally{if(Re)throw Me}}}}else a.user.push(t.isAuthed);var Ke=function(e){for(var t in e)e[t]&&(e[t]=Array.from(new Set(e[t])))};Ke(n);var $e,Qe={user:[],account:[],progress:[],post:[],group:[],progressData:[],friendData:[],postData:[],groupData:[],transactionData:[]};Qe.profile=[];var Ze=function(e,a){t[a]._id&&!n[e].includes(t[a]._id)&&(Qe[a].push(t[a]._id),$e=!0)},Xe=function(e){for(var a in t[e])n[e].includes(a)||(Qe[e].push(a),$e=!0)};return Ze("account","account"),Ze("account","profile"),Ze("group","group"),Ze("progress","progress"),Xe("post"),Xe("friendData"),Xe("progressData"),Xe("transactionData"),Xe("postData"),Xe("groupData"),$e&&e.removeData(Qe),Ke(a),a},Fe=function(e,t,a,n){var r={user:[],account:[],progress:[],post:[],group:[],progressData:[],friendData:[],postData:[],groupData:[],transactionData:[]},o=function(n){for(var o in e[n])"undefined"!==typeof e[n][o]&&(a[n][o]?a[n][o]!==e[n][o]&&Ce(n,[o],t):r[n].push(o))},i=function(n){for(var o in e[n])"undefined"!==typeof e[n][o]&&(a[n]._id===o?(a[n].__v!==e[n][o]&&Ce(n,[o],t),a[n]._id||r[n].push(o)):r[n].push(o))};for(var l in e.user)"undefined"!==typeof e.user[l]&&(a.user._id===l?a.user.__v!==e.user[l]&&Ce("user",[l],t):r.user.push(l));for(var c in e.account)"undefined"!==typeof e.account[c]&&(a.account._id===c&&a.account.__v!==e.account[c]&&Ce("account",[c],t),a.profile._id===c&&(a.profile.__v!==e.account[c]&&Ce("account",[c],t),a.account._id||r.account.push(c))),a.account._id!==c&&a.profile._id!==c&&r.account.push(c);if(i("progress"),i("group"),o("post"),o("friendData"),o("progressData"),o("postData"),o("groupData"),o("transactionData"),r.user.length>0||r.account.length>0||r.progress.length>0||r.post.length>0||r.group.length>0||r.friendData.length>0||r.progressData.length>0||r.postData.length>0||r.groupData.length>0||r.transactionData.length>0)return r},Ne=function(e){var t=e.store,a={user:{},account:{},progress:{},post:{},group:{},transactionData:{},friendData:{},progressData:{},groupData:{},postData:{}};t.user&&t.user._id&&(a.user[t.user._id]=t.user.__v),t.account._id&&(a.account[t.account._id]=t.account.__v),t.profile._id&&(a.account[t.profile._id]=t.profile.__v),t.progress._id&&(a.progress[t.progress._id]=t.progress.__v),t.group._id&&(a.group[t.group._id]=t.group.__v);var n=function(e){for(var n in t[e])"undefined"!==typeof t[e][n]&&t[e][n]._id&&(a[e][t[e][n]._id]=t[e][n].__v)};return n("post"),n("friendData"),n("postData"),n("groupData"),n("progressData"),n("TransactionData"),a},ze=(a(709).create({propertyFilter:function(e,t){return"patch"!==e}}),!1),Re=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(me.a)(this,(e=Object(fe.a)(t)).call.apply(e,[this].concat(r)))).state={user:[],account:[],progress:[],post:[],group:[],friendData:[],progressData:[],postData:[],groupData:[],transactionData:[]},a.start=function(){var e;ze=new WebSocket("wss://addspire.com");var t=function(t){var n;t&&(n=Fe(t,a.state,a.props.store,ze)),clearTimeout(e),e=setTimeout(function(){ze.close()},31e3),ze.send(JSON.stringify({messageCode:"heartbeat",notNeededResources:n}))};ze.onopen=function(e){var n=Ne(a.props);ze.send(JSON.stringify({messageCode:"auth",user:s.a.defaults.headers.common["x-auth-token"],resourcesToMonitor:n})),a.initializeRequestResources(a.props),t()},ze.onmessage=function(e){var n=JSON.parse(e.data);switch(n.messageCode){case"heartbeat":t(n.versions);break;case"logout":a.props.logout(),a.props.history.push("/logout");break;case"successMessage":ye.b.success(n.messageText);break;case"errorMessage":ye.b.error(n.messageText);break;case"friendsData":a.props.setFriendsData(n.friendsData);break;case"redirectToProgresses":a.props.history.push("/inspirations");break;case"addResource":a.props.saveResource(n.resources,n.type);break;case"updateResource":a.props.updateResource(n.code,n.id,n.update,a.state);break;case"friendSearchResult":a.props.setFriendSearchResult(n.data);break;case"error":ye.b.error(n.text)}},ze.onclose=function(t){clearTimeout(e)}},a.checkInterval=null,a.check=function(){ze&&3!==ze.readyState||(clearInterval(a.checkInterval),a.checkInterval=setInterval(a.check,5e3),a.start())},a.reRequestResourcesInterval=null,a.reRequestResources=function(){for(var e=0,t=["user","account","progress","post","group","postData","groupData","progressData","friendData","transactionData"];e<t.length;e++){var n=t[e];a.state[n].length>0&&ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"requestResource",ids:a.state[n],type:n}))}},a.initializeRequestResources=function(e){for(var t=Pe(e),n=function(){var e=o[r];t[e].length>0&&ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"requestResource",ids:t[e].filter(function(t){return!a.state[e].includes(t)}),type:e}))},r=0,o=["user","account","progress","post","group","postData","groupData","progressData","friendData","transactionData"];r<o.length;r++)n();a.setState(function(){return t}),clearInterval(a.reRequestResourcesInterval),a.reRequestResourcesInterval=setInterval(a.reRequestResources,3e3)},a}return Object(ge.a)(t,e),Object(pe.a)(t,[{key:"componentWillMount",value:function(){this.checkInterval=setInterval(this.check,50)}},{key:"componentWillUnmount",value:function(){clearInterval(this.checkInterval),ze&&ze.close(),this.props.setConnectingToWS(!1)}},{key:"componentDidMount",value:function(){this.props.setConnectingToWS(!0)}},{key:"componentWillReceiveProps",value:function(e){this.initializeRequestResources(e)}},{key:"render",value:function(){return null}}]),t}(n.Component),Me=Object(f.g)(Object(u.b)(function(e){return{store:e}},function(e){return{setData:function(t,a){return e(De(t))},removeData:function(t){return e(function(e){return{type:"REMOVE_DATA",data:e}}(t))},saveResource:function(t,a){return e(function(e,t){return function(a,n){if(e.length>0){var r=n();switch(t){case"user":var o=e[0],i=o.currentAccount;i||(i=o.myAccount),a(De({user:o,currentAccount:i}));break;case"account":var l=e.find(function(e){return e._id===r.currentAccount});l&&a(De({account:l}));var c=e.find(function(e){return e._id===r.currentProfile});c&&a(De({profile:c}));break;case"progress":var s=e.find(function(e){return e._id===r.currentProgress});s&&a(De({progress:s}));break;case"group":var u=e.find(function(e){return e._id===r.currentGroup});u&&a(De({group:u}));break;case"post":var d={},p=!0,m=!1,f=void 0;try{for(var g,h=e[Symbol.iterator]();!(p=(g=h.next()).done);p=!0){var b=g.value;d[b._id]=b}}catch(X){m=!0,f=X}finally{try{p||null==h.return||h.return()}finally{if(m)throw f}}a(De({post:d}));break;case"friendData":var y={},v=!0,E=!1,x=void 0;try{for(var w,k=e[Symbol.iterator]();!(v=(w=k.next()).done);v=!0){var O=w.value;y[O._id]=O}}catch(X){E=!0,x=X}finally{try{v||null==k.return||k.return()}finally{if(E)throw x}}a(De({friendData:y}));break;case"progressData":var D={},_=!0,S=!1,j=void 0;try{for(var C,A=e[Symbol.iterator]();!(_=(C=A.next()).done);_=!0){var I=C.value;D[I._id]=I}}catch(X){S=!0,j=X}finally{try{_||null==A.return||A.return()}finally{if(S)throw j}}a(De({progressData:D}));break;case"transactionData":var T={},P=!0,F=!1,N=void 0;try{for(var z,R=e[Symbol.iterator]();!(P=(z=R.next()).done);P=!0){var M=z.value;T[M._id]=M}}catch(X){F=!0,N=X}finally{try{P||null==R.return||R.return()}finally{if(F)throw N}}a(De({transactionData:T}));break;case"postData":var L={},B=!0,W=!1,U=void 0;try{for(var Y,V=e[Symbol.iterator]();!(B=(Y=V.next()).done);B=!0){var J=Y.value;L[J._id]=J}}catch(X){W=!0,U=X}finally{try{B||null==V.return||V.return()}finally{if(W)throw U}}a(De({postData:L}));break;case"groupData":var H={},G=!0,q=!1,K=void 0;try{for(var $,Q=e[Symbol.iterator]();!(G=($=Q.next()).done);G=!0){var Z=$.value;H[Z._id]=Z}}catch(X){q=!0,K=X}finally{try{G||null==Q.return||Q.return()}finally{if(q)throw K}}a(De({groupData:H}))}}}}(t,a))},setFriendsData:function(t){return e(function(e){return{type:"SET_FRIENDS_DATA",data:e}}(t))},updateResource:function(t,a,n,r){return e(function(e,t,a,n){return function(r,o){if(a&&t&&e){var i=o(),l=function(o){if(i[o]._id===t)if(i[o].__v===a.updatedFields.__v-1){var l=Te(i[o],a);r(De(Object(je.a)({},o,l)))}else i[o].id&&Ce(e,[t],n)},c=function(o,l){var c=Object(je.a)({},o,Ie()(i[o])),s=c[o][t];s&&(s.__v===a.updatedFields.__v-1?(c[o][t]=Te(s,a,l),r(De(c))):Ce(e,[t],n))};switch(e){case"user":l("user");break;case"account":l("account"),l("profile");break;case"progress":l("progress");break;case"group":l("group");break;case"post":r(De(c(e)));break;case"friendData":r(De(c(e,["name","image","notifications","__v"])));break;case"progressData":r(De(c(e,["owner","worker","goal","notifications","__v"])));break;case"postData":case"groupData":r(De(c(e,["notifications","__v"])));break;case"transactionData":r(De(c(e)))}}}}(t,a,n,r))},setFriendSearchResult:function(t){return e(Se(t))},setConnectingToWS:function(t){return e(function(e){return{type:"SET_CONNECTING_WS",data:e}}(t))},logout:function(){return e(Oe())}}})(Re)),Le=function(e,t,a,n){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:e,messageId:t,accountId:a,postId:n}))},Be=function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"followProgress",accountId:e,progressId:t}))},We=function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"unfollowProgress",accountId:e,progressId:t}))},Ue=function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"followAccount",accountId:e,accountFollow:t}))},Ye=function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"unfollowAccount",accountId:e,accountFollow:t}))},Ve=function(e,t,a){a&&e&&t&&ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"buyPerk",perkId:a,buyer:e,seller:t}))},Je=function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"unfriend",accountId:e,friendId:t}))},He=a(19),Ge=a(64),qe=a(91),Ke=a.n(qe),$e=a(235),Qe=a.n($e),Ze=a(346),Xe=function(e,t,a,n){if(null==e)return alert("No file selected.");var r=new FileReader;r.onload=function(){var r=Object(Ze.a)(Qe.a.mark(function r(o){return Qe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:tt(e,{width:t,height:t},function(e){et(e,"/120").then(function(e){nt(e,a,n)})});case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),r.readAsArrayBuffer(e)},et=function(e,t,a){return a=a||(e.match(/^data:([^;]+);/)||"")[1],fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return new File([e],t,{type:"image/jpeg"})})},tt=function(e,t,a){if(e){var n=new FileReader;n.onload=function(e){at(e.target.result,t,a)},n.readAsDataURL(e)}},at=function(e,t,a){var n,r=new Image;r.onload=function(){var e=r.width/t.width,o=r.height/t.height,i=document.createElement("canvas"),l=i.getContext("2d");i.width=r.width,i.height=r.height,l.drawImage(r,0,0),(e>1||o>1)&&(r.width>r.height?(i.height=r.height/r.width*t.width,i.width=t.width):(i.width=r.width/r.height*t.width,i.height=t.width)),l.drawImage(i,0,0,i.width,i.height),l.drawImage(r,0,0,i.width,i.height),n=i.toDataURL("image/jpeg",.6),a(n)},r.src=e},nt=function(e,t,a){return s.a.post("/api/sign-s3",{fileName:t}).then(function(t){rt(e,t.data,a)}).catch(function(e){})},rt=function(e,t,a){return s.a.put(t.signedRequest,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){a(t.url),ye.b.success("The image has been saved.")}).catch(function(e){console.log(e)})},ot=a(197),it=a(59),lt=a(79),ct=200,st=1e4,ut=1e4,dt=[{required:!0,message:"Nickname is too short. Minimal length is 2.",whitespace:!0,min:2},{message:"Nickname is too long. Miximum length is ".concat(ct,"."),whitespace:!0,max:ct},{pattern:/^[a-zA-Z0-9_-]*$/,message:"Nickname should contain only letters, numbers, '-' and '_'."}],pt=[{required:!0,min:1,whitespace:!0,message:"Name is too short. Minimal length is 1."},{max:ct,message:"Name is too long. Miximum length is ".concat(ct,".")}],mt=[{required:!0,min:2,whitespace:!0,message:"Name is too short. Minimal length is 2."},{max:ct,message:"Name is too long. Miximum length is ".concat(ct,".")}],ft=[{max:st,message:"Description is too long. Miximum length is ".concat(st,".")}],gt=[{min:1,whitespace:!0,message:"Message is too short. Minimal length is 1."},{max:ut,message:"Message is too long. Miximum length is ".concat(ut,".")}],ht=[{required:!0,message:"Please input the item price."}],bt=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,profile:e.profile,friendData:e.friendData,friendSearchResult:e.friendSearchResult}})(function(e){var t=e.account,a=e.profile,n=e.id,o=e.friendSearchResult,i=e.friendDataExp||e.friendData,c=function(e){return e===t._id?t:e===a._id?a:e===o._id?o:i[e]},s=function(e){return c(e)?c(e).name:e},u=function(t){return c(t)?r.a.createElement("span",{key:t},r.a.createElement(j.a,{src:Z(t,c(t).image),size:e.size||(e.noClick?20:40),style:e.group?{}:{margin:" 0 5px"}})):null};return e.onlyName?s(n):e.group?r.a.createElement("span",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(j.a.Group,{style:{margin:" 0 5px"}},e.ids.map(function(e){return u(e)}))):e.noClick?r.a.createElement(r.a.Fragment,null,!e.noAva&&u(n),!e.noName&&s(n)):e.span?r.a.createElement(l.b,{style:Object(He.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},!e.noAva&&u(n),!e.noName&&s(n)):r.a.createElement(l.b,{onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},r.a.createElement(_.a,{type:"link",style:Object(He.a)({padding:"0px 5px",height:"auto"},e.style)},!e.noAva&&u(n),!e.noName&&s(n)))})),yt=function(e,t,a,n){return r.a.createElement(it.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:a,onChange:n,getPopupContainer:function(e){return e.parentNode}},[e].concat(Object(ue.a)(e.friends.filter(function(e){return"friend"===e.status}).map(function(e){return t[e.friend]}))).map(function(e){return e&&e._id&&r.a.createElement(it.a.Option,{key:e._id},r.a.createElement(bt,{id:e._id,noClick:!0}))}))},vt=a(36),Et=a(82),xt=a(49),wt=function(e){return r.a.createElement("svg",{viewBox:"0 0 24 24",width:"18",height:"18",style:{transform:"rotate(90deg)",display:"block"}},r.a.createElement("path",{d:"M2 10h4v4H2v-4zm8 4h4v-4h-4v4zm8-4v4h4v-4h-4z"}))},kt=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,friendData:e.friendData,progress:e.progress}})(function(e){var t,a=Object(n.useState)(""),o=Object(g.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(),s=Object(g.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)(),m=Object(g.a)(p,2),f=m[0],h=m[1],b=Object(n.useState)(),y=Object(g.a)(b,2),v=y[0],x=y[1],w=e.account,k=e.friendData,j=e.readOnly,C=e.progress,A=function(e){return r.a.createElement(_.a,{type:"link",onClick:function(){return d(e.item)}},"simple"===e.item.mode?e.item.simple:"money"===e.item.mode?e.item.money+" (money)":"item"===e.item.mode?e.item.itemName:"")};return e.rewards?r.a.createElement("div",null,e.onlyButton?e.rewards.map(function(e,t){return r.a.createElement(A,{item:e,key:t})}):r.a.createElement(O.a.Item,{label:e.label,key:e.rewardKey},e.rewards.length>0&&r.a.createElement("ol",null,e.rewards.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(A,{item:t}),r.a.createElement(bt,{id:t.owner,noName:!0})," ","in",t.for&&t.for.length>0?r.a.createElement(bt,{id:t.for,noName:!0}):r.a.createElement("span",{style:{fontWeight:"bold",marginLeft:"5px"}},"All"),t.owner===w._id&&!j&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,{overlay:r.a.createElement(S.a,null,r.a.createElement(S.a.Item,{onClick:function(){x(a),h(t)}},"Edit"),r.a.createElement(S.a.Item,{onClick:function(){var n,r,o;window.confirm("Are you sure you want to delete this item?")&&(e.setRewards?e.setRewards(e.rewards.filter(function(e,t){return t!==a})):(n=w._id,r=C._id,o=t.rewardId,ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"deleteReward",accountId:n,progressId:r,rewardId:o}))))}},"Delete"))},r.a.createElement(_.a,{type:"link"},r.a.createElement(wt,null)))))})),!j&&r.a.createElement(_.a,{type:"link",style:{paddingLeft:0},onClick:function(){x("new"),h({mode:"simple"})}},r.a.createElement(Ke.a,null),"Add rewards")),r.a.createElement(E.a,(t={visible:f,title:"new"===f?"Add new reward":"Edit reward",closable:!0,destroyOnClose:!0,onCancel:function(){return h()},onOk:function(){var t,a,n,r,o={};if("money"===f.mode?(o.money=f.money,o.mode=f.mode,o.for=f.for,o.rewardId=f.rewardId):o=Object(He.a)({},f,{money:void 0}),o.owner=w._id,e.setRewards){var i=Object(ue.a)(e.rewards);i="new"===v?[].concat(Object(ue.a)(i),[o]):i.map(function(e,t){return t===v?o:e}),e.setRewards(i),h(),x()}else t=w._id,a=C._id,n=e.rewardKey,r=o,ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"saveReward",accountId:t,progressId:a,rewardKey:n,reward:r})),h(),x()}},Object(je.a)(t,"destroyOnClose",!0),Object(je.a)(t,"okText","Save"),t),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Item,{label:"Reward type"},r.a.createElement(it.a,{placeholder:"Type",value:f.mode,onSelect:function(e){h(Object(He.a)({},f,{mode:e}))},style:{width:"100%"},getPopupContainer:function(e){return e.parentNode}},r.a.createElement(it.a.Option,{key:"simple",value:"simple"},"Simple reward"),r.a.createElement(it.a.Option,{key:"item",value:"item"},"Item reward"),r.a.createElement(it.a.Option,{key:"money",value:"money"},"Money reward"))),r.a.createElement(O.a.Item,{label:"Reward for"},yt(w,k,f.for,function(e){h(Object(He.a)({},f,{for:e}))}),r.a.createElement("p",null,"(leave blank for all)")),r.a.createElement(lt.a,{type:"horizontal"}),"simple"===f.mode?r.a.createElement(O.a.Item,{label:"Description",rules:[].concat(Object(ue.a)(ft),[{required:!0,min:1,whitespace:!0,message:"Desription is too short. Minimal length is 1."}])},r.a.createElement(D.a.TextArea,{value:f.simple,onChange:function(e){var t=e.target.value;return h(Object(He.a)({},f,{simple:t}))},placeholder:"Explain how you will reward"})):"money"===f.mode?r.a.createElement(O.a.Item,{label:"Amount",rules:ht},r.a.createElement(ot.a,{value:f.money,onChange:function(e){h(Object(He.a)({},f,{money:e}))}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Item,{label:"Images"},r.a.createElement(Ge.a,{listType:"picture-card",fileList:(f.itemImages||[]).map(function(e,t){return{url:e,uid:t}}),onPreview:function(e){l(e.url)},onChange:function(e){var t=e.fileList;h(Object(He.a)({},f,{itemImages:t.map(function(e){return e.url})}))},customRequest:function(e){var t=e.file;Xe(t,800,void 0,function(e){h(Object(He.a)({},f,{itemImages:[].concat(Object(ue.a)(f.itemImages||[]),[e])}))})}},(f.itemImages||[]).length>=8?null:r.a.createElement("div",null,r.a.createElement(Ke.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))),r.a.createElement(O.a.Item,{label:"Name",rules:pt},r.a.createElement(D.a,{value:f.itemName,onChange:function(e){var t=e.target.value;return h(Object(He.a)({},f,{itemName:t}))}})),r.a.createElement(O.a.Item,{label:"Description",rules:ft},r.a.createElement(D.a.TextArea,{value:f.itemDescription,onChange:function(e){var t=e.target.value;return h(Object(He.a)({},f,{itemDescription:t}))}}))))),r.a.createElement(E.a,{visible:i,footer:null,onCancel:function(){return l("")},destroyOnClose:!0},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:i})),r.a.createElement(E.a,{visible:u,footer:null,onCancel:function(){return d()},title:"Reward details",destroyOnClose:!0},u?r.a.createElement(r.a.Fragment,null,u.itemImages&&u.itemImages.map(function(e,t){return r.a.createElement("span",{key:t,onClick:function(){return l(e)}},r.a.createElement(xt.a,{type:"inner",style:{width:200,display:"inline-block"},hoverable:!0,cover:r.a.createElement("div",{style:{backgroundImage:"url("+e+")",height:200,width:200,backgroundSize:"cover"}})}))}),r.a.createElement(vt.a,{title:"Reward description",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},"item"===u.mode&&r.a.createElement(vt.a.Item,{label:"Name"},u.itemName),"item"===u.mode&&r.a.createElement(vt.a.Item,{label:"Description"},r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},u.itemDescription)),"simple"===u.mode&&r.a.createElement(vt.a.Item,{label:"Description"},r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},u.simple)),"money"===u.mode&&r.a.createElement(vt.a.Item,{label:"Money"},u.money))):null)):null})),Ot=it.a.Option,Dt=function(e){var t=e.goal,a=e.account,o=e.friendData,i=Object(n.useState)(t&&t.images.map(function(e,t){return{url:e,uid:t}})||[]),l=Object(g.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(""),d=Object(g.a)(u,2),p=d[0],m=d[1],f=Object(n.useState)(t&&t.rewards||[]),h=Object(g.a)(f,2),b=h[0],y=h[1],v=O.a.useForm(),x=Object(g.a)(v,1)[0],w=yt(a,o);return!e.goalId||t?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,Object.assign({form:x,name:"dynamic_form_nest_item",onFinish:function(t){e.onFinish(Object(He.a)({},t,{images:c.map(function(e){return e.url}),rewards:b}))},autoComplete:"off",initialValues:t||{name:"New achievement",repeat:"no",days:["0"]}},{labelCol:{span:8},wrapperCol:{span:16}},{onValuesChange:function(e,t){return t.days&&x.setFieldsValue({days:t.days.sort()})}}),r.a.createElement(O.a.Item,{name:"images",label:"Images",valuePropName:"images",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList.map(function(e){return e.url})}},r.a.createElement(Ge.a,{listType:"picture-card",fileList:c.map(function(e,t){return Object(He.a)({},e,{uid:t})}),onPreview:function(e){m(e.url)},onChange:function(e){var t=e.fileList;return s(t)},customRequest:function(e){var t=e.file;Xe(t,800,void 0,function(e){s([].concat(Object(ue.a)(c),[{url:e}]).map(function(e,t){return Object(He.a)({},e,{uid:t})}))})}},c.length>=8?null:r.a.createElement("div",null,r.a.createElement(Ke.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))),r.a.createElement(O.a.Item,{label:"Name",name:"name",rules:pt},r.a.createElement(D.a,null)),r.a.createElement(O.a.Item,{label:"Description",name:"description",rules:ft},r.a.createElement(D.a.TextArea,{autoSize:{minRows:4,maxRows:20},placeholder:"Write a few words about why this goal is important and how to achieve it."})),r.a.createElement(O.a.Item,{label:"Achievers",name:"users"},w),r.a.createElement(O.a.Item,{label:"Experts",name:"experts"},w),r.a.createElement(O.a.Item,{label:"Repeat",name:"repeat"},r.a.createElement(it.a,null,r.a.createElement(Ot,{value:"no"},"No repeat"),r.a.createElement(Ot,{value:"day"},"Every day"),r.a.createElement(Ot,{value:"weekday"},"Every day of week"),r.a.createElement(Ot,{value:"week"},"Every week"),r.a.createElement(Ot,{value:"month"},"Every month"),r.a.createElement(Ot,{value:"year"},"Every year"))),r.a.createElement(O.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.repeat!==t.repeat}},function(e){return"weekday"===(0,e.getFieldValue)("repeat")?r.a.createElement(O.a.Item,{label:"Days of week",name:"days"},r.a.createElement(it.a,{mode:"tags"},r.a.createElement(Ot,{value:"0"},"Sunday"),r.a.createElement(Ot,{value:"1"},"Monday"),r.a.createElement(Ot,{value:"2"},"Tuesday"),r.a.createElement(Ot,{value:"3"},"Wednesday"),r.a.createElement(Ot,{value:"4"},"Thursday"),r.a.createElement(Ot,{value:"5"},"Friday"),r.a.createElement(Ot,{value:"6"},"Saturday"))):null}),r.a.createElement(kt,{label:"Rewards",rewards:b,setRewards:y}),r.a.createElement("div",{style:{textAlign:"right",marginTop:"50px"}},r.a.createElement(_.a,{type:"text",size:"large",onClick:function(){return e.cancel(!1)}},"Cancel"),r.a.createElement(_.a,{type:"primary",htmlType:"submit",size:"large",style:{borderRadius:"6px",padding:"0px 25px",marginLeft:"10px"}},"Save"))),r.a.createElement(E.a,{visible:p,footer:null,onCancel:function(){return m("")},destroyOnClose:!0},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:p}))):null},_t=function(e){return e.account._id?r.a.createElement(Dt,{onFinish:function(t){!function(e,t,a){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"startProgress",accountId:e,value:t,inGroup:a}))}(e.account._id,t,e.inGroup),e.setStartProgressVisible(!1),document.body.removeAttribute("style")},account:e.account,friendData:e.friendData,cancel:e.cancel}):null},St=Object(f.g)(Object(u.b)(function(e){return{account:e.account,pageTitle:e.pageTitle,isAuthed:e.isAuthed,lastNotifications:e.lastNotifications,isConnectingWS:e.isConnectingWS,friendData:e.friendData}})(function(e){var t=e.account,a=Object(n.useState)(),o=Object(g.a)(a,2),i=o[0],c=o[1],s=Object(n.useState)(0),u=Object(g.a)(s,2),d=u[0],p=u[1],m=Object(n.useState)(!0),f=Object(g.a)(m,2),h=f[0],b=f[1],y=Object(n.useState)(!1),v=Object(g.a)(y,2),E=v[0],x=v[1],w=Object(n.useState)(!1),k=Object(g.a)(w,2),O=k[0],D=k[1],T=Object(n.useState)(e.history.location.pathname),F=Object(g.a)(T,2),z=F[0],M=F[1];Object(n.useEffect)(function(){var t=function(){var e=window.scrollY;window.scrollY<100?b(!0):b(!(e>d)),p(e)};return window.removeEventListener("scroll",t),window.addEventListener("scroll",t),z!==e.history.location.pathname&&(window.scrollTo({top:0,left:0,behavior:"smooth"}),M(e.history.location.pathname)),function(){return window.removeEventListener("scroll",t)}},[d,e.history.location.pathname]);var B=function(){c(!i)},U=e.history.location.pathname.split("/")[1]||void 0,V={type:"link",size:"large",className:I.Button},H=function(e){return U===e?{ghost:!1,type:"link"}:{type:"text"}},q=function(t){return e.history.push("/"+t)},$="/activate-account"===e.history.location.pathname,X=0,ee=!0,re=!1,ie=void 0;try{for(var ue,de=e.lastNotifications[Symbol.iterator]();!(ee=(ue=de.next()).done);ee=!0){var pe=ue.value;parseInt(pe.notId)>parseInt(t.lastSeenNot||0)&&X++}}catch(ge){re=!0,ie=ge}finally{try{ee||null==de.return||de.return()}finally{if(re)throw ie}}var me=e.isAuthed&&t._id,fe=r.a.createElement(se.a,{title:"Add progress",visible:O,maskClosable:!0,closable:!0,onCancel:function(){return D(!1)},width:"100%",style:{maxWidth:"1000px"},footer:null,destroyOnClose:!0},r.a.createElement(_t,{setStartProgressVisible:D,account:t,friendData:e.friendData,cancel:function(){return D(!1)}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:I.Layout},r.a.createElement("header",{className:h?I.Header:[I.Header,I.HideHeader].join(" ")},r.a.createElement("div",{className:I.TopHeader},r.a.createElement("div",{className:I.MenuButtonContiner},r.a.createElement(l.b,{to:"/"},r.a.createElement("img",{style:{height:"30px"},src:"/logo.jpg"})),me&&!$&&r.a.createElement(_.a,Object.assign({},V,{icon:r.a.createElement(J.a,{style:{fontSize:"20px"}}),style:{width:"60px"},onClick:B,size:"large"}))),r.a.createElement("div",{className:I.QuickButtonContiner},(me||!e.isConnectingWS)&&r.a.createElement("div",{className:I.PageTitle},$?"Activate your account":r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{type:"default",icon:r.a.createElement(ce.a,null),shape:"round",onClick:function(){t._id?D(!0):x(!0)}},"Add inspiration"),fe)),me?$?r.a.createElement(_.a,Object.assign({},V,H("friends"),{icon:r.a.createElement(N.a,null),onClick:function(){return e.history.push("/logout")}}),"Logout"):r.a.createElement("span",{onClick:function(){return q("account")},style:{margin:"0px 10px",cursor:"pointer"}},r.a.createElement(j.a,{style:{border:"1px solid white"},src:Z(t._id,t.image)})):e.isConnectingWS?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{marginRight:"30px"}},r.a.createElement(ae.a,{indicator:r.a.createElement(oe.a,{style:{color:"white",marginRight:"10px"}})})," ","Trying to login"),r.a.createElement(_.a,Object.assign({},V,H("friends"),{icon:r.a.createElement(N.a,null),onClick:function(){return e.history.push("/logout")}}),"Logout")):r.a.createElement(_.a,Object.assign({},V,H("friends"),{icon:r.a.createElement(N.a,null),onClick:function(){return x(!0)}}),"Sign in or Sign up")))),r.a.createElement("main",{className:I.Main},e.children),!$&&me&&r.a.createElement("footer",{className:I.Footer},r.a.createElement(_.a,Object.assign({},V,H("dashboard"),{onClick:function(){return q("dashboard")}}),r.a.createElement(A.a,{count:X},r.a.createElement(K.a,null)," ",r.a.createElement("div",{className:I.FooterButton},"Dashboard"))),r.a.createElement(_.a,Object.assign({},V,H("inspirations"),{onClick:function(){return q("inspirations")}}),r.a.createElement(A.a,{count:0},r.a.createElement(W.a,null),r.a.createElement("div",{className:I.FooterButton},"Inspirations"))),r.a.createElement(_.a,Object.assign({},V,H("shop"),{onClick:function(){return q("shop")}}),r.a.createElement(A.a,{count:0},r.a.createElement(G.a,null),r.a.createElement("div",{className:I.FooterButton},"Shop"))),r.a.createElement(_.a,Object.assign({},V,H("friends"),{onClick:function(){return q("friends")}}),r.a.createElement(A.a,{count:t.friends.filter(function(e){return"inviting"===e.status}).length},r.a.createElement(Y.a,null),r.a.createElement("div",{className:I.FooterButton},"Friends")))),!$&&me&&r.a.createElement(C.a,{closable:!0,onClose:B,visible:i,placement:"left",title:r.a.createElement(l.b,{to:"/"},r.a.createElement("img",{style:{width:"77px"},src:"/addspire-logo.jpg"}))},r.a.createElement(S.a,{theme:"light",mode:"vertical",selectedKeys:[U||"main"],onClick:function(t){var a=t.key;e.history.push("/"+a),B()},overflowedIndicator:r.a.createElement(J.a,null)},r.a.createElement(S.a.Item,{key:"main",icon:r.a.createElement(P.a,null)},"Explore"),r.a.createElement(S.a.Item,{key:"dashboard",icon:r.a.createElement(K.a,null)},"Dashboard"),r.a.createElement(S.a.Item,{key:"inspirations",icon:r.a.createElement(W.a,null)},"Inspirations"),r.a.createElement(S.a.Item,{key:"shop",icon:r.a.createElement(G.a,null)},"Shop"),r.a.createElement(S.a.Item,{key:"friends",icon:r.a.createElement(Y.a,null)},"Friends"),r.a.createElement(S.a.Item,{key:"wishlist",icon:r.a.createElement(L.a,null)},"Wishlist"),r.a.createElement(S.a.Item,{key:"account",icon:r.a.createElement(R.a,null)},"Account"),r.a.createElement(S.a.Item,{key:"settings",icon:r.a.createElement(Q.a,null)},"Settings"),r.a.createElement(S.a.Item,{key:"logout",icon:r.a.createElement(N.a,null)},"Logout")))),r.a.createElement(te,{loginVisible:E,setLoginVisible:x}),r.a.createElement(ne.a,null,r.a.createElement("div",{style:{height:40,width:40,lineHeight:"40px",borderRadius:"100%",backgroundColor:"#1088e9",color:"#fff",textAlign:"center",fontSize:14}},r.a.createElement(le.a,null))))})),jt=a(363),Ct=function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),o=a[0],i=a[1],l=e.connections,c=e.perkId,s=e.perk,u=e.deletePerk,d=e.onFinish,p=e.images,m=e.setImages,f=e.uploadImage,h=r.a.createElement(it.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",getPopupContainer:function(e){return e.parentNode}},l.map(function(e){return r.a.createElement(it.a.Option,{key:e._id},r.a.createElement(j.a,{src:Z(e._id,e.image),size:20,style:{marginRight:"10px"}}),e.name," - (",e._id,")")})),b=O.a.useForm(),y=Object(g.a)(b,1)[0];return!e.perkId||s?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,Object.assign({form:y,name:"dynamic_form_nest_item",onFinish:d,autoComplete:"off",initialValues:s||{}},{labelCol:{span:8},wrapperCol:{span:16}}),r.a.createElement(O.a.Item,{name:"images",label:"Images",valuePropName:"images",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList.map(function(e){return e.url})}},r.a.createElement(Ge.a,{listType:"picture-card",fileList:p.map(function(e,t){return Object(He.a)({},e,{uid:t})}),onPreview:function(e){i(e.url)},onChange:function(e){var t=e.fileList;return m(t)},customRequest:function(e){var t=e.file;f(t)}},p.length>=8?null:r.a.createElement("div",null,r.a.createElement(Ke.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))),r.a.createElement(O.a.Item,{label:"Name",name:"name",rules:pt},r.a.createElement(D.a,{placeholder:"New item"})),r.a.createElement(O.a.Item,{label:"Description",name:"description",rules:ft},r.a.createElement(D.a.TextArea,{placeholder:"Write a few words about this item."})),"shop"===e.mode&&r.a.createElement(O.a.Item,{label:"Available for",name:"users"},h),"shop"===e.mode&&r.a.createElement(O.a.Item,{label:"Price",name:"price",rules:ht},r.a.createElement(ot.a,null)),r.a.createElement(O.a.Item,{wrapperCol:{offset:8,span:16}},r.a.createElement(_.a,{type:"primary",htmlType:"submit",size:"large"},"Save"),c&&r.a.createElement(jt.a,{title:"Are you sure you want to delete this item?",onConfirm:u,onCancel:function(){},okText:"Confirm",cancelText:"Cancel"},r.a.createElement(_.a,{type:"link",danger:!0,size:"large"},"Delete")))),r.a.createElement(E.a,{visible:o,footer:null,onCancel:function(){return i("")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o}))):null},At=Object(f.g)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData}})(function(e){var t=Object(n.useState)(),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),c=Object(g.a)(l,2),s=c[0],u=c[1],d=e.account,p=e.mode,m=e.perkId||"";Object(n.useEffect)(function(){if(m){var e="wishlist"===p?d.wishlist.find(function(e){return e.itemId===m}):"goals"===p?d.goals.find(function(e){return e.goalId===m}):d.perks.find(function(e){return e.perkId===m});e&&(i(e),u(e.images.map(function(e,t){return{url:e,uid:t}})))}},[]);var f=[d].concat(Object(ue.a)(d.friends.filter(function(e){return"friend"===e.status}).map(function(t){return e.friendData[t.friend]})));return!e.perkId||o?r.a.createElement(Ct,{connections:f,perkId:m,perk:o,deletePerk:function(){!function(e,t,a){e&&t&&ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"wishlist"===a?"deleteWishlistItem":"goals"===a?"deleteGoal":"deletePerk",id:t,accountId:e}))}(d._id,m,p),e.setEditPerkOpen(!1)},onFinish:function(t){var a=Object(He.a)({},t,{images:s.map(function(e){return e.url})});!function(e,t,a,n){e&&ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"wishlist"===n?"saveWishlistItem":"goals"===n?"saveGoal":"savePerk",id:t,value:a,accountId:e}))}(d._id,m,a,p),e.setEditPerkOpen(!1)},images:s,setImages:u,uploadImage:function(e){Xe(e,800,void 0,function(e){u([].concat(Object(ue.a)(s),[{url:e}]).map(function(e,t){return Object(He.a)({},e,{uid:t})}))})},mode:e.mode}):null})),It=Object(f.g)(function(e){var t=r.a.createElement(r.a.Fragment,null,e.images&&e.images.length>0&&r.a.createElement("img",{style:{maxWidth:"100%",margin:"auto",display:"block",borderRadius:"15px"},src:e.images.length>0?e.images[0]:""}),r.a.createElement("div",{style:{padding:"5px 0px",wordBreak:"break-word"}},e.actions&&r.a.createElement("div",{style:{float:"right"}},e.actions),r.a.createElement("span",{style:{float:"none"}},e.body)));return e.noLink?t:r.a.createElement(l.b,{to:e.onClickLink,style:{cursor:"pointer"}},t)}),Tt=Object(f.g)(function(e){var t=e.perk,a=e.perkId,n=e.owner,o=e.account,i=e.setEditedPerk,l=e.setEditPerkOpen,c=e.mode;return r.a.createElement(It,{onClickLink:"/".concat(c||"shop","/").concat(n._id,"/").concat(a),images:t.images,actions:r.a.createElement("span",{onClick:function(e){return e.stopPropagation()}},n._id!==o._id||e.onlyBuy||"shop"!==e.mode?"shop"===e.mode?r.a.createElement(_.a,{type:"primary",onClick:function(){return Ve(o._id,n._id,a)}},"Buy"):n._id!==o._id||e.onlyBuy?null:r.a.createElement(Et.a,{trigger:["click","hover"],overlay:r.a.createElement(S.a,null,r.a.createElement(S.a.Item,{key:"0",onClick:function(){i(a),l(!0)}},"Edit"))},r.a.createElement(_.a,{type:"link"},r.a.createElement(wt,null))):r.a.createElement(Et.a.Button,{type:"primary",key:"1",onClick:function(){return Ve(o._id,n._id,a)},overlay:r.a.createElement(S.a,null,r.a.createElement(S.a.Item,{key:"0",onClick:function(){i(a),l(!0)}},"Edit"))},"Buy")),body:r.a.createElement("span",{style:{fontWeight:"bold"}},t.name,"shop"===c&&" ($".concat(t.price,")"))})}),Pt=function(e){return r.a.createElement(_.a,{onClick:e.action,type:"primary",shape:"round",icon:r.a.createElement(ce.a,null),size:"large"},e.title)},Ft=a(364),Nt=a.n(Ft),zt={default:4,1600:3,1100:2,600:1},Rt={default:4,1100:3,700:2,310:1},Mt=function(e){return r.a.createElement("div",{style:Object(He.a)({marginTop:"40px"},e.style)},r.a.createElement(Nt.a,Object(je.a)({breakpointCols:3,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},"breakpointCols",e.friends?zt:Rt),e.children))},Lt=function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(),c=Object(g.a)(l,2),s=c[0],u=c[1],d=e.account,p=r.a.createElement(E.a,{title:"Add item",visible:s,maskClosable:!0,closable:!0,onCancel:function(){return u(!1)},width:"90%",footer:r.a.createElement(_.a,{key:"back",onClick:function(){return u(!1)}},"Close"),destroyOnClose:!0},r.a.createElement(At,{setEditPerkOpen:u,perkId:o,mode:e.mode}));return d._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,{action:function(){i(""),u(!0)},title:"Add item",sub:"shop"===e.mode&&"Set price"}),r.a.createElement(Mt,null,d[e.listKey||e.mode]&&d[e.listKey||e.mode].map(function(t,a){return r.a.createElement(Tt,{key:a,perk:t,perkId:"wishlist"===e.mode||"goals"===e.mode?t.itemId:t.perkId,owner:d,account:d,setEditedPerk:i,setEditPerkOpen:u,mode:e.mode,style:{cursor:"pointer"}})})),p):null},Bt=Object(f.g)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(_e(t))}}})(function(e){return Object(n.useEffect)(function(){e.setPageTitle({main:"Goals",sub:""})},[]),e.account._id?r.a.createElement(Lt,{mode:"goals",account:e.account}):r.a.createElement("span",null)})),Wt=function(e,t,a,n,r){s.a.get("/api"+e.history.location.pathname).then(function(t){ve(t,e),a(t.data),r(t.data)}).catch(function(e){})},Ut=a(97),Yt=a(69),Vt=a(134),Jt=a(370),Ht=a.n(Jt),Gt=a(371),qt=a.n(Gt),Kt=a(365),$t=a.n(Kt),Qt=a(366),Zt=a.n(Qt),Xt=a(195),ea=a.n(Xt),ta=Object(f.g)(function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(g.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(e.images||[]),p=Object(g.a)(d,2),m=p[0],f=p[1],h=e.post,b=e.account,y=Object(n.useState)(e.content||(e.replyToUser?"@"+e.replyToUser+" ":"")),v=Object(g.a)(y,2),E=v[0],x=v[1];Object(n.useEffect)(function(){x(e.content||(e.replyToUser?"@"+e.replyToUser+" ":""))},[e.replyToUser,e.content]);return h&&b._id?r.a.createElement("div",{style:Object(He.a)({background:"#fff"},e.replyTo?{}:{width:"100%",bottom:"-200px",left:"0px"})},r.a.createElement(Ut.a,{avatar:r.a.createElement(j.a,{src:Z(b._id,b.image)}),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Item,{rules:gt,style:{margin:0}},r.a.createElement(D.a.TextArea,{autoSize:{minRows:1,maxRows:3},rows:1,onChange:function(e){return x(e.target.value)},value:E,placeholder:"Write a comment"})),m.length>0&&r.a.createElement(O.a.Item,{style:{margin:0}},r.a.createElement(Ge.a,{listType:"picture-card",fileList:m.map(function(e,t){return{url:e,uid:t}}),onPreview:function(e){i(e.url)},onChange:function(e){var t=e.fileList;return f(t.map(function(e){return e.url}))},customRequest:function(e){!function(e){Xe(e,800,void 0,function(e){f([].concat(Object(ue.a)(m),[e]))})}(e.file)}},m.length>=8?null:r.a.createElement("div",null,r.a.createElement(ce.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))),r.a.createElement(O.a.Item,{style:{margin:0}},r.a.createElement(_.a,{htmlType:"submit",onClick:function(){var t,a,n,r,o,i;t=b._id,a=h._id,n=E,r=m,o=e.replyTo,i=e.editingMessage,ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"sendMessage",messageValue:n,image:r,postId:a,accountId:t,replyToMessage:o,editedMessage:i})),x(""),f([]),e.onSend&&e.onSend()},icon:r.a.createElement(ea.a,null),type:"text"},"Send"),r.a.createElement(Ge.a,{showUploadList:!1,customRequest:function(e){var t=e.file;m.length>8?ye.b.warning("You can not attach more than 8 images."):(u(!0),Xe(t,800,void 0,function(e){u(!1),f([].concat(Object(ue.a)(m),[e]))}))}},r.a.createElement(_.a,{type:"text",icon:s?r.a.createElement(oe.a,null):r.a.createElement($t.a,null)},"Image")),e.cancel&&r.a.createElement(_.a,{onClick:e.cancel,icon:r.a.createElement(Zt.a,null),type:"text"},"Cancel")))}),r.a.createElement(se.a,{visible:o,footer:null,onCancel:function(){return i("")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o}))):null}),aa=a(368),na=a(367),ra=a.n(na),oa=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],i=a[1];return e.images&&e.images.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(aa.a,{style:{width:e.size||"auto"},dots:{className:ra.a.Dots}},e.images.map(function(t,a){return t&&r.a.createElement("div",{key:a,onClick:function(){return i(t)}},r.a.createElement("div",{style:{backgroundImage:'url("'+t+'")',backgroundSize:e.type||"contain",backgroundPosition:"center",width:e.size||"100%",height:e.height||e.size||"300px",backgroundRepeat:"no-repeat"}}))})),r.a.createElement(se.a,{visible:o,footer:null,onCancel:function(){return i("")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o}))):null},ia=Object(f.g)(function e(t){var a=t.account,o=(t.state,t.setState,t.message),i=t.friendData,l=t.progressData,c=(t.groupData,t.post),s=t.replies,u=t.isStart,d=Object(n.useState)(!1),p=Object(g.a)(d,2),m=p[0],f=p[1],h=Object(n.useState)(""),b=Object(g.a)(h,2),y=b[0],v=b[1],E=Object(n.useState)(""),x=Object(g.a)(E,2),w=x[0],k=x[1],O=Object(n.useState)(!1),D=Object(g.a)(O,2),S=D[0],j=D[1],C={actions:!t.isStart&&[r.a.createElement("span",null,r.a.createElement(Vt.a,{datetime:o.date,live:!0})),r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(Yt.a,{title:"Like"},o.likes.includes(a._id)?r.a.createElement(Ht.a,{onClick:function(){return Le("dislikeMessage",o.messageId,a._id,c._id)}}):r.a.createElement(qt.a,{onClick:function(){return Le("likeMessage",o.messageId,a._id,c._id)}})),r.a.createElement("span",{style:{paddingLeft:"8px"}},o.likes.length)),o.author!==a._id&&r.a.createElement("span",{key:"comment-basic-reply-to",onClick:function(){t.setReplyVisible?(t.setReplyVisible(!0),t.setReplyToUser(t.message.author)):(f(!0),v("")),j(!0)}},"Reply"),o.author===a._id&&r.a.createElement("span",{key:"comment-basic-reply-to",onClick:function(){return k(o.messageId)}},"Edit")],avatar:r.a.createElement(bt,{noName:!0,id:o.author,span:!0}),content:u?r.a.createElement(r.a.Fragment,null,"wishlist"===o.messageType&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{style:{fontWeight:"bold",cursor:"pointer",margin:"10px 0px 0px "},onClick:function(){return t.history.push("/wishlist/".concat(o.details.owner,"/").concat(o.details.itemId))}},o.details.name)),o.text&&r.a.createElement("p",null,o.text)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{background:"#eee",borderRadius:"5px",padding:"3px 10px",display:o.image&&o.image.length>0?"block":"inline-block"}},r.a.createElement(bt,{id:o.author,span:!0,noAva:!0,style:{fontWeight:"bold"}}),o.image&&o.image.length>0&&r.a.createElement(oa,{images:o.image,height:"60vmin",type:"contain"}),o.text&&r.a.createElement("p",null,o.text)),r.a.createElement("div",null)),author:u&&r.a.createElement("span",{style:{color:"#333",fontWeight:"bold",fontSize:"14px"}},r.a.createElement(bt,{id:o.author,span:!0,noAva:!0})," ",r.a.createElement("span",{style:{fontWeight:"normal"}},"in")," ",c.parent&&l&&l[c.parent.parentId]&&r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return t.history.push("/inspirations/"+c.parent.parentId)}},l[c.parent.parentId].goal.name),c.startMessage&&["wishlist","perk","goal"].includes(c.startMessage.messageType)&&r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return t.history.push("/profile/"+o.author)}},"wishlist"===c.startMessage.messageType?"Wishlist":"goals"===c.startMessage.messageType?"Goals":"Shop")),datetime:u&&r.a.createElement("span",{style:{color:"#333"}},r.a.createElement(Vt.a,{datetime:o.date,live:!0}))};return a&&i?a._id===o.author&&w?r.a.createElement(ta,{post:c,account:a,replyTo:o.messageId,editingMessage:w,content:o.text,images:o.image,onSend:function(){return k("")},cancel:function(){return k("")}}):r.a.createElement(Ut.a,C,t.isTop&&s&&s.length>0?S?s.map(function(t,n){return r.a.createElement(e,{key:n,message:t,post:c,account:a,friendData:i,setReplyVisible:f,setReplyToUser:v})}):r.a.createElement(_.a,{type:"text",onClick:function(){return j(!0)}},"Show ",s.length," replies"):null,t.isTop&&m?r.a.createElement(ta,{post:c,account:a,replyTo:o.messageId,replyToUser:y,cancel:function(){return f(!1)}}):null):null}),la=a(820),ca=a(821),sa=a(819),ua=Object(f.g)(function(e){var t=e.post,a=e.account,o=e.friendData,i=e.progressData,l=e.groupData,c=Object(n.useState)(e.showReplies),s=Object(g.a)(c,2),u=s[0],d=s[1];return t?r.a.createElement(r.a.Fragment,null,!e.noStartMessage&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,{message:t.startMessage,post:t,account:a,friendData:o,progressData:i,groupData:l,replies:[],isStart:!0}),t.startMessage.image&&t.startMessage.image.length>0&&r.a.createElement("img",{style:{maxWidth:"100%",margin:"auto",display:"block"},src:t.startMessage.image[0]})),r.a.createElement(lt.a,{type:"horizontal",style:{margin:"5px 0"}}),r.a.createElement("div",{style:{textAlign:"left",position:"relative"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(_.a,{type:"text",onClick:function(){return Le(t.startMessage.likes.includes(a._id)?"dislikeMessage":"likeMessage",t.startMessage.messageId,a._id,t._id)}},t.startMessage.likes.includes(a._id)?r.a.createElement(la.a,{style:{fontSize:"20px"}}):r.a.createElement(ca.a,{style:{fontSize:"20px"}}),"Likes",r.a.createElement("span",{style:{paddingLeft:"8px"}},t.startMessage.likes.length))),r.a.createElement("span",null,r.a.createElement(_.a,{onClick:function(){return d(!0)},type:"text"},r.a.createElement(sa.a,{style:{fontSize:"20px"}}),"Comment",r.a.createElement("span",{style:{paddingLeft:"8px"}},function(e){var t=0,a=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0)t=t+1+o.value.replies.length}catch(l){n=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return t}(t.messages))))),r.a.createElement(lt.a,{type:"horizontal",style:{margin:"5px 0"}}),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ta,{post:t,account:a}),t.messages&&t.messages.length?t.messages.map(function(e,n){return r.a.createElement(ia,{key:n,message:e,post:t,account:a,friendData:o,replies:e.replies,isTop:!0})}):null))):null}),da=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,post:e.post,friendData:e.friendData}},function(e){return{setData:function(t){e(De(t))},setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=Object(n.useState)({}),a=Object(g.a)(t,2),o=a[0],i=a[1],l=e.account;if(Object(n.useEffect)(function(){var t=e.history.location.pathname.split("/");if(t.length>3){var a=t[2];if(e.isAuthed&&l._id===a){var n=l.goals.find(function(e){return e.itemId===t[3]});i({profile:l,goal:n})}else Wt(e,0,i,0,function(t){var a={},n=!0,r=!1,o=void 0;try{for(var i,l=t.friendData[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;a[c._id]=c}}catch(s){r=!0,o=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}e.setData({post:Object(je.a)({},t.post._id,t.post),friendData:a})})}},[e.isAuthed]),!o.goal)return null;var c=o.goal,s=o.profile;return e.setData({currentPosts:c.post}),c&&e.setPageTitle({main:c.name,sub:s._id}),c?r.a.createElement(xt.a,{title:r.a.createElement("span",null,"Goal from ",r.a.createElement(bt,{id:s._id})," goals"),bordered:!1},r.a.createElement(oa,{images:c.images}),r.a.createElement("h1",null,c.name),r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},c.description),r.a.createElement(ua,{noStartMessage:!0,post:e.post[c.post],account:e.account,friendData:e.friendData,showReplies:!0})):null})),pa=a(53),ma=Object(f.g)(Object(u.b)(function(e){return{account:e.account,profile:e.profile,isAuthed:e.isAuthed,progressData:e.progressData,groupData:e.groupData,friendData:e.friendData}},function(e){return{setData:function(t,a){return e(De(t))},setPageTitle:function(t){return e(_e(t))},tryAuth:function(t,a){return e(xe(t,a))}}})(function(e){var t,a,o=Object(n.useState)(!1),i=Object(g.a)(o,2),l=i[0],c=i[1],s=e.fromProfile,u=e.progressData,d=e.account,p=e.groupData,m=e.profile,f=s?m:d,h=f.progresses,b=f.groups;s||e.setPageTitle({main:"Inspirations",sub:""}),h&&(t=h.filter(function(e){return u[e]}).map(function(e){return u[e]}),a=b.filter(function(e){return p[e]&&p[e].active}).map(function(e){return p[e]}));var y=s?null:t&&a?r.a.createElement(se.a,{title:"Add progress",visible:l,maskClosable:!0,closable:!0,onCancel:function(){return c(!1)},width:"100%",style:{maxWidth:"1000px"},footer:null,destroyOnClose:!0},r.a.createElement(_t,{setStartProgressVisible:c,account:d,friendData:e.friendData,cancel:function(){return c(!1)}})):null;return t&&a?r.a.createElement("div",null,r.a.createElement(pa.a,null,r.a.createElement("title",null,"Addspire - Your inspirations live here!"),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,{title:"Start a new progress",sub:"Rich your goals or help others!",action:function(){c(!0)}}),y),r.a.createElement(Mt,{style:{marginTop:"40px"}},t.map(function(e,t){return r.a.createElement(It,{key:t,onClickLink:"/inspirations/"+e._id,images:e.goal.images,body:r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{ids:e.goal.users,group:!0}),r.a.createElement("span",{style:{fontWeight:"bold"}},e.name))})}))):null})),fa=a(29),ga=a(67),ha=a(135),ba=a(33),ya=a.n(ba);ya()().format();var va=function(e){var t=e.progress,a=e.account,n=t.goal,o=a&&a._id===t.owner,i=t.stages.slice(Math.max(t.stages.length-7,0)).sort(function(e,t){var a,n,r,o;if(e.old&&!t.old)return 1;if(t.old&&!e.old)return-1;if(e.day?(a=ya()().year(e.year).dayOfYear(e.day).startOf("day"),n=ya()().year(e.year).dayOfYear(e.day).endOf("day"),r=ya()().year(t.year).dayOfYear(t.day).startOf("day"),o=ya()().year(t.year).dayOfYear(t.day).endOf("day")):e.week?(a=ya()().year(e.year).week(e.week).startOf("week"),n=ya()().year(e.year).week(e.week).endOf("week"),r=ya()().year(t.year).week(t.week).startOf("week"),o=ya()().year(t.year).week(t.week).endOf("week")):e.month?(a=ya()().year(e.year).month(e.month).startOf("month"),n=ya()().year(e.year).month(e.month).endOf("month"),r=ya()().year(t.year).month(t.month).startOf("month"),o=ya()().year(t.year).month(t.month).endOf("month")):e.year&&(a=ya()().year(e.year).startOf("year"),n=ya()().year(e.year).endOf("year"),r=ya()().year(t.year).startOf("year"),o=ya()().year(t.year).endOf("year")),a){var i=ya()();return Math.min(Math.abs(i.diff(a)),Math.abs(i.diff(n)))<=Math.min(Math.abs(i.diff(r)),Math.abs(i.diff(o)))?-1:1}return 0}),l=i.length>0?i[0].stageId:0;return 0===(i=t.stages).length?null:r.a.createElement("div",{style:{border:"1px solid #eee",padding:"10px 5px"}},r.a.createElement(fa.a,{type:"card",defaultActiveKey:l?i.findIndex(function(e){return e.stageId===l}).toString():"2"},i.map(function(e,i){var l,c=function(t){return o&&e.dismissed?"dismissed":e.failBy.find(function(e){return e.accountId===t})?"fail":e.approvedBy.find(function(e){return e.accountId===t})?"complete":"process"},s=function(e){var t="In process",a="#108ee9";switch(c(e)){case"fail":t="Failed",a="#f50";break;case"complete":t="Complete",a="#87d068";break;case"dismissed":t="Dismissed",a="#ffa500"}return r.a.createElement(ga.a,{color:a},t)},u=n.experts.map(function(e){return r.a.createElement(vt.a.Item,{key:e,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{id:e,noAva:!0,span:!0})," "," (expert)")},s(e))}),d=n.users.map(function(e){return r.a.createElement(vt.a.Item,{key:e,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{id:e,noAva:!0,span:!0})," "," (achiever)")},s(e))}),p=[r.a.createElement(vt.a.Item,{key:t.owner,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{id:t.owner,noAva:!0,span:!0})," "," (owner)")},s(t.owner))],m="";e.day?(l=ya()().year(e.year).dayOfYear(e.day),m=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,l.format("dddd")),r.a.createElement("div",null,l.format("D MMM YY")))):e.week?(l=ya()().year(e.year).week(e.week),m=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,l.format("wo")," week"),r.a.createElement("div",null,l.startOf("week").format("D MMM YY")),r.a.createElement("div",null,l.endOf("week").format("D MMM YY")))):e.month?(l=ya()().year(e.year).month(e.month),m=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,l.format("MMMM")),r.a.createElement("div",null,l.format("YYYY")))):e.year&&(l=ya()().year(e.year),m=r.a.createElement("div",null,l.format("YYYY")));var f=a&&a._id&&c(a._id),g=c(t.owner);return r.a.createElement(fa.a.TabPane,{tab:r.a.createElement(A.a,{color:"complete"===g?"green":"dismissed"===g?"orange":"fail"===g?"volcano":"rgba(0,0,0,0)"},r.a.createElement("span",{style:{fontSize:"12px",textTransform:"uppercase",textAlign:"center"}},m)),key:i},a&&a._id&&r.a.createElement(r.a.Fragment,null,"Set status:",r.a.createElement(ha.a.Group,{value:f,style:{padding:"20px 0px "},onChange:function(n){return function(e,t,a,n){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"changeStage",value:e,progressId:a,accountId:t,stageId:n}))}(n.target.value,a._id,t._id,e.stageId)}},r.a.createElement(ha.a,{value:"process"},r.a.createElement(ga.a,{color:"process"!==f?"processing":"#108ee9"},"In process")),r.a.createElement(ha.a,{value:"complete"},r.a.createElement(ga.a,{color:"complete"!==f?"green":"#87d068"},"Complete")),r.a.createElement(ha.a,{value:"fail"},r.a.createElement(ga.a,{color:"fail"!==f?"volcano":"#f50"},"Fail")),o&&r.a.createElement(ha.a,{value:"dismissed"},r.a.createElement(ga.a,{color:"dismissed"!==f?"orange":"#ffa500"},"Dismiss")))),r.a.createElement(vt.a,{size:"small",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},p,d,u),e.paid.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{style:{fontSize:"15px"}},"Paid rewards"),r.a.createElement(kt,{rewardKey:1,rewards:e.paid,readOnly:!0})))})))},Ea=function(e){var t=e.progress,a=e.account,n=e.state,o=e.setState,i=e.friendData;return t.goal?r.a.createElement(Dt,{goal:t.goal,onFinish:function(t){!function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"editGoalInProgress",progressId:e.progress._id,accountId:e.account._id,value:t}))}(e,t),o(Object(He.a)({},n,{editProgressOpen:!1})),document.body.removeAttribute("style")},account:a,friendData:i,cancel:e.cancel}):null},xa=function(e){var t=e.account,a=e.type,n=e.id;return t&&t._id&&t._id!==n?"progress"===a?t.followProgresses.includes(n)?r.a.createElement(_.a,{danger:!0,onClick:function(){return We(t._id,n)}},"Unfollow"):r.a.createElement(_.a,{type:"primary",onClick:function(){return Be(t._id,n)}},"Follow"):t.followAccounts.includes(n)?r.a.createElement(_.a,{danger:!0,onClick:function(){return Ye(t._id,n)}},"Unfollow"):r.a.createElement(_.a,{type:"primary",onClick:function(){return Ue(t._id,n)}},"Follow"):null},wa=vt.a.Item,ka=Object(f.g)(function(e){var t=e.account,a=e.progress,o=e.state,i=e.setState,l=e.friendData,c=a.goal,s=Object(n.useState)(!1),u=Object(g.a)(s,2),d=u[0],p=u[1];return c?r.a.createElement(r.a.Fragment,null,r.a.createElement(pa.a,null,r.a.createElement("title",null,c.name," by ",a.owner," at Addspire"),r.a.createElement("meta",{name:"description",content:c.description})),c.images.length>0&&r.a.createElement(oa,{images:c.images}),r.a.createElement("h1",null,c.name),r.a.createElement(_.a,{type:"text",onClick:function(){return p(!0)}},a.followingAccounts.length," Followers"),r.a.createElement(_.a,{type:"text",onClick:function(){return e=t._id,n=a._id,r=!a.likes.includes(t._id),void(ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"changeLikesProgress",accountId:e,progressId:n,add:r})));var e,n,r}},a.likes.includes(t._id)?r.a.createElement(la.a,{style:{fontSize:"20px"}}):r.a.createElement(ca.a,{style:{fontSize:"20px"}}),"Likes",r.a.createElement("span",{style:{paddingLeft:"8px"}},a.likes.length)),r.a.createElement("div",null,t&&t._id&&t.followProgresses.includes(a._id)?r.a.createElement(_.a,{type:"link",onClick:function(){return We(t._id,a._id)}},"Following"):r.a.createElement(_.a,{type:"primary",onClick:function(){return Be(t._id,a._id)}},"Follow")),t._id===a.owner&&r.a.createElement(_.a,{style:{margin:"0px 20px 50px 0px"},type:"primary",onClick:function(){i(Object(He.a)({},o,{editProgressOpen:!0}))}},"Edit progress"),r.a.createElement(X.a.Paragraph,{ellipsis:{rows:3,expandable:!0,symbol:"more"},style:{whiteSpace:"pre-wrap"}},c.description),r.a.createElement(vt.a,{size:"small",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(wa,{label:"Repeat"},c.repeat||""),"weekday"===c.repeat&&r.a.createElement(wa,{label:"Days"},c.days.map(function(e,t){return r.a.createElement(ga.a,{key:t},function(e){switch(e){case"0":return"Sunday";case"1":return"Monday";case"2":return"Tuesday";case"3":return"Wednesday";case"4":return"Thursday";case"5":return"Friday";case"6":return"Saturday";default:return""}}(e))})),r.a.createElement(wa,{label:"Rewards"},r.a.createElement(kt,{rewards:c.rewards}))),r.a.createElement("div",{style:{margin:"50px 0px"}},r.a.createElement(va,{progress:a,account:t,state:o,setState:i})),t.progresses&&t.progresses.includes(a._id.toString())&&r.a.createElement(_.a,{danger:!0,onClick:function(){var t;t=e,ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"leaveProgress",progressId:t.progress._id,accountId:t.account._id}))}},"Leave the progress"),r.a.createElement(E.a,{visible:o.editProgressOpen,footer:null,onCancel:function(){return i(Object(He.a)({},o,{editProgressOpen:!1}))},closable:!0,destroyOnClose:!0,width:"100%",style:{maxWidth:"1000px"}},r.a.createElement(Ea,{progress:a,account:t,state:o,setState:i,friendData:l,cancel:function(){return i(Object(He.a)({},o,{editProgressOpen:!1}))}})),r.a.createElement(E.a,{title:"Followers",visible:d,footer:null,onCancel:function(){return p(!1)}},a.followingAccounts.map(function(e){return r.a.createElement(It,{noLink:!0,key:e,actions:r.a.createElement(xa,{account:t,id:e}),body:r.a.createElement(bt,{span:!0,id:e,size:50})})}))):null}),Oa=a(815),Da=a(817),_a=Object(f.g)(function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(g.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)([]),p=Object(g.a)(d,2),m=p[0],f=p[1],h=e.parent,b=e.account,y=e.parentType,v=Object(n.useState)(e.content||(e.replyToUser?"@"+e.replyToUser+" ":"")),E=Object(g.a)(v,2),x=E[0],w=E[1];return b._id?r.a.createElement("div",{style:{background:"#fff",padding:"0px 10px",bottom:"0px",left:"0px",zIndex:1e3}},r.a.createElement("h2",null,"Post something new"),r.a.createElement(Ut.a,{avatar:r.a.createElement(j.a,{src:Z(b._id,b.image)}),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Item,{rules:gt},r.a.createElement(D.a.TextArea,{autoSize:{minRows:1,maxRows:3},rows:1,onChange:function(e){return w(e.target.value)},value:x})),m.length>0&&r.a.createElement(O.a.Item,{style:{margin:0}},r.a.createElement(Ge.a,{listType:"picture-card",fileList:m.map(function(e,t){return{url:e,uid:t}}),onPreview:function(e){i(e.url)},onChange:function(e){var t=e.fileList;return f(t.map(function(e){return e.url}))},customRequest:function(e){!function(e){Xe(e,800,void 0,function(e){f([].concat(Object(ue.a)(m),[e]))})}(e.file)}},m.length>=8?null:r.a.createElement("div",null,r.a.createElement(ce.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))),r.a.createElement(O.a.Item,null,r.a.createElement(_.a,{htmlType:"submit",onClick:function(){!function(e,t,a,n,r){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"addPost",accountId:e,parentId:t,parentType:a,messageValue:n,images:r}))}(b._id,h,y,x,m),w(""),f([]),e.onSend&&e.onSend()},icon:r.a.createElement(ea.a,null),type:"text"},"Send"),r.a.createElement(Ge.a,{showUploadList:!1,customRequest:function(e){var t=e.file;m.length>8?message.warning("You can not attach more than 8 images."):(u(!0),Xe(t,800,void 0,function(e){u(!1),f([].concat(Object(ue.a)(m),[e]))}))}},r.a.createElement(_.a,{type:"text",icon:s?r.a.createElement(oe.a,null):r.a.createElement(Oa.a,null)},"Image")),x||m.length?r.a.createElement(_.a,{onClick:function(){w(""),f([])},icon:r.a.createElement(Da.a,null),type:"text"},"Cancel"):null))}),r.a.createElement(se.a,{visible:o,footer:null,onCancel:function(){return i("")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o}))):null}),Sa=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,posts:e.post,progress:e.progress,friendData:e.friendData}},function(e){return{setData:function(t){e(De(t))},setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=Object(n.useState)({}),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)({}),c=Object(g.a)(l,2),s=c[0],u=c[1],d=e.history.location.pathname.split("/"),p=d.length>2?d[2]:"";if(!p)return null;Object(n.useEffect)(function(){e.isAuthed?e.setData({currentProgress:p}):Wt(e,0,u,0,function(t){var a={},n=!0,r=!1,o=void 0;try{for(var i,l=t.friendData[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;a[c._id]=c}}catch(h){r=!0,o=h}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}var s={},u=!0,d=!1,p=void 0;try{for(var m,f=t.post[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){var g=m.value;s[g._id]=g}}catch(h){d=!0,p=h}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}e.setData({friendData:a,posts:s,account:{},progress:t.progress})})},[e.isAuthed,e.history.location.pathname]);var m=e.isAuthed?e:Object(He.a)({},s,{account:{}}),f=m.progress,h=m.account,b=m.friendData,y=m.posts;if(!f||!f._id)return null;e.setData({currentPosts:f.posts});var v=f.goal;return v&&e.setPageTitle({main:v.name,sub:f.worker}),v&&b?r.a.createElement("div",{className:"contentDiv"},r.a.createElement(ka,{state:o,setState:i,progress:f,account:h,friendData:b}),h._id&&r.a.createElement(_a,{parent:p,account:h,parentType:"progress"}),f.posts.map(function(e){if(y[e]){var t=y[e];return r.a.createElement("div",{key:e},r.a.createElement("div",{style:{height:"5px",background:"#ddd",width:"calc(100% + 8px)",position:"absolute",left:"-8px"}}),r.a.createElement("div",{style:{paddingTop:"10px"}},r.a.createElement(ua,{friendData:b,account:h,post:t})))}return null}),r.a.createElement(E.a,{visible:o.previewImage,footer:null,onCancel:function(){return i(Object(He.a)({},o,{previewImage:""}))}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o.previewImage}))):null})),ja=Object(f.g)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed}})(function(e){var t=e.pulledProfile||e.account;return t.wallet?r.a.createElement(Mt,{friends:!0},t.wallet.map(function(e,t){return r.a.createElement(l.b,{to:"/profile/"+e.user,key:t},r.a.createElement(It,{body:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold"}},"$",e.amount),r.a.createElement(bt,{span:!0,id:e.user}))}))})):null})),Ca=a(244),Aa=a(374),Ia=a.n(Aa),Ta=Object(f.g)(Object(u.b)(function(e){return{account:e.account,transactionData:e.transactionData,friendData:e.friendData}},function(e){return{setPageTitle:function(t){return e(_e(t))}}})(function(e){e.setPageTitle({main:"Shop",sub:"Transactions"});var t=e.account,a=e.transactionData;e.friendData;if(!t||!t._id)return null;var n=t.transactions.filter(function(e){return a[e]}).map(function(e){return a[e]}),o=[],i=Object(ue.a)(n);i=i.sort(function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1});var l=!0,c=!1,s=void 0;try{for(var u,d=i[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value,m=[];p.from===t._id&&p.to===t.id&&m.push("internal"),p.to===t._id?p.progress?(m.push("earn"),p.amount?m.push("money"):m.push("item")):p.item&&p.amount?(m.push("buy"),m.push("item")):(m.push("recieve gift"),p.amount?m.push("money"):m.push("item")):p.from===t._id&&(p.progress?(m.push("pay"),p.amount?m.push("money"):m.push("item")):p.item&&p.amount?(m.push("sell"),m.push("item")):(m.push("send gift"),p.amount?m.push("money"):m.push("item")));var f=p.to!==t._id?p.to:p.from;o.push({key:o.length,types:m,user:f,perk:p.item,amount:p.amount,date:p.date,progress:p.progress,status:p.status,transaction:p})}}catch(g){c=!0,s=g}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}return r.a.createElement(Ca.a,{expandIconPosition:"right",style:{marginBottom:"50px"},destroyInactivePanel:!0,accordion:!0},i.map(function(a,n){var i=[];a.from===t._id&&a.to===t.id&&i.push("internal"),a.to===t._id?a.progress?(i.push("earn"),a.amount?i.push("money"):i.push("item")):a.item&&a.amount?(i.push("buy"),i.push("item")):(i.push("recieve gift"),a.amount?i.push("money"):i.push("item")):a.from===t._id&&(a.progress?(i.push("pay"),a.amount?i.push("money"):i.push("item")):a.item&&a.amount?(i.push("sell"),i.push("item")):(i.push("send gift"),a.amount?i.push("money"):i.push("item")));var l=a.to!==t._id?a.to:a.from;o.push({key:o.length,types:i,user:l,perk:a.item,amount:a.amount,date:a.date,progress:a.progress,status:a.status,transaction:a});var c=a.item;return r.a.createElement(Ca.a.Panel,{style:{padding:0},header:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(A.a,{color:"Not confirmed"===a.status?"blue":"Cancelled"===a.status?"red":"green"}),r.a.createElement(X.a.Paragraph,{ellipsis:{rows:1},style:{display:"inline",margin:0}},"simple"===c.mode?c.simple:"money"===c.mode?c.money+" (money)":"item"===c.mode?c.itemName:""),r.a.createElement(bt,{noName:!0,id:a.to!==t._id?a.to:a.from})),r.a.createElement("div",null,r.a.createElement(Vt.a,{datetime:a.date,live:!0}))),key:n},r.a.createElement(vt.a,{layout:"vertical",size:"small",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(vt.a.Item,{label:"Type"},i.map(function(e){var t=e.length>5?"geekblue":"green";return"loser"===e&&(t="volcano"),r.a.createElement(ga.a,{color:t,key:e},e.toUpperCase())})),r.a.createElement(vt.a.Item,{label:"Transaction with"},r.a.createElement(bt,{id:a.to!==t._id?a.to:a.from})),r.a.createElement(vt.a.Item,{label:"Item"},r.a.createElement(kt,{onlyButton:!0,rewardKey:1,label:"Rewards",rewards:[{rewards:[a.item],key:1}],readOnly:!0})),a.amount&&r.a.createElement(vt.a.Item,{label:"Amount"},a.amount),r.a.createElement(vt.a.Item,{label:"Date"},Ia.a.format(new Date(a.date),"YYYY/MM/DD HH:mm:ss")),a.progress&&a.progressId&&r.a.createElement(vt.a.Item,{label:"Progress"},r.a.createElement(_.a,{type:"text",onClick:function(){return e.history.push("/inspirations/"+a.progressId)}},a.progress)),r.a.createElement(vt.a.Item,{label:"Status"},"Not confirmed"===status?r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{danger:!0,type:"link",onClick:function(){return wsActions.cancelTransaction(t._id,record.transaction._id)}},"Cancel"),record.transaction.from===t._id&&r.a.createElement(_.a,{type:"link",onClick:function(){return wsActions.confirmTransaction(t._id,record.transaction._id)}},"Confirm")):status||"Confirmed")))}))})),Pa=Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(_e(t))}}})(function(e){return Object(n.useEffect)(function(){e.setPageTitle({main:"Shop",sub:"My items"})},[]),e.account._id?r.a.createElement("div",null,r.a.createElement(pa.a,null,r.a.createElement("title",null,"Addspire - reward and motivate for great changes!"),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),r.a.createElement(fa.a,{style:{background:"transparent",boxShadow:"none",margin:"0",marginTop:"-15px"}},r.a.createElement(fa.a.TabPane,{tab:"My shop",key:1},r.a.createElement(Lt,{mode:"shop",listKey:"perks",account:e.account})),r.a.createElement(fa.a.TabPane,{tab:"Wallet",key:3},r.a.createElement(ja,null)),r.a.createElement(fa.a.TabPane,{tab:"Transactions",key:4},r.a.createElement(Ta,null)))):r.a.createElement("span",null)}),Fa=a(196),Na=a.n(Fa),za=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,statePosts:e.post,progress:e.progress,friendData:e.friendData,progressData:e.progressData,groupData:e.groupData,currentPosts:e.currentPosts}},function(e){return{setData:function(t){e(De(t))},setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=e.account,a=e.friendData,o=e.statePosts,i=e.progressData,l=e.groupData,c=e.currentPosts,s=Object(n.useState)([]),u=Object(g.a)(s,2),d=u[0],p=u[1],m=Object(n.useState)((new Date).getTime()),f=Object(g.a)(m,1)[0],h=function(e,a){var n=e.notifications.filter(function(e){return e.user!==t._id}),r=a.notifications.filter(function(e){return e.user!==t._id});return 0===n.length&&r.length>0?1:n.length>0&&0===r.length?-1:0===n.length&&0===r.length?0:new Date(n[0].date).getTime()<new Date(r[0].date).getTime()?1:-1};if(Object(n.useEffect)(function(){if(c){var e=c.filter(function(e){return o[e]}).map(function(e){return o[e]}),t=[],a=[],n=Object(ue.a)(d),r=!0,i=!1,l=void 0;try{for(var s,u=function(){var e=s.value,r=n.findIndex(function(t){return t._id.toString()===e._id.toString()});-1===r?e.notifications&&e.notifications.length>0&&new Date(e.notifications[0].date).getTime()>f?t.push(e):a.push(e):n[r]=e},m=e[Symbol.iterator]();!(r=(s=m.next()).done);r=!0)u()}catch(E){i=!0,l=E}finally{try{r||null==m.return||m.return()}finally{if(i)throw l}}for(var g=function(){var e=y[b],t=n.findIndex(function(t){return!!(t&&t.notifications&&t.notifications.length>0)&&new Date(t.notifications[0]).getTime()>new Date(e.notifications[0]).getTime()});-1===t?n.push(e):n.splice(t,0,e)},b=0,y=a;b<y.length;b++)g();var v=[].concat(t,Object(ue.a)(n));0===d.length&&(v=v.sort(h)),p(v)}},[c,o]),!t._id)return null;var b=[],y=!0,v=!1,E=void 0;try{for(var x,w=t.followProgresses[Symbol.iterator]();!(y=(x=w.next()).done);y=!0){var k=x.value;i[k]&&(b=[].concat(Object(ue.a)(b),Object(ue.a)(i[k].notifications.filter(function(e){return"add post"===e.code&&e.user!==t._id}))))}}catch(I){v=!0,E=I}finally{try{y||null==w.return||w.return()}finally{if(v)throw E}}var O=!0,D=!1,_=void 0;try{for(var S,j=t.groups[Symbol.iterator]();!(O=(S=j.next()).done);O=!0){var C=S.value;l[C]&&(b=[].concat(Object(ue.a)(b),Object(ue.a)(l[C].notifications.filter(function(e){return"add post"===e.code&&e.user!==t._id}))))}}catch(I){D=!0,_=I}finally{try{O||null==j.return||j.return()}finally{if(D)throw _}}b=b.sort(function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1}).map(function(e){return e.details.postId}).slice(0,10);var A=Object(ue.a)(new Set([].concat(Object(ue.a)(t.followPosts),Object(ue.a)(t.myPosts),Object(ue.a)(d.map(function(e){return e._id})),Object(ue.a)(b))));return Na()(c,A)||e.setData({currentPosts:A}),e.setPageTitle({main:"Dashboard",sub:""}),d.map(function(e){var n=null,o=e.notifications.filter(function(e){return e.user!==t._id}),c=o.length>0?o[0]:null;if(c)switch(c.code){case"edit wishlist item":n="edited item in wishlist.";break;case"edit goal":n="edited goal.";break;case"edit perk":n="edited item in shop.";break;case"comment":n="added a comment.";break;case"edit comment":n="edited a comment.";break;case"like":n="added a like.";break;case"dislike":n="removed a like.";break;default:n=null}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"5px",background:"#ddd",width:"calc(100% + 8px)",position:"absolute",left:"-8px"}}),r.a.createElement("div",{style:{paddingTop:"10px"}},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement(bt,{id:c.user,noAva:!0,span:!0,style:{fontWeight:"bold"}})," ",n),r.a.createElement(lt.a,{type:"horizontal",style:{margin:"5px 0"}})),r.a.createElement(ua,{friendData:a,account:t,post:e,progressData:i,groupData:l})))})}));ya()().format();var Ra=Object(f.g)(Object(u.b)(function(e){return{lastNotifications:e.lastNotifications}})(function(e){var t=e.lastNotifications,a=function(e){return r.a.createElement("span",{style:{fontWeight:"bold"}},e.details.reward.money?"$"+e.details.reward.money:e.details.reward.simple||e.details.reward.itemName)};return t.map(function(t){var n,o=null;switch(t.code){case"change name":o=r.a.createElement("span",null," ",r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," changed name.");break;case"delete account":o=r.a.createElement("span",null,t.user,"deleted account.");break;case"friend request":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," wants to become friends with you.");break;case"friend add":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," and ",r.a.createElement(bt,{span:!0,noAva:!0,id:t.details.friend})," became friends.");break;case"unfriend":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," and ",r.a.createElement(bt,{span:!0,noAva:!0,id:t.details.friend})," stopped being friends.");break;case"add wishlist item":case"edit wishlist item":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," ","add wishlist item"===t.code?"added to wishlist a new item":"edited in wishlist"," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/wishlist/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName)," ",".");break;case"delete wishlist item":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," deleted ",t.details.itemName," from wishlist.");break;case"add goal":case"edit goal":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," ","add goal"===t.code?"added a new goal":"edited goal"," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName)," .");break;case"delete goal":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," deleted ",t.details.itemName," from goals.");break;case"add perk":case"edit perk":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," ","add perk"===t.code?"added to shop a new item":"edited in shop"," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/shop/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName)," .");break;case"delete perk":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," deleted ",t.details.itemName," from shop.");break;case"buy perk":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," bought ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/shop/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName," ($",t.details.price,")")," from ",r.a.createElement(bt,{span:!0,noAva:!0,id:t.details.owner})," .");break;case"cancel transaction":case"confirm transaction":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," ","cancel transaction"===t.code?"cancelled":"confirmed"," purchase of ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/shop/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName," ($",t.details.price,")")," by ",r.a.createElement(bt,{span:!0,noAva:!0,id:t.details.buyer})," .");break;case"start progress":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," started participating in progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.itemId))}},t.details.itemName)," as ",t.details.as,".");break;case"stage approve":case"stage progress":case"stage fail":case"stage dismiss":n=function(e){var t;return e.day?(t=ya()().year(e.year).dayOfYear(e.day)).format("dddd D MMM YYYY"):e.week?(t=ya()().year(e.year).week(e.week)).startOf("week").format("wo [week] D MMM YYYY - ")+t.endOf("week").format("D MMM YYYY"):e.month?(t=ya()().year(e.year).month(e.month)).format("MMMM YYYY"):e.year?(t=ya()().year(e.year)).format("YYYY"):void 0}(t.details),o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user}),"stage approve"===t.code?" approved  ":"stage progress"===t.code?" put into process ":"stage fail"===t.code?" marked as failed ":" dismissed ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),n&&r.a.createElement(r.a.Fragment,null," for ",r.a.createElement("span",{style:{fontWeight:"bold"}},n)),".");break;case"stage complete":o=r.a.createElement("span",null,"Progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),n&&r.a.createElement(r.a.Fragment,null," for ",r.a.createElement("span",{style:{fontWeight:"bold"}},n))," was approved and finished.");break;case"milestone finish":o=r.a.createElement("span",null,"Milestone ",t.details.itemName," in progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName)," was approved and finished.");break;case"get reward":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," recieved ",a(t)," as a reward from ",r.a.createElement(bt,{span:!0,noAva:!0,id:t.details.from})," in progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),".");break;case"leave progress":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," left progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),".");break;case"edit progress":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," edited progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),t.details.addedAccounts.length>0?r.a.createElement(r.a.Fragment,null," and added ",t.details.addedAccounts.map(function(e){return r.a.createElement(bt,{span:!0,noAva:!0,id:e})})," "):"",t.details.droppedAccounts.length>0?r.a.createElement(r.a.Fragment,null," and removed ",t.details.droppedAccounts.map(function(e){return r.a.createElement(bt,{span:!0,noAva:!0,id:e})})," ."):".");break;case"remove from progress":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," removed ",r.a.createElement(bt,{span:!0,noAva:!0,id:t.details.account})," from progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),".");break;case"add to progress":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," added ",r.a.createElement(bt,{span:!0,noAva:!0,id:t.details.account})," to progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),".");break;case"add reward":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," added ",a(t)," as a reward for",t.details.for&&0!==t.details.for.length?t.details.for.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{noAva:!0,span:!0,id:e}),",")}):" all "," in progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),".");break;case"delete reward":o=r.a.createElement("span",null,r.a.createElement(bt,{span:!0,noAva:!0,id:t.user})," removed ",a(t)," as a reward for ",t.details.for&&0!==t.details.for.length?t.details.for.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{span:!0,noAva:!0,id:e}),",")}):" all "," in progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/inspirations/".concat(t.details.progressId))}},t.details.progressName),".");break;default:o="New event"}return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{style:{margin:"5px 0px"}}),r.a.createElement(Ut.a,{avatar:r.a.createElement(bt,{noName:!0,id:t.user,span:!0}),content:o}))})})),Ma=Object(u.b)(function(e){return{account:e.account,lastNotifications:e.lastNotifications}},function(e){return{setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=e.account,a=e.lastNotifications;if(!t._id)return null;e.setPageTitle({main:"Dashboard",sub:""});var n=0,o=!0,i=!1,l=void 0;try{for(var c,s=a[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;parseInt(u.notId)>parseInt(t.lastSeenNot||0)&&n++}}catch(d){i=!0,l=d}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}return r.a.createElement("div",{className:"contentDiv"},r.a.createElement(pa.a,null,r.a.createElement("title",null,"Addspire Dashboard with with great posts and news"),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),r.a.createElement(fa.a,{onChange:function(e){if("events"===e){var n=parseInt(a.reduce(function(e,t){return parseInt(t.notId)>parseInt(e)?t.notId:e},0));a.length>0&&parseInt(t.lastSeenNot)!==n&&(r=t._id,o=n,ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"setLastSeenNot",accountId:r,notId:o})))}var r,o}},r.a.createElement(fa.a.TabPane,{tab:"Posts",key:"posts"},r.a.createElement(za,null)),r.a.createElement(fa.a.TabPane,{tab:r.a.createElement(A.a,{count:n,offset:[10,0]},"Events"),key:"events"},r.a.createElement(Ra,null))))}),La=a(243),Ba=a.n(La),Wa=Object(u.b)(null,function(e){return{setPageTitle:function(t){return e(_e(t))},setData:function(t){return e(De(t))}}})(function(e){Object(n.useEffect)(function(){e.setPageTitle({main:"Explore",sub:""})},[]);var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),c=Object(g.a)(l,2),u=c[0],d=c[1],p=Object(n.useState)([]),m=Object(g.a)(p,2),f=m[0],h=m[1],b=Object(n.useState)(!1),y=Object(g.a)(b,2),v=y[0],E=y[1],x=Object(n.useState)(!1),w=Object(g.a)(x,2),k=w[0],O=w[1],_=Object(n.useState)(""),S=Object(g.a)(_,2),j=S[0],C=S[1],A=function(e,t){v&&!t||(E(!0),s.a.post("/api/explore/search",{value:e||j,skip:t?0:u.length}).then(function(e){if(e.data.success){E(e.data.noMore),d(e.data.progresses),0===e.data.progresses.length&&ye.b.warning("There are no progresses found.");var t={},a=!0,n=!1,r=void 0;try{for(var o,i=e.data.friends[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;t[l._id]=l}}catch(c){n=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}else e.data.errorCode&&ye.b.error("Something is wrong with the data. Please try one more time with new data.")}).catch(function(e){}))};return r.a.createElement("div",null,r.a.createElement(pa.a,null,r.a.createElement("title",null,"Explore inspirations and ideas from around the World!"),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),r.a.createElement(D.a.Search,{placeholder:"Find great inspirations!",onSearch:function(e){e?(i(!0),e!==j&&(E(!1),d([]),C(e),A(e,!0))):(E(!1),C(e),i(!1))},onChange:function(e){e.target.value||(E(!1),d([]),i(!1),C(""))},enterButton:!0,allowClear:!0,style:{maxWidth:"500px",borderRadius:"10px"}}),o?u.length>0?r.a.createElement(Ba.a,{pageStart:0,loadMore:A(j),hasMore:!v,loader:r.a.createElement("div",{className:"loader",key:0},"Loading ...")},r.a.createElement(Mt,null,u.map(function(e,t){return r.a.createElement(It,{key:t,onClickLink:"/inspirations/"+e._id,images:e.goal.images,body:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold"}},e.name))})}))):null:r.a.createElement(Ba.a,{pageStart:0,loadMore:function(){console.log("lets get more"),console.log(k),k||(O(!0),s.a.post("/api/explore/popular",{skip:f.length}).then(function(e){if(e.data.success){O(e.data.noMore),h([].concat(Object(ue.a)(f),Object(ue.a)(e.data.progresses)));var t={},a=!0,n=!1,r=void 0;try{for(var o,i=e.data.friends[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;t[l._id]=l}}catch(c){n=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}else e.data.errorCode&&ye.b.error("Something is wrong with the data. Please try one more time with new data.")}).catch(function(e){}))},hasMore:!k,loader:r.a.createElement("div",{className:"loader",key:0},"Loading ...")},r.a.createElement(Mt,null,f.map(function(e,t){return r.a.createElement(It,{key:t,onClickLink:"/inspirations/"+e._id,images:e.goal.images,body:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold"}},e.name))})}))))}),Ua=Object(f.g)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(_e(t))}}})(function(e){console.log(e.history.location.pathname);var t=Object(n.useState)(""),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),c=Object(g.a)(l,2),u=c[0],d=c[1];return Object(n.useEffect)(function(){var t="https://websiter.dev"+e.history.location.pathname;console.log(t),s.a.post("/api/blog",{url:t}).then(function(e){i("<style> article,  aside,  details,  figcaption,  figure,  footer,  header,  hgroup,  menu,  nav,  section {      display: block;  }   html {      height: 100%;      padding: 0;      margin: 0;  }   body {      margin: auto;      font-weight: 300;      font-family: 'Open Sans', sans-serif !important;      color: #444;      font-size: 17px;      line-height: 1.231;      height: 100%;  }   .clearafter:after {      clear: both;      content: '.';      display: block;      height: 0;      visibility: hidden;  }   h1 {      margin: 0px;  }   .twofold a {      color: #888;      text-decoration: none;  }   .twofold a:hover {      color: #3665c1;  }   .twofold {      display: inline-block;      margin: 5px 0px;      width: 143px;      padding-left: 35px;      font-family: 'Open Sans', sans-serif !important;      color: #999;      font-size: 12px;  }   .twofold_mail {      display: inline-block;      margin: 5px 0px;      cursor: pointer;      color: #999;      padding-left: 35px;      width: 120px;      font-family: 'Open Sans', sans-serif !important;      font-size: 12px;  }   .twofold_mail:hover {      color: #4683ea;  }   .wrapp {      min-height: 100%;      position: relative;      margin: auto;  }   .cont {      width: 94%;      margin: auto;      padding-bottom: 320px;      text-align: center;  }   .logo_back {      padding: 9px 4%;  }   a.logo {      border: none;      text-decoration: none;  }   a img {      border: none;  }   .maintext0 {      font-weight: 300;      font-size: 45px;      color: #222;      margin: 50px auto 10px;      text-align: center;  }   .maintext1 {      font-size: 20px;      font-weight: 300;      letter-spacing: -1px;      margin: 0px auto 20px;      text-align: center;  }   .leftTitle {      font-size: 22px;      font-weight: 600;      margin: 20px auto 20px;      text-align: left;  }   .maintext2 {      font-size: 37px;      font-weight: 300;      text-align: center;      margin: 100px 0px 0px;      color: #222;  }   .maintext3 {      font-size: 22px;      font-weight: 300;      text-align: center;      margin: 50px 0px 20px;      color: #222;  }   .maintext4 {      font-size: 37px;      font-weight: 300;      text-align: center;      margin: 25px 0px 35px;      color: #222;  }   .contactusleft:hover {      background: #FF5935;  }   .facebookleft:hover {      background: #2350A2;  }   .googleleft:hover {      background: #d34836;  }   .linkedinleft:hover {      background: #006699;  }   .twitterleft:hover {      background: #00ACEF;  }   .twitterleft,  .linkedinleft,  .googleleft,  .facebookleft,  .contactusleft {      background: none;      border: none;      cursor: pointer;      width: 28px;      height: 34px;      outline: none;  }   .noselect {      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .totop {      position: absolute;      color: #2B7BC7;      bottom: 0px;      right: 0px;      text-decoration: none;      font-size: 15px;  }   .totop:hover {      text-decoration: underline;  }   .totopmap {      margin-left: 965px;      color: #2B7BC7;      text-decoration: none;      font-size: 15px;  }   .totopmap:hover {      text-decoration: underline;  }   .arrow {      padding-right: 15px;  }   .regulartitlemap {      color: #535353;      font-size: 25px;      font-weight: normal;      margin: 100px 0px 20px 20px;      font-weight: 600;  }   .regulartitleprice {      top: 0px;      color: #535353;      font-size: 25px;      font-weight: normal;      margin: 80px 0px 0px 20px;      font-weight: 600;  }   .even {      padding: 3px;      border-bottom: 1px solid #EEE;      height: 34px;  }   .even:hover {      background-color: #EAFBFB;  }   .pricing {      width: 700px;      margin: auto;      border: 0px solid black;      border-bottom: none;      border-bottom: 1px solid black;      border-collapse: collapse;      font-size: 17px;      text-align: center;      margin-top: 70px;  }   .countries {      list-style-type: none;      top: 0px;      margin: 100px 0px 100px;      text-align: left;  }   .countries li {      width: 188px;      margin: 5px 0 24px 0px;      display: inline-block;  }   .countries li.clear {      clear: left;  }   .countries li svg {      float: left;      margin: 0 10px 0 0;      border: 1px solid #e6e6e6;  }   .countries li a {      display: table;      width: 160px;      color: #666;      *display: block;      *position: relative;      cursor: pointer;      text-decoration: none;      vertical-align: middle;  }   .countries li a:hover {      color: #08c;  }   .countries li span {      display: table-cell;      width: 160px;      vertical-align: middle;      *display: block;      *position: absolute;      *top: 50%;  }   .countries li span span {      width: 100%;      *display: block;      *position: relative;      *top: -50%;  }   /* .menu { position:absolute; left:196px; top:27px; *font-family: arial, sans-serif; } .menu ul{ \tmargin:0px; \tlist-style-type: none; } .menu ul li{ \tfloat:left; \tpadding:0px; \tmargin:0px 35px 0px 5px; } .menu ul li a { \tdisplay:table; \tcolor:#999;     height:24px; \tcursor:pointer; \ttext-decoration:none; \tvertical-align:middle; } .menu ul li a:hover {  color:#333; } .menu ul li span { \tdisplay:table-cell;  padding: 0px;  font-size:14px; \tfont-weight:600; \tvertical-align:middle; \ttext-align:center; } .login {  font-size:14px;  font-weight:600;  text-align:center;  display:table;  color:#999;  cursor:pointer;  text-decoration:none;  line-height:0; } .login:hover {  color:#333; } .signup {  font-size:14px;  font-weight:600;  text-align:center;  display:table;  color:#999;  cursor:pointer;  text-decoration:none;  line-height:0; } .signup:hover {  color:#333; } */  .menu {      position: absolute;      right: 240px;      top: 27px;      *font-family: arial, sans-serif;  }   .menu ul {      margin: 0px;      list-style-type: none;  }   .menu ul li {      float: left;      padding: 0px;      margin: 0px 45px 0px 5px;  }   .menu ul li a {      display: table;      color: #888;      height: 24px;      cursor: pointer;      text-decoration: none;      vertical-align: middle;  }   .menu ul li a:hover {      color: #333;  }   .menu ul li span {      display: table-cell;      padding: 0px;      font-size: 14px;      font-weight: 600;      vertical-align: middle;      text-align: center;  }   .login {      font-size: 14px;      font-weight: 600;      text-align: center;      display: table;      color: #888;      cursor: pointer;      text-decoration: none;      line-height: 0;  }   .login:hover {      color: #333;  }   .signup {      font-size: 14px;      font-weight: 600;      text-align: center;      display: table;      color: #888;      cursor: pointer;      text-decoration: none;      line-height: 0;  }   .signup:hover {      color: #333;  }   .language {      cursor: pointer;  }   .language:hover {}   .language svg {      border: 1px solid #e6e6e6;  }   .download {      height: 24px;      background: #1EAB4B;      padding: 0px 25px 0px;      float: right;      border: none;      border-radius: 3px;      color: white;      font-family: 'Open Sans';      font-weight: 900;  }   button {      cursor: pointer;  }   .download:hover {      background: #27ae60;  }   .social_footer {      padding-left: 35px;      height: 12px;      display: inline-block;      margin: 5px 0px;      width: 120px;  }   .social_footer p {      float: left;      display: inline;      margin: 0px 13px;      color: #999;  }   .social_footer svg {      float: left;      display: inline;  }   .tmsdownloads {      background: #1EAB4B;      border: none;      line-height: 13px;      cursor: pointer;      min-height: 37px;      padding: 7px 0px;      color: #fff;      font-size: 15px;      font-family: 'Open Sans', sans-serif;      font-weight: 600;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   .tmsdownloads:hover {      background: #27ae60;  }   .blueBut {      background: #4683ea;      border: none;      cursor: pointer;      height: 37px;      color: #fff;      font-size: 15px;      font-family: 'Open Sans', sans-serif;      font-weight: 600;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   .blueBut:hover {      background: #4d92f7;  }   .orderBut {      background: #F6F9FF;      outline: none;  }   .orderBut:hover {      background: #dce9ff;  }   .hpLoginBlocks {      vertical-align: top;      max-width: 400px;      min-width: 310px;      width: 100%;      display: inline-block;      margin-bottom: 30px;  }   .market:hover {      box-shadow: 1px 2px #ddd;  }   #readMore {      margin: 30px auto 0px;      color: #0087e2;      fill: #0087e2;      cursor: pointer;  }   #readMore:hover,  #readMore:hover path {      color: #4d92f7;      fill: #4d92f7;  }   .simplelink {      text-decoration: none;      color: #333;  }   .simplelink:hover {      text-decoration: none;      color: #3665c1;  }   .right_submenu {      position: absolute;      height: 39px;      right: 45px;      top: 18px;      display: block;      border: 1px solid #E6E6E6;  }   footer {      font-size: 12px;      background: #f3f3f3;      background: -moz-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #f3f3f3), color-stop(100%, #fff));      background: -webkit-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -o-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -ms-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: linear-gradient(top, #f3f3f3 0, #fff 100%);      font-size: 12px;      padding: 30px 0 0px;      margin-top: 100px;      width: 100%;      height: 158px;      color: #888;      position: absolute;      bottom: 0px;  }   .footer_header {      font-weight: 300;      color: #555;      font-size: 13px;      text-align: left;      padding-left: 35px;  }   .flag svg {      border: 1px solid #e6e6e6;  }   .price {      width: 80%;      margin: auto;      border-collapse: collapse;  }   .price tr {      height: 36px;      border-bottom: 1px solid #ddd;  }   table .yel:hover td {      background: #e7f4fd;  }   .gre {      padding-left: 10px;      background: #fff;  }   .price button {      cursor: pointer;      font-size: 23px;      color: #fff;      border: none;      border-radius: 3px;      min-height: 40px;      box-shadow: 0px 2px 1px 1px #adadad;      padding: 0px 35px;  }   .doodle {      height: 0px;      position: relative;      bottom: 26px;  }   .signup_free {      background: #1EAB4B;  }   .signup_free:hover {      background: #27ae60;  }   .signup_pro {      background: #1548B8;  }   .signup_pro:hover {      background: #1851CE;  }   .free {      color: #1EAB4B;      font-size: 13px;      background: #f5f5f5;  }   .pro {      color: #1548B8;      font-size: 13px;      background: #f5f5f5;  }   .pricing_image {      margin: 85px auto 0px;      text-align: center;  }   .tworow {      width: 49.999%;      float: left;      display: inline;      text-align: center;      margin-top: 80px;  }   .tworow>div {      width: 30%;      max-width: 80px;      text-align: center;      margin: auto;  }   .half {      margin: 10px 10%;      text-align: center;      line-height: 1.6;  }   .oneimage {      text-align: center;      margin: auto;      margin-top: 85px;      max-width: 750px;      width: 100%;  }   #placeholder #lozenge {      fill: #666;  }   #placeholder:hover #lozenge {      fill: url(#SVGID_1_);  }   .passbut:hover {      text-decoration: underline;  }   #regbut:hover {      background: #21b951;  }   #loginbut:hover {      background: #70bcf0;  }   .passbut {      text-decoration: none;      color: #4683ea;  }   #regbut {      background: #1eab4b;  }   #loginbut {      background: #51aded;  }   input {      width: 300px;      height: 35px;      border: 1px solid #cccccc;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;      color: #555555;      font-size: 15px;  }   input[type='checkbox'] {      height: 16px;      width: 16px;  }   .linksimple {      color: #4683ea;      text-decoration: none;  }   .linksimple:hover {      color: #4683ea;      text-decoration: underline;  }   .linksimple:visited {      color: #4683ea;      text-decoration: none;  }   .LoginButton {      cursor: pointer;      border: none;      height: 62px;      color: white;      font-size: 16px;      font-weight: bold;      box-shadow: 0px 2px 1px 1px #adadad;      width: 330px;      margin: 15px auto 15px;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   #reghome {      background: #1eab4b;  }   #reghome:hover {      background: #21b951;  }   .regtable {      width: 55%;      margin: auto;      border-collapse: collapse;      text-align: center;  }   .regtable tr {      height: 48px;  }   .regtable td {      width: 50%;  }   .regtable input {      padding-left: 5px;      height: 30px;      color: #111;      background: #fff;  }   ::-webkit-input-placeholder {      color: #999;  }   :-moz-placeholder {      color: #999;      opacity: 1;  }   ::-moz-placeholder {      color: #999;      opacity: 1;  }   :-ms-input-placeholder {      color: #999;  }   .logo_svg:hover polygon {      fill: #00CACD;  }   .logo_svg:hover path {      fill: #00CACD;  }   /* FLOAT DIV STYLES */  .floatDiv {      position: absolute;      background: grey;      width: 300px;      height: 200px;      resize: both;      overflow: hidden;      border: 1px solid #bbb;      top: 100px;      left: 300px;  }   .floatDivTH {      width: 100%;      height: 25px;      background: #eee;      border: 1px solid #bbb;      cursor: pointer;      line-height: 0px;  }   .floatDivTH td {      width: 25px;  }   .floatDivTH td:first-child {      width: auto;      white-space: nowrap;  }   .rollDiv {      left: 0px;      top: 0px;      width: 200px;      resize: none;  }   .expandDiv {      left: 0px;      top: 0px;      height: 100%;      width: 100%;      resize: none;      border: none;  }   .topPan {      width: 100%;      height: 25px;      background: #eee;  }   .topClose {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 2px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .topExpand {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 27px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .topRoll {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 53px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .dock {      left: 0px;      bottom: 0px;      height: 33px;      width: 200px;      resize: none;      position: absolute;      background: grey;      overflow: hidden;  }   .undock {      left: 0px;      bottom: 0px;      height: auto;      max-height: 100%;      width: 200px;      resize: none;      position: absolute;      background: grey;      overflow: hidden;      overflow-y: auto;  }   .expandDock {      position: absolute;      left: 199px;      bottom: 0px;      width: 33px;      height: 33px;      cursor: pointer;      background: #eee;  }   .expandDock table,  .expandDock table tr td {      border: 1px solid #bbb;      text-align: center;      width: 100%;      height: 100%;      line-height: 0;  }   .rollDiv .topPan {      cursor: pointer;  }   .floatDiv .topPan {      cursor: default;  }   .st0,  .floatDivTH path {      fill: #444 !important;  }   #ratioWrap {      width: 95%;      max-width: 640px;      display: inline-block;      position: relative;      margin: 40px auto 20px;      /* z-index:25; */  }   #ratioWrap:after {      padding-top: 56.25%;      display: block;      content: '';  }   #div1 {      margin: auto;      position: absolute;      top: 0;      bottom: 0;      right: 0;      left: 0;      cursor: pointer;      text-align: center;      background: #fff;      \" } #placeholder{   margin:auto;   position: absolute;   top: 0;   bottom: 0;   right: 0;   left: 0;   cursor:pointer;   text-align:center;   background:#fff;\"  }   #contLogin {      margin-top: 0px;      padding-top: 30px;      padding-bottom: 130px;  }   #header {      position: fixed;      height: 79px;      width: 100%;      display: block;      background: white;      z-index: 21;      top: 0px;  }   .prodList {      text-align: center;      width: 100%;      margin-top: 75px;  }   .prodList a {      color: inherit;      display: inline-block;      margin: 0px 46px;      width: 210px;      border: 1px solid #eee;      border-radius: 20px;      background: #F6F9FF;      box-shadow: 1px 2px #ddd;      cursor: pointer;      text-decoration: none;      vertical-align: top;  }   .prodList div {      display: inline-block;      margin: 0px 50px;      width: 210px;      border: 1px solid #eee;      border-radius: 20px;      background: #F6F9FF;      box-shadow: 1px 2px #ddd;      cursor: pointer;  }   .prodList table {      width: 100%;      border-collapse: collapse;      border: none;      text-align: center;  }   .prodList tr:first-child td {      padding-top: 33px;  }   .prodList tr:nth-child(2) td {      padding: 9px 20px 20px;  }   .prodList tr:last-child td {      padding: 0px 20px 33px;      font-size: 14px;  }   .appList {      text-align: center;      width: 100%;      margin-top: 75px;  }   .appList a {      color: inherit;  }   .appList div {      display: inline-block;      margin: 0px 50px;      width: 210px;      cursor: pointer;  }   .sharePan {      width: 100%;      list-style-type: none;      padding: 0;  }   .sharePan li {      width: 25%;      float: left;      box-sizing: border-box;      height: 30px;  }   .sharePan a {      color: white;      text-decoration: none;      display: block;      width: 100%;      height: 100%;      position: relative;  }   .sharePan a div {      position: absolute;      top: 5px;      left: 40px;      font-weight: 700;  }   .sharePan a svg {      margin: 8px 15px;  }   .sharePan li:nth-child(1) {      background: #3b5998;  }   .sharePan li:nth-child(2) {      background: #1da1f2;  }   .sharePan li:nth-child(3) {      background: #006fa6;  }   .sharePan li:nth-child(4) {      background: #db4437;  }   .tag {      display: inline-block;      border-radius: 3px;      padding: 4px 20px;      margin: 5px 10px 5px 0px;      border: 1px solid transparent;      cursor: pointer;      font-size: 15px;      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .processes .tag {      background: rgba(70, 131, 234, 0.2);  }   .processes .tag:hover {      border: 1px solid background:rgba(70, 131, 234, 0.5);      background: rgba(70, 131, 234, 0.4);  }   .processes .activeTag {      background: rgba(70, 131, 234, 1);      color: white;  }   .processes .activeTag:hover {      background: #4d92f7;      border: 1px solid #4d92f7;  }   .services .tag {      background: rgba(30, 171, 75, 0.2);  }   .services .tag:hover {      border: 1px solid background:rgba(30, 171, 75, 0.5);      background: rgba(30, 171, 75, 0.4);  }   .services .activeTag {      background: rgba(30, 171, 75, 1);      color: white;  }   .services .activeTag:hover {      background: #1EAB4B;      border: 1px solid #1EAB4B;  }   .articles {      text-align: center;  }   .articles>a {      text-align: left;      display: inline-block;      margin: 20px 10px 0px 10px;      border-radius: 3px;      border: 1px solid transparent;      cursor: pointer;      text-decoration: none;      color: #777;      max-width: 284px;      width: 100%;      vertical-align: top;  }   .articles>a:hover {      opacity: .8;  }   .toKnowledge {      margin: 50px auto 30px;      text-align: right;  }   .toKnowledge a {      padding: 10px 20px;      background: #0087e2;      border: 1px solid #bbb;      color: white;      border-radius: 3px;  }   .toKnowledge a:hover {      background: #4d92f7;      border: 1px solid #ccc;      text-decoration: none;  }   .blueLink {      text-decoration: none;      color: #0087e2;  }   .blueLink:hover {      text-decoration: underline;  }   .articleTags {      width: 100%;  }   .articleTags div {      display: inline-block;      border-radius: 3px;      padding: 2px 4px;      margin: 5px 5px 5px 0px;      cursor: pointer;      font-size: 14px;      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .artProcTag {      background: rgba(70, 131, 234, 0.2);      color: #777;  }   .artProcTag.active {      background: rgba(70, 131, 234, 1);      color: white;  }   .artServTag {      background: rgba(30, 171, 75, 0.2);      color: #777;  }   .artServTag,  .active {      background: rgba(30, 171, 75, 1);      color: white;  }   .article h3 {      font-weight: 600;      font-size: 20px;      margin: 7px 0px 10px;  }   .article p {      font-style: italic;      margin: 0px 0px 8px;      font-size: 15px;  }   /* ------------------ARTICLES--------------------- */  .artB {      color: #444;      font-size: 18px;      line-height: 26px;  }   .artB h1 {      font-size: 44px;      font-weight: 700;      color: #191919;      text-align: center;      line-height: 60px;  }   .artB h2 {      font-size: 30px;      font-weight: 400;      color: #191919;      text-align: center;      line-height: 35px;  }   .artB table {      width: 100%;      vertical-align: top;      border-collapse: collapse;  }   .artB table.twotd td {      width: 50%;      vertical-align: top;  }   .artB table.threetd td {      width: 33%;      vertical-align: top;  }   .artB td {      border: 1px solid #999;      padding-left: 10px;  }   .artB td ol {      margin: 0px;  }   .artB ol {      margin: 0px;      margin: 35px 0px -13px 0px;      font-style: italic;      font-weight: 600;  }   .artB ol p {      color: #444;      /*font-size: 17px;*/      line-height: 26px;      font-style: initial;      font-weight: 300;      margin-left: -40px;  }   .artB ol i p {      font-style: italic;      color: #008b8b;  }   .artB p.total {      color: #134f5c;      font-weight: bold;      margin-top: 0px;  }   .artB iframe {      margin: auto;      display: block;  }   @media screen and (min-width: 1200px) {       #mob-menu-but,      #mob-menu {          display: none !important;      }       #cont {          display: block !important;      }  }   @media screen and (max-width: 1100px) {      .footSep {          visibility: hidden;      }  }   @media screen and (max-width: 1200px) {       #menu,      #submenu {          display: none;      }       #mob-menu-but {          width: 30px;          height: 30px;          position: absolute;          right: 4%;          top: 21px;          display: block;      }       #mob-menu {          display: none;          width: 100%;          background: white;          z-index: 9999;          margin: 0px;          padding: 0px;          margin-top: 89px;      }       #mob-menu li {          text-align: center;          list-style: none;          margin: 20px;      }       #mob-menu a {          text-decoration: none;          font-size: 16px;          font-weight: 500;          color: #0F3F9F !important;          cursor: pointer;      }  }   @media screen and (max-width: 750px) {      .maintext0 {          font-size: 30px;      }       .maintext1 {          font-size: 18px;      }       .maintext2,      .maintext4 {          font-size: 26px;      }       .maintext4 {          margin: 15px 0px 30px;      }       .pricing_image {          margin: 70px auto 20px;      }       .half {          14px;      }       #cont {          margin-top: 50px;      }  }   @media screen and (max-width: 650px) {      .sharePan div {          display: none;      }       .articles>a {          margin: 50px 0px 0px 0px;      }  }   @media screen and (max-width: 450px) {      .artB h1 {          font-size: 26px;          font-weight: 400;          color: #191919;          text-align: center;          line-height: 40px;      }       .artB h2 {          font-size: 22px;          font-weight: 400;          font-style: italic;          color: #191919;          text-align: center;          line-height: 30px;      }       .maintext0 {          font-size: 26px;      }       .maintext1 {          font-size: 18px;      }       .maintext2 {          font-size: 25px;          margin: 50px 0px 0px;      }       .maintext4 {          font-size: 25px;          margin: 10px 0px 20px;      }       .pricing_image {          margin: 40px auto 20px;      }       .half {          14px;      }       .tworow {          width: 100%;      }       .hpLoginBlocks {          min-width: initial;      }       #cont {          margin-top: 30px;      }  }   /* ------------------------LOGOS---------------------------- */  .logo_svg_maintain:hover svg {      fill: #0044ff;  }   .logo_svg_order:hover svg {      fill: #ff4400;  }   /* ------------------------LOGOS END------------------------ */  /* ------------------------PRODUCTS MENU-------------------- */  #products_menu {      position: absolute;      right: -100px;      top: 35px;      width: 346px;      background: white;      border-radius: 3px;      border: 1px solid #ccc;      display: none;      box-shadow: 0 2px 10px rgba(0, 0, 0, .2);      box-sizing: border-box;      font-size: 15px;      color: #222;  }   #products_menu>div {      padding: 30px 30px 30px 30px;      box-sizing: border-box;  }   #products_menu>div>a {      display: inline-block;      width: 90px;      height: 90px;      border: 1px solid transparent;      vertical-align: top;      text-align: center;      cursor: pointer;      border-radius: 3px;      box-sizing: border-box;      text-decoration: none;      color: #222;  }   #products_menu>div>a:hover {      border: 1px solid #e6e6e6;  }   #products_menu>a>button {      width: 100%;      background: #eee;      height: 40px;      border: none;  }   #products_menu>a>button:hover {      width: 100%;      background: #e7e7e7;      height: 40px;      border: none;  }   /* ------------------------PRODUCTS MENU END----------------- */  /* ------------------------SUPPORT MENU---------------------- */  .collapseDiv {      width: 100%;      display: none;      padding: 15px 0px;      box-sizing: border-box;      background: #333;  }   .collapseDiv>a {      display: block;      text-decoration: none;      width: 100%;      background: #333;      padding: 5px 30px 5px 40px;      box-sizing: border-box;      cursor: pointer;      color: #fff;  }   .collapseDiv>a:hover {      background: #222;  }   .plusM {      float: right;      margin-right: 10px;  }   .supMen {      width: 100%;      background: #eee;      padding: 10px 20px;      box-sizing: border-box;      cursor: pointer;      border-top: 1px solid #ccc;  }   .supMen:hover {      background: #ddd;  }   .supMenAct {      width: 100%;      background: #c5c5c5;      padding: 10px 20px;      box-sizing: border-box;      cursor: pointer;      border-top: 1px solid #ccc;  }   .supMenAct:hover {      background: #bbb;  }   @media screen and (max-width: 400px) {      .plusM {          visibility: hidden;      }  }   .artImg {      width: 100%;  }   .supArtMenIt {      width: 100%;      padding: 10px 0px;  }   .supArtMenIt>a {      display: block;      text-decoration: none;      width: 100%;      cursor: pointer;      padding: 10px 10px;      font-size: 14px;      box-sizing: border-box;      color: #444;      text-align: left;  }   .supArtMenIt>a:hover {      background: #eee;  }   .supArtMenItAct {      color: blue;      border-left: 3px solid blue;      font-weight: 600;  }   .supMenArt {      vertical-align: top;      display: inline-block;      max-width: 280px;      min-width: 250px;      margin: 80px auto;      box-shadow: -10px 5px 20px -5px #ccc;      border-left: 1px solid #ccc;      box-sizing: border-box;      float: right;      color: #222;  }   @media screen and (max-width: 1070px) {      .supMenArt {          display: block;          float: none;          max-width: 600px;          min-width: 0px;          box-shadow: -4px 7px 50px -5px #ccc;      }  }   /* ------------------------SUPPORT MENU END------------------ */  /* ------------------------SUPPORT ARTICLE------------------- */  .artS {      max-width: 700px;      text-align: left;      margin-top: 68px;      color: #222;      font-size: 15px;      line-height: 31px;      display: inline-block;  }   .artS h1,  .artS h2 {      text-align: left;      font-weight: 400;  }   .artS h1 {      font-size: 40px;      line-height: 60px;  }   .artS img {      width: 100%;      height: auto;  }   .artS .emb {      width: 100%;      text-align: center;  }   .artS .emb div {      font-size: 27px;      margin: 43px auto;      color: #999;  }   .artS .emb img {      width: 90%;      margin: auto;  }   .artS .emb p {      text-align: left;  }   .artS .emb textarea {      width: 90%;      font-size: 15px;      height: 100px;  }   .artS .artImg {      width: 100%;      max-width: 120px;      float: right;      margin: 18px 10px 10px 40px;  }   .artS .clearD {      width: 100%;      height: 40px;      visibility: hidden;      clear: both;  }   .artS ol {      margin: 0px;      font-style: normal;      font-weight: inherit;  }   .artS a {      color: #4184f1;      text-decoration: none;  }   .artS a:hover {      text-decoration: underline;  }   .artS .aNewT:after {      content: '';      background: no-repeat url(http://www.logision.com/img/newBlank.png);      display: inline-block;      height: 10px;      margin: 0 3px 0 5px;      width: 10px;  }   /* ------------------------SUPPORT ARTICLE END--------------- */</style>"+e.data.body.replace(/\/images\/blog/gi,"https://websiter.dev/images/blog").replace(/href="https:\/\/websiter.dev/gi,'href="https://addspire.com')),d(e.data.title)}).catch(function(e){})},[e.history.location.pathname]),r.a.createElement("div",null,u&&r.a.createElement(pa.a,null,r.a.createElement("title",null,u)),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}))})),Ya=a(816),Va=function(e){var t=e.invitingFriends,a=e.invitedFriends,n=e.realFriends,o=e._id,i=e.account,l=i?i._id:"";if(!l)return[];if(l===o)return[e.additionalButton];var c=r.a.createElement(S.a,{onClick:function(e){return e.domEvent.stopPropagation()}},e.additionalButtons&&e.additionalButtons.map(function(e,t){return r.a.createElement(S.a.Item,{key:t+100,onClick:e.onClick},e.title)}),t.find(function(e){return e.friend===o})?r.a.createElement(S.a.Item,{key:"2",onClick:function(){return Je(l,o)},danger:!0},"Decline"):a.find(function(e){return e.friend===o})?r.a.createElement(S.a.Item,{key:"3",onClick:function(){return Je(l,o)},danger:!0},"Cancel invitation"):n.find(function(e){return e.friend===o})?r.a.createElement(S.a.Item,{key:"4",onClick:function(){return Je(l,o)},danger:!0},"Unfriend"):null,e.noFollow?null:i.followAccounts.includes(o)?r.a.createElement(S.a.Item,{key:"5",onClick:function(){return Ye(l,o)},danger:!0},"Unfollow"):r.a.createElement(S.a.Item,{key:"6",onClick:function(){return Ue(l,o)}},"Follow"));return t.find(function(e){return e.friend===o})?r.a.createElement(Et.a.Button,{type:"primary",overlay:c,trigger:["click","hover"],onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"acceptFriend",accountId:e,friendId:t}))}(l,o)}},"Accept friendship"):[].concat(Object(ue.a)(n),Object(ue.a)(t),Object(ue.a)(a)).find(function(e){return e.friend===o})?r.a.createElement(Et.a,{overlay:c,trigger:["click"]},r.a.createElement("a",{onClick:function(e){e.preventDefault(),e.stopPropagation()}},r.a.createElement(_.a,{type:e.asText?"primary":"link"},e.asText?r.a.createElement(r.a.Fragment,null,"Actions ",r.a.createElement(Ya.a,null)):r.a.createElement(wt,null)))):r.a.createElement(Et.a.Button,{type:"primary",overlay:c,trigger:["click","hover"],onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"addFriend",accountId:e,friendId:t}))}(l,o)}},"Become friends")},Ja=Object(f.g)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed}},function(e){return{setData:function(t,a){return e(De(t))},tryAuth:function(t,a){return e(xe(t,a))}}})(function(e){var t=Va({account:e.account,realFriends:e.realFriends,invitedFriends:e.invitedFriends,invitingFriends:e.invitingFriends,_id:e.friend._id,asIcons:!0,additionalButtons:[{title:"See profile",onClick:function(){return e.history.push("/profile/"+e.friend._id)}}]});return r.a.createElement(It,{actions:t,body:r.a.createElement(bt,{span:!0,id:e.friend._id,size:50}),noLink:!0})})),Ha=Object(u.b)(function(e){return{searchResult:e.friendSearchResult}},function(e){return{setFriendSearchResult:function(t){return e(Se(t))}}})(function(e){Object(n.useEffect)(function(){e.setFriendSearchResult({})},[e.addFriendOpen]);var t=e.addFriendOpen,a=e.setAddFriendOpen,o=e.searchResult,i=e.realFriends,l=e.invitedFriends,c=e.invitingFriends;return r.a.createElement(E.a,{title:"Add friend",visible:t,maskClosable:!0,closable:!0,onCancel:function(){return a(!1)},footer:r.a.createElement(_.a,{key:"back",onClick:function(){return a(!1)}},"Return"),destroyOnClose:!0},r.a.createElement("p",null,"To find a friend you need to enter your friend's name or nickname."),r.a.createElement(O.a,Object.assign({name:"dynamic_form_nest_item",onFinish:function(e){return t=e.search,void(ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"searchFriends",search:t})));var t},autoComplete:"off"},{labelCol:{span:8},wrapperCol:{span:16}}),r.a.createElement(O.a.Item,{label:"Search",name:"search",rules:dt},r.a.createElement(D.a,{placeholder:"Must be more than 2 characters long"})),r.a.createElement(O.a.Item,{wrapperCol:{offset:8,span:16}},r.a.createElement(_.a,{type:"primary",htmlType:"submit",size:"large"},"Search"))),o._id&&r.a.createElement(xt.a,{title:"Search result"},r.a.createElement(Ja,Object.assign({},e,{friend:o,realFriends:i,invitingFriends:c,invitedFriends:l}))))}),Ga=Object(f.g)(function(e){var t=e.realFriends,a=e.invitedFriends,n=e.invitingFriends;return r.a.createElement(r.a.Fragment,null,n.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"People invited me to be friends"),r.a.createElement(Mt,{friends:!0},n.map(function(o){return r.a.createElement(Ja,Object.assign({key:o._id},e,{friend:o,realFriends:t,invitingFriends:n,invitedFriends:a}))}))),a.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"I invited these people"),r.a.createElement(Mt,{friends:!0},a.map(function(o){return r.a.createElement(Ja,Object.assign({key:o._id},e,{friend:o,realFriends:t,invitingFriends:n,invitedFriends:a}))}))))}),qa=a(104),Ka=Object(f.g)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData}},function(e){return{setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=Object(n.useState)(),a=Object(g.a)(t,2),o=a[0],i=a[1];Object(n.useEffect)(function(){e.setPageTitle({main:"Friends",sub:""})},[]);var l=e.account,c=e.friendData;if(!l._id)return null;var s=[],u=[],d=[];if(l.friends){var p=!0,m=!1,f=void 0;try{for(var h,b=l.friends[Symbol.iterator]();!(p=(h=b.next()).done);p=!0){var y=h.value,v=Object(He.a)({},c[y.friend],y);v&&("friend"===v.status?s.push(v):"invited"===v.status?u.push(v):"inviting"===v.status&&d.push(v))}}catch(x){m=!0,f=x}finally{try{p||null==b.return||b.return()}finally{if(m)throw f}}}var E=s.length>0?r.a.createElement(Mt,{friends:!0},s.map(function(t){return r.a.createElement(Ja,Object.assign({},e,{key:t.friend,friend:t,realFriends:s,invitingFriends:d,invitedFriends:u}))})):r.a.createElement(qa.a,{image:"https://websiter.s3.us-east-2.amazonaws.com/image+4.jpg",imageStyle:{height:"250px",marginTop:"50px"},description:!1});return r.a.createElement("div",null,r.a.createElement(Pt,{title:"Add friend",sub:"Find by nickname",action:function(){return i(!0)}}),u.length>0||d.length>0?r.a.createElement(fa.a,null,r.a.createElement(fa.a.TabPane,{key:"confirmed",tab:"Confrmed"},E),r.a.createElement(fa.a.TabPane,{tab:r.a.createElement(A.a,{count:d.length,offset:[10,0]},"Pending"),key:"pending"},r.a.createElement(Ga,{realFriends:s,invitedFriends:u,invitingFriends:d}))):E,r.a.createElement(Ha,{addFriendOpen:o,setAddFriendOpen:i,realFriends:s,invitedFriends:u,invitingFriends:d,account:l}))})),$a=a(375),Qa=Object(f.g)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(_e(t))},increaseAvatarV:function(){return e({type:"INCREASE_AVATAR_V"})}}})(function(e){var t=Object(n.useState)(),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),c=Object(g.a)(l,2),s=c[0],u=c[1],d=e.account;Object(n.useEffect)(function(){e.setPageTitle({main:"Settings",sub:""})},[]);return d&&d.name?r.a.createElement("div",{className:"contentDiv"},r.a.createElement(Helmet,null,r.a.createElement("title",null,"Account settings Addspire"),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),r.a.createElement(xt.a,null,r.a.createElement(Ge.a,{name:"avatar",listType:"picture-card",className:$a.Avatar,showUploadList:!1,customRequest:function(t){var a=t.file;Xe(a,800,"avatar",function(){e.increaseAvatarV()})}},d.image?r.a.createElement(j.a,{src:Z(d._id,d.image),size:150,style:{margin:"25px"}}):r.a.createElement("div",null,r.a.createElement(Ke.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload"))),r.a.createElement(O.a,Object.assign({name:"dynamic_form_nest_item",onFinish:function(e){return function(e,t){ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"editAccount",name:e.name,accountId:t}))}(e,d._id)},autoComplete:"off"},{labelCol:{span:8},wrapperCol:{span:16}},{initialValues:{name:d.name,nickname:d._id}}),r.a.createElement(O.a.Item,{label:"Name",name:"name",rules:mt},r.a.createElement(D.a,{placeholder:"Must be more than 1 character long"})),r.a.createElement(O.a.Item,{label:"Nickname",name:"nickname"},r.a.createElement(D.a,{disabled:!0})),r.a.createElement(O.a.Item,Object.assign({},{wrapperCol:{offset:8,span:0}},{style:{flex:"none",maxWidth:" 100%",overflow:"hidden"}}),r.a.createElement(Et.a.Button,{type:"primary",htmlType:"submit",size:"large",overlay:r.a.createElement(S.a,null,r.a.createElement(S.a.Item,{danger:!0,onClick:function(){return i(!0)}},"Delete account"))},"Save"))),r.a.createElement(E.a,{title:"Delete account",visible:o,onOk:function(){var e;s!==d._id?ye.b.warning("The nickmanme is not correct."):(e=d._id,ze&&1===ze.readyState&&ze.send(JSON.stringify({messageCode:"deleteAccount",accountId:e})))},onCancel:function(){i(!1),u("")}},r.a.createElement("p",null,"Please enter your nickname and press Ok to delete your account."),r.a.createElement(D.a,{onChange:function(e){return u(e.target.value)}})))):null})),Za=Object(f.g)(Object(u.b)(function(e){return{progressData:e.progressData}})(function(e){var t=e.id,a=function(t){return e.history.push("/inspirations/"+(t||e.id))};return r.a.createElement("span",{style:Object(He.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(e){e.stopPropagation(),a()}},function(t){return r.a.createElement("span",{onClick:function(){a(t)}},r.a.createElement(j.a,{src:e.progressData[t].goal.images.length>0&&e.progressData[t].goal.images[0],size:e.size||(e.noClick?20:40),style:e.group?{}:{margin:" 0 5px"}}))}(t),function(t){return e.progressData[t].goal.name}(t))})),Xa=Object(f.g)(Object(u.b)(function(e){return{account:e.account,profile:e.profile,isAuthed:e.isAuthed,friendData:e.friendData}},function(e){return{setData:function(t){return e(De(t))},setPageTitle:function(t){return e(_e(t))},tryAuth:function(t,a){return e(xe(t,a))}}})(function(e){var t=Object(n.useState)({}),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(g.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!1),p=Object(g.a)(d,2),m=p[0],f=p[1],h=e.isAuthed?e:o,b=h.profile,y=h.friendData,v=h.account;if(Object(n.useEffect)(function(){var t=e.history.location.pathname.split("/");if(t.length>2){var a=t[2];e.isAuthed?e.setData({currentProfile:a}):Wt(e,0,i,0,function(t){var a={},n=!0,r=!1,o=void 0;try{for(var i,l=t.friendData[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;a[c._id]=c}}catch(k){r=!0,o=k}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}var s={},u=!0,d=!1,p=void 0;try{for(var m,f=t.progressData[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){var g=m.value;s[g._id]=g}}catch(k){d=!0,p=k}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}var h={},b=!0,y=!1,v=void 0;try{for(var E,x=t.groupData[Symbol.iterator]();!(b=(E=x.next()).done);b=!0){var w=E.value;h[w._id]=w}}catch(k){y=!0,v=k}finally{try{b||null==x.return||x.return()}finally{if(y)throw v}}e.setData({friendData:a,progressData:s,groupData:h,account:{}})})}else e.isAuthed&&e.setData({currentProfile:v._id})},[e.isAuthed,e.history.location.pathname,e.account._id]),!b||!b._id)return null;e.setPageTitle({main:b.name,sub:""});var E=[],x=[],w=[];if(b&&b.friends&&v&&v._id){var k=!0,O=!1,D=void 0;try{for(var S,C=v.friends[Symbol.iterator]();!(k=(S=C.next()).done);k=!0){var A=S.value;"friend"===A.status?E.push(A):"invited"===A.status?x.push(A):"inviting"===A.status&&w.push(A)}}catch(T){O=!0,D=T}finally{try{k||null==C.return||C.return()}finally{if(O)throw D}}}var I=Va({account:v,realFriends:E,invitedFriends:x,invitingFriends:w,_id:b._id,additionalButton:null,asText:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(xt.a,null,r.a.createElement("div",{style:{textAlign:"center",marginBottom:"50px"}},r.a.createElement(j.a,{src:Z(b._id,b.image),size:200}),r.a.createElement("h1",{style:{margin:0}},b.name),r.a.createElement("h3",null,"(",b._id,")"),r.a.createElement(_.a,{type:"text",onClick:function(){return u(!0)}},b.followingAccounts.length," Followers"),r.a.createElement(_.a,{type:"text",onClick:function(){return f(!0)}},b.followProgresses.length+b.followAccounts.length," ","Following"),r.a.createElement("div",null,v&&v._id!==b._id&&r.a.createElement("span",{style:{marginRight:"10px"}},E.find(function(e){return e.friend===b._id})?r.a.createElement(ga.a,{color:"green"},"Friends"):null,v.followAccounts.includes(b._id)?r.a.createElement(ga.a,{style:{marginRight:"10px"},color:"purple"},"Following"):r.a.createElement(_.a,{type:"primary",onClick:function(){return Ue(v._id,b._id)}},"Follow")),I)),r.a.createElement(fa.a,null,r.a.createElement(fa.a.TabPane,{tab:"Progresses",key:0},r.a.createElement(ma,{fromProfile:!0})),r.a.createElement(fa.a.TabPane,{tab:"Friends",key:1},r.a.createElement(Mt,{friends:!0},b.friends.filter(function(e){return"friend"===e.status}).map(function(t){var a=Object(He.a)({},y[t.friend],{_id:t.friend});return r.a.createElement(Ja,Object.assign({key:a._id},e,{account:v,friend:a,realFriends:E,invitingFriends:w,invitedFriends:x}))}))),r.a.createElement(fa.a.TabPane,{tab:"Shop",key:4},r.a.createElement(Mt,null,b.perks&&b.perks.map(function(e,t){return r.a.createElement(Tt,{key:t,perk:e,perkId:e.perkId,owner:b,account:v||{},onlyBuy:!0,mode:"shop"})}))),r.a.createElement(fa.a.TabPane,{tab:"Wallet",key:5},r.a.createElement(ja,{pulledProfile:b,account:b})),r.a.createElement(fa.a.TabPane,{tab:"Wishlist",key:6},r.a.createElement(Mt,null,b.wishlist.map(function(e,t){return r.a.createElement(Tt,{key:t,perk:e,perkId:e.itemId,owner:b,account:v||{},setEditedPerk:function(){},setEditPerkOpen:function(){},onlyBuy:!0,mode:"wishlist"})})))))),r.a.createElement(se.a,{title:"Followers",visible:s,footer:null,onCancel:function(){return u(!1)}},b.followingAccounts.map(function(e){return r.a.createElement(It,{noLink:!0,key:e,actions:r.a.createElement(xa,{account:v,id:e}),body:r.a.createElement(bt,{span:!0,id:e,size:50})})})),r.a.createElement(se.a,{title:"Following",visible:m,footer:null,onCancel:function(){return f(!1)}},r.a.createElement(fa.a,null,r.a.createElement(fa.a.TabPane,{tab:"People",key:"1"},b.followAccounts.map(function(e){return r.a.createElement(It,{noLink:!0,key:e,actions:r.a.createElement(xa,{account:v,id:e}),body:r.a.createElement(bt,{span:!0,id:e,size:50})})})),r.a.createElement(fa.a.TabPane,{tab:"Inspirations",key:2},b.followProgresses.map(function(e){return r.a.createElement(It,{noLink:!0,key:e,actions:r.a.createElement(xa,{type:"progress",account:v,id:e}),body:r.a.createElement(Za,{span:!0,id:e,size:50})})})))))})),en=a(381),tn=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,user:e.user,account:e.account,accountNotActive:e.accountNotActive}},function(e){return{setPageTitle:function(t){return e(_e(t))},setAccountActivated:function(t){return e(function(e){return{type:"SET_ACCOUNT_ACTIVATED",value:e}}(t))}}})(function(e){e.isAuthed||e.history.push("/logout"),Object(n.useEffect)(function(){e.accountNotActive||e.history.push("/settings")},[e.accountNotActive]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(en.a,{className:"site-page-header",title:"Activate your account",backIcon:!1}),r.a.createElement(O.a,Object.assign({name:"dynamic_form_nest_item",onFinish:function(t){s.a.post("/api/activate-account",Object(He.a)({},t)).then(function(t){t.data.success?(ye.b.success("Your account has been activated!"),e.setAccountActivated(!1)):(t.data.nicknameNotUnique&&ye.b.warning("The nickname is taken. Choose another nickname please."),t.data.errorCode&&ye.b.error("Something is wrong with the data. Please try one more time with new data."))}).catch(function(e){})},autoComplete:"off"},{labelCol:{span:8},wrapperCol:{span:16}}),r.a.createElement(O.a.Item,{label:"Name",name:"name",rules:mt},r.a.createElement(D.a,{placeholder:"Must be more than 1 character long"})),r.a.createElement(O.a.Item,{label:"Nickname",name:"nickname",rules:dt},r.a.createElement(D.a,{placeholder:"Must be more than 1 character long"})),r.a.createElement(O.a.Item,{wrapperCol:{offset:8,span:16}},r.a.createElement(_.a,{type:"primary",htmlType:"submit",size:"large"},"Save"))))})),an=vt.a.Item,nn=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,post:e.post,friendData:e.friendData}},function(e){return{setData:function(t){e(De(t))},setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=Object(n.useState)({}),a=Object(g.a)(t,2),o=a[0],i=a[1],l=e.account;if(Object(n.useEffect)(function(){var t=e.history.location.pathname.split("/");if(t.length>3){var a=t[2];if(e.isAuthed&&l._id===a){var n=l.perks.find(function(e){return e.perkId===t[3]});i({profile:l,perk:n})}else Wt(e,0,i,0,function(t){var a={},n=!0,r=!1,o=void 0;try{for(var i,l=t.friendData[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;a[c._id]=c}}catch(s){r=!0,o=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}e.setData({post:Object(je.a)({},t.post._id,t.post),friendData:a})})}},[e.isAuthed]),!o.perk)return null;var c=o.perk,s=o.profile;e.setData({currentPosts:c.post}),c&&e.setPageTitle({main:c.name,sub:s._id});var u;return c?r.a.createElement("div",{className:"contentDiv"},r.a.createElement(pa.a,null,r.a.createElement("title",null,c.name," by ",s.id),r.a.createElement("meta",{name:"description",content:c.description})),r.a.createElement(xt.a,{title:r.a.createElement("span",null,"Item from ",r.a.createElement(bt,{id:s._id})," shop"),bordered:!1},r.a.createElement(oa,{images:c.images}),r.a.createElement("h1",null,c.name),r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},c.description),r.a.createElement(vt.a,{title:"Goal description",bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(an,{label:"Available for"},(u=c.users,s&&e.friendData?u.map(function(e){return r.a.createElement(bt,{id:e})}):u)),r.a.createElement(an,{label:"Price"},c.price)),r.a.createElement(ua,{noStartMessage:!0,post:e.post[c.post],account:e.account,friendData:e.friendData,showReplies:!0}))):null})),rn=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,post:e.post,friendData:e.friendData}},function(e){return{setData:function(t){e(De(t))},setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=Object(n.useState)({}),a=Object(g.a)(t,2),o=a[0],i=a[1],l=e.account;if(Object(n.useEffect)(function(){var t=e.history.location.pathname.split("/");if(t.length>3){var a=t[2];if(e.isAuthed&&l._id===a){var n=l.wishlist.find(function(e){return e.itemId===t[3]});i({profile:l,wishlistItem:n})}else Wt(e,0,i,0,function(t){var a={},n=!0,r=!1,o=void 0;try{for(var i,l=t.friendData[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;a[c._id]=c}}catch(s){r=!0,o=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}e.setData({post:Object(je.a)({},t.post._id,t.post),friendData:a})})}},[e.isAuthed]),!o.wishlistItem)return null;var c=o.wishlistItem,s=o.profile;return e.setData({currentPosts:c.post}),c&&e.setPageTitle({main:c.name,sub:s._id}),c?r.a.createElement("div",{className:"contentDiv"},r.a.createElement(Helmet,null,r.a.createElement("title",null,c.name," by ",s.id),r.a.createElement("meta",{name:"description",content:perk.description})),r.a.createElement(xt.a,{title:r.a.createElement("span",null,r.a.createElement(bt,{id:s._id})," wishlist"),bordered:!1},r.a.createElement(oa,{images:c.images}),r.a.createElement("h1",null,c.name),r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},c.description),r.a.createElement(ua,{noStartMessage:!0,post:e.post[c.post],account:e.account,friendData:e.friendData,showReplies:!0}))):null})),on=Object(f.g)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(_e(t))}}})(function(e){return Object(n.useEffect)(function(){e.setPageTitle({main:"Wishlist",sub:""})},[]),r.a.createElement("div",null,r.a.createElement(pa.a,null,r.a.createElement("title",null,"Addspire - reward and motivate for great changes!"),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),e.account._id?r.a.createElement(Lt,{mode:"wishlist",account:e.account}):r.a.createElement("span",null))})),ln=Object(f.g)(function(e){var t=e.progress,a=t.goal;return r.a.createElement(xt.a,{type:"inner",style:{width:"100%",cursor:"pointer"},bordered:!1,title:r.a.createElement("div",{onClick:function(){return e.history.push("/inspirations/"+t._id)},style:{display:"flex",alignItems:"center"}},a.images.length>0&&r.a.createElement("div",{style:{width:"50px",marginRight:"20px"}},r.a.createElement(oa,{images:a.images,size:50})),a.name," -"," ",r.a.createElement(bt,{id:t.owner,noName:!0})," in",r.a.createElement(bt,{ids:t.goal.users,group:!0}))})}),cn=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,posts:e.post,group:e.group,friendData:e.friendData,progressData:e.progressData}},function(e){return{setData:function(t){e(De(t))},setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=Object(n.useState)({}),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(g.a)(l,2),s=c[0],u=c[1],d=e.history.location.pathname.split("/")[2];Object(n.useEffect)(function(){e.setData({currentGroup:d})},[e.isAuthed]);var p=e.group,m=e.account,f=e.friendData,h=e.posts,b=e.progressData;if(!p._id)return null;e.setData({currentPosts:p.posts}),e.setPageTitle({main:p.name,sub:p.worker});var y=p.progresses.filter(function(e){return b[e]}).map(function(e){return b[e]}),v=r.a.createElement(E.a,{title:"Add goal",visible:s,maskClosable:!0,closable:!0,onCancel:function(){return u(!1)},width:"100%",style:{maxWidth:"1000px"},footer:r.a.createElement(_.a,{key:"back",onClick:function(){return u(!1)}},"Close"),destroyOnClose:!0},r.a.createElement(_t,{setStartProgressVisible:u,account:m,friendData:e.friendData,inGroup:p._id}));return f?r.a.createElement(r.a.Fragment,null,r.a.createElement(fa.a,null,r.a.createElement(fa.a.TabPane,{tab:"Posts",key:"posts"},r.a.createElement(_a,{parent:d,account:m,parentType:"progress"}),p.posts.map(function(e){if(h[e]){var t=h[e];return r.a.createElement(xt.a,null,r.a.createElement(ua,{friendData:f,account:m,post:t}))}return null})),r.a.createElement(fa.a.TabPane,{tab:"Progresses",key:"progresses"},r.a.createElement(Pt,{title:"Start a new progress",sub:"Rich your goals or help others!",action:function(){u(!0)}}),y.map(function(e,t){return r.a.createElement(ln,{key:t,progress:e})}),v)),r.a.createElement(E.a,{visible:o.previewImage,footer:null,onCancel:function(){return i(Object(He.a)({},o,{previewImage:""}))}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o.previewImage}))):null})),sn=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,statePosts:e.post,progress:e.progress,friendData:e.friendData,progressData:e.progressData,groupData:e.groupData,lastNotifications:e.lastNotifications}},function(e){return{setData:function(t){e(De(t))},setPageTitle:function(t){return e(_e(t))}}})(function(e){var t=e.account,a=e.friendData,n=e.progressData,o=e.groupData,i=function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1};if(!t._id)return null;var l=[],c=!0,s=!1,u=void 0;try{for(var d,p=t.followProgresses[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;n[m]&&(l=[].concat(Object(ue.a)(l),Object(ue.a)(n[m].notifications)))}}catch(S){s=!0,u=S}finally{try{c||null==p.return||p.return()}finally{if(s)throw u}}var f=!0,g=!1,h=void 0;try{for(var b,y=t.groups[Symbol.iterator]();!(f=(b=y.next()).done);f=!0){var v=b.value;o[v]&&(l=[].concat(Object(ue.a)(l),Object(ue.a)(o[v].notifications)))}}catch(S){g=!0,h=S}finally{try{f||null==y.return||y.return()}finally{if(g)throw h}}var E=!0,x=!1,w=void 0;try{for(var k,O=t.friends[Symbol.iterator]();!(E=(k=O.next()).done);E=!0){var D=k.value;a[D.friend]&&"friend"===D.status&&a[D.friend].notifications&&(l=[].concat(Object(ue.a)(l),Object(ue.a)(a[D.friend].notifications)))}}catch(S){x=!0,w=S}finally{try{E||null==O.return||O.return()}finally{if(x)throw w}}var _=function(e,t,a,n){return e.find(function(e){return e.notId===t.notId})||e.push(t),e};return l=(l=l.reduce(_,[])).sort(i).slice(0,100),l=(l=(l=[].concat(Object(ue.a)(l),Object(ue.a)(t.myNotifications)).filter(function(e){return"add post"!==e.code})).reduce(_,[])).sort(i),Na()(l,e.lastNotifications)||e.setData({lastNotifications:l}),r.a.createElement("span",null)})),un=new b.a,dn=Object(f.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,user:e.user,account:e.account,accountNotActive:e.accountNotActive}},function(e){return{tryAuth:function(t,a){return e(xe(t,a))},logout:function(){return e(Oe())}}})(function(e){var t=e.isAuthed;Object(n.useEffect)(function(){e.tryAuth(e)},[]);var a=un.get("redirectto");a&&un.remove("redirectto",{path:"/"});var o=function(){return e.logout(),r.a.createElement(f.a,{to:"/explore"})},i=r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:Wa}),r.a.createElement(f.b,{path:"/goals",exact:!0,component:Bt}),r.a.createElement(f.b,{path:"/goals",component:da}),r.a.createElement(f.b,{path:"/inspirations",exact:!0,component:ma}),r.a.createElement(f.b,{path:"/inspirations",component:Sa}),r.a.createElement(f.b,{path:"/groups",component:cn}),r.a.createElement(f.b,{path:"/profile",component:Xa}),r.a.createElement(f.b,{path:"/friends",exact:!0,component:Ka}),r.a.createElement(f.b,{path:"/settings",exact:!0,component:Qa}),r.a.createElement(f.b,{path:"/account",exact:!0,component:Xa}),r.a.createElement(f.b,{path:"/dashboard",exact:!0,component:Ma}),r.a.createElement(f.b,{path:"/shop",exact:!0,component:Pa}),r.a.createElement(f.b,{path:"/shop",component:nn}),r.a.createElement(f.b,{path:"/wishlist",exact:!0,component:on}),r.a.createElement(f.b,{path:"/wishlist",component:rn}),r.a.createElement(f.b,{path:"/logout",exact:!0,component:o}),r.a.createElement(f.b,{path:"/ru",component:Ua}),r.a.createElement(f.b,{path:"/blog",component:Ua}),r.a.createElement(f.b,{path:"/activate-account",exact:!0,component:tn}),!1,r.a.createElement(f.a,{to:"/"}));return e.accountNotActive&&(i=r.a.createElement(f.d,null,!t&&r.a.createElement(f.b,{path:"/login",exact:!0,component:k}),r.a.createElement(f.b,{path:"/logout",exact:!0,component:o}),r.a.createElement(f.b,{path:"/activate-account",exact:!0,component:tn}),!1,t?r.a.createElement(f.a,{to:"/activate-account"}):r.a.createElement(f.a,{to:"/login"}))),a?r.a.createElement(f.a,{to:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(St,null,i),t&&r.a.createElement(Me,null),t&&r.a.createElement(sn,null)))})),pn=a(384),mn=Object(pn.a)({isAuthed:!1,user:null,currentAccount:"",account:{},friendData:{},transactionData:{},progressData:{},currentProfile:"",profile:{},currentProgress:"",currentGroup:"",currentPosts:[],progress:{},post:{},postData:{},group:{},groupData:{},pageTitle:{},lastUrl:"",friendSearchResult:{},accountNotActive:!1,lastNotifications:[],isConnectingWS:!1},{SET_DATA:function(e,t){if(t.data){for(var a=0,n=["user","account","isAuthed","currentAccount","currentProfile","currentPosts","currentGroup","profile","group","currentProgress","progress","lastNotifications"];a<n.length;a++){var r=n[a];"undefined"!==typeof t.data[r]&&(e[r]=t.data[r])}for(var o=0,i=["friendData","progressData","post","postData","groupData","transactionData"];o<i.length;o++){var l=i[o];if("undefined"!==typeof t.data[l])for(var c in t.data[l])t.data[l][c]&&(e[l][c]=t.data[l][c])}}e.user&&(e.user.currentAccount?(e.currentAccount=e.user.currentAccount,e.accountNotActive=!1):e.user.myAccount?(e.currentAccount=e.user.myAccount,e.accountNotActive=!1):e.accountNotActive=!0)},REMOVE_DATA:function(e,t){if(t.data){for(var a=0,n=["user","account","profile","progress","group"];a<n.length;a++){var r=n[a],o=!0,i=!1,l=void 0;try{for(var c,s=t.data[r][Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;e[r]._id===u&&(e[r]={})}}catch(E){i=!0,l=E}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}}for(var d=0,p=["post","friendData","progressData","postData","groupData","transactionData"];d<p.length;d++){var m=p[d],f=!0,g=!1,h=void 0;try{for(var b,y=t.data[m][Symbol.iterator]();!(f=(b=y.next()).done);f=!0){var v=b.value;delete e[m][v]}}catch(E){g=!0,h=E}finally{try{f||null==y.return||y.return()}finally{if(g)throw h}}}}},SET_FRIEND_SEARCH_RESULT:function(e,t){e.friendSearchResult=t.data},SET_FRIENDS_DATA:function(e,t){t.data&&(e.account.friendsData=t.data),t.data.perk&&(e.perk=t.data.perk)},SET_AVATAR_V:function(e,t){e.account.image=t.v},INCREASE_AVATAR_V:function(e){e.account.image=e.account.image+1},SET_IS_AUTHED:function(e,t){e.isAuthed=t.id},SET_PAGE_TITLE:function(e,t){e.pageTitle=t.title},SAVE_LAST_URL:function(e,t){"/login"!==t.url&&"/logout"!==t.url&&(e.lastUrl=t.url)},SET_ACCOUNT_ACTIVATED:function(e,t){e.accountNotActive=t.value},SET_CONNECTING_WS:function(e,t){e.isConnectingWS=t.data}});a.d(t,"store",function(){return fn}),s.a.defaults.baseURL="https://addspire.com";var fn=Object(d.createStore)(mn,Object(m.composeWithDevTools)(Object(d.applyMiddleware)(p.a))),gn=r.a.createElement(u.a,{store:fn},r.a.createElement(l.a,null,r.a.createElement(dn,null))),hn=document.getElementById("root");i.a.render(gn,hn)}},[[386,1,2]]]);
//# sourceMappingURL=main.8f4531a4.chunk.js.map