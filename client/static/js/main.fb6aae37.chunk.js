(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{257:function(e,t,a){e.exports={Container:"LoginModal_Container__1PdGZ",socialButtons:"LoginModal_socialButtons__1H9u7",Background:"LoginModal_Background__2foqr"}},368:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAMAAACjKNoqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1FBMVEUAAADbJCTWNjbZNTTYNjXYNjXYNTXZNjbYNjTXNTX/AADXNjLYNjXZNTXoPDvjOjrYNTTYNTTVNDTXNjTYNjXsPT3nPDzYNjXXMzPYNTXaNjXZNzXWNDTYNjXYNTXjOTnYNjXsPj3YNTT/VVXYNDTbNzbYNjPYNjXqPDzoOzrYNTPZNTTYNzXXNTTYNTTYNTTZNzbXNTPpPTzYNjXXNTXcNzbXNDTbNzfYNTTVOTnXNTPeODfgOTjYNTXYOzvYNjXWMzPZNTXcODfWNjPYNTXqPDzYNjXYNzPXNDTZNTXkOjrnPDzZMzPYNTTYNjXiOzrkOzrYNTTaODLXNDPZNTXYNjXrPT3YNTTaNjXYNjTmOzrYNTXWNTXZNTTWNDS/QEDYNjXXNTTYNDToOzvpPDzYNTXcNzbdODfbNzfbNzfbMzPZNjXcNjbZNjbYNjbyQED2QkL1QkHvQD/+Rkb/Rkb8RUX3QkL0QUH4Q0PvPz/VNDSmISH9RUVZAACnISHzQUHYNjZaAADZNjbyQUCrIyOsIyOuJCTxQEDdODhaAQHeODiyJSVbAQGyJibqPDzgOTmzJib0QkL/RUX+RUX6Q0P8RET5Q0PsPj3zQED0QkHXNTT///9fYCXAAAAAb3RSTlMAB1Gt4ff01pg6AUzj+Pz5/M0xjvv++/xtm/l+XfpICe3+4QNi91W3/v2p6uX6+ffkrv6yYPdnDvYSh/f4lQ3uGfn3d9n95EFTuvr8KP2b+PqsKf41y/7Y+PP7pET5SgTx9av9/mH29hzpI9XCXnctusQjAAAAAWJLR0Sb79hXhAAAAAd0SU1FB+EMCQINAvEQCwMAAAFuSURBVCjPZdH3O0JRGAfwN7sIEdcoIdkKkb2yV/bee3OrazUkERFlhPy1Ouc27q3vT9/n8zz33HPeFwCFExUdExsXn8DlQTCJSfzkM1KrS0kVpPmJly7M0FM455lEFo3ZORdUMJfCXGQi8RXFCEnkAUjyrylWCgqlUCSjzzMYjQZcTPxiKCnF1Wj25QbXsnKosKBya0VovUPdVglVJCr3ZpwH/Cs5KLSo2Gm0o65VQPUjKk8OZI5n/+c1tfj0F6fZ7HzF9U0JdTL6ei6320W3ehU0NFrYl3+XNwE0t3ywsLXN9/b2Dh3TbIpONBFVlylkn+puPDppTy9jHH0ceqD9xFfAPOKBwDoGhwI4LAhuaYQgafse5YY2pxmjcXwiZDA5hU/1ENMMhJlZhD9zTAPRPFqKWsVCycIvRXkV7SwEje9Wi0tsg2WhXr+yGoZr6xbvBicMYXNrWxlusLO7p4rA/b+DwwiEo+NIg5PTYP0HPpevTLcESqcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTItMDlUMDI6MTM6MDErMDA6MDA/mojaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEyLTA5VDAyOjEzOjAxKzAwOjAwTscwZgAAAABJRU5ErkJggg=="},384:function(e,t,a){e.exports={Dots:"imageCarousel_Dots__3XuKo"}},390:function(e,t,a){e.exports={Layout:"Layout_Layout__3q-xb",Header:"Layout_Header__J8BzQ",Footer:"Layout_Footer__1UfUY",HideHeader:"Layout_HideHeader__2uuFO",FooterButton:"Layout_FooterButton__VhJUa",TopHeader:"Layout_TopHeader__277Y8",BottomHeader:"Layout_BottomHeader__3YPE5",Main:"Layout_Main__Py9vL",MenuButtonContiner:"Layout_MenuButtonContiner__2imT-",QuickButtonContiner:"Layout_QuickButtonContiner__3mw1U",PageTitle:"Layout_PageTitle__1_EDr"}},399:function(e,t,a){e.exports={Avatar:"Profile_Avatar__3n37F"}},433:function(e,t,a){e.exports=a(778)},459:function(e,t,a){},778:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),l=a(27),c=a(34),s=a.n(c),u=a(26),d=a(74),p=a(187),m=a(370),f=(a(459),a(168)),g=a.n(f),h=a(217),b=a(60),y=a(258),x=a(61),E=a(193),v=a(68),w=a(136),k=(new w.a,a(181),a(140),a(267),a(564),a(319),a(320),a(569),a(321),a(572),a(322),a(323),a(268),a(577),a(579),a(581),a(583),a(586),a(588),a(590),a(269),a(205),a(326),a(780),a(781),a(599),a(601),a(603),a(605),a(607),a(610),a(612),a(614),a(616),a(618),a(324),a(325),a(620),a(17)),O=a(22),j=a(13),A=a(374),S=a(52),D=function(e,t){if(e.data.logout&&t.history.push("/logout"),!1===e.data.success)if(e.data.errorCode)switch(e.data.errorCode){case"no account":S.b.warning("Account is not found. Please login.");break;case"bad data":S.b.error("Error. Please try one more time with correct data.");break;case"progress exist":S.b.warning("This progress already exists.");break;default:S.b.warning("Something wrong has happened... Try again!")}else S.b.error("Something failed");else if(e.data.successCode)switch(e.data.successCode){case"avatar saved":S.b.success("The avatar image has been updated.");break;case"success":S.b.success("Success!");break;case"item saved":S.b.success("Item is saved");break;case"prgress created":S.b.success("Progress has started!");break;default:S.b.success("Success!")}e.data.status&&"no account"===e.data.status&&t.history.push("/activate-account")},C=new w.a,_=function(e){return function(t){if(sessionStorage.setItem("systemRefresh","0"),!e){e=C.get("auth_token");var a=C.get("rememberme");a&&(C.remove("rememberme",{path:"/"}),"false"===a&&C.remove("auth_token",{path:"/"}))}var n=Object(A.a)(e);s.a.defaults.headers.post["Content-Type"]="application/json",s.a.defaults.headers.put["Content-Type"]="application/json",s.a.defaults.headers.delete["Content-Type"]="application/json",s.a.defaults.headers.common.Accept="application/json",e&&n?(s.a.defaults.headers.common["x-auth-token"]=e,s.a.defaults.headers.post["x-auth-token"]=e,s.a.defaults.headers.get["x-auth-token"]=e,s.a.defaults.headers.delete["x-auth-token"]=e,s.a.defaults.headers.put["x-auth-token"]=e,t(T(n._id))):t(T(null))}},T=function(e){return{type:"SET_IS_AUTHED",id:e}},N=function(){return function(e){C.remove("rememberme",{path:"/"}),C.remove("auth_token",{path:"/"}),delete s.a.defaults.headers.common["x-auth-token"],delete s.a.defaults.headers.post["x-auth-token"],delete s.a.defaults.headers.get["x-auth-token"],delete s.a.defaults.headers.delete["x-auth-token"],delete s.a.defaults.headers.put["x-auth-token"],e(T(!1))}},I=function(e){return{type:"SET_DATA",data:e}},z=function(e){return{type:"SET_PAGE_TITLE",title:e}},M=function(e){return{type:"SET_FRIEND_SEARCH_RESULT",data:e}};function P(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return F(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var R=a(146),B=a(227),L=a(228),W=a(249),Y=a(229),U=a(250);function V(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return X(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var H=function(e){var t=e.store,a={user:[],account:[],progress:[],reward:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[]},n={user:[],account:[],progress:[],reward:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[]};if(t.isAuthed)if(t.user){if(n.user.push(t.user._id),t.currentAccount)if(t.account._id!==t.currentAccount)a.account.push(t.currentAccount);else{n.account.push(t.account._id);for(var r=0,o=[].concat(Object(k.a)(t.account.progresses),Object(k.a)(t.account.followProgresses),Object(k.a)(t.account.recentProgresses));r<o.length;r++){var i=o[r];t.progressData[i]||a.progressData.push(i),n.progressData.push(i)}var l,c=V(t.account.followPosts);try{for(c.s();!(l=c.n()).done;){var s=l.value;t.postData[s]||a.postData.push(s),n.postData.push(s)}}catch(ve){c.e(ve)}finally{c.f()}var u,d=V(t.account.myPosts);try{for(d.s();!(u=d.n()).done;){var p=u.value;t.postData[p]||a.postData.push(p),n.postData.push(p)}}catch(ve){d.e(ve)}finally{d.f()}var m,f=V(t.account.transactions);try{for(f.s();!(m=f.n()).done;){var g=m.value;t.transactionData[g]||a.transactionData.push(g),n.transactionData.push(g)}}catch(ve){f.e(ve)}finally{f.f()}var h,b=V(t.account.friends);try{for(b.s();!(h=b.n()).done;){var y=h.value;t.friendData[y.friend]||a.friendData.push(y.friend),n.friendData.push(y.friend)}}catch(ve){b.e(ve)}finally{b.f()}var x,E=V(t.account.rewards);try{for(E.s();!(x=E.n()).done;){var v=x.value;t.rewardData[v]||a.rewardData.push(v),n.rewardData.push(v)}}catch(ve){E.e(ve)}finally{E.f()}for(var w=0,O=[].concat(Object(k.a)(t.account.followingAccounts),Object(k.a)(t.account.followAccounts));w<O.length;w++){var j=O[w];t.friendData[j]||a.friendData.push(j),n.friendData.push(j)}}if(t.currentProfile)if(t.profile._id!==t.currentProfile)a.account.push(t.currentProfile);else{n.account.push(t.profile._id);for(var A=0,S=[].concat(Object(k.a)(t.profile.progresses),Object(k.a)(t.profile.followProgresses));A<S.length;A++){var D=S[A];t.progressData[D]||a.progressData.push(D),n.progressData.push(D)}var C,_=V(t.profile.transactions);try{for(_.s();!(C=_.n()).done;){var T=C.value;if(t.transactionData[T]){var N=t.transactionData[T].reward;t.rewardData[N]||a.rewardData.push(N),n.rewardData.push(N)}else a.transactionData.push(T);n.transactionData.push(T)}}catch(ve){_.e(ve)}finally{_.f()}var I,z=V(t.profile.friends);try{for(z.s();!(I=z.n()).done;){var M=I.value;t.friendData[M.friend]||a.friendData.push(M.friend),n.friendData.push(M.friend)}}catch(ve){z.e(ve)}finally{z.f()}var P,F=V(t.profile.rewards);try{for(F.s();!(P=F.n()).done;){var R=P.value;t.rewardData[R]||a.rewardData.push(R),n.rewardData.push(R)}}catch(ve){F.e(ve)}finally{F.f()}for(var B=0,L=[].concat(Object(k.a)(t.profile.followingAccounts),Object(k.a)(t.profile.followAccounts));B<L.length;B++){var W=L[B];t.friendData[W]||a.friendData.push(W),n.friendData.push(W)}}if(t.currentProgress)if(t.progress._id!==t.currentProgress)a.progress.push(t.currentProgress);else{n.progress.push(t.progress._id);var Y=[];t.progress.owner&&Y.push(t.progress.owner),t.progress.users&&(Y=Y.concat(t.progress.users)),t.progress.likes&&(Y=Y.concat(t.progress.likes)),t.progress.followingAccounts&&(Y=Y.concat(t.progress.followingAccounts));var U,X=V(Y);try{for(X.s();!(U=X.n()).done;){var H=U.value;t.friendData[H]||a.friendData.push(H),n.friendData.push(H)}}catch(ve){X.e(ve)}finally{X.f()}var J,G=V(t.progress.posts);try{for(G.s();!(J=G.n()).done;){var Q=J.value;t.postData[Q]||a.postData.push(Q),n.postData.push(Q)}}catch(ve){G.e(ve)}finally{G.f()}var q,Z=t.progress.rewards,K=V(t.progress.stages);try{for(K.s();!(q=K.n()).done;){var $=q.value;Z=[].concat(Object(k.a)(Z),[$.rewards])}}catch(ve){K.e(ve)}finally{K.f()}var ee,te=V(Z);try{for(te.s();!(ee=te.n()).done;){var ae=ee.value;t.rewardData[ae]||a.rewardData.push(ae),n.rewardData.push(ae)}}catch(ve){te.e(ve)}finally{te.f()}}if(t.currentPosts){var ne,re=V(t.currentPosts);try{for(re.s();!(ne=re.n()).done;){var oe=ne.value,ie=t.post[oe];if(ie){n.post.push(oe);var le,ce=V(ie.users);try{for(ce.s();!(le=ce.n()).done;){var se=le.value;t.friendData[se]||a.friendData.push(se),n.friendData.push(se)}}catch(ve){ce.e(ve)}finally{ce.f()}oe.parent&&("progress"===oe.parent.parentType&&n.progressData.push(oe.parent.parentId),"reward"===oe.parent.parentType&&n.rewardData.push(oe.parent.parentId))}else a.post.push(oe)}}catch(ve){re.e(ve)}finally{re.f()}}if(t.currentReward)if(t.reward._id!==t.currentReward)a.reward.push(t.currentReward);else{n.reward.push(t.reward._id);var ue,de=V(t.reward.likes);try{for(de.s();!(ue=de.n()).done;){var pe=ue.value;t.friendData[pe]||a.friendData.push(pe),n.friendData.push(pe)}}catch(ve){de.e(ve)}finally{de.f()}t.post[t.reward.post]||a.post.push(t.reward.post),n.post.push(t.reward.post)}if(t.friendSearchResult&&t.friendSearchResult.length>0){var me,fe=V(t.friendSearchResult);try{for(fe.s();!(me=fe.n()).done;){var ge=me.value;t.friendData[ge._id]||a.friendData.push(ge._id),n.friendData.push(ge._id)}}catch(ve){fe.e(ve)}finally{fe.f()}}}else a.user.push(t.isAuthed);var he=function(e){for(var t in e)e[t]&&(e[t]=Array.from(new Set(e[t])))};he(n);var be,ye={user:[],account:[],progress:[],reward:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[]};ye.profile=[];var xe=function(e,a){t[a]._id&&!n[e].includes(t[a]._id)&&(ye[a].push(t[a]._id),be=!0)},Ee=function(e){for(var a in t[e])n[e].includes(a)||(ye[e].push(a),be=!0)};return xe("account","account"),xe("account","profile"),xe("progress","progress"),xe("reward","reward"),Ee("post"),Ee("friendData"),Ee("rewardData"),Ee("progressData"),Ee("transactionData"),Ee("postData"),be&&e.removeData(ye),he(a),a},J=function(e,t,a,n){var r={user:[],account:[],progress:[],post:[],reward:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[]},o=function(n){for(var o in e[n])"undefined"!==typeof e[n][o]&&(a[n][o]?a[n][o]!==e[n][o]&&ae(n,[o],t):r[n].push(o))},i=function(n){for(var o in e[n])"undefined"!==typeof e[n][o]&&(a[n]._id===o?(a[n].__v!==e[n][o]&&ae(n,[o],t),a[n]._id||r[n].push(o)):r[n].push(o))};for(var l in e.user)"undefined"!==typeof e.user[l]&&(a.user._id===l?a.user.__v!==e.user[l]&&ae("user",[l],t):r.user.push(l));for(var c in e.account)"undefined"!==typeof e.account[c]&&(a.account._id===c&&a.account.__v!==e.account[c]&&ae("account",[c],t),a.profile._id===c&&(a.profile.__v!==e.account[c]&&ae("account",[c],t),a.account._id||r.account.push(c))),a.account._id!==c&&a.profile._id!==c&&r.account.push(c);if(i("progress"),i("reward"),o("post"),o("friendData"),o("progressData"),o("rewardData"),o("postData"),o("transactionData"),r.user.length>0||r.account.length>0||r.progress.length>0||r.post.length>0||r.friendData.length>0||r.progressData.length>0||r.postData.length>0||r.transactionData.length>0)return r},G=function(e){var t=e.store,a={user:{},account:{},progress:{},post:{},reward:{},transactionData:{},friendData:{},progressData:{},postData:{},rewardData:{}};t.user&&t.user._id&&(a.user[t.user._id]=t.user.__v),t.account._id&&(a.account[t.account._id]=t.account.__v),t.profile._id&&(a.account[t.profile._id]=t.profile.__v),t.progress._id&&(a.progress[t.progress._id]=t.progress.__v),t.reward._id&&(a.reward[t.reward._id]=t.reward.__v);var n=function(e){for(var n in t[e])"undefined"!==typeof t[e][n]&&t[e][n]._id&&(a[e][t[e][n]._id]=t[e][n].__v)};return n("post"),n("friendData"),n("postData"),n("progressData"),n("rewardData"),n("TransactionData"),a};function Q(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Z=!1,K=new w.a,$=["user","account","progress","reward","post","postData","progressData","friendData","transactionData","rewardData"],ee=function(e){function t(){var e,a;Object(B.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(W.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).state={user:[],account:[],progress:[],reward:[],post:[],friendData:[],progressData:[],postData:[],transactionData:[],rewardData:[]},a.start=function(){var e;Z=new WebSocket("wss://addspire.com");var t=function(t){var n;t&&(n=J(t,a.state,a.props.store,Z)),clearTimeout(e),e=setTimeout(function(){Z.close()},31e3),Z.send(JSON.stringify({messageCode:"heartbeat",notNeededResources:n}))};Z.onopen=function(e){var n=G(a.props);Z.send(JSON.stringify({messageCode:"auth",user:s.a.defaults.headers.common["x-auth-token"],resourcesToMonitor:n})),a.initializeRequestResources(a.props),t()},Z.onmessage=function(e){var n=JSON.parse(e.data);switch(n.messageCode){case"heartbeat":t(n.versions);break;case"logout":a.props.logout(),a.props.history.push("/logout");break;case"successMessage":S.b.success(n.messageText);break;case"errorMessage":S.b.error(n.messageText);break;case"friendsData":a.props.setFriendsData(n.friendsData);break;case"redirectToProgresses":a.props.history.push("/goals");break;case"addResource":a.props.saveResource(n.resources,n.type);break;case"updateResource":a.props.updateResource(n.code,n.id,n.update,a.state);break;case"friendSearchResult":a.props.setFriendSearchResult(n.data);break;case"goTo":a.props.history.push(n.messageText);break;case"authSuccess":s.a.defaults.headers.common["x-auth-token"]&&K.set("auth_token",s.a.defaults.headers.common["x-auth-token"],{path:"/",expires:new Date((new Date).getTime()+5184e5)});break;case"error":S.b.error(n.text)}},Z.onclose=function(t){clearTimeout(e)}},a.checkInterval=null,a.check=function(){Z&&3!==Z.readyState||(clearInterval(a.checkInterval),a.checkInterval=setInterval(a.check,5e3),a.start())},a.reRequestResourcesInterval=null,a.reRequestResources=function(){var e,t=Q($);try{for(t.s();!(e=t.n()).done;){var n=e.value;a.state[n].length>0&&Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"requestResource",ids:a.state[n],type:n}))}}catch(r){t.e(r)}finally{t.f()}},a.initializeRequestResources=function(e){var t,n=H(e),r=Q($);try{var o=function(){var e=t.value;n[e].length>0&&Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"requestResource",ids:n[e].filter(function(t){return!a.state[e].includes(t)}),type:e}))};for(r.s();!(t=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}a.setState(function(){return n}),clearInterval(a.reRequestResourcesInterval),a.reRequestResourcesInterval=setInterval(a.reRequestResources,3e3)},a}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.checkInterval),Z&&Z.close(),this.props.setConnectingToWS(!1)}},{key:"componentDidMount",value:function(){this.checkInterval=setInterval(this.check,50),this.props.setConnectingToWS(!0)}},{key:"render",value:function(){return null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,n=H(e),r=Q($);try{var o=function(){var e=a.value;n[e].length>0&&Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"requestResource",ids:n[e].filter(function(a){return!t[e].includes(a)}),type:e}))};for(r.s();!(a=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return n}}]),t}(n.Component),te=Object(b.g)(Object(u.b)(function(e){return{store:e}},function(e){return{setData:function(t,a){return e(I(t))},removeData:function(t){return e(function(e){return{type:"REMOVE_DATA",data:e}}(t))},saveResource:function(t,a){return e(function(e,t){return function(a,n){if(e.length>0){var r=n();switch(t){case"user":var o=e[0],i=o.currentAccount;i||(i=o.myAccount),a(I({user:o,currentAccount:i}));break;case"account":var l=e.find(function(e){return e._id===r.currentAccount});l&&a(I({account:l}));var c=e.find(function(e){return e._id===r.currentProfile});c&&a(I({profile:c}));break;case"progress":var s=e.find(function(e){return e._id===r.currentProgress});s&&a(I({progress:s}));break;case"post":var u,d={},p=P(e);try{for(p.s();!(u=p.n()).done;){var m=u.value;d[m._id]=m}}catch(F){p.e(F)}finally{p.f()}a(I({post:d}));break;case"reward":var f=e.find(function(e){return e._id===r.currentReward});f&&a(I({reward:f}));break;case"friendData":var g,h={},b=P(e);try{for(b.s();!(g=b.n()).done;){var y=g.value;h[y._id]=y}}catch(F){b.e(F)}finally{b.f()}a(I({friendData:h}));break;case"progressData":var x,E={},v=P(e);try{for(v.s();!(x=v.n()).done;){var w=x.value;E[w._id]=w}}catch(F){v.e(F)}finally{v.f()}a(I({progressData:E}));break;case"transactionData":var k,O={},j=P(e);try{for(j.s();!(k=j.n()).done;){var A=k.value;O[A._id]=A}}catch(F){j.e(F)}finally{j.f()}a(I({transactionData:O}));break;case"postData":var S,D={},C=P(e);try{for(C.s();!(S=C.n()).done;){var _=S.value;D[_._id]=_}}catch(F){C.e(F)}finally{C.f()}a(I({postData:D}));break;case"rewardData":var T,N={},z=P(e);try{for(z.s();!(T=z.n()).done;){var M=T.value;N[M._id]=M}}catch(F){z.e(F)}finally{z.f()}a(I({rewardData:N}))}}}}(t,a))},setFriendsData:function(t){return e(function(e){return{type:"SET_FRIENDS_DATA",data:e}}(t))},updateResource:function(t,a,n,r){return e(ce(t,a,n,r))},setFriendSearchResult:function(t){return e(M(t))},setConnectingToWS:function(t){return e(function(e){return{type:"SET_CONNECTING_WS",data:e}}(t))},logout:function(){return e(N())}}})(ee)),ae=function(e,t,a){var n=t.filter(function(t){return!a[e].includes(t)});Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"requestResource",ids:n,type:e}))},ne=a(290),re=a.n(ne);function oe(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ie(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var le=function(e,t,a){var n=re()(e);!function(e,t,a){var n=function e(t,a,n){a.length>1?e(t[a.shift()],a,n):"array"===typeof t?t.push(n):t[a[0]]=n};for(var r in t){var o=r.split(".");a&&!a.includes(o[0])||"undefined"!==typeof t[r]&&n(e,o,t[r])}}(n,t.updatedFields,a);var r,o=function e(t,a){a.length>1?e(t[a.shift()],a):"object"===typeof t?delete t[a[0]]:"array"===typeof t&&t.splice(a[0],1)},i=oe(t.removedFields);try{for(i.s();!(r=i.n()).done;){var l=r.value;if(l.indexOf(".")>-1){var c=l.split(".");a&&!a.includes(c[0])||o(n,c)}else delete n[l]}}catch(s){i.e(s)}finally{i.f()}return n},ce=function(e,t,a,n){return function(r,o){if(a&&t&&e){var i=o(),l=function(o){if(i[o]._id===t)if(i[o].__v===a.updatedFields.__v-1){var l=le(i[o],a);r(I(Object(R.a)({},o,l)))}else i[o].id&&ae(e,[t],n)},c=function(o,l){var c=Object(R.a)({},o,re()(i[o])),s=c[o][t];s&&(s.__v===a.updatedFields.__v-1?(c[o][t]=le(s,a,l),r(I(c))):ae(e,[t],n))};switch(e){case"user":l("user");break;case"account":l("account"),l("profile");break;case"progress":l("progress");break;case"reward":l("reward");break;case"post":r(I(c(e)));break;case"friendData":r(I(c(e,["name","image","notifications","__v"])));break;case"progressData":r(I(c(e,["owner","worker","goal","notifications","__v"])));break;case"rewardData":r(I(c(e,["name","owner","images","likes","__v"])));break;case"postData":r(I(c(e,["notifications","__v"])));break;case"transactionData":r(I(c(e)))}}}},se=function(e,t,a){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"changeLikesProgress",accountId:e,progressId:t,add:a}))},ue=function(e,t,a){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"changeLikesReward",accountId:e,rewardId:t,add:a}))},de=function(e,t,a,n){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:e,messageId:t,accountId:a,postId:n}))},pe=function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"followProgress",accountId:e,progressId:t}))},me=function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"unfollowProgress",accountId:e,progressId:t}))},fe=function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"followAccount",accountId:e,accountFollow:t}))},ge=function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"unfollowAccount",accountId:e,accountFollow:t}))},he=function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"addFriend",accountId:e,friendId:t}))},be=function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"acceptFriend",accountId:e,friendId:t}))},ye=function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"unfriend",accountId:e,friendId:t}))},xe=a(397),Ee=a(175),ve=function(e,t){return e?"https://websiter.s3.us-east-2.amazonaws.com/"+e+"/avatar?v="+(t||0):""},we=a(155),ke=Object(b.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,profile:e.profile,friendData:e.friendData,friendSearchResult:e.friendSearchResult}})(function(e){var t=e.account,a=e.profile,n=e.id,o=e.friendSearchResult,i=e.friendDataExp||e.friendData,c=function(e){return e===t._id?t:e===a._id?a:e===o._id?o:i[e]},s=function(t){var a=c(t)?c(t).name:t;return e.typography?r.a.createElement(we.a,{noWrap:!0},a):a},u=function(t){return c(t)?r.a.createElement("span",{key:t},r.a.createElement(Ee.a,{src:ve(t,c(t).image),size:e.size||(e.noClick?20:40),style:e.group||e.noName?{}:{margin:" 0 5px"}})):null};return e.onlyName?s(n):e.group?r.a.createElement("span",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(Ee.a.Group,{style:{margin:" 0 5px"}},e.ids.map(function(e){return u(e)}))):e.noClick?r.a.createElement(r.a.Fragment,null,!e.noAva&&u(n),!e.noName&&s(n)):e.span?r.a.createElement(l.b,{style:Object(O.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},!e.noAva&&u(n),!e.noName&&s(n)):e.inline?r.a.createElement(l.b,{style:Object(O.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},!e.noAva&&u(n),!e.noName&&s(n)):r.a.createElement(l.b,{onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},r.a.createElement(v.a,{type:"link",style:Object(O.a)({padding:"0px 5px",height:"auto"},e.style)},!e.noAva&&u(n),!e.noName&&s(n)))})),Oe=a(294),je=a(410),Ae=a(35),Se=a.n(Ae),De=a(407),Ce=a(826),_e=a(886),Te=a(832),Ne=a(898),Ie=a(783),ze=a(833),Me=a(834),Pe=a(835),Fe=a(831),Re=a(836),Be=a(823),Le=a(837),We=a(253),Ye=a(255),Ue=a(256),Ve=a(254),Xe=a(825),He=a(194),Je=a(820),Ge=a(895),Qe=a(417),qe=a(821),Ze=a(822),Ke=a(884),$e=a(824),et=a(139),tt=Object(Je.a)(function(e){return Object(Ge.a)({title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600},addBox:{color:e.palette.primary.main,display:"flex",alignItems:"center"}})}),at=function(e){var t=tt();return e.items.length>0||e.empty||e.customEmpty||e.withAdd?r.a.createElement(r.a.Fragment,null,e.title&&r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},e.title),r.a.createElement(Qe.a,{style:{padding:"15px",display:"flex",overflowX:"auto",paddingBottom:"10px"}},0===e.items.length&&e.empty?e.customEmpty||r.a.createElement(et.a,null):r.a.createElement(r.a.Fragment,null,e.withAdd&&r.a.createElement(qe.a,{style:{borderRadius:"15px",cursor:"pointer",flexShrink:0,width:"100px",marginRight:"10px",position:"relative",minHeight:"160px"}},r.a.createElement(Ze.a,{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return e.onAdd()}},r.a.createElement(Be.a,{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"5px"}},r.a.createElement(Ke.a,{style:{flexDirection:"column"},className:t.addBox},r.a.createElement($e.a,null),r.a.createElement(Ke.a,{style:{textAlign:"center"}},e.addTitle||"Add"))))),e.items.map(function(t,a){return r.a.createElement(qe.a,{style:{borderRadius:"15px",cursor:"pointer",flexShrink:0,width:"100px",marginRight:"10px",position:"relative"}},e.content(t,a))}),r.a.createElement(Ke.a,{style:{width:"10px",flexShrink:0}})))):null},nt=["https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg"],rt=function(e){if(!e)return 0;var t=e.match(/\d+$/),a=t&&t.length>0?parseInt(t[0]):0;return Math.abs(Math.round(function(e){for(e=Math.abs(e);e>1;)e/=10;return e}(a)*(nt.length-1)))},ot=Object(b.g)(function(e){var t=e.images||[],a=e.friends?null:r.a.createElement("img",{style:Object(O.a)({maxWidth:"100%",margin:"auto",display:"block",borderRadius:"15px",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)"},e.style),src:t.length>0?t[0]:nt[rt(e.id)]});return e.noLink?r.a.createElement(r.a.Fragment,null,a,r.a.createElement("div",{style:{padding:"5px 0px",wordBreak:"break-word",display:"flex",alignItems:"center"}},r.a.createElement(Ke.a,{style:{flex:1}},e.body),e.actions&&r.a.createElement("div",{style:{marginLeft:"10px"}},e.actions))):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:e.onClickLink,style:{cursor:"pointer"}},a),r.a.createElement("div",{style:{padding:"5px 0px",wordBreak:"break-word",display:"flex",alignItems:"center"}},r.a.createElement(l.b,{to:e.onClickLink,style:{cursor:"pointer",flex:1}},e.body),e.actions&&r.a.createElement("div",{style:{marginLeft:"10px"}},e.actions)))});Se()().format();var it=Object(De.a)({palette:{primary:{main:We.a[600]}},overrides:{MuiSelect:{selectMenu:{color:We.a[600]},select:{"&:focus":{backgroundColor:Object(He.fade)(We.a[600],.05)}}}}}),lt=Object(De.a)({palette:{primary:{main:Ye.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Ye.a[600]},select:{"&:focus":{backgroundColor:Object(He.fade)(Ye.a[600],.05)}}}}}),ct=Object(De.a)({palette:{primary:{main:Ue.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Ue.a[600]},select:{"&:focus":{backgroundColor:Object(He.fade)(Ue.a[600],.05)}}}}}),st=Object(De.a)({palette:{primary:{main:Ve.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Ve.a[600]},select:{"&:focus":{backgroundColor:Object(He.fade)(Ve.a[600],.05)}}}}}),ut=Object(De.a)({palette:{primary:{main:Xe.a[500]}},overrides:{MuiListItem:{secondaryAction:{paddingRight:"133px",paddingLeft:0}}}}),dt=Object(b.g)(Object(u.b)(function(e){return{rewardData:e.rewardData}})(function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1],c=e.progress,s=e.account,u=e.rewardData,d=s&&s._id===c.owner,p=c.stages.slice(Math.max(c.stages.length-7,0)).sort(function(e,t){var a,n,r,o;if(e.old&&!t.old)return 1;if(t.old&&!e.old)return-1;if(e.day?(a=Se()().year(e.year).dayOfYear(e.day).startOf("day"),n=Se()().year(e.year).dayOfYear(e.day).endOf("day"),r=Se()().year(t.year).dayOfYear(t.day).startOf("day"),o=Se()().year(t.year).dayOfYear(t.day).endOf("day")):e.week?(a=Se()().year(e.year).week(e.week).startOf("week"),n=Se()().year(e.year).week(e.week).endOf("week"),r=Se()().year(t.year).week(t.week).startOf("week"),o=Se()().year(t.year).week(t.week).endOf("week")):e.month?(a=Se()().year(e.year).month(e.month).startOf("month"),n=Se()().year(e.year).month(e.month).endOf("month"),r=Se()().year(t.year).month(t.month).startOf("month"),o=Se()().year(t.year).month(t.month).endOf("month")):e.year&&(a=Se()().year(e.year).startOf("year"),n=Se()().year(e.year).endOf("year"),r=Se()().year(t.year).startOf("year"),o=Se()().year(t.year).endOf("year")),a){var i=Se()();return Math.min(Math.abs(i.diff(a)),Math.abs(i.diff(n)))<=Math.min(Math.abs(i.diff(r)),Math.abs(i.diff(o)))?-1:1}return 0}),m=p.length>0?p[0].stageId:0;return 0===(p=c.stages).length?null:r.a.createElement(Ce.a,{theme:ut},r.a.createElement(Oe.a,{type:"card",defaultActiveKey:m?p.findIndex(function(e){return e.stageId===m}).toString():"2"},p.map(function(e,t){var a,n=function(t){return d&&e.dismissed?"dismissed":e.failBy.find(function(e){return e.accountId===t})?"fail":e.approvedBy.find(function(e){return e.accountId===t})?"complete":"process"},p=function(e){switch(n(e)){case"fail":return"Failed";case"complete":return"Complete";case"dismissed":return"Dismissed";default:return"In process"}},m=s&&s._id&&n(s._id),f=n(c.owner),g=function(t){return t===s._id?r.a.createElement(_e.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:function(t){return a=t.target.value,n=s._id,r=c._id,o=e.stageId,void(Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"changeStage",value:a,progressId:r,accountId:n,stageId:o})));var a,n,r,o}},r.a.createElement(Te.a,{value:"complete"},"Complete"),r.a.createElement(Te.a,{value:"process"},"In process"),r.a.createElement(Te.a,{value:"fail"},"Fail"),r.a.createElement(Te.a,{value:"dismissed"},"Dismissed")):r.a.createElement(Ne.a,{color:"primary",label:p(t)})},h=c.users.filter(function(e){return e!==c.owner}).map(function(e){var t=n(e);return r.a.createElement(Ie.a,null,r.a.createElement(ze.a,null,r.a.createElement(ke,{noName:!0,id:e})),r.a.createElement(Me.a,{primary:r.a.createElement(ke,{id:e,noAva:!0,span:!0,onlyName:!0})}),r.a.createElement(Pe.a,null,r.a.createElement(Ce.a,{theme:"process"===t?lt:"complete"===t?ct:"fail"===t?it:st},g(e))))}),b=[r.a.createElement(Ie.a,null,r.a.createElement(ze.a,null,r.a.createElement(ke,{noName:!0,id:c.owner})),r.a.createElement(Me.a,{primary:r.a.createElement(we.a,{noWrap:!0,variant:"body2"},r.a.createElement(ke,{id:c.owner,noAva:!0,span:!0,onlyName:!0}))}),r.a.createElement(Pe.a,null,r.a.createElement(Ce.a,{theme:"process"===f?lt:"complete"===f?ct:"fail"===f?it:st},g(c.owner))))],y=r.a.createElement("div",null,"One time goal");return e.day?(a=Se()().year(e.year).dayOfYear(e.day),y=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,a.format("dddd")),r.a.createElement("div",null,a.format("D MMM YY")))):e.week?(a=Se()().year(e.year).week(e.week),y=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,a.format("wo")," week"),r.a.createElement("div",null,a.startOf("week").format("D MMM YY")),r.a.createElement("div",null,a.endOf("week").format("D MMM YY")))):e.month?(a=Se()().year(e.year).month(e.month),y=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,a.format("MMMM")),r.a.createElement("div",null,a.format("YYYY")))):e.year&&(a=Se()().year(e.year),y=r.a.createElement("div",null,a.format("YYYY"))),r.a.createElement(Oe.a.TabPane,{tab:r.a.createElement(je.a,{color:"complete"===f?"green":"dismissed"===f?"orange":"fail"===f?"volcano":"blue"},r.a.createElement("span",{style:{fontSize:"12px",textTransform:"uppercase",textAlign:"center"}},y)),key:t},r.a.createElement(Fe.a,{dense:!0},b,h),e.paid.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{onClick:function(){return i(!o)},color:"primary",style:{}},(o?"Hide":"Show")+" earned rewards"),o&&r.a.createElement(at,{items:e.paid.map(function(e){return u[e]}).filter(function(e){return e}),content:function(e){return r.a.createElement(Be.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(l.b,{to:"/rewards/"+e._id},r.a.createElement(Le.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:nt[rt(e._id)],title:e.name}),r.a.createElement(Be.a,{style:{padding:"5px"}},r.a.createElement(we.a,{variant:"body2",noWrap:!0},e.name))))}})))})))})),pt=a(892),mt=a(838),ft=a(840),gt=a(784),ht=a(839),bt=a(841),yt=a(842),xt=a(843),Et=a(827),vt=a(844),wt=a(151),kt=a(166),Ot=a(161),jt=a.n(Ot),At=function(e,t,a,n){if(null==e)return alert("No file selected.");var r=new FileReader;r.onload=function(){var r=Object(h.a)(g.a.mark(function r(o){return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:Dt(e,{width:t,height:t},function(e){e?St(e,"/120").then(function(e){_t(e,a,n)}):n()});case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),r.readAsArrayBuffer(e)},St=function(e,t,a){return a=a||(e.match(/^data:([^;]+);/)||"")[1],fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return new File([e],t,{type:"image/jpeg"})})},Dt=function(e,t,a){if(e){var n=new FileReader;n.onload=function(e){Ct(e.target.result,t,a)},n.readAsDataURL(e)}},Ct=function(e,t,a){try{var n,r=new Image;r.onload=function(){var e=r.width/t.width,o=r.height/t.height,i=document.createElement("canvas"),l=i.getContext("2d");i.width=r.width,i.height=r.height,l.drawImage(r,0,0),(e>1||o>1)&&(r.width>r.height?(i.height=r.height/r.width*t.width,i.width=t.width):(i.width=r.width/r.height*t.width,i.height=t.width)),l.drawImage(i,0,0,i.width,i.height),l.drawImage(r,0,0,i.width,i.height),n=i.toDataURL("image/jpeg",.6),a(n)},r.onerror=function(){a()},r.src=e}catch(o){}},_t=function(e,t,a){return s.a.post("/api/sign-s3",{fileName:t}).then(function(t){Tt(e,t.data,a)}).catch(function(e){})},Tt=function(e,t,a){return s.a.put(t.signedRequest,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){a(t.url),S.b.success("The image has been saved.")}).catch(function(e){})},Nt=function(e){var t=Object(n.useState)(e.images||[]),a=Object(j.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(),c=Object(j.a)(l,2),s=c[0],u=c[1];return Object(n.useEffect)(function(){e.onValueChange(o)},[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{accept:"image/*",listType:"picture-card",fileList:o.map(function(e,t){return{url:e,uid:t}}),onPreview:function(e){u(e.url)},onChange:function(e){var t=e.fileList;return i(t.map(function(e){return e.url}))},customRequest:function(e){var t=e.file;At(t,800,void 0,function(e){i(e?[].concat(Object(k.a)(o),[e]):Object(k.a)(o))})}},o.length>=8?null:r.a.createElement("div",{style:{flex:1,display:"flex",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},onClick:function(e){window.isRNWebView&&(e.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(e){i([].concat(Object(k.a)(o),[e]))})}},r.a.createElement(jt.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload"))),r.a.createElement(pt.a,{open:Boolean(s),onClose:function(){return u()}},r.a.createElement(mt.a,{id:"scroll-dialog-title"},"Preview image"),r.a.createElement(ht.a,{dividers:!0},r.a.createElement("img",{src:s,style:{width:"100%"}})),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){return u()},color:"primary"},"Close"))))},It=a(382),zt=a(164),Mt=(a(737),a(383)),Pt=a.n(Mt),Ft=function(e){var t;if("string"===typeof e.value){var a=Pt()(e.value),n=a.contentBlocks,o=a.entityMap;t=zt.ContentState.createFromBlockArray(n,o),t=Object(zt.convertToRaw)(t)}else t=e.value;return r.a.createElement(It.Editor,Object.assign({placeholder:"Add some text",readOnly:e.readOnly,wrapperClassName:"demo-wrapper"},e.readOnly?{contentState:t}:{editorClassName:"demo-editor"},{defaultContentState:t,onContentStateChange:function(t){e.onEditorChange&&e.onEditorChange(t),e.onEditorChangePlain&&e.onEditorChangePlain(Object(zt.convertFromRaw)(t).getPlainText(" "))},toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0}},toolbarHidden:e.readOnly,options:!e.readOnly&&["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","emoji","remove","history"]}))},Rt=200,Bt=1e4,Lt=1e4,Wt=[{required:!0,message:"Nickname is too short. Minimal length is 2.",whitespace:!0,min:2},{message:"Nickname is too long. Miximum length is ".concat(Rt,"."),whitespace:!0,max:Rt},{pattern:/^[a-zA-Z0-9_-]*$/,message:"Nickname should contain only letters, numbers, '-' and '_'."}],Yt=[{required:!0,min:1,whitespace:!0,message:"Name is too short. Minimal length is 1."},{max:Rt,message:"Name is too long. Miximum length is ".concat(Rt,".")}],Ut=[{required:!0,min:2,whitespace:!0,message:"Name is too short. Minimal length is 2."},{max:Rt,message:"Name is too long. Miximum length is ".concat(Rt,".")}],Vt=("Description is too long. Miximum length is ".concat(Bt,"."),"Message is too long. Miximum length is ".concat(Lt,"."),function(e){return r.a.createElement(bt.a,Object.assign({direction:"left"},e))}),Xt=Object(Je.a)(function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}}}),Ht={labelCol:{span:4},wrapperCol:{span:20}},Jt=Object(u.b)(function(e){return{account:e.account}})(function(e){var t=Xt(),a=Object(n.useState)(e.reward||{images:[]}),o=Object(j.a)(a,2),i=o[0],l=o[1];Object(n.useEffect)(function(){l(e.reward||{images:[]})},e.open);var c=e.wish;return r.a.createElement(pt.a,{fullScreen:!0,open:e.open,onClose:e.close,TransitionComponent:Vt},e.open&&r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{className:t.appBar,color:"primary"},r.a.createElement(xt.a,null,r.a.createElement(gt.a,{edge:"start",color:"inherit",onClick:e.close,"aria-label":"close"},r.a.createElement(vt.a,null)),r.a.createElement(we.a,{variant:"h6",className:t.title,color:"inherit"},(e.reward?"Edit ":"Add new ")+(c?"item":"reward")),r.a.createElement(Re.a,{autoFocus:!0,color:"inherit",onClick:function(){!function(e,t,a){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"saveReward",accountId:e,reward:t,wish:a}))}(e.account._id,i,c),e.close()}},"Save"))),r.a.createElement(xt.a,null),r.a.createElement(wt.a,Object.assign({style:{maxWidth:"1200px",margin:"0 auto",padding:"15px",width:"100%"},name:"new_reward"},Ht),r.a.createElement(wt.a.Item,{name:"images",label:"Images"},r.a.createElement(Nt,{images:i.images,onValueChange:function(e){return l(Object(O.a)({},i,{images:e}))}})),r.a.createElement(wt.a.Item,{label:"Name",rules:Yt},r.a.createElement(Et.a,{fullWidth:!0,value:i.name,onChange:function(e){var t=e.target.value;return l(Object(O.a)({},i,{name:t}))}})),r.a.createElement(wt.a.Item,{label:"Description"},r.a.createElement(Ft,{value:i.description,onEditorChange:function(e){l(function(t){return Object(O.a)({},t,{description:e})})},onEditorChangePlain:function(e){return l(function(t){return Object(O.a)({},t,{descriptionText:e})})}})))))}),Gt=a(887),Qt=Object(Je.a)({text:{"&>div::after":{border:"none"},"&>div::before":{border:"none !important"},"& textarea":{fontSize:"14px"}}}),qt=Object(b.g)(function(e){var t=Qt(),a=Object(n.useState)(""),o=Object(j.a)(a,2),i=(o[0],o[1],Object(n.useState)(!1)),l=Object(j.a)(i,2),c=(l[0],l[1]),s=Object(n.useState)(e.images||[]),u=Object(j.a)(s,2),d=u[0],p=u[1],m=e.post,f=e.account,g=Object(n.useState)(e.content||(e.replyToUser?"@"+e.replyToUser+" ":"")),h=Object(j.a)(g,2),b=h[0],y=h[1];Object(n.useEffect)(function(){y(e.content||(e.replyToUser?"@"+e.replyToUser+" ":""))},[e.replyToUser,e.content]);return m&&f._id?r.a.createElement(Ke.a,{style:{display:"flex",width:"100%",margin:"10px 0px"}},r.a.createElement(Ke.a,{style:{marginRight:"10px"}},r.a.createElement(ke,{noName:!0,id:f._id,span:!0,size:e.isTop?36:25})),r.a.createElement(Ke.a,{style:{flex:1}},r.a.createElement(Ke.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px"}},r.a.createElement(Gt.a,{multiline:!0,value:b,onChange:function(e){return y(e.target.value)},margin:"dense",placeholder:"Add a comment",className:t.text,fullWidth:!0}),d.length>0&&r.a.createElement(Nt,{images:d,onValueChange:function(e){return p(e)}}),r.a.createElement(Re.a,{onClick:function(){var t,a,n,r,o,i;t=f._id,a=m._id,n=b,r=d,o=e.replyTo,i=e.editingMessage,Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"sendMessage",messageValue:n,image:r,postId:a,accountId:t,replyToMessage:o,editedMessage:i})),y(""),p([]),e.onSend&&e.onSend()}},r.a.createElement("span",{style:ma},"Send")),r.a.createElement(kt.a,{accept:"image/*",showUploadList:!1,customRequest:function(e){var t=e.file;d.length>8?message.warning("You can not attach more than 8 images."):(c(!0),At(t,800,void 0,function(e){c(!1),p(e?[].concat(Object(k.a)(d),[e]):Object(k.a)(d))}))}},r.a.createElement(Re.a,{onClick:function(e){window.isRNWebView&&(e.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(e){c(!1),p([].concat(Object(k.a)(d),[e]))})}},r.a.createElement("span",{style:ma},"Image"))),e.cancel&&r.a.createElement(Re.a,{onClick:e.cancel},r.a.createElement("span",{style:ma},"Cancel"))))):null}),Zt=a(385),Kt=a(384),$t=a.n(Kt),ea=a(93),ta=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1];return e.images&&e.images.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt.a,{style:{width:e.size||"auto",margin:"10px 0"},dots:{className:$t.a.Dots},autoplay:!0},e.images.map(function(t,a){return t&&r.a.createElement("div",{key:a,onClick:function(){return i(t)}},r.a.createElement("div",{style:{backgroundImage:'url("'+t+'")',backgroundSize:e.type||"contain",backgroundPosition:"center",width:e.size||"100%",height:e.height||e.size||"300px",maxWidth:"800px",backgroundRepeat:"no-repeat",borderRadius:"20px",margin:"auto"}}))})),r.a.createElement(ea.a,{visible:o,footer:null,onCancel:function(){return i("")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o}))):null},aa=a(415),na=a(846),ra=function(e){return r.a.createElement(bt.a,Object.assign({direction:"up"},e))},oa=Object(Je.a)(function(e){return Object(Ge.a)({appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),ia=function(e){var t=oa();return r.a.createElement(pt.a,{fullScreen:!0,open:e.open,onClose:e.close,TransitionComponent:ra},r.a.createElement(yt.a,{className:t.appBar,color:"primary"},r.a.createElement(xt.a,null,r.a.createElement(gt.a,{edge:"start",color:"inherit",onClick:e.close,"aria-label":"close"},r.a.createElement(vt.a,null)),r.a.createElement(we.a,{variant:"h6",className:t.title,color:"inherit"},e.title),e.save&&r.a.createElement(Re.a,{autoFocus:!0,color:"inherit",onClick:e.save},e.saveText||"Save"))),r.a.createElement(xt.a,null),e.children)},la=function(e){var t=e.account,a=e.type,n=e.id;return t&&t._id&&t._id!==n?"progress"===a?t.followProgresses.includes(n)?r.a.createElement(Re.a,{variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),me(t._id,n)}},"Unfollow"):r.a.createElement(Re.a,{color:"primary",variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),pe(t._id,n)}},"Follow"):t.followAccounts.includes(n)?r.a.createElement(Re.a,{variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),ge(t._id,n)}},"Unfollow"):r.a.createElement(Re.a,{color:"primary",variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),fe(t._id,n)}},"Follow"):null},ca=a(845),sa=a(847),ua=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(j.a)(l,2),s=c[0],u=c[1],d=Object(n.useRef)(null);return Object(n.useEffect)(function(){d.current&&d.current.offsetHeight>e.initialHeight&&i(!0)},[d.current&&d.current.offsetHeight,e.content,e.contentEditor]),r.a.createElement("div",{style:{maxHeight:s?"initial":e.initialHeight+"px",overflow:"hidden",position:"relative",paddingBottom:o&&s?"50px":"0px"}},e.content&&r.a.createElement("div",{ref:d,dangerouslySetInnerHTML:{__html:e.content}}),e.contentEditor&&r.a.createElement("div",{ref:d},r.a.createElement(Ft,{readOnly:!0,value:e.contentEditor})),o&&r.a.createElement("div",{style:{position:"absolute",bottom:0,width:"100%"}},r.a.createElement("div",{style:{transition:"opacity 0.25s",opacity:s?0:1,backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 1), #ffffff )",content:"",height:"50px",width:"100%",bottom:"0",left:"0",position:"absolute"}}),r.a.createElement(Re.a,{color:"primary",onClick:function(){return u(!s)}},s?"Read Less":"Read More")))},da=Object(Je.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),pa=function(e){var t=da(),a=Object(n.useState)(e.images||[]),o=Object(j.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(e.content||""),s=Object(j.a)(c,2),u=s[0],d=s[1];Object(n.useEffect)(function(){l(e.images||[]),d(e.content||"")},[e.open]);var p=function(){e.save(i,u),m()},m=function(){l([]),d(""),e.cancel()};return r.a.createElement(ia,{open:e.open,close:m,title:e.title,save:p},r.a.createElement(Ke.a,{style:{padding:"0 16px",maxWidth:"1200px",margin:"0 auto",width:"100%"}},r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Description"),r.a.createElement(Ke.a,null,r.a.createElement(Ft,{value:u,onEditorChange:function(e){return d(e)}})),r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Images"),r.a.createElement(Nt,{images:i,onValueChange:function(e){return l(e)}}),r.a.createElement(Ke.a,{style:{textAlign:"right",marginTop:"50px"}},r.a.createElement(Re.a,{size:"large",onClick:m},"Cancel"),r.a.createElement(Re.a,{color:"primary",variant:"contained",size:"large",style:{marginLeft:"10px",marginRight:"50px"},onClick:p},"Save"))))};Se.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s",s:"now",ss:"now",m:"1 min",mm:"%d mins",h:"1 hr",hh:"%d hrs",d:"1 day",dd:"%d days",w:"1 wk",ww:"%d wks",M:"1 mth",MM:"%d mths",y:"a year",yy:"%d years"}}),Se()().format();var ma={fontSize:"12px",color:"#666",textTransform:"none"},fa=Object(b.g)(function e(t){var a=t.account,o=t.message,i=t.friendData,l=(t.progressData,t.post),c=t.replies,s=t.isStart,u=Object(n.useState)(!1),d=Object(j.a)(u,2),p=d[0],m=d[1],f=Object(n.useState)(null),g=Object(j.a)(f,2),h=g[0],b=g[1],y=Object(n.useState)(""),x=Object(j.a)(y,2),E=x[0],v=x[1],w=Object(n.useState)(""),k=Object(j.a)(w,2),A=k[0],S=k[1],D=Object(n.useState)(!1),C=Object(j.a)(D,2),_=C[0],T=C[1],N=Object(n.useState)(null),I=Object(j.a)(N,2),z=I[0],M=I[1],P=Object(n.useState)(!1),F=Object(j.a)(P,2),R=F[0],B=F[1],L=function(){B(!1)};return a&&i?r.a.createElement(r.a.Fragment,null,a._id===o.author&&A?r.a.createElement(qt,{post:l,account:a,replyTo:o.messageId,editingMessage:A,content:o.text,images:o.image,onSend:function(){return S("")},cancel:function(){return S("")}}):r.a.createElement(r.a.Fragment,null,t.isStart?r.a.createElement(Ke.a,{style:{display:"flex",width:"100%",margin:"10px 0px"}},r.a.createElement(Ke.a,{style:{marginRight:"10px"}},r.a.createElement(ke,{noName:!0,id:o.author,span:!0})),r.a.createElement(Ke.a,{style:{flex:1}},r.a.createElement("span",{style:{color:"#333",fontWeight:"bold",fontSize:"14px"}},r.a.createElement(ke,{id:o.author,span:!0,noAva:!0})," ",r.a.createElement("div",{style:ma,onClick:function(){return t.history.push("progress"===l.parent.parentType&&"/goals/"+l.parent.parentId+"/post/"+l._id)}},Se()(o.date).fromNow()),l.startMessage&&["wishlist","perk","goal"].includes(l.startMessage.messageType)&&r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return t.history.push("/profile/"+o.author)}},"wishlist"===l.startMessage.messageType?"Wishlist":"goals"===l.startMessage.messageType?"Goals":"Shop"))),a._id===o.author&&r.a.createElement(Ke.a,null,r.a.createElement(gt.a,{onClick:function(e){return M(e.currentTarget)}},r.a.createElement(ca.a,null)),r.a.createElement(aa.a,{id:"simple-menu",anchorEl:z,keepMounted:!0,open:Boolean(z),onClose:function(){return M(null)}},r.a.createElement(Te.a,{onClick:function(){B(!0),M(null)}},"Edit")),r.a.createElement(pa,{open:R,cancel:L,title:"Edit post",save:function(e,n){!function(e,t,a,n){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"editPost",accountId:e,postId:t,messageValue:a,images:n}))}(a._id,l._id,n,e),t.onSend&&t.onSend(),L()},images:o.image,content:o.text}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{style:{display:"flex",width:"100%"}},r.a.createElement(Ke.a,{style:{marginRight:"10px"}},r.a.createElement(ke,{noName:!0,id:o.author,span:!0,size:t.isTop?36:25})),r.a.createElement(Ke.a,{style:{flex:1}},r.a.createElement(na.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circle",badgeContent:o.likes.length?r.a.createElement(Ne.a,{icon:r.a.createElement(sa.a,null),color:"primary",label:o.likes.length,size:"small",onClick:function(){return b(o.likes)}}):0},r.a.createElement(Ke.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px"}},r.a.createElement(ke,{id:o.author,span:!0,noAva:!0}),o.image&&o.image.length>0&&r.a.createElement(ta,{images:o.image,height:"60vmin",type:"contain"}),o.text&&r.a.createElement("p",{style:{wordBreak:"break-word"}},o.text))),r.a.createElement(Ke.a,null,r.a.createElement("span",{style:Object(O.a)({},ma,{marginRight:"15px"})},Se()(o.date).fromNow()),r.a.createElement(Re.a,{onClick:function(){return de(o.likes.includes(a._id)?"dislikeMessage":"likeMessage",o.messageId,a._id,l._id)}},r.a.createElement("span",{style:ma},o.likes.includes(a._id)?"Unlike":"Like")),o.author!==a._id&&r.a.createElement(Re.a,{onClick:function(){t.setReplyVisible?(t.setReplyVisible(!0),t.setReplyToUser(t.message.author)):(m(!0),v("")),T(!0)}},r.a.createElement("span",{style:ma},"Reply")),o.author===a._id&&r.a.createElement(Re.a,{onClick:function(){return S(o.messageId)}},r.a.createElement("span",{style:ma},"Edit"))),t.isTop&&c&&c.length>0?_?c.map(function(t,n){return r.a.createElement(e,{key:n,message:t,post:l,account:a,friendData:i,setReplyVisible:m,setReplyToUser:v})}):r.a.createElement(Re.a,{onClick:function(){return T(!0)}},r.a.createElement("span",{style:Object(O.a)({},ma,{fontSize:"15px"})},"Show ",c.length," ","replies")):null,t.isTop&&p?r.a.createElement(qt,{post:l,account:a,replyTo:o.messageId,replyToUser:E,cancel:function(){return m(!1)}}):null))),s?r.a.createElement(r.a.Fragment,null,"wishlist"===o.messageType&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{style:{fontWeight:"bold",cursor:"pointer",margin:"10px 0px 0px "},onClick:function(){return t.history.push("/wishlist/".concat(o.details.owner,"/").concat(o.details.itemId))}},o.details.name)),o.text&&r.a.createElement(ua,{initialHeight:700,contentEditor:o.text}),o.image&&o.image.length>0&&r.a.createElement(ta,{images:o.image,height:"60vmin",type:"contain"})):r.a.createElement(r.a.Fragment,null)),r.a.createElement(ia,{open:Boolean(h),close:function(){return b(null)},title:"Message likes"},h&&h.map(function(e){return r.a.createElement(ot,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(la,{account:a,id:e}),body:r.a.createElement(ke,{span:!0,id:e,size:50})})}))):null}),ga=a(864),ha=a(865),ba=a(866),ya=a(787),xa=a(893),Ea=a(848),va=a(863),wa=a(849),ka=a(850),Oa=a(851),ja=a(852),Aa=a(853),Sa=a(854),Da=a(855),Ca=a(856),_a=a(857),Ta=a(858),Na=a(859),Ia=a(860),za=a(861),Ma=a(862),Pa=a(388),Fa=a(885),Ra=Object(b.g)(function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(j.a)(l,2),s=c[0],u=c[1],d={url:e.link||window.location.href,title:e.title,media:e.media||"https://addspire.com/logo.jpg",style:{margin:"10px",display:"inline-block",textAlign:"center",cursor:"pointer"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ya.a,{title:"Share",enterDelay:500,leaveDelay:200},e.post?r.a.createElement(Re.a,{onClick:function(){return u(!0)},startIcon:r.a.createElement(Ea.a,null)},r.a.createElement("span",{style:ma},"Share")):r.a.createElement(gt.a,{style:e.style,onClick:function(){return u(!0)}},r.a.createElement(Ea.a,null))),r.a.createElement(pt.a,{open:s,onClose:function(){return u(!1)}},r.a.createElement(mt.a,null,"Share to:"),r.a.createElement(ht.a,null,r.a.createElement(ht.a,null,r.a.createElement(wa.a,Object.assign({},d,{quote:e.title}),r.a.createElement(ka.a,{size:32,round:!0}),r.a.createElement(Ke.a,null,"Facebook")),r.a.createElement(Oa.a,d,r.a.createElement(ja.a,{size:32,round:!0}),r.a.createElement(Ke.a,null,"Twitter")),r.a.createElement(Aa.a,d,r.a.createElement(Sa.a,{size:32,round:!0}),r.a.createElement(Ke.a,null,"Telegram")),r.a.createElement(Da.a,d,r.a.createElement(Ca.a,{size:32,round:!0}),r.a.createElement(Ke.a,null,"Pinterest")),r.a.createElement(_a.a,d,r.a.createElement(Ta.a,{size:32,round:!0}),r.a.createElement(Ke.a,null,"LinkedIn")),r.a.createElement(Na.a,Object.assign({},d,{image:e.media}),r.a.createElement(Ia.a,{size:32,round:!0}),r.a.createElement(Ke.a,null,"VK")),r.a.createElement(za.a,Object.assign({},d,{subject:e.title,body:"body"}),r.a.createElement(Ma.a,{size:32,round:!0}),r.a.createElement(Ke.a,null,"Email")),r.a.createElement(Pa.CopyToClipboard,Object.assign({text:d.url},d,{onCopy:function(){return i(!0)}}),r.a.createElement(Ke.a,null,r.a.createElement(va.a,{style:{fontSize:32}}),r.a.createElement(Ke.a,null,"Copy url"))))),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){return u(!1)}},"Close"))),r.a.createElement(xa.a,{open:o,autoHideDuration:2e3,onClose:function(){return i(!1)}},r.a.createElement(Fa.a,{onClose:function(){return i(!1)},severity:"success"},"Url is copied to the clipboard!")))});function Ba(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return La(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return La(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Wa=Object(Je.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),Ya=Object(b.g)(function(e){var t=Wa(),a=e.post,o=e.account,i=e.friendData,l=e.progressData,c=e.history.location.pathname.indexOf(a._id)>-1,s=Object(n.useState)(e.showReplies||c),u=Object(j.a)(s,2),d=u[0],p=u[1],m=Object(n.useState)(null),f=Object(j.a)(m,2),g=f[0],h=f[1],b=Object(n.useRef)(null);return Object(n.useEffect)(function(){c&&b.current&&(window.scrollTo({top:b.current.offsetTop-70,behavior:"smooth"}),p(!0))},[c]),a?r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Main post"),r.a.createElement(qe.a,{elevation:c&&3},r.a.createElement(Be.a,{ref:b},!e.noStartMessage&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fa,{message:a.startMessage,post:a,account:o,friendData:i,progressData:l,replies:[],isStart:!0}),a.startMessage.likes.length>0&&r.a.createElement(Ne.a,{icon:r.a.createElement(sa.a,null),color:"primary",label:a.startMessage.likes.length,size:"small",onClick:function(){return h(a.startMessage.likes)},style:{marginBottom:"10px"}}),r.a.createElement(ga.a,null)),r.a.createElement("div",{style:{textAlign:"left",position:"relative"}},!e.noPostControls&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(Re.a,{onClick:function(){return de(a.startMessage.likes.includes(o._id)?"dislikeMessage":"likeMessage",a.startMessage.messageId,o._id,a._id)},startIcon:r.a.createElement(ha.a,null)},r.a.createElement("span",{style:ma},a.startMessage.likes.includes(o._id)?"Unlike":"Like"))),r.a.createElement("span",null,r.a.createElement(Re.a,{onClick:function(){return p(!0)},startIcon:r.a.createElement(ba.a,null)},r.a.createElement("span",{style:ma},"Comment"))),r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(Ra,{post:!0,link:"progress"===a.parent.parentType&&"https://addspire.com/goals/"+a.parent.parentId+"/post/"+a._id,media:a.startMessage.image&&a.startMessage.image.length>0&&a.startMessage.image[0],title:"Post in goal on Addspire.com - a social network for sharing and supporting promises and resolutions."}))),r.a.createElement(ga.a,null)),d?r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,{post:a,account:o,isTop:!0}),a.messages&&a.messages.length?a.messages.map(function(e,t){return r.a.createElement(fa,{key:t,message:e,post:a,account:o,friendData:i,replies:e.replies,isTop:!0})}):null):a.messages.length>0&&r.a.createElement(Re.a,{onClick:function(){return p(!0)}},r.a.createElement("span",{style:Object(O.a)({},ma,{fontSize:"15px"})},"Show"," ",function(e){var t,a=0,n=Ba(e);try{for(n.s();!(t=n.n()).done;)a=a+1+t.value.replies.length}catch(r){n.e(r)}finally{n.f()}return a}(a.messages)," ","comments"))))),r.a.createElement(ia,{open:Boolean(g),close:function(){return h(null)},title:"Message likes"},g&&g.map(function(e){return r.a.createElement(ot,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(la,{account:o,id:e}),body:r.a.createElement(ke,{span:!0,id:e,size:50})})})),c&&r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Other posts")):null}),Ua=function(e,t,a,n,r){s.a.get("/api"+e.history.location.pathname).then(function(t){D(t,e),a(t.data),r(t.data)}).catch(function(e){})},Va=a(257),Xa=a.n(Va),Ha=a(195),Ja=a(867),Ga=a(868),Qa=a(890),qa=new w.a,Za=function(e){return r.a.createElement(bt.a,Object.assign({direction:"up"},e))},Ka=Object(b.g)(function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(j.a)(l,2),s=c[0],u=c[1];Object(n.useEffect)(function(){p()});var d="?rememberme=false";o&&(d="?rememberme=true");var p=function(){qa.get("cookies_consent")&&u(!0)},m="https://addspire.com/api/auth/";return e.loginVisible?s?r.a.createElement(pt.a,{fullScreen:!0,open:e.loginVisible,onClose:function(){return e.setLoginVisible(!1)},TransitionComponent:Za},r.a.createElement("div",{className:"contentDiv"},r.a.createElement("div",{className:Xa.a.Container,style:{maxWidth:"500px",margin:"0 auto"}},r.a.createElement("h1",{style:{fontWeight:"bold",lineHeight:"1.3em",marginBottom:0,fontSize:"2.5em"}},"Welcome to Addspire!"),r.a.createElement("h3",null,"This is where great inspiration lives."),r.a.createElement("div",{className:Xa.a.socialButtons,style:{marginBottom:"30px"}},r.a.createElement(Ha.FacebookLoginButton,{onClick:function(){return window.location=m+"facebook/start".concat(d)}}),r.a.createElement(Ha.GoogleLoginButton,{onClick:function(){return window.location=m+"google/start".concat(d)}}),r.a.createElement(Ha.InstagramLoginButton,{onClick:function(){return window.location=m+"instagram/start".concat(d)}}),r.a.createElement(Ha.GithubLoginButton,{onClick:function(){return window.location=m+"github/start".concat(d)}})),r.a.createElement(Ga.a,{control:r.a.createElement(Qa.a,{checked:o,onChange:function(){return i(!o)},color:"primary"}),label:"Remember me"}),r.a.createElement(ga.a,{style:{margin:"20px"}}),r.a.createElement(Re.a,{onClick:function(){return e.setLoginVisible(!1)},color:"secondary"},"Login or sign up later")),r.a.createElement("div",{className:Xa.a.Background}))):r.a.createElement(pt.a,{open:!s},r.a.createElement(mt.a,null,"Cookies consent"),r.a.createElement(ht.a,null,r.a.createElement(Ja.a,null,"We use cookies only for login purposes. In order to proceed you need to agree with the use of cookies.")),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){e.setLoginVisible(!1),u(!1)}},"Disagree"),r.a.createElement(Re.a,{onClick:function(){qa.set("cookies_consent","true",{path:"/",maxAge:3153e4}),p()},color:"primary",autoFocus:!0},"Agree"))):null}),$a=a(390),en=function(e){return e.account._id?r.a.createElement(Qn,{onFinish:function(t){!function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"startProgress",accountId:e,value:t}))}(e.account._id,t),e.setStartProgressVisible(!1),document.body.removeAttribute("style")},account:e.account,friendData:e.friendData,cancel:e.cancel}):null},tn=a(871),an=a(872),nn=a(873),rn=a(869),on=a(785),ln=a(901),cn=a(899),sn=a(900),un=a(875),dn=a(874),pn=a(876),mn=a(877),fn=a(878),gn=a(879),hn=function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),o=a[0],i=a[1],l=e.invitingFriends,c=e.invitedFriends,s=e.realFriends,u=e._id,d=e.account,p=d?d._id:"";if(!p)return null;var m=function(){i(null)},f=function(e){i(e.currentTarget)};return p===u?e.additionalButtons?r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{onClick:function(e){return f(e)}},r.a.createElement(ca.a,null)),r.a.createElement(aa.a,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:m},e.additionalButtons.map(function(e,t){return r.a.createElement(Te.a,{key:t+100,onClick:function(){e.onClick(),m()}},e.title)}))):null:r.a.createElement(r.a.Fragment,null,e.minimized?e.asText?r.a.createElement(Re.a,{onClick:function(e){return f(e)},variant:"contained",color:"primary"},"Actions"):r.a.createElement(gt.a,{onClick:function(e){return f(e)}},r.a.createElement(ca.a,null)):l.find(function(e){return e.friend===u})?r.a.createElement(Ke.a,null,r.a.createElement(Re.a,{color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),be(p,u)}},"Accept friendship"),r.a.createElement(gt.a,{onClick:function(e){return f(e)}},r.a.createElement(ca.a,null))):[].concat(Object(k.a)(s),Object(k.a)(l),Object(k.a)(c)).find(function(e){return e.friend===u})?e.asText?r.a.createElement(Re.a,{onClick:function(e){return f(e)},variant:"contained",color:"primary"},"Actions"):r.a.createElement(gt.a,{onClick:function(e){return f(e)}},r.a.createElement(ca.a,null)):r.a.createElement(Ke.a,null,r.a.createElement(Re.a,{color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),he(p,u)}},"Become friends"),r.a.createElement(gt.a,{onClick:function(e){return f(e)}},r.a.createElement(ca.a,null))),r.a.createElement(aa.a,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:m},e.minimized&&l.find(function(e){return e.friend===u})&&r.a.createElement(Te.a,{key:7,onClick:function(){be(p,u),m()}},"Accept friendship"),e.minimized&&![].concat(Object(k.a)(s),Object(k.a)(l),Object(k.a)(c)).find(function(e){return e.friend===u})&&r.a.createElement(Te.a,{key:7,onClick:function(){he(p,u),m()}},"Become friends"),e.additionalButtons&&e.additionalButtons.map(function(e,t){return r.a.createElement(Te.a,{key:t+100,onClick:function(){e.onClick,m()}},e.title)}),l.find(function(e){return e.friend===u})?r.a.createElement(Te.a,{key:"2",onClick:function(){ye(p,u),m()}},"Decline"):c.find(function(e){return e.friend===u})?r.a.createElement(Te.a,{key:"3",onClick:function(){ye(p,u),m()}},"Cancel invitation"):s.find(function(e){return e.friend===u})?r.a.createElement(Te.a,{key:"4",onClick:function(){ye(p,u),m()}},"Unfriend"):null,e.noFollow?null:d.followAccounts.includes(u)?r.a.createElement(Te.a,{key:"5",onClick:function(){ge(p,u),m()}},"Unfollow"):r.a.createElement(Te.a,{key:"6",onClick:function(){fe(p,u),m()}},"Follow")))},bn=Object(b.g)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed}},function(e){return{setData:function(t,a){return e(I(t))},tryAuth:function(t,a){return e(_(t))}}})(function(e){return r.a.createElement(ot,{friends:!0,noLink:!0,actions:r.a.createElement(hn,{account:e.account,realFriends:e.realFriends,invitedFriends:e.invitedFriends,invitingFriends:e.invitingFriends,_id:e.friend._id,additionalButtons:[{title:"See profile",onClick:function(){return e.history.push("/profile/"+e.friend._id)}}],asIcons:!0}),body:r.a.createElement(ke,{span:!0,id:e.friend._id,size:50})})})),yn=a(418),xn=a(870);function En(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return vn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vn(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var wn=Object(Je.a)(function(e){return Object(Ge.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%",margin:"30px auto"},input:{marginLeft:e.spacing(1),flex:1,margin:"auto"},iconButton:{padding:10}})}),kn=Object(u.b)(function(e){return{searchResult:e.friendSearchResult}},function(e){return{setFriendSearchResult:function(t){return e(M(t))}}})(function(e){var t=wn();Object(n.useEffect)(function(){e.setFriendSearchResult({}),l("")},[e.open]);var a=Object(n.useState)(""),o=Object(j.a)(a,2),i=o[0],l=o[1],c=e.account,s=e.friendData,u=e.searchResult;if(!c._id)return null;var d=[],p=[],m=[];if(c.friends){var f,g=En(c.friends);try{for(g.s();!(f=g.n()).done;){var h=f.value,b=Object(O.a)({},s[h.friend],h);b&&("friend"===b.status?d.push(b):"invited"===b.status?p.push(b):"inviting"===b.status&&m.push(b))}}catch(y){g.e(y)}finally{g.f()}}return r.a.createElement(rn.a,{style:{paddingTop:"20px",maxWidth:"800px"}},r.a.createElement(we.a,{variant:"body2",align:"center"},"To find a friend you need to enter your friend's name or nickname."),r.a.createElement(Qe.a,{className:t.root},r.a.createElement(yn.a,{className:t.input,placeholder:"Search friend",onChange:function(e){return l(e.target.value)}}),r.a.createElement(gt.a,{className:t.iconButton,onClick:function(){return e=i,void(Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"searchFriends",search:e})));var e}},r.a.createElement(xn.a,null))),u.length>0&&u.map(function(t){return r.a.createElement(bn,Object.assign({},e,{friend:t,realFriends:d,invitingFriends:m,invitedFriends:p}))}))});function On(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return jn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jn(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var An=Object(Je.a)(function(e){return Object(Ge.a)({speedDial:{right:"12px",bottom:"16px",position:"fixed"},logout:{left:e.spacing(2),bottom:e.spacing(2),position:"fixed"},login:{right:"16px",bottom:"16px",position:"fixed"},home:{right:"16px",bottom:"88px",position:"fixed"},avatar:{border:"1px solid "+e.palette.primary.main},title:{marginLeft:e.spacing(2),flex:1}})}),Sn=function(e){return r.a.createElement(bt.a,Object.assign({direction:"up"},e))},Dn=Object(b.g)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed,lastNotifications:e.lastNotifications,isConnectingWS:e.isConnectingWS,friendData:e.friendData}})(function(e){var t,a=Object(n.useRef)(),o=Object(tn.a)(function(e){return e.breakpoints.up("sm")}),i=e.account,c=Object(n.useState)(!1),s=Object(j.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(j.a)(p,2),f=m[0],g=m[1],h=Object(n.useState)(!1),b=Object(j.a)(h,2),y=b[0],x=b[1],E=Object(n.useState)(!1),v=Object(j.a)(E,2),w=v[0],k=v[1],O=function(t){return e.history.push(t)},A="/activate-account"===e.history.location.pathname,S=0,D=On(e.lastNotifications);try{for(D.s();!(t=D.n()).done;){var C=t.value;parseInt(C.notId)>parseInt(i.lastSeenNot||0)&&S++}}catch(z){D.e(z)}finally{D.f()}var _=e.isAuthed&&i._id,T=An(),N=!Object(an.a)(),I=!o&&function(t){var a,n=On(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(0===e.history.location.pathname.indexOf(r))return!0}}catch(z){n.e(z)}finally{n.f()}}(["/goals","/posts","/profile","/account"]);return e.hide?e.children:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:$a.Layout},r.a.createElement(bt.a,{appear:!1,direction:"down",in:N},r.a.createElement(yt.a,{elevation:4,color:"secondary"},e.isConnectingWS&&!_&&r.a.createElement(nn.a,{style:{width:"100%",position:"absolute",top:0,left:0}}),r.a.createElement(xt.a,{disableGutters:!0},r.a.createElement("div",{tabIndex:0,ref:a,style:{width:0,height:0}}),r.a.createElement("div",{className:T.MenuButtonContiner},r.a.createElement(gt.a,{onClick:function(){return e.history.goBack()}},r.a.createElement(dn.a,{color:"primary"}))),e.header))),r.a.createElement(xt.a,{id:"back-to-top-anchor"}),r.a.createElement(rn.a,{style:{paddingTop:"20px",paddingBottom:"20px"},disableGutters:Boolean(I)},e.children),_&&!A&&r.a.createElement(cn.a,{ariaLabel:"SpeedDial",className:T.speedDial,icon:r.a.createElement(sn.a,null),onClose:function(){a.current.focus(),k(!1)},onOpen:function(){return k(!0)},open:w},r.a.createElement(un.a,{icon:r.a.createElement(pn.a,null),tooltipTitle:r.a.createElement("span",{style:{whiteSpace:"nowrap"}},"Add friend"),tooltipOpen:!0,onClick:function(){a.current.focus(),x(!0),k(!1)}}),r.a.createElement(un.a,{icon:r.a.createElement(mn.a,null),tooltipTitle:r.a.createElement("span",{style:{whiteSpace:"nowrap"}},"Add goal"),tooltipOpen:!0,onClick:function(){a.current.focus(),g(!0),k(!1)}})),(_||!e.isConnectingWS)&&A&&"Activate your account","/"===e.history.location.pathname&&r.a.createElement(bt.a,{appear:!1,direction:"right",in:N},r.a.createElement(l.b,{to:"/blog",style:{position:"fixed",top:"50%",left:"0px",background:"#9c27b0",textOrientation:"upright",writingMode:"vertical-rl",padding:"10px 2px 10px 0px",borderRadius:"0px 9px 9px 0px",transform:"none",color:"white",fontWeight:700}},"Blog")),_&&A||!_&&e.isConnectingWS?r.a.createElement(bt.a,{appear:!1,direction:"right",in:N},r.a.createElement(on.a,{onClick:function(){return e.history.push("/logout")},variant:"extended",className:T.logout,size:"small"},r.a.createElement(vt.a,null),"Logout")):!_&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bt.a,{appear:!1,direction:"left",in:N},r.a.createElement(on.a,{onClick:function(){return window.isRNWebView?window.ReactNativeWebView.postMessage("showLogin"):d(!0)},color:"primary",variant:"extended",className:T.login},r.a.createElement(pn.a,null),"Login")),r.a.createElement(bt.a,{appear:!1,direction:"right",in:N},r.a.createElement(on.a,{onClick:function(){return O("/")},variant:"extended",className:T.logout},r.a.createElement(fn.a,null),"Home"))),r.a.createElement(bt.a,{appear:!1,direction:"up",in:!Object(an.a)()},r.a.createElement(Ke.a,{style:{position:"fixed",bottom:"12px",width:"100%"}},_&&!A&&r.a.createElement(Ke.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Qe.a,{elevation:3,style:{borderRadius:"37px"}},r.a.createElement(gt.a,{onClick:function(){return O("/")},color:"/"===e.history.location.pathname?"primary":"default"},r.a.createElement(fn.a,{fontSize:"large"})),r.a.createElement(gt.a,{onClick:function(){return O("/posts")},color:"/posts"===e.history.location.pathname?"primary":"default"},r.a.createElement(na.a,{badgeContent:S,color:"secondary"},r.a.createElement(gn.a,{fontSize:"large"}))),r.a.createElement(gt.a,{onClick:function(){return O("/profile/"+i._id)}},r.a.createElement(na.a,{badgeContent:i.friends.filter(function(e){return"inviting"===e.status}).length,color:"secondary"},r.a.createElement(ln.a,{classes:e.history.location.pathname==="/profile/"+i._id?{root:T.avatar}:{},src:ve(i._id,i.image)})))))))),r.a.createElement(Ka,{loginVisible:u,setLoginVisible:d}),(_||!e.isConnectingWS)&&!A&&r.a.createElement(r.a.Fragment,null),i._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,{open:y,close:function(){x(!1)},title:"Add friend"},r.a.createElement(kn,{close:function(){return x(!1)},open:y,account:i,friendData:e.friendData})),r.a.createElement(pt.a,{fullScreen:!0,open:f,onClose:function(){g(!1)},TransitionComponent:Sn},r.a.createElement(en,{setStartProgressVisible:g,account:i,friendData:e.friendData,cancel:function(){return g(!1)}}))))})),Cn=a(117);function _n(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Tn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Tn(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Nn=Object(Je.a)(function(e){return Object(Ge.a)({title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600},pageTitle:{marginLeft:e.spacing(2),flex:1}})}),In=Object(b.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,posts:e.post,postData:e.postData,reward:e.reward,friendData:e.friendData}},function(e){return{setData:function(t){e(I(t))}}})(function(e){var t=Nn(),a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(null),s=Object(j.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(j.a)(p,2),f=m[0],g=m[1],h=Object(n.useState)(!1),b=Object(j.a)(h,2),y=b[0],x=b[1],E=Object(n.useState)({}),v=Object(j.a)(E,2),w=v[0],k=v[1],A=e.history.location.pathname.split("/"),S=e.rewardId||(A.length>2?A[2]:"");if(!S)return null;var D="wishlist"===A[1];Object(n.useEffect)(function(){e.isAuthed?e.setData({currentReward:S}):Ua(e,0,k,0,function(t){var a,n={},r=_n(t.friendData);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o._id]=o}}catch(u){r.e(u)}finally{r.f()}var i,l={},c=_n(t.posts);try{for(c.s();!(i=c.n()).done;){var s=i.value;l[s._id]=s}}catch(u){c.e(u)}finally{c.f()}e.setData({friendData:n,post:l,account:{},reward:t.reward})})},[e.isAuthed,e.history.location.pathname]);var C=e.isAuthed?e:Object(O.a)({},w,{posts:e.posts,account:{}}),_=C.reward,T=C.account,N=C.friendData,I=C.posts;if(!_||!_._id)return null;var z=T._id?function(){var e=[];return T._id===_.owner&&e.push(r.a.createElement(Te.a,{onClick:function(){x(!0),d(null)}},"Edit")),e.push(r.a.createElement(Te.a,{onClick:function(){g(!0),d(null)}},"Delete")),_.likes.includes(T._id)&&e.push(r.a.createElement(Te.a,{onClick:function(){ue(T._id,_._id,!1),d(null)}},"Unlike")),e.length>0&&e}():null;return N?r.a.createElement(Dn,{header:r.a.createElement(we.a,{variant:"h6",className:t.pageTitle,color:"inherit",noWrap:!0},_.name),hide:e.rewardId},r.a.createElement(Cn.a,null,r.a.createElement("title",null,_.name||(D?"Wishlist item":"Reward")," by"," ",_.owner||"a user"," at Addspire"),r.a.createElement("meta",{name:"description",content:_.descriptionText})),r.a.createElement("div",{className:"contentDiv"},r.a.createElement(Qe.a,{style:{padding:"15px"}},_.images.length>0&&r.a.createElement(ta,{images:_.images}),r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},r.a.createElement(we.a,{variant:"h4"},_.name),r.a.createElement(Ke.a,{style:{margin:"5px 0px"}},r.a.createElement(Re.a,{onClick:function(){return l(!0)}},r.a.createElement("span",{style:{textTransform:"none"}},_.likes.length," Likes")),r.a.createElement(Ra,{title:_.name+(D?" wishlist item ":" reward ")+"on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",media:_.images&&_.images[0]}),z&&T&&T._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{onClick:function(e){return d(e.currentTarget)}},r.a.createElement(ca.a,null)),r.a.createElement(aa.a,{anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:function(){return d(null)}},z))),r.a.createElement(Ke.a,{style:{margin:"0px 0px 20px"}},T&&T._id&&!_.likes.includes(T._id)&&r.a.createElement(Re.a,{color:"primary",variant:"contained",onClick:function(){return ue(T._id,_._id,!0)}},"Like"))),r.a.createElement(ua,{initialHeight:200,contentEditor:_.description})),r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Comments"),I&&I[_.post]&&r.a.createElement("div",{key:_.post,style:{paddingTop:"10px"}},r.a.createElement(Ya,{friendData:N,account:T,post:I[_.post],noStartMessage:!0,noPostControls:!0,showReplies:!0}))),r.a.createElement(pt.a,{open:i,onClose:function(){return l(!1)},title:D?"Item likes":"Reward likes",fullWidth:!0,maxWidth:"md"},r.a.createElement(mt.a,null,"Reward likes"),r.a.createElement(ht.a,null,_.likes.map(function(e){return r.a.createElement(ot,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(la,{account:T,id:e}),body:r.a.createElement(ke,{span:!0,id:e,size:50})})})),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){return l(!1)},color:"primary"},"Close"))),r.a.createElement(pt.a,{open:Boolean(f)},r.a.createElement(mt.a,null,"Delete reward"),r.a.createElement(ht.a,null,r.a.createElement(Ja.a,null,"Are you sure you want to delete this item?")),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){return g(!1)}},"Cancel"),r.a.createElement(Re.a,{onClick:function(){var t,a;t=T._id,a=_._id,Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"deleteReward",accountId:t,rewardId:a})),g(!1),e.history.goBack()},color:"primary"},"Delete"))),T._id===_.owner&&r.a.createElement(Jt,{open:y,close:function(){return x(!1)},reward:_})):null})),zn=Object(b.g)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,rewardData:e.rewardData}})(function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(""),s=Object(j.a)(c,2),u=s[0],d=s[1],p=e.account,m=e.owner,f=e.rewardData,g=e.wish,h=e.additionalButton,b=p&&p._id&&p._id===m._id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{title:g?"Wishlist":"Rewards",items:m.rewards.map(function(e){return f[e]}).filter(function(e){return e&&Boolean(g)===Boolean(e.wish)}),content:function(t){var a=r.a.createElement(r.a.Fragment,null," ",r.a.createElement(Le.a,{style:{height:"150px",backgroundSize:"contain"},image:t.images.length>0?t.images[0]:nt[rt(t._id)],title:t.name}),r.a.createElement(Be.a,{style:{padding:"5px"}},r.a.createElement(we.a,{variant:"body2",noWrap:!0},t.name)));return r.a.createElement(Be.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},e.openInDialog?r.a.createElement(Ke.a,{onClick:function(){return d(t._id)}},a):r.a.createElement(l.b,{to:(g?"/wishlist/":"/rewards/")+t._id},a),h&&h(t))},withAdd:b,addTitle:g?"Add item":"Add reward",onAdd:function(){return i(!0)}}),b&&r.a.createElement(Jt,{open:o,close:function(){return i(!1)},wish:g}),e.openInDialog&&r.a.createElement(pt.a,{open:Boolean(u),onClose:function(){return d("")},fullWidth:!0,maxWidth:"md"},r.a.createElement(ft.a,null,r.a.createElement(gt.a,{onClick:function(){return d("")}},r.a.createElement(vt.a,null))),r.a.createElement(ht.a,null,u&&r.a.createElement(In,{rewardId:u}))))})),Mn=Object(b.g)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,rewardData:e.rewardData}},function(e){return{setData:function(t){return e(I(t))}}})(function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(!1),s=Object(j.a)(c,2),u=s[0],d=s[1],p=e.rewardData,m=e.account,f=e.progress,g=e.rewards,h=e.onValueChange,b=(h?g:f.rewards)||[];return f||h?r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{title:"Rewards",items:b.map(function(e){return p[e]}).filter(function(e){return e}),content:function(e){return r.a.createElement(Be.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(l.b,{to:"/rewards/"+e._id},r.a.createElement(Le.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:nt[rt(e._id)],title:e.name}),r.a.createElement(Be.a,{style:{padding:"5px"}},r.a.createElement(we.a,{variant:"body2",noWrap:!0},e.name))),(m._id===e.owner||m._id===f.owner||g)&&r.a.createElement(Re.a,{onClick:function(){d(e._id)}},"Remove"))},withAdd:Boolean(m._id),addTitle:"Add reward",onAdd:function(){return i(!0)}}),r.a.createElement(ia,{open:o,close:function(){return i(!1)},title:"Add reward to goal"},r.a.createElement(zn,{owner:m,openInDialog:!0,additionalButton:function(e){return r.a.createElement(Re.a,{color:"primary",onClick:function(){var t,a,n;h?h([].concat(Object(k.a)(b),[e._id])):(t=m._id,a=f._id,n=e._id,Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"addRewardToProgress",accountId:t,progressId:a,rewardId:n}))),i(!1)}},"Choose")}})),r.a.createElement(pt.a,{open:Boolean(u),onClose:function(){return d(!1)}},r.a.createElement(mt.a,null,"Are youe sure you want to delete this reward? This reward will be only deleted from this goal."),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){return d(!1)},color:"primary"},"Disagree"),r.a.createElement(Re.a,{onClick:function(){if(h){var e=Object(k.a)(b);e.splice(e.indexOf(u),1),h(e)}else t=m._id,a=f._id,n=u,Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"deleteRewardFromProgress",accountId:t,progressId:a,rewardId:n}));var t,a,n;d(!1)},color:"primary"},"Agree")))):null})),Pn=a(154),Fn=function(e){return r.a.createElement(Pn.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:e.value,onChange:e.onChange,getPopupContainer:function(e){return e.parentNode}},[e.account].concat(Object(k.a)(e.account.friends.filter(function(e){return"friend"===e.status}).map(function(t){return e.friendData[t.friend]}))).map(function(e){return e&&e._id&&r.a.createElement(Pn.a.Option,{key:e._id},r.a.createElement(ke,{id:e._id,noClick:!0}))}))},Rn=a(894),Bn=a(891),Ln=(a(279),a(245)),Wn=(a(280),a(165)),Yn=a(395),Un=a.n(Yn),Vn=(a(762),function(e){function t(){return Object(B.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.leaflet.map,t=new Un.a({position:"topleft",strings:{title:"My location"},onActivate:function(){},drawCircle:!1,keepCurrentZoomLevel:!0});t.addTo(e),t.start()}},{key:"render",value:function(){return null}}]),t}(n.Component)),Xn=Object(Wn.b)(Vn),Hn=a(246),Jn=(a(281),Pn.a.Option),Gn=Object(Je.a)(function(e){return Object(Ge.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),Qn=function(e){var t=Object(n.useRef)(null);Object(n.useEffect)(function(){t&&t.current&&t.current.leafletElement&&((new Ln.Geosearch).addTo(t.current.leafletElement),new Hn.GestureHandling(t.current.leafletElement))},[]);var o=e.progress,i=e.account,l=e.friendData,c=Object(n.useState)(o&&o.position&&o.position.coordinates?[o.position.coordinates[1],o.position.coordinates[0]]:[40.689078,-74.044526]),s=Object(j.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)(10),m=Object(j.a)(p,2),f=m[0],g=m[1],h=Object(n.useState)(o&&o.descriptionText),b=Object(j.a)(h,2),y=b[0],E=b[1],v=x.a.useForm(),w=Object(j.a)(v,1)[0],A=function(e){g(e.target._zoom),d([e.target.getCenter().lat,e.target.getCenter().lng]),w.setFieldsValue({nomap:!1})},S=Gn();return!e.goalId||o?r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{className:S.appBar,color:"primary"},r.a.createElement(xt.a,null,r.a.createElement(gt.a,{edge:"start",color:"inherit",onClick:e.cancel,"aria-label":"close"},r.a.createElement(vt.a,null)),r.a.createElement(we.a,{variant:"h6",className:S.title,color:"inherit"},"Add new goal"),r.a.createElement(Re.a,{autoFocus:!0,color:"inherit",onClick:function(){return w.submit()}},"Save"))),r.a.createElement(xt.a,null),r.a.createElement(x.a,Object.assign({style:{maxWidth:"1200px",margin:"auto",padding:"15px",width:"100%"},form:w,name:"dynamic_form_nest_item",onFinish:function(t){e.onFinish(Object(O.a)({},t,{descriptionText:y,position:{type:"Point",coordinates:[u[1],u[0]]}}))},autoComplete:"off",initialValues:o||{name:"New achievement",repeat:"no",days:["0"],nomap:!1}},{labelCol:{span:4},wrapperCol:{span:20}},{onValuesChange:function(e,t){t.days&&w.setFieldsValue({days:Object(k.a)(t.days).sort()})}}),r.a.createElement(x.a.Item,{name:"images",label:"Images",valuePropName:"images",trigger:"onValueChange"},r.a.createElement(Nt,null)),r.a.createElement(x.a.Item,{label:"Name",name:"name",rules:Yt,getValueFromEvent:function(e){return e.target.value}},r.a.createElement(Et.a,{fullWidth:!0})),r.a.createElement(x.a.Item,{label:"Description",name:"description",trigger:"onEditorChange"},r.a.createElement(Ft,{onEditorChangePlain:function(e){return E(e)}})),r.a.createElement(x.a.Item,{label:"Achievers",name:"users"},r.a.createElement(Fn,{account:i,friendData:l})),r.a.createElement(x.a.Item,{label:"Repeat",name:"repeat"},r.a.createElement(Pn.a,{getPopupContainer:function(e){return e.parentNode}},r.a.createElement(Jn,{value:"no"},"No repeat"),r.a.createElement(Jn,{value:"day"},"Every day"),r.a.createElement(Jn,{value:"weekday"},"Every day of week"),r.a.createElement(Jn,{value:"week"},"Every week"),r.a.createElement(Jn,{value:"month"},"Every month"),r.a.createElement(Jn,{value:"year"},"Every year"))),r.a.createElement(x.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.repeat!==t.repeat}},function(e){return"weekday"===(0,e.getFieldValue)("repeat")?r.a.createElement(x.a.Item,{label:"Days of week",name:"days"},r.a.createElement(Pn.a,{mode:"tags",getPopupContainer:function(e){return e.parentNode}},r.a.createElement(Jn,{value:"0"},"Sunday"),r.a.createElement(Jn,{value:"1"},"Monday"),r.a.createElement(Jn,{value:"2"},"Tuesday"),r.a.createElement(Jn,{value:"3"},"Wednesday"),r.a.createElement(Jn,{value:"4"},"Thursday"),r.a.createElement(Jn,{value:"5"},"Friday"),r.a.createElement(Jn,{value:"6"},"Saturday"))):null}),r.a.createElement(x.a.Item,{name:"rewards",label:"Rewards",valuePropName:"rewards",trigger:"onValueChange"},r.a.createElement(Mn,null)),r.a.createElement(x.a.Item,{label:"Place"},r.a.createElement("div",{style:{position:"relative",height:"300px"}},r.a.createElement(Rn.a,{ref:t,center:u,zoom:f,ondragend:A,onmoveend:A,style:{width:"100%",height:"100%",position:"relative",zIndex:1},gestureHandling:!0},r.a.createElement(Bn.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(Xn,null)),r.a.createElement("div",{style:{backgroundImage:"url(".concat(a(368),")"),width:"20px",height:"35px",position:"absolute",zIndex:2,left:"calc(50% - 10px)",top:"calc(50% - 35px)",pointerEvents:"none",touchAction:"none"}}))),r.a.createElement("div",{style:{textAlign:"right",marginTop:"50px"}},r.a.createElement(Re.a,{size:"large",onClick:function(){return e.cancel(!1)}},"Cancel"),r.a.createElement(Re.a,{color:"primary",variant:"contained",type:"submit",size:"large",style:{marginLeft:"10px",marginRight:"50px"}},"Save")))):null},qn=function(e){var t=e.progress,a=e.account,n=e.state,o=e.setState,i=e.friendData;return t?r.a.createElement(Qn,{progress:t,onFinish:function(t){!function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"editGoalInProgress",progressId:e.progress._id,accountId:e.account._id,value:t}))}(e,t),o(Object(O.a)({},n,{editProgressOpen:!1})),document.body.removeAttribute("style")},account:a,friendData:i,cancel:e.cancel}):null},Zn=a(396),Kn=a.n(Zn),$n=function(e){return r.a.createElement(bt.a,Object.assign({direction:"up"},e))},er=Object(Je.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15)},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),tr=Object(b.g)(function(e){var t=er(),a=e.account,o=e.progress,i=e.state,l=e.setState,c=e.friendData,s=Object(n.useState)(""),u=Object(j.a)(s,2),d=u[0],p=u[1],m=Object(n.useState)(null),f=Object(j.a)(m,2),g=f[0],h=f[1],b=a._id?function(){var t=[];return a._id===o.owner&&t.push(r.a.createElement(Te.a,{onClick:function(){l(Object(O.a)({},i,{editProgressOpen:!0})),h(null)}},"Edit")),a.followProgresses.includes(o._id)&&t.push(r.a.createElement(Te.a,{onClick:function(){me(a._id,o._id),h(null)}},"Unfollow")),o.likes.includes(a._id)&&t.push(r.a.createElement(Te.a,{onClick:function(){se(a._id,o._id,!1),h(null)}},"Unlike")),a.progresses&&a.progresses.includes(o._id.toString())&&t.push(r.a.createElement(Te.a,{onClick:function(){var t;t=e,Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"leaveProgress",progressId:t.progress._id,accountId:t.account._id})),h(null)}},"Leave")),t.length>0&&t}():null;return o?r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn.a,null,r.a.createElement("title",null,o.name," by ",o.owner," at Addspire"),r.a.createElement("meta",{name:"description",content:o.descriptionText})),r.a.createElement(Qe.a,{style:{padding:"15px"}},o.images.length>0&&r.a.createElement(ta,{images:o.images}),r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},r.a.createElement(we.a,{variant:"h4"},o.name),r.a.createElement(Ke.a,{style:{margin:"5px 0px"}},r.a.createElement(Re.a,{onClick:function(){return p("followers")},style:{marginRight:"20px"}},r.a.createElement("span",{style:{textTransform:"none"}},o.followingAccounts.length," Followers")),r.a.createElement(Re.a,{onClick:function(){return p("likes")}},r.a.createElement("span",{style:{textTransform:"none"}},o.likes.length," Likes")),r.a.createElement(Ra,{title:o.name+" goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",media:o.images&&o.images[0]}),b&&a&&a._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{onClick:function(e){return h(e.currentTarget)}},r.a.createElement(ca.a,null)),r.a.createElement(aa.a,{anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){return h(null)}},b))),r.a.createElement(Ke.a,{style:{margin:"0px 0px 20px"}},a&&a._id&&!a.followProgresses.includes(o._id)&&r.a.createElement(Re.a,{color:"primary",onClick:function(){return pe(a._id,o._id)},style:{marginRight:"20px"},variant:"contained"},"Follow"),a&&a._id&&!o.likes.includes(a._id)&&r.a.createElement(Re.a,{color:"primary",variant:"contained",onClick:function(){return se(a._id,o._id,!0)}},"Like")))),r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Tracking"),r.a.createElement(Qe.a,{style:{padding:"15px"}},r.a.createElement(dt,{progress:o,account:a,state:i,setState:l})),r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Description"),r.a.createElement(Qe.a,{style:{padding:"15px"}},"no"!==o.repeat&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement(Kn.a,null)," Repeats ",function(e){switch(e){case"day":return"every day";case"weekday":return"every day of week";case"week":return"every week";case"month":return"every month";case"year":return"every year";default:return""}}(o.repeat)+("weekday"===o.repeat?" ("+o.days.reduce(function(e,t,a){return e+(a>0?", ":"")+function(e){switch(e){case"0":return"Sunday";case"1":return"Monday";case"2":return"Tuesday";case"3":return"Wednesday";case"4":return"Thursday";case"5":return"Friday";case"6":return"Saturday";default:return""}}(t)},"")+").":".")),r.a.createElement(ga.a,{light:!0,variant:"middle",style:{marginBottom:"15px"}})),r.a.createElement(ua,{initialHeight:200,contentEditor:o.description})),r.a.createElement(Mn,{progress:o}),r.a.createElement(we.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Posts and comments"),r.a.createElement(pt.a,{fullScreen:!0,open:i.editProgressOpen,onClose:function(){return l(Object(O.a)({},i,{editProgressOpen:!1}))},TransitionComponent:$n},r.a.createElement(qn,{progress:o,account:a,state:i,setState:l,friendData:c,cancel:function(){return l(Object(O.a)({},i,{editProgressOpen:!1}))}})),r.a.createElement(pt.a,{open:Boolean(d),onClose:function(){return p("")},title:"likes"===d?"Goal likes":"Goal followers",fullWidth:!0,maxWidth:"md"},r.a.createElement(mt.a,null,"likes"===d?"Goal likes":"Goal followers"),r.a.createElement(ht.a,null,o["likes"===d?"likes":"followingAccounts"].map(function(e){return r.a.createElement(ot,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(la,{account:a,id:e}),body:r.a.createElement(ke,{span:!0,id:e,size:50})})})),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){return p("")},color:"primary"},"Close")))):null}),ar=Object(b.g)(function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1],l=e.parent,c=e.account,s=e.parentType,u=function(){i(!1)};return c._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{elevation:3},r.a.createElement(Be.a,null,r.a.createElement(Ke.a,{style:{display:"flex",width:"100%"}},r.a.createElement(Ke.a,{style:{marginRight:"20px"}},r.a.createElement(ke,{noName:!0,id:c._id,span:!0,size:36})),r.a.createElement(Ke.a,{style:{flex:1}},r.a.createElement(Ke.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px",color:"#7d7d7d",cursor:"pointer"},onClick:function(){return i(!0)}},"Post something new"))),r.a.createElement(pa,{open:o,cancel:u,title:"Create a new post",save:function(t,a){!function(e,t,a,n,r){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"addPost",accountId:e,parentId:t,parentType:a,messageValue:n,images:r}))}(c._id,l,s,a,t),e.onSend&&e.onSend(),u()}})))):null});function nr(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return rr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rr(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var or=Object(Je.a)(function(e){return Object(Ge.a)({title:{marginLeft:e.spacing(2),flex:1}})}),ir=Object(b.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,posts:e.post,progress:e.progress,friendData:e.friendData}},function(e){return{setData:function(t){e(I(t))}}})(function(e){var t=or(),a=Object(n.useState)({}),o=Object(j.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)({}),s=Object(j.a)(c,2),u=s[0],d=s[1],p=e.history.location.pathname.split("/"),m=p.length>2?p[2]:"";if(!m)return null;Object(n.useEffect)(function(){e.isAuthed?(e.setData({currentProgress:m}),e.account._id&&function(e,t){Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"addRecentProgress",accountId:e,progressId:t}))}(e.account._id,m)):Ua(e,0,d,0,function(t){var a,n={},r=nr(t.friendData);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o._id]=o}}catch(u){r.e(u)}finally{r.f()}var i,l={},c=nr(t.posts);try{for(c.s();!(i=c.n()).done;){var s=i.value;l[s._id]=s}}catch(u){c.e(u)}finally{c.f()}e.setData({friendData:n,post:l,account:{},progress:t.progress})})},[e.isAuthed,e.history.location.pathname]);var f=e.isAuthed?e:Object(O.a)({},u,{posts:e.posts,account:{}}),g=f.progress,h=f.account,b=f.friendData,y=f.posts;return g&&g._id?(e.setData({currentPosts:g.posts}),b?r.a.createElement(Dn,{header:r.a.createElement(we.a,{variant:"h6",className:t.title,color:"inherit",noWrap:!0},g.name)},r.a.createElement("div",{className:"contentDiv"},r.a.createElement(tr,{state:i,setState:l,progress:g,account:h,friendData:b}),h._id&&r.a.createElement(ar,{parent:m,account:h,parentType:"progress"}),y&&Object(k.a)(g.posts).sort(function(t,a){return e.history.location.pathname.indexOf(t)>-1?1:e.history.location.pathname.indexOf(a)>-1?-1:0}).map(function(e){if(y[e]){var t=y[e];return r.a.createElement("div",{key:e,style:{paddingTop:"10px"}},r.a.createElement(Ya,{friendData:b,account:h,post:t}))}return null}).reverse(),r.a.createElement(xe.a,{visible:i.previewImage,footer:null,onCancel:function(){l(Object(O.a)({},i,{previewImage:""})),document.body.removeAttribute("style")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:i.previewImage})))):null):null})),lr=function(){return r.a.createElement(Qe.a,{style:{padding:"10px",background:"rgba(128, 0, 128,.01)"}},r.a.createElement(Ke.a,{style:{textAlign:"center",display:"flex",justifyContent:"center",alignItems:"baseline"}},r.a.createElement(l.b,{to:"/",style:{display:"flex",alignItems:"baseline"}},r.a.createElement("img",{style:{height:"23px",margin:"0 4px 0 8px"},src:"/android-icon-36x36.png"}),r.a.createElement(we.a,null,"Addspire.com"))),r.a.createElement(Ke.a,null,r.a.createElement(we.a,{align:"center",style:{marginTop:"10px"}},"Here we share and support our promises, ideas and resolutions")),r.a.createElement(ta,{images:["/intro/1.png","/intro/2.png","/intro/3.png","/intro/4.png"],height:"350px"}))},cr=Object(Je.a)(function(e){return Object(Ge.a)({title:{marginLeft:e.spacing(2),flex:1}})}),sr=Object(b.g)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(z(t))}}})(function(e){var t=cr(),a=Object(n.useState)(""),o=Object(j.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(""),u=Object(j.a)(c,2),d=u[0],p=u[1];return Object(n.useEffect)(function(){var t="https://websiter.dev"+e.history.location.pathname;s.a.post("/api/blog",{url:t}).then(function(e){l("<style> article,  aside,  details,  figcaption,  figure,  footer,  header,  hgroup,  menu,  nav,  section {      display: block;  }   html {      height: 100%;      padding: 0;      margin: 0;  }   body {      margin: auto;      font-weight: 300;      font-family: 'Open Sans', sans-serif !important;      color: #444;      font-size: 17px;      line-height: 1.231;      height: 100%;  }   .clearafter:after {      clear: both;      content: '.';      display: block;      height: 0;      visibility: hidden;  }   h1 {      margin: 0px;  }   .twofold a {      color: #888;      text-decoration: none;  }   .twofold a:hover {      color: #3665c1;  }   .twofold {      display: inline-block;      margin: 5px 0px;      width: 143px;      padding-left: 35px;      font-family: 'Open Sans', sans-serif !important;      color: #999;      font-size: 12px;  }   .twofold_mail {      display: inline-block;      margin: 5px 0px;      cursor: pointer;      color: #999;      padding-left: 35px;      width: 120px;      font-family: 'Open Sans', sans-serif !important;      font-size: 12px;  }   .twofold_mail:hover {      color: #4683ea;  }   .wrapp {      min-height: 100%;      position: relative;      margin: auto;  }   .cont {      width: 94%;      margin: auto;      padding-bottom: 320px;      text-align: center;  }   .logo_back {      padding: 9px 4%;  }   a.logo {      border: none;      text-decoration: none;  }   a img {      border: none;  }   .maintext0 {      font-weight: 300;      font-size: 45px;      color: #222;      margin: 50px auto 10px;      text-align: center;  }   .maintext1 {      font-size: 20px;      font-weight: 300;      letter-spacing: -1px;      margin: 0px auto 20px;      text-align: center;  }   .leftTitle {      font-size: 22px;      font-weight: 600;      margin: 20px auto 20px;      text-align: left;  }   .maintext2 {      font-size: 37px;      font-weight: 300;      text-align: center;      margin: 100px 0px 0px;      color: #222;  }   .maintext3 {      font-size: 22px;      font-weight: 300;      text-align: center;      margin: 50px 0px 20px;      color: #222;  }   .maintext4 {      font-size: 37px;      font-weight: 300;      text-align: center;      margin: 25px 0px 35px;      color: #222;  }   .contactusleft:hover {      background: #FF5935;  }   .facebookleft:hover {      background: #2350A2;  }   .googleleft:hover {      background: #d34836;  }   .linkedinleft:hover {      background: #006699;  }   .twitterleft:hover {      background: #00ACEF;  }   .twitterleft,  .linkedinleft,  .googleleft,  .facebookleft,  .contactusleft {      background: none;      border: none;      cursor: pointer;      width: 28px;      height: 34px;      outline: none;  }   .noselect {      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .totop {      position: absolute;      color: #2B7BC7;      bottom: 0px;      right: 0px;      text-decoration: none;      font-size: 15px;  }   .totop:hover {      text-decoration: underline;  }   .totopmap {      margin-left: 965px;      color: #2B7BC7;      text-decoration: none;      font-size: 15px;  }   .totopmap:hover {      text-decoration: underline;  }   .arrow {      padding-right: 15px;  }   .regulartitlemap {      color: #535353;      font-size: 25px;      font-weight: normal;      margin: 100px 0px 20px 20px;      font-weight: 600;  }   .regulartitleprice {      top: 0px;      color: #535353;      font-size: 25px;      font-weight: normal;      margin: 80px 0px 0px 20px;      font-weight: 600;  }   .even {      padding: 3px;      border-bottom: 1px solid #EEE;      height: 34px;  }   .even:hover {      background-color: #EAFBFB;  }   .pricing {      width: 700px;      margin: auto;      border: 0px solid black;      border-bottom: none;      border-bottom: 1px solid black;      border-collapse: collapse;      font-size: 17px;      text-align: center;      margin-top: 70px;  }   .countries {      list-style-type: none;      top: 0px;      margin: 100px 0px 100px;      text-align: left;  }   .countries li {      width: 188px;      margin: 5px 0 24px 0px;      display: inline-block;  }   .countries li.clear {      clear: left;  }   .countries li svg {      float: left;      margin: 0 10px 0 0;      border: 1px solid #e6e6e6;  }   .countries li a {      display: table;      width: 160px;      color: #666;      *display: block;      *position: relative;      cursor: pointer;      text-decoration: none;      vertical-align: middle;  }   .countries li a:hover {      color: #08c;  }   .countries li span {      display: table-cell;      width: 160px;      vertical-align: middle;      *display: block;      *position: absolute;      *top: 50%;  }   .countries li span span {      width: 100%;      *display: block;      *position: relative;      *top: -50%;  }   /* .menu { position:absolute; left:196px; top:27px; *font-family: arial, sans-serif; } .menu ul{ \tmargin:0px; \tlist-style-type: none; } .menu ul li{ \tfloat:left; \tpadding:0px; \tmargin:0px 35px 0px 5px; } .menu ul li a { \tdisplay:table; \tcolor:#999;     height:24px; \tcursor:pointer; \ttext-decoration:none; \tvertical-align:middle; } .menu ul li a:hover {  color:#333; } .menu ul li span { \tdisplay:table-cell;  padding: 0px;  font-size:14px; \tfont-weight:600; \tvertical-align:middle; \ttext-align:center; } .login {  font-size:14px;  font-weight:600;  text-align:center;  display:table;  color:#999;  cursor:pointer;  text-decoration:none;  line-height:0; } .login:hover {  color:#333; } .signup {  font-size:14px;  font-weight:600;  text-align:center;  display:table;  color:#999;  cursor:pointer;  text-decoration:none;  line-height:0; } .signup:hover {  color:#333; } */  .menu {      position: absolute;      right: 240px;      top: 27px;      *font-family: arial, sans-serif;  }   .menu ul {      margin: 0px;      list-style-type: none;  }   .menu ul li {      float: left;      padding: 0px;      margin: 0px 45px 0px 5px;  }   .menu ul li a {      display: table;      color: #888;      height: 24px;      cursor: pointer;      text-decoration: none;      vertical-align: middle;  }   .menu ul li a:hover {      color: #333;  }   .menu ul li span {      display: table-cell;      padding: 0px;      font-size: 14px;      font-weight: 600;      vertical-align: middle;      text-align: center;  }   .login {      font-size: 14px;      font-weight: 600;      text-align: center;      display: table;      color: #888;      cursor: pointer;      text-decoration: none;      line-height: 0;  }   .login:hover {      color: #333;  }   .signup {      font-size: 14px;      font-weight: 600;      text-align: center;      display: table;      color: #888;      cursor: pointer;      text-decoration: none;      line-height: 0;  }   .signup:hover {      color: #333;  }   .language {      cursor: pointer;  }   .language:hover {}   .language svg {      border: 1px solid #e6e6e6;  }   .download {      height: 24px;      background: #1EAB4B;      padding: 0px 25px 0px;      float: right;      border: none;      border-radius: 3px;      color: white;      font-family: 'Open Sans';      font-weight: 900;  }   button {      cursor: pointer;  }   .download:hover {      background: #27ae60;  }   .social_footer {      padding-left: 35px;      height: 12px;      display: inline-block;      margin: 5px 0px;      width: 120px;  }   .social_footer p {      float: left;      display: inline;      margin: 0px 13px;      color: #999;  }   .social_footer svg {      float: left;      display: inline;  }   .tmsdownloads {      background: #1EAB4B;      border: none;      line-height: 13px;      cursor: pointer;      min-height: 37px;      padding: 7px 0px;      color: #fff;      font-size: 15px;      font-family: 'Open Sans', sans-serif;      font-weight: 600;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   .tmsdownloads:hover {      background: #27ae60;  }   .blueBut {      background: #4683ea;      border: none;      cursor: pointer;      height: 37px;      color: #fff;      font-size: 15px;      font-family: 'Open Sans', sans-serif;      font-weight: 600;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   .blueBut:hover {      background: #4d92f7;  }   .orderBut {      background: #F6F9FF;      outline: none;  }   .orderBut:hover {      background: #dce9ff;  }   .hpLoginBlocks {      vertical-align: top;      max-width: 400px;      min-width: 310px;      width: 100%;      display: inline-block;      margin-bottom: 30px;  }   .market:hover {      box-shadow: 1px 2px #ddd;  }   #readMore {      margin: 30px auto 0px;      color: #0087e2;      fill: #0087e2;      cursor: pointer;  }   #readMore:hover,  #readMore:hover path {      color: #4d92f7;      fill: #4d92f7;  }   .simplelink {      text-decoration: none;      color: #333;  }   .simplelink:hover {      text-decoration: none;      color: #3665c1;  }   .right_submenu {      position: absolute;      height: 39px;      right: 45px;      top: 18px;      display: block;      border: 1px solid #E6E6E6;  }   footer {      font-size: 12px;      background: #f3f3f3;      background: -moz-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #f3f3f3), color-stop(100%, #fff));      background: -webkit-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -o-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -ms-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: linear-gradient(top, #f3f3f3 0, #fff 100%);      font-size: 12px;      padding: 30px 0 0px;      margin-top: 100px;      width: 100%;      height: 158px;      color: #888;      position: absolute;      bottom: 0px;  }   .footer_header {      font-weight: 300;      color: #555;      font-size: 13px;      text-align: left;      padding-left: 35px;  }   .flag svg {      border: 1px solid #e6e6e6;  }   .price {      width: 80%;      margin: auto;      border-collapse: collapse;  }   .price tr {      height: 36px;      border-bottom: 1px solid #ddd;  }   table .yel:hover td {      background: #e7f4fd;  }   .gre {      padding-left: 10px;      background: #fff;  }   .price button {      cursor: pointer;      font-size: 23px;      color: #fff;      border: none;      border-radius: 3px;      min-height: 40px;      box-shadow: 0px 2px 1px 1px #adadad;      padding: 0px 35px;  }   .doodle {      height: 0px;      position: relative;      bottom: 26px;  }   .signup_free {      background: #1EAB4B;  }   .signup_free:hover {      background: #27ae60;  }   .signup_pro {      background: #1548B8;  }   .signup_pro:hover {      background: #1851CE;  }   .free {      color: #1EAB4B;      font-size: 13px;      background: #f5f5f5;  }   .pro {      color: #1548B8;      font-size: 13px;      background: #f5f5f5;  }   .pricing_image {      margin: 85px auto 0px;      text-align: center;  }   .tworow {      width: 49.999%;      float: left;      display: inline;      text-align: center;      margin-top: 80px;  }   .tworow>div {      width: 30%;      max-width: 80px;      text-align: center;      margin: auto;  }   .half {      margin: 10px 10%;      text-align: center;      line-height: 1.6;  }   .oneimage {      text-align: center;      margin: auto;      margin-top: 85px;      max-width: 750px;      width: 100%;  }   #placeholder #lozenge {      fill: #666;  }   #placeholder:hover #lozenge {      fill: url(#SVGID_1_);  }   .passbut:hover {      text-decoration: underline;  }   #regbut:hover {      background: #21b951;  }   #loginbut:hover {      background: #70bcf0;  }   .passbut {      text-decoration: none;      color: #4683ea;  }   #regbut {      background: #1eab4b;  }   #loginbut {      background: #51aded;  }   input {      width: 300px;      height: 35px;      border: 1px solid #cccccc;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;      color: #555555;      font-size: 15px;  }   input[type='checkbox'] {      height: 16px;      width: 16px;  }   .linksimple {      color: #4683ea;      text-decoration: none;  }   .linksimple:hover {      color: #4683ea;      text-decoration: underline;  }   .linksimple:visited {      color: #4683ea;      text-decoration: none;  }   .LoginButton {      cursor: pointer;      border: none;      height: 62px;      color: white;      font-size: 16px;      font-weight: bold;      box-shadow: 0px 2px 1px 1px #adadad;      width: 330px;      margin: 15px auto 15px;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   #reghome {      background: #1eab4b;  }   #reghome:hover {      background: #21b951;  }   .regtable {      width: 55%;      margin: auto;      border-collapse: collapse;      text-align: center;  }   .regtable tr {      height: 48px;  }   .regtable td {      width: 50%;  }   .regtable input {      padding-left: 5px;      height: 30px;      color: #111;      background: #fff;  }   ::-webkit-input-placeholder {      color: #999;  }   :-moz-placeholder {      color: #999;      opacity: 1;  }   ::-moz-placeholder {      color: #999;      opacity: 1;  }   :-ms-input-placeholder {      color: #999;  }   .logo_svg:hover polygon {      fill: #00CACD;  }   .logo_svg:hover path {      fill: #00CACD;  }   /* FLOAT DIV STYLES */  .floatDiv {      position: absolute;      background: grey;      width: 300px;      height: 200px;      resize: both;      overflow: hidden;      border: 1px solid #bbb;      top: 100px;      left: 300px;  }   .floatDivTH {      width: 100%;      height: 25px;      background: #eee;      border: 1px solid #bbb;      cursor: pointer;      line-height: 0px;  }   .floatDivTH td {      width: 25px;  }   .floatDivTH td:first-child {      width: auto;      white-space: nowrap;  }   .rollDiv {      left: 0px;      top: 0px;      width: 200px;      resize: none;  }   .expandDiv {      left: 0px;      top: 0px;      height: 100%;      width: 100%;      resize: none;      border: none;  }   .topPan {      width: 100%;      height: 25px;      background: #eee;  }   .topClose {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 2px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .topExpand {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 27px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .topRoll {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 53px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .dock {      left: 0px;      bottom: 0px;      height: 33px;      width: 200px;      resize: none;      position: absolute;      background: grey;      overflow: hidden;  }   .undock {      left: 0px;      bottom: 0px;      height: auto;      max-height: 100%;      width: 200px;      resize: none;      position: absolute;      background: grey;      overflow: hidden;      overflow-y: auto;  }   .expandDock {      position: absolute;      left: 199px;      bottom: 0px;      width: 33px;      height: 33px;      cursor: pointer;      background: #eee;  }   .expandDock table,  .expandDock table tr td {      border: 1px solid #bbb;      text-align: center;      width: 100%;      height: 100%;      line-height: 0;  }   .rollDiv .topPan {      cursor: pointer;  }   .floatDiv .topPan {      cursor: default;  }   .st0,  .floatDivTH path {      fill: #444 !important;  }   #ratioWrap {      width: 95%;      max-width: 640px;      display: inline-block;      position: relative;      margin: 40px auto 20px;      /* z-index:25; */  }   #ratioWrap:after {      padding-top: 56.25%;      display: block;      content: '';  }   #div1 {      margin: auto;      position: absolute;      top: 0;      bottom: 0;      right: 0;      left: 0;      cursor: pointer;      text-align: center;      background: #fff;      \" } #placeholder{   margin:auto;   position: absolute;   top: 0;   bottom: 0;   right: 0;   left: 0;   cursor:pointer;   text-align:center;   background:#fff;\"  }   #contLogin {      margin-top: 0px;      padding-top: 30px;      padding-bottom: 130px;  }   #header {      position: fixed;      height: 79px;      width: 100%;      display: block;      background: white;      z-index: 21;      top: 0px;  }   .prodList {      text-align: center;      width: 100%;      margin-top: 75px;  }   .prodList a {      color: inherit;      display: inline-block;      margin: 0px 46px;      width: 210px;      border: 1px solid #eee;      border-radius: 20px;      background: #F6F9FF;      box-shadow: 1px 2px #ddd;      cursor: pointer;      text-decoration: none;      vertical-align: top;  }   .prodList div {      display: inline-block;      margin: 0px 50px;      width: 210px;      border: 1px solid #eee;      border-radius: 20px;      background: #F6F9FF;      box-shadow: 1px 2px #ddd;      cursor: pointer;  }   .prodList table {      width: 100%;      border-collapse: collapse;      border: none;      text-align: center;  }   .prodList tr:first-child td {      padding-top: 33px;  }   .prodList tr:nth-child(2) td {      padding: 9px 20px 20px;  }   .prodList tr:last-child td {      padding: 0px 20px 33px;      font-size: 14px;  }   .appList {      text-align: center;      width: 100%;      margin-top: 75px;  }   .appList a {      color: inherit;  }   .appList div {      display: inline-block;      margin: 0px 50px;      width: 210px;      cursor: pointer;  }   .sharePan {      width: 100%;      list-style-type: none;      padding: 0;  }   .sharePan li {      width: 25%;      float: left;      box-sizing: border-box;      height: 30px;  }   .sharePan a {      color: white;      text-decoration: none;      display: block;      width: 100%;      height: 100%;      position: relative;  }   .sharePan a div {      position: absolute;      top: 5px;      left: 40px;      font-weight: 700;  }   .sharePan a svg {      margin: 8px 15px;  }   .sharePan li:nth-child(1) {      background: #3b5998;  }   .sharePan li:nth-child(2) {      background: #1da1f2;  }   .sharePan li:nth-child(3) {      background: #006fa6;  }   .sharePan li:nth-child(4) {      background: #db4437;  }   .tag {      display: inline-block;      border-radius: 3px;      padding: 4px 20px;      margin: 5px 10px 5px 0px;      border: 1px solid transparent;      cursor: pointer;      font-size: 15px;      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .processes .tag {      background: rgba(70, 131, 234, 0.2);  }   .processes .tag:hover {      border: 1px solid background:rgba(70, 131, 234, 0.5);      background: rgba(70, 131, 234, 0.4);  }   .processes .activeTag {      background: rgba(70, 131, 234, 1);      color: white;  }   .processes .activeTag:hover {      background: #4d92f7;      border: 1px solid #4d92f7;  }   .services .tag {      background: rgba(30, 171, 75, 0.2);  }   .services .tag:hover {      border: 1px solid background:rgba(30, 171, 75, 0.5);      background: rgba(30, 171, 75, 0.4);  }   .services .activeTag {      background: rgba(30, 171, 75, 1);      color: white;  }   .services .activeTag:hover {      background: #1EAB4B;      border: 1px solid #1EAB4B;  }   .articles {      text-align: center;  }   .articles>a {      text-align: left;      display: inline-block;      margin: 20px 10px 0px 10px;      border-radius: 3px;      border: 1px solid transparent;      cursor: pointer;      text-decoration: none;      color: #777;      max-width: 284px;      width: 100%;      vertical-align: top;  }   .articles>a:hover {      opacity: .8;  }   .toKnowledge {      margin: 50px auto 30px;      text-align: right;  }   .toKnowledge a {      padding: 10px 20px;      background: #0087e2;      border: 1px solid #bbb;      color: white;      border-radius: 3px;  }   .toKnowledge a:hover {      background: #4d92f7;      border: 1px solid #ccc;      text-decoration: none;  }   .blueLink {      text-decoration: none;      color: #0087e2;  }   .blueLink:hover {      text-decoration: underline;  }   .articleTags {      width: 100%;  }   .articleTags div {      display: inline-block;      border-radius: 3px;      padding: 2px 4px;      margin: 5px 5px 5px 0px;      cursor: pointer;      font-size: 14px;      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .artProcTag {      background: rgba(70, 131, 234, 0.2);      color: #777;  }   .artProcTag.active {      background: rgba(70, 131, 234, 1);      color: white;  }   .artServTag {      background: rgba(30, 171, 75, 0.2);      color: #777;  }   .artServTag,  .active {      background: rgba(30, 171, 75, 1);      color: white;  }   .article h3 {      font-weight: 600;      font-size: 20px;      margin: 7px 0px 10px;  }   .article p {      font-style: italic;      margin: 0px 0px 8px;      font-size: 15px;  }   /* ------------------ARTICLES--------------------- */  .artB {      color: #444;      font-size: 18px;      line-height: 26px;  }   .artB h1 {      font-size: 44px;      font-weight: 700;      color: #191919;      text-align: center;      line-height: 60px;  }   .artB h2 {      font-size: 30px;      font-weight: 400;      color: #191919;      text-align: center;      line-height: 35px;  }   .artB table {      width: 100%;      vertical-align: top;      border-collapse: collapse;  }   .artB table.twotd td {      width: 50%;      vertical-align: top;  }   .artB table.threetd td {      width: 33%;      vertical-align: top;  }   .artB td {      border: 1px solid #999;      padding-left: 10px;  }   .artB td ol {      margin: 0px;  }   .artB ol {      margin: 0px;      margin: 35px 0px -13px 0px;      font-style: italic;      font-weight: 600;  }   .artB ol p {      color: #444;      /*font-size: 17px;*/      line-height: 26px;      font-style: initial;      font-weight: 300;      margin-left: -40px;  }   .artB ol i p {      font-style: italic;      color: #008b8b;  }   .artB p.total {      color: #134f5c;      font-weight: bold;      margin-top: 0px;  }   .artB iframe {      margin: auto;      display: block;  }   @media screen and (min-width: 1200px) {       #mob-menu-but,      #mob-menu {          display: none !important;      }       #cont {          display: block !important;      }  }   @media screen and (max-width: 1100px) {      .footSep {          visibility: hidden;      }  }   @media screen and (max-width: 1200px) {       #menu,      #submenu {          display: none;      }       #mob-menu-but {          width: 30px;          height: 30px;          position: absolute;          right: 4%;          top: 21px;          display: block;      }       #mob-menu {          display: none;          width: 100%;          background: white;          z-index: 9999;          margin: 0px;          padding: 0px;          margin-top: 89px;      }       #mob-menu li {          text-align: center;          list-style: none;          margin: 20px;      }       #mob-menu a {          text-decoration: none;          font-size: 16px;          font-weight: 500;          color: #0F3F9F !important;          cursor: pointer;      }  }   @media screen and (max-width: 750px) {      .maintext0 {          font-size: 30px;      }       .maintext1 {          font-size: 18px;      }       .maintext2,      .maintext4 {          font-size: 26px;      }       .maintext4 {          margin: 15px 0px 30px;      }       .pricing_image {          margin: 70px auto 20px;      }       .half {          14px;      }       #cont {          margin-top: 50px;      }  }   @media screen and (max-width: 650px) {      .sharePan div {          display: none;      }       .articles>a {          margin: 50px 0px 0px 0px;      }  }   @media screen and (max-width: 450px) {      .artB h1 {          font-size: 26px;          font-weight: 400;          color: #191919;          text-align: center;          line-height: 40px;      }       .artB h2 {          font-size: 22px;          font-weight: 400;          font-style: italic;          color: #191919;          text-align: center;          line-height: 30px;      }       .maintext0 {          font-size: 26px;      }       .maintext1 {          font-size: 18px;      }       .maintext2 {          font-size: 25px;          margin: 50px 0px 0px;      }       .maintext4 {          font-size: 25px;          margin: 10px 0px 20px;      }       .pricing_image {          margin: 40px auto 20px;      }       .half {          14px;      }       .tworow {          width: 100%;      }       .hpLoginBlocks {          min-width: initial;      }       #cont {          margin-top: 30px;      }  }   /* ------------------------LOGOS---------------------------- */  .logo_svg_maintain:hover svg {      fill: #0044ff;  }   .logo_svg_order:hover svg {      fill: #ff4400;  }   /* ------------------------LOGOS END------------------------ */  /* ------------------------PRODUCTS MENU-------------------- */  #products_menu {      position: absolute;      right: -100px;      top: 35px;      width: 346px;      background: white;      border-radius: 3px;      border: 1px solid #ccc;      display: none;      box-shadow: 0 2px 10px rgba(0, 0, 0, .2);      box-sizing: border-box;      font-size: 15px;      color: #222;  }   #products_menu>div {      padding: 30px 30px 30px 30px;      box-sizing: border-box;  }   #products_menu>div>a {      display: inline-block;      width: 90px;      height: 90px;      border: 1px solid transparent;      vertical-align: top;      text-align: center;      cursor: pointer;      border-radius: 3px;      box-sizing: border-box;      text-decoration: none;      color: #222;  }   #products_menu>div>a:hover {      border: 1px solid #e6e6e6;  }   #products_menu>a>button {      width: 100%;      background: #eee;      height: 40px;      border: none;  }   #products_menu>a>button:hover {      width: 100%;      background: #e7e7e7;      height: 40px;      border: none;  }   /* ------------------------PRODUCTS MENU END----------------- */  /* ------------------------SUPPORT MENU---------------------- */  .collapseDiv {      width: 100%;      display: none;      padding: 15px 0px;      box-sizing: border-box;      background: #333;  }   .collapseDiv>a {      display: block;      text-decoration: none;      width: 100%;      background: #333;      padding: 5px 30px 5px 40px;      box-sizing: border-box;      cursor: pointer;      color: #fff;  }   .collapseDiv>a:hover {      background: #222;  }   .plusM {      float: right;      margin-right: 10px;  }   .supMen {      width: 100%;      background: #eee;      padding: 10px 20px;      box-sizing: border-box;      cursor: pointer;      border-top: 1px solid #ccc;  }   .supMen:hover {      background: #ddd;  }   .supMenAct {      width: 100%;      background: #c5c5c5;      padding: 10px 20px;      box-sizing: border-box;      cursor: pointer;      border-top: 1px solid #ccc;  }   .supMenAct:hover {      background: #bbb;  }   @media screen and (max-width: 400px) {      .plusM {          visibility: hidden;      }  }   .artImg {      width: 100%;  }   .supArtMenIt {      width: 100%;      padding: 10px 0px;  }   .supArtMenIt>a {      display: block;      text-decoration: none;      width: 100%;      cursor: pointer;      padding: 10px 10px;      font-size: 14px;      box-sizing: border-box;      color: #444;      text-align: left;  }   .supArtMenIt>a:hover {      background: #eee;  }   .supArtMenItAct {      color: blue;      border-left: 3px solid blue;      font-weight: 600;  }   .supMenArt {      vertical-align: top;      display: inline-block;      max-width: 280px;      min-width: 250px;      margin: 80px auto;      box-shadow: -10px 5px 20px -5px #ccc;      border-left: 1px solid #ccc;      box-sizing: border-box;      float: right;      color: #222;  }   @media screen and (max-width: 1070px) {      .supMenArt {          display: block;          float: none;          max-width: 600px;          min-width: 0px;          box-shadow: -4px 7px 50px -5px #ccc;      }  }   /* ------------------------SUPPORT MENU END------------------ */  /* ------------------------SUPPORT ARTICLE------------------- */  .artS {      max-width: 700px;      text-align: left;      margin-top: 68px;      color: #222;      font-size: 15px;      line-height: 31px;      display: inline-block;  }   .artS h1,  .artS h2 {      text-align: left;      font-weight: 400;  }   .artS h1 {      font-size: 40px;      line-height: 60px;  }   .artS img {      width: 100%;      height: auto;  }   .artS .emb {      width: 100%;      text-align: center;  }   .artS .emb div {      font-size: 27px;      margin: 43px auto;      color: #999;  }   .artS .emb img {      width: 90%;      margin: auto;  }   .artS .emb p {      text-align: left;  }   .artS .emb textarea {      width: 90%;      font-size: 15px;      height: 100px;  }   .artS .artImg {      width: 100%;      max-width: 120px;      float: right;      margin: 18px 10px 10px 40px;  }   .artS .clearD {      width: 100%;      height: 40px;      visibility: hidden;      clear: both;  }   .artS ol {      margin: 0px;      font-style: normal;      font-weight: inherit;  }   .artS a {      color: #4184f1;      text-decoration: none;  }   .artS a:hover {      text-decoration: underline;  }   .artS .aNewT:after {      content: '';      background: no-repeat url(http://www.logision.com/img/newBlank.png);      display: inline-block;      height: 10px;      margin: 0 3px 0 5px;      width: 10px;  }   /* ------------------------SUPPORT ARTICLE END--------------- */</style>"+e.data.body.replace(/\/images\/blog/gi,"https://websiter.dev/images/blog").replace(/href="https:\/\/websiter.dev/gi,'href="https://addspire.com')),p(e.data.title)}).catch(function(e){})},[e.history.location.pathname]),r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(Cn.a,null,r.a.createElement("title",null,d)),r.a.createElement(Dn,{header:r.a.createElement(we.a,{variant:"h6",className:t.title,color:"inherit",noWrap:!0},d)},r.a.createElement(lr,null),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}})))})),ur=a(398),dr=a.n(ur),pr={default:4,1600:3,1100:2,600:1},mr={default:4,1100:3,700:2,310:1},fr=function(e){return r.a.createElement("div",{style:Object(O.a)({},e.style)},r.a.createElement(dr.a,Object(R.a)({breakpointCols:3,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},"breakpointCols",e.friends?pr:mr),e.children))},gr=Object(b.g)(Object(u.b)(function(e){return{progressData:e.progressData}})(function(e){var t=e.id;if(!e.progressData[t])return null;return r.a.createElement("span",{style:Object(O.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(t){var a;t.stopPropagation(),e.history.push("/goals/"+(a||e.id))}},function(t){return e.progressData[t].name}(t))})),hr=(a(67),a(399)),br=a(409),yr=a(883),xr=a(291),Er=a.n(xr),vr=a(882),wr=a(880),kr=a(881),Or=a(902),jr=function(e){return r.a.createElement(bt.a,Object.assign({direction:"up"},e))},Ar=Object(Je.a)(function(e){return Object(Ge.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),Sr=function(e){var t=e.mapVisible,o=e.setMapVisible,i=e.setIsSearching,l=e.setNoMore,c=e.setFoundProgresses,s=e.onSearch,u=e.onGetPopular,d=e.setSearch,p=e.search,m=Object(n.useRef)(null),f=Object(n.useState)(!1),g=Object(j.a)(f,2),h=g[0],b=g[1];Object(n.useEffect)(function(){m&&m.current&&m.current.leafletElement&&((new Ln.Geosearch).addTo(m.current.leafletElement),new Hn.GestureHandling(m.current.leafletElement))},[]);var y=function(e){d(Object(O.a)({},p,{zoom:e.target._zoom,position:[e.target.getCenter().lat,e.target.getCenter().lng],withMap:!0}))};Object(n.useEffect)(function(){x()},[e.search]);var x=function(){if(m&&m.current&&m.current.leafletElement){var e=40075016.686*Math.abs(Math.cos(m.current.leafletElement.getCenter().lat*Math.PI/180))/Math.pow(2,m.current.leafletElement.getZoom()+8);b("mi"===p.units?1609*p.distance/e:1e3*p.distance/e)}},E=Ar();return r.a.createElement(pt.a,{fullScreen:!0,open:t,onClose:function(){o(!1),p.withMap||p.value?(i(!0),l(!1),c([]),s()):u()},TransitionComponent:jr},r.a.createElement(yt.a,{className:E.appBar,color:"primary"},r.a.createElement(xt.a,null,r.a.createElement(gt.a,{edge:"start",color:"inherit",onClick:function(){o(!1),p.withMap||p.value?(i(!0),l(!1),c([]),s()):u()},"aria-label":"close"},r.a.createElement(vt.a,null)),r.a.createElement(we.a,{variant:"h6",className:E.title,color:"inherit"},"Search with location"),r.a.createElement(Re.a,{autoFocus:!0,color:"inherit",onClick:function(){o(!1),p.withMap||p.value?(i(!0),l(!1),c([]),s()):u()}},"Done"))),r.a.createElement(xt.a,null),r.a.createElement(wr.a,{container:!0,style:{padding:"15px",maxWidth:"800px"},alignItems:"center"},r.a.createElement(wr.a,{item:!0,xs:4,sm:4},"Search with location"),r.a.createElement(wr.a,{item:!0,xs:8,sm:8},r.a.createElement(kr.a,{checked:p.withMap,color:"primary",onChange:function(e){d(Object(O.a)({},p,{withMap:e.target.checked}))}})),r.a.createElement(wr.a,{item:!0,xs:4},"Distance"),r.a.createElement(wr.a,{item:!0,xs:8},r.a.createElement(Or.a,{valueLabelDisplay:"auto",min:1,max:500,onChange:function(e,t){return d(Object(O.a)({},p,{distance:t}))},value:p.distance})),r.a.createElement(wr.a,{item:!0,xs:4},"Units"),r.a.createElement(wr.a,{item:!0,xs:8},r.a.createElement(_e.a,{value:p.units,onChange:function(e){return d(Object(O.a)({},p,{units:e.target.value}))}},r.a.createElement(Te.a,{value:"mi"},"mi"),r.a.createElement(Te.a,{value:"km"},"km")))),r.a.createElement("div",{style:{position:"relative",minHeight:"300px",flex:1,marginTop:"30px",overflow:"hidden"}},r.a.createElement(Rn.a,{whenReady:function(){x()},ref:m,center:p.position,zoom:p.zoom,style:{width:"100%",height:"100%",position:"relative",zIndex:1},ondragend:y,onmoveend:y,gestureHandling:!0},r.a.createElement(Bn.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(Xn,null)),r.a.createElement("div",{style:{backgroundImage:"url(".concat(a(368),")"),width:"20px",height:"35px",position:"absolute",zIndex:3,left:"calc(50% - 10px)",top:"calc(50% - 35px)",pointerEvents:"none",touchAction:"none"}}),r.a.createElement("div",{style:{background:"rgba(82, 95, 165, .15)",width:2*h+"px",height:2*h+"px",position:"absolute",zIndex:"2",left:"calc(50% - "+h+"px)",top:"calc(50% - "+h+"px)",pointerEvents:"none",touchAction:"none",borderRadius:h+"px",border:"1px rgba(82, 95, 165, .5) solid"}})))};function Dr(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Cr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cr(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var _r=Object(Je.a)(function(e){return Object(Ge.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"relative"},title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}})}),Tr=function(e,t){return(e.views||0)>(t.views||0)?-1:1},Nr=Object(u.b)(function(e){return{account:e.account,progressData:e.progressData}})(function(e){var t=e.account,a=e.progressData,o=Object(n.useState)(!1),i=Object(j.a)(o,2),c=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(j.a)(d,2),m=p[0],f=p[1],g=Object(n.useState)([]),h=Object(j.a)(g,2),b=h[0],y=h[1],x=Object(n.useState)([]),E=Object(j.a)(x,2),v=E[0],w=E[1],A=Object(n.useState)(!1),D=Object(j.a)(A,2),C=D[0],_=D[1],T=Object(n.useState)(!1),N=Object(j.a)(T,2),I=N[0],z=N[1],M=Object(n.useState)({value:"",withMap:!1,distance:20,zoom:7,position:[40.689078,-74.044526],units:"mi"}),P=Object(j.a)(M,2),F=P[0],R=P[1],B=Object(n.useState)(""),L=Object(j.a)(B,2),W=L[0],Y=L[1],U=function(e,t){C&&!t||(_(!0),s.a.post("/api/explore/search",{value:e?Object(O.a)({},F,{value:e}):F,skip:t?0:b.length}).then(function(e){if(e.data.success){_(e.data.noMore),y(e.data.progresses),0===e.data.progresses.length&&S.b.warning("There are no progresses found.");var t,a={},n=Dr(e.data.friends);try{for(n.s();!(t=n.n()).done;){var r=t.value;a[r._id]=r}}catch(o){n.e(o)}finally{n.f()}}else e.data.errorCode&&S.b.error("Something is wrong with the data. Please try one more time with new data.")}).catch(function(e){}))},V=function(){I||(z(!0),s.a.post("/api/explore/popular",{skip:v.length}).then(function(e){if(e.data.success){z(e.data.noMore),w([].concat(Object(k.a)(v),Object(k.a)(e.data.progresses)));var t,a={},n=Dr(e.data.friends);try{for(n.s();!(t=n.n()).done;){var r=t.value;a[r._id]=r}}catch(o){n.e(o)}finally{n.f()}}else e.data.errorCode&&S.b.error("Something is wrong with the data. Please try one more time with new data.")}).catch(function(e){}))},X=_r(),H=[];return t._id&&t.recentProgresses&&(H=t.recentProgresses.filter(function(e){return a[e]}).map(function(e){return a[e]})),r.a.createElement(Dn,{header:r.a.createElement(Qe.a,{className:X.root,variant:"outlined"},r.a.createElement(yn.a,{className:X.input,placeholder:"Search goals",onChange:function(e){e.target.value||F.withMap||(_(!1),y([]),u(!1),R(Object(O.a)({},F,{value:""}))),Y(e.target.value)}}),r.a.createElement(gt.a,{className:X.iconButton,onClick:function(){W?(u(!0),W!==F.value&&(_(!1),y([]),R(Object(O.a)({},F,{value:W})),U(W,!0))):(_(!1),R(Object(O.a)({},F,{value:W})),u(!1))}},r.a.createElement(xn.a,null)),r.a.createElement(ga.a,{className:X.divider,orientation:"vertical"}),r.a.createElement(gt.a,{className:X.iconButton,onClick:function(){return f(!0)},color:F.withMap?"primary":"default"},r.a.createElement(vr.a,null)))},r.a.createElement("div",null,r.a.createElement(Cn.a,null,r.a.createElement("title",null,"Explore goals and ideas from around the World!"),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),r.a.createElement(Sr,{mapVisible:m,setMapVisible:f,setIsSearching:u,setNoMore:_,setFoundProgresses:y,onSearch:U,onGetPopular:V,setSearch:R,search:F}),r.a.createElement(lr,null),r.a.createElement(at,{title:"Recently viewed goals by you",items:H,content:function(e){return r.a.createElement(Ze.a,null,r.a.createElement(l.b,{to:"/goals/"+e._id},r.a.createElement(Le.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:nt[rt(e._id)],title:e.name}),r.a.createElement(Be.a,{style:{padding:"5px"}},r.a.createElement(we.a,{variant:"body2",noWrap:!0},e.name))))}}),r.a.createElement(we.a,{className:X.title,color:"textSecondary",gutterBottom:!0},"Top goals and resolutions"),c?b.length>0?r.a.createElement(Er.a,{pageStart:0,loadMore:U(),hasMore:!C,loader:r.a.createElement("div",{className:"loader",key:0},"Loading ...")},r.a.createElement(fr,null,b.sort(Tr).map(function(e,t){return r.a.createElement(ot,{id:e._id,key:t,onClickLink:"/goals/"+e._id,images:e.images,body:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold"}},e.name)),actions:r.a.createElement(Ra,{link:"https://addspire.com/goals/"+e._id,title:e.name+" goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",media:e.images&&e.images[0]})})}))):null:r.a.createElement(Er.a,{pageStart:0,loadMore:V,hasMore:!I,loader:r.a.createElement("div",{className:"loader",key:0},"Loading ...")},r.a.createElement(fr,null,v.sort(Tr).map(function(e,t){return r.a.createElement(ot,{id:e._id,key:t,onClickLink:"/goals/"+e._id,images:e.images,body:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold"}},e.name)),actions:r.a.createElement(Ra,{link:"https://addspire.com/goals/"+e._id,title:e.name+" goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",media:e.images&&e.images[0]})})})))))});function Ir(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return zr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zr(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}Se.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s",s:"now",ss:"now",m:"1 min",mm:"%d mins",h:"1 hr",hh:"%d hrs",d:"1 day",dd:"%d days",w:"1 wk",ww:"%d wks",M:"1 mth",MM:"%d mths",y:"a year",yy:"%d years"}}),Se()().format();var Mr=function(e){return r.a.createElement(bt.a,Object.assign({direction:"up"},e))},Pr=Object(Je.a)(function(e){return Object(Ge.a)({title:{marginLeft:e.spacing(2),flex:1},sectionTitle:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}})}),Fr=Object(b.g)(Object(u.b)(function(e){return{account:e.account,profile:e.profile,isAuthed:e.isAuthed,friendData:e.friendData,progressData:e.progressData,transactionData:e.transactionData,rewardData:e.rewardData}},function(e){return{setData:function(t){return e(I(t))},setPageTitle:function(t){return e(z(t))},tryAuth:function(t,a){return e(_(t))},increaseAvatarV:function(){return e({type:"INCREASE_AVATAR_V"})}}})(function(e){var t=Object(n.useState)("accounts"),a=Object(j.a)(t,2),o=a[0],i=a[1],c=Pr(),s=Object(n.useState)({}),u=Object(j.a)(s,2),d=u[0],p=u[1],m=Object(n.useState)(""),f=Object(j.a)(m,2),g=f[0],h=f[1],b=e.isAuthed?e:d,y=b.profile,x=b.account,E=b.progressData,v=b.transactionData,w=b.rewardData,k=Object(n.useState)(),A=Object(j.a)(k,2),D=A[0],C=A[1],_=Object(n.useState)(""),T=Object(j.a)(_,2),N=T[0],I=T[1],z=Object(n.useState)(!1),M=Object(j.a)(z,2),P=M[0],F=M[1],R=Object(n.useState)(!1),B=Object(j.a)(R,2),L=B[0],W=B[1];if(Object(n.useEffect)(function(){var t=e.history.location.pathname.split("/");if(t.length>2){var a=t[2];e.isAuthed?e.setData({currentProfile:a}):Ua(e,0,p,0,function(t){var a,n={},r=Ir(t.friendData);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o._id]=o}}catch(f){r.e(f)}finally{r.f()}var i,l={},c=Ir(t.progressData);try{for(c.s();!(i=c.n()).done;){var s=i.value;l[s._id]=s}}catch(f){c.e(f)}finally{c.f()}var u,d={},p=Ir(t.rewardData);try{for(p.s();!(u=p.n()).done;){var m=u.value;d[m._id]=m}}catch(f){p.e(f)}finally{p.f()}e.setData({profile:t.profile,friendData:n,progressData:l,rewardData:d,account:{}})})}else e.isAuthed&&e.setData({currentProfile:x._id})},[e.isAuthed,e.history.location.pathname,e.account._id]),!y||!y._id)return null;var Y=x&&x._id&&x._id===y._id;e.setPageTitle({main:y.name,sub:""});var U=[],V=[],X=[];if(y&&y.friends&&x&&x._id){var H,J=Ir(x.friends);try{for(J.s();!(H=J.n()).done;){var G=H.value;"friend"===G.status?U.push(G):"invited"===G.status?V.push(G):"inviting"===G.status&&X.push(G)}}catch($){J.e($)}finally{J.f()}}var Q,q=y.progresses,K=y.transactions;return q&&(Q=q.filter(function(e){return E[e]}).map(function(e){return E[e]})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn.a,null,r.a.createElement("title",null,y.name," - Addspire - Explore goals and ideas from around the World!"),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),r.a.createElement(Dn,{header:r.a.createElement(we.a,{variant:"h6",className:c.title,color:"inherit",noWrap:!0},y.name)},r.a.createElement(Qe.a,{style:{padding:"15px"}},r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},Y?r.a.createElement(kt.a,{name:"avatar",accept:"image/*",listType:"picture-card",className:hr.Avatar,showUploadList:!1,customRequest:function(t){var a=t.file;At(a,800,"avatar",function(t){t&&e.increaseAvatarV()})}},r.a.createElement("div",{style:{flex:1,display:"flex",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},onClick:function(t){window.isRNWebView&&(t.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(t){e.increaseAvatarV()})}},x.image?r.a.createElement(Ee.a,{src:ve(x._id,x.image),size:150,style:{margin:"25px"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))):r.a.createElement(Ee.a,{src:ve(y._id,y.image),size:200}),r.a.createElement(Ke.a,{style:{padding:"0 15px"}},r.a.createElement(br.a.Title,{level:2,editable:!!Y&&{onChange:function(e){return t={name:e},a=x._id,void(Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"editAccount",name:t.name,accountId:a})));var t,a},icon:r.a.createElement(gt.a,{color:"primary"},r.a.createElement(yr.a,null)),maxLength:Rt,autoSize:{minRows:1,maxRows:1}}},y.name)),r.a.createElement(we.a,{variant:"h5"},"(",y._id,")"),r.a.createElement(Ke.a,{style:{margin:"5px 0px"}},r.a.createElement(Re.a,{onClick:function(){return h("followers")},style:{marginRight:"20px"}},r.a.createElement("span",{style:{textTransform:"none"}},y.followingAccounts.length," Followers")),r.a.createElement(Re.a,{onClick:function(){return h("following")}},r.a.createElement("span",{style:{textTransform:"none"}},y.followProgresses.length+y.followAccounts.length," ","Following"))),r.a.createElement("div",null,r.a.createElement(Ra,{link:"https://addspire.com/profile/"+y._id,media:y.image&&ve(y._id,y.image),title:y.name+" account on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions."}),x&&x._id!==y._id&&r.a.createElement("span",{style:{marginRight:"10px"}},U.find(function(e){return e.friend===y._id})?r.a.createElement(Ne.a,{color:"primary",label:"Friends"}):null,x.followAccounts&&!x.followAccounts.includes(y._id)&&r.a.createElement(Re.a,{color:"primary",onClick:function(){return fe(x._id,y._id)},style:{marginRight:"20px"},variant:"contained"},"Follow")),r.a.createElement(hn,{account:x,realFriends:U,invitedFriends:V,invitingFriends:X,_id:y._id,additionalButtons:Y?[{onClick:function(){return e.history.push("/logout")},title:"Logout"}]:null,asText:!0})),r.a.createElement(Ke.a,null))),r.a.createElement(at,{title:"Goals",items:Q.sort(Tr),content:function(e){return r.a.createElement(Ze.a,null,r.a.createElement(l.b,{to:"/goals/"+e._id},r.a.createElement(Le.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:nt[rt(e._id)],title:e.name}),r.a.createElement(Be.a,{style:{padding:"5px"}},r.a.createElement(we.a,{variant:"body2",noWrap:!0},e.name))))},withAdd:Y,addTitle:"Add goal",onAdd:function(){return F(!0)}}),Y&&V.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{title:"Pending friendships",items:V,content:function(e){return r.a.createElement(Be.a,{style:{textAlign:"center",padding:"5px"}},r.a.createElement(Ke.a,null,r.a.createElement(ke,{noName:!0,id:e.friend,size:80})),r.a.createElement(ke,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(Ke.a,{style:{margin:"5px 0"}},r.a.createElement(Re.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return be(x._id,e.friend)}},"Accept")),r.a.createElement(Ke.a,null,r.a.createElement(Re.a,{size:"small",onClick:function(){return ye(x._id,e.friend)}},"Decline")))}})),Y&&X.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{title:"Awaiting approval",items:X,content:function(e){return r.a.createElement(Be.a,{style:{textAlign:"center",padding:"5px"}},r.a.createElement(Ke.a,null,r.a.createElement(ke,{noName:!0,id:e.friend,size:80})),r.a.createElement(ke,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(Ke.a,null,r.a.createElement(Re.a,{size:"small",onClick:function(){return ye(x._id,e.friend)}},"Decline")))}})),r.a.createElement(at,{title:"Friends",items:U,content:function(e){return r.a.createElement(Be.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(Ke.a,null,r.a.createElement(ke,{noName:!0,id:e.friend,size:80})),r.a.createElement(ke,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(hn,{account:x,realFriends:U,invitedFriends:V,invitingFriends:X,_id:e.friend,asIcons:!0,minimized:!0}))},withAdd:Y,addTitle:"Add friend",onAdd:function(){return W(!0)}}),r.a.createElement(at,{title:"Recieved and given rewards",items:K.map(function(e){return v[e]}).filter(function(e){return e}).filter(function(e){return w[e.reward]}).map(function(e){return Object(O.a)({},e,{rewardObject:w[e.reward]})}).sort(function(e,t){if("Confirmed"===e.status&&"Confirmed"!==t.status)return 1;if("Confirmed"!==e.status&&"Confirmed"===t.status)return-1;if("Confirmed"!==e.status&&"Confirmed"!==t.status){if(e.to===y._id&&t.to!==y._id)return 1;if(e.to!==y._id&&t.to===y._id)return-1}return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1}),content:function(e){return r.a.createElement(Be.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(l.b,{to:"/rewards/"+e.rewardObject._id},r.a.createElement(Le.a,{style:{height:"150px",backgroundSize:"contain"},image:e.rewardObject.images.length>0?e.rewardObject.images[0]:nt[rt(e._id)],title:e.rewardObject.name}),r.a.createElement(Be.a,{style:{padding:"5px"}},r.a.createElement(we.a,{variant:"body2",noWrap:!0},e.rewardObject.name),r.a.createElement("span",{style:ma},Se()(e.date).fromNow()))),r.a.createElement(ke,{noName:!0,id:e.rewardObject.from,size:25}),">",r.a.createElement(ke,{noName:!0,id:e.rewardObject.to,size:25}),"Confirmed"!==e.status&&r.a.createElement(Re.a,{color:"primary",variant:"contained",onClick:function(){return t=x._id,a=e._id,void(t&&a&&Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"confirmTransaction",id:a,accountId:t})));var t,a}},e.to===y._id?"Received":"Gave"))}}),r.a.createElement(zn,{owner:y}),r.a.createElement(zn,{owner:y,wish:!0}),Y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{className:c.sectionTitle,color:"textSecondary",gutterBottom:!0},"Settings"),r.a.createElement(Qe.a,{style:{padding:"15px"}},r.a.createElement(Ke.a,null,r.a.createElement(Re.a,{onClick:function(){return e.history.push("/logout")},color:"secondary"},"Logout")),r.a.createElement(Re.a,{onClick:function(){return C(!0)},color:"secondary"},"Delete account")),r.a.createElement(pt.a,{open:Boolean(D)},r.a.createElement(mt.a,null,"Delete account"),r.a.createElement(ht.a,null,r.a.createElement(Ja.a,null,r.a.createElement("p",null,"Please enter your nickname (",x._id,") and press Ok to delete your account."),r.a.createElement(Gt.a,{onChange:function(e){return I(e.target.value)}}))),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){return C(!1)}},"Cancel"),r.a.createElement(Re.a,{onClick:function(){var e;N!==x._id?S.b.warning("The nickmanme is not correct."):(e=x._id,Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"deleteAccount",accountId:e})))},color:"primary"},"Delete"))))),r.a.createElement(pt.a,{open:Boolean(g),onClose:function(){return h("")},title:"following"===g?"Following":"Followers",fullWidth:!0,maxWidth:"md"},r.a.createElement(mt.a,null,"following"!==g&&"Followers","following"===g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{style:{margin:"0px 20px 0px 0px"},color:"accounts"===o?"primary":"default",onClick:function(){return i("accounts")},variant:"contained"},"Accounts"),r.a.createElement(Re.a,{color:"goals"===o?"primary":"default",onClick:function(){return i("goals")},variant:"contained"},"Goals"))),r.a.createElement(ht.a,null,"following"===g?"accounts"===o?y.followAccounts.map(function(e){return r.a.createElement(ot,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(la,{account:x,id:e}),body:r.a.createElement(ke,{span:!0,id:e,size:50})})}):r.a.createElement(fr,null,y.followProgresses.map(function(e){return r.a.createElement(ot,{id:e,onClickLink:"/goals/"+e,key:e,actions:r.a.createElement(la,{type:"progress",account:x,id:e}),body:r.a.createElement(gr,{span:!0,id:e,size:50}),style:{marginTop:"20px"}})})):y.followingAccounts.map(function(e){return r.a.createElement(ot,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(la,{account:x,id:e}),body:r.a.createElement(ke,{span:!0,id:e,size:50})})})),r.a.createElement(ft.a,null,r.a.createElement(Re.a,{onClick:function(){return h("")},color:"primary"},"Close"))),Y&&r.a.createElement(pt.a,{fullScreen:!0,open:P,onClose:function(){F(!1)},TransitionComponent:Mr},r.a.createElement(en,{setStartProgressVisible:F,account:x,friendData:e.friendData,cancel:function(){return F(!1)}})),Y&&r.a.createElement(ia,{open:L,close:function(){W(!1)},title:"Add friend"},r.a.createElement(kn,{close:function(){return W(!1)},open:L,account:x,friendData:e.friendData})))})),Rr=a(888),Br=Object(Je.a)(function(e){return Object(Ge.a)({title:{marginLeft:e.spacing(2),flex:1}})}),Lr=Object(b.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,user:e.user,account:e.account,accountNotActive:e.accountNotActive}},function(e){return{setPageTitle:function(t){return e(z(t))},setAccountActivated:function(t){return e(function(e){return{type:"SET_ACCOUNT_ACTIVATED",value:e}}(t))}}})(function(e){var t=Br();e.isAuthed||e.history.push("/logout"),Object(n.useEffect)(function(){e.accountNotActive||e.history.push("/settings")},[e.accountNotActive]);return r.a.createElement(Rr.a,{header:r.a.createElement(we.a,{variant:"h6",className:t.title,color:"inherit",noWrap:!0},"Activate account")},r.a.createElement(x.a,Object.assign({name:"dynamic_form_nest_item",onFinish:function(t){s.a.post("/api/activate-account",Object(O.a)({},t)).then(function(t){t.data.success?(S.b.success("Your account has been activated!"),e.setAccountActivated(!1)):(t.data.nicknameNotUnique&&S.b.warning("The nickname is taken. Choose another nickname please."),t.data.errorCode&&S.b.error("Something is wrong with the data. Please try one more time with new data."))}).catch(function(e){})},autoComplete:"off"},{labelCol:{span:8},wrapperCol:{span:16}},{style:{marginTop:"50px"}}),r.a.createElement(x.a.Item,{label:"Name",name:"name",rules:Ut},r.a.createElement(E.a,{placeholder:"Must be more than 1 character long"})),r.a.createElement(x.a.Item,{label:"Nickname",name:"nickname",rules:Wt},r.a.createElement(E.a,{placeholder:"Must be more than 1 character long"})),r.a.createElement(x.a.Item,{wrapperCol:{offset:8,span:16}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large"},"Save"))))})),Wr=a(248),Yr=a.n(Wr);function Ur(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Vr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Vr(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Xr=Object(b.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,statePosts:e.post,progress:e.progress,friendData:e.friendData,progressData:e.progressData,lastNotifications:e.lastNotifications}},function(e){return{setData:function(t){e(I(t))},setPageTitle:function(t){return e(z(t))}}})(function(e){var t=e.account,a=e.friendData,n=e.progressData,o=function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1};if(!t._id)return null;var i,l=[],c=Ur(t.followProgresses);try{for(c.s();!(i=c.n()).done;){var s=i.value;n[s]&&(l=[].concat(Object(k.a)(l),Object(k.a)(n[s].notifications)))}}catch(f){c.e(f)}finally{c.f()}var u,d=Ur(t.friends);try{for(d.s();!(u=d.n()).done;){var p=u.value;a[p.friend]&&"friend"===p.status&&a[p.friend].notifications&&(l=[].concat(Object(k.a)(l),Object(k.a)(a[p.friend].notifications)))}}catch(f){d.e(f)}finally{d.f()}var m=function(e,t,a,n){return e.find(function(e){return e.notId===t.notId})||e.push(t),e};return l=(l=l.reduce(m,[])).sort(o).slice(0,100),l=(l=(l=[].concat(Object(k.a)(l),Object(k.a)(t.myNotifications)).filter(function(e){return"add post"!==e.code})).reduce(m,[])).sort(o),Yr()(l,e.lastNotifications)||e.setData({lastNotifications:l}),r.a.createElement("span",null)})),Hr=Object(b.g)(Object(u.b)(null,function(e){return{tryAuth:function(t){return e(_(t))}}})(function(e){return window.addEventListener("message",function(t){try{var a=JSON.parse(t.data);switch(a.message){case"token":var n=a.token;e.tryAuth(n);break;case"callback":window.callback(a.url);break;case"back":e.history.location.key?e.history.goBack():window.isRNWebView&&window.ReactNativeWebView.postMessage("exit");break;default:return}}catch(r){return void console.error("failed to parse message from react-native "+r)}}),r.a.createElement(r.a.Fragment,null)})),Jr=a(405),Gr=a(404);Se()().format();var Qr=Object(b.g)(Object(u.b)(function(e){return{lastNotifications:e.lastNotifications}})(function(e){var t=e.lastNotifications,a=function(e){return r.a.createElement("span",{style:{fontWeight:"bold"}},e.details.reward.money?"$"+e.details.reward.money:e.details.reward.simple||e.details.reward.itemName)};return Object(n.useEffect)(function(){var a,n;a=e.account._id,n=t.reduce(function(e,t){return e>(t=parseInt(t.notId))?e:t},0),Z&&1===Z.readyState&&Z.send(JSON.stringify({messageCode:"setLastSeenNot",accountId:a,notId:n}))},[t]),r.a.createElement(qe.a,null,r.a.createElement(Be.a,null,t.map(function(t,n){var o,i=null;switch(t.code){case"change name":i=r.a.createElement("span",null," ",r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," changed name.");break;case"delete account":i=r.a.createElement("span",null,t.user,"deleted account.");break;case"friend request":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," wants to become friends with you.");break;case"friend add":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," and ",r.a.createElement(ke,{span:!0,noAva:!0,id:t.details.friend})," became friends.");break;case"unfriend":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," and ",r.a.createElement(ke,{span:!0,noAva:!0,id:t.details.friend})," stopped being friends.");break;case"add wishlist item":case"edit wishlist item":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," ","add wishlist item"===t.code?"added to wishlist a new item":"edited in wishlist"," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/wishlist/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName)," ",".");break;case"delete wishlist item":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," deleted ",t.details.itemName," from wishlist.");break;case"add goal":case"edit goal":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," ","add goal"===t.code?"added a new goal":"edited goal"," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName)," .");break;case"delete goal":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," deleted ",t.details.itemName," from goals.");break;case"add perk":case"edit perk":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," ","add perk"===t.code?"added to shop a new item":"edited in shop"," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/shop/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName)," .");break;case"delete perk":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," deleted ",t.details.itemName," from shop.");break;case"buy perk":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," bought ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/shop/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName," ($",t.details.price,")")," from ",r.a.createElement(ke,{span:!0,noAva:!0,id:t.details.owner})," .");break;case"cancel transaction":case"confirm transaction":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," ","cancel transaction"===t.code?"cancelled":"confirmed"," purchase of ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/shop/".concat(t.user,"/").concat(t.details.itemId))}},t.details.itemName," ($",t.details.price,")")," by ",r.a.createElement(ke,{span:!0,noAva:!0,id:t.details.buyer})," .");break;case"start progress":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," started participating in goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.itemId))}},t.details.itemName)," as ",t.details.as,".");break;case"stage approve":case"stage progress":case"stage fail":case"stage dismiss":o=function(e){var t;return e.day?(t=Se()().year(e.year).dayOfYear(e.day)).format("dddd D MMM YYYY"):e.week?(t=Se()().year(e.year).week(e.week)).startOf("week").format("wo [week] D MMM YYYY - ")+t.endOf("week").format("D MMM YYYY"):e.month?(t=Se()().year(e.year).month(e.month)).format("MMMM YYYY"):e.year?(t=Se()().year(e.year)).format("YYYY"):void 0}(t.details),i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user}),"stage approve"===t.code?" approved  ":"stage progress"===t.code?" put into process ":"stage fail"===t.code?" marked as failed ":" dismissed ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),o&&r.a.createElement(r.a.Fragment,null," for ",r.a.createElement("span",{style:{fontWeight:"bold"}},o)),".");break;case"stage complete":i=r.a.createElement("span",null,"Progress ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),o&&r.a.createElement(r.a.Fragment,null," for ",r.a.createElement("span",{style:{fontWeight:"bold"}},o))," was approved and finished.");break;case"milestone finish":i=r.a.createElement("span",null,"Milestone ",t.details.itemName," in goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName)," was approved and finished.");break;case"get reward":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," recieved ",a(t)," as a reward from ",r.a.createElement(ke,{span:!0,noAva:!0,id:t.details.from})," in goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),".");break;case"leave progress":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," left goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),".");break;case"edit progress":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," edited goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),t.details.addedAccounts.length>0?r.a.createElement(r.a.Fragment,null," and added ",t.details.addedAccounts.map(function(e){return r.a.createElement(ke,{span:!0,noAva:!0,id:e})})," "):"",t.details.droppedAccounts.length>0?r.a.createElement(r.a.Fragment,null," and removed ",t.details.droppedAccounts.map(function(e){return r.a.createElement(ke,{span:!0,noAva:!0,id:e})})," ."):".");break;case"remove from progress":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," removed ",r.a.createElement(ke,{span:!0,noAva:!0,id:t.details.account})," from goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),".");break;case"add to progress":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," added ",r.a.createElement(ke,{span:!0,noAva:!0,id:t.details.account})," to goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),".");break;case"add reward":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," added ",a(t)," as a reward for",t.details.for&&0!==t.details.for.length?t.details.for.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{noAva:!0,span:!0,id:e}),",")}):" all "," in goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),".");break;case"delete reward":i=r.a.createElement("span",null,r.a.createElement(ke,{span:!0,noAva:!0,id:t.user})," removed ",a(t)," as a reward for ",t.details.for&&0!==t.details.for.length?t.details.for.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{span:!0,noAva:!0,id:e}),",")}):" all "," in goal ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(t.details.progressId))}},t.details.progressName),".");break;default:i="New event"}return r.a.createElement("div",{key:n},0!==n&&r.a.createElement(Gr.a,{style:{margin:"5px 0px"}}),r.a.createElement(Jr.a,{avatar:r.a.createElement(ke,{noName:!0,id:t.user,span:!0}),content:i}))})," "))}));function qr(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Zr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Zr(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Kr=Object(Je.a)(function(e){return Object(Ge.a)({title:{fontSize:13,margin:"30px 15px 10px",fontWeight:600}})}),$r=Object(b.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,statePosts:e.post,progress:e.progress,friendData:e.friendData,progressData:e.progressData,currentPosts:e.currentPosts,lastNotifications:e.lastNotifications}},function(e){return{setData:function(t){e(I(t))},setPageTitle:function(t){return e(z(t))}}})(function(e){var t,a=Kr(),o=e.account,i=e.friendData,l=e.statePosts,c=e.progressData,s=e.currentPosts,u=Object(n.useState)([]),d=Object(j.a)(u,2),p=d[0],m=d[1],f=Object(n.useState)("posts"),g=Object(j.a)(f,2),h=g[0],b=g[1],y=Object(n.useState)((new Date).getTime()),x=Object(j.a)(y,1)[0],E=function(e,t){var a=e.notifications.filter(function(e){return e.user!==o._id}),n=t.notifications.filter(function(e){return e.user!==o._id});return 0===a.length&&n.length>0?1:a.length>0&&0===n.length?-1:0===a.length&&0===n.length?0:new Date(a[0].date).getTime()<new Date(n[0].date).getTime()?1:-1},v=0,w=qr(e.lastNotifications);try{for(w.s();!(t=w.n()).done;){var O=t.value;parseInt(O.notId)>parseInt(o.lastSeenNot||0)&&v++}}catch(T){w.e(T)}finally{w.f()}if(Object(n.useEffect)(function(){if(s){var e,t=s.filter(function(e){return l[e]}).map(function(e){return l[e]}),a=[],n=[],r=Object(k.a)(p),o=qr(t);try{var i=function(){var t=e.value,o=r.findIndex(function(e){return e._id.toString()===t._id.toString()});-1===o?t.notifications&&t.notifications.length>0&&new Date(t.notifications[0].date).getTime()>x?a.push(t):n.push(t):r[o]=t};for(o.s();!(e=o.n()).done;)i()}catch(T){o.e(T)}finally{o.f()}for(var c=function(){var e=d[u],t=r.findIndex(function(t){return!!(t&&t.notifications&&t.notifications.length>0)&&new Date(t.notifications[0]).getTime()>new Date(e.notifications[0]).getTime()});-1===t?r.push(e):r.splice(t,0,e)},u=0,d=n;u<d.length;u++)c();var f=[].concat(a,Object(k.a)(r));0===p.length&&(f=f.sort(E)),m(f)}},[s,l]),!o._id)return null;var A,S=[],D=qr(o.followProgresses);try{for(D.s();!(A=D.n()).done;){var C=A.value;c[C]&&(S=[].concat(Object(k.a)(S),Object(k.a)(c[C].notifications.filter(function(e){return"add post"===e.code&&e.user!==o._id}))))}}catch(T){D.e(T)}finally{D.f()}S=S.sort(function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1}).map(function(e){return e.details.postId}).slice(0,10);var _=Object(k.a)(new Set([].concat(Object(k.a)(o.followPosts),Object(k.a)(o.myPosts),Object(k.a)(p.map(function(e){return e._id})),Object(k.a)(S))));return Yr()(s,_)||e.setData({currentPosts:_}),e.setPageTitle({main:"Dashboard",sub:""}),r.a.createElement(Dn,{header:r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{style:{margin:"0px 20px"},color:"posts"===h?"primary":"default",onClick:function(){return b("posts")},variant:"contained"},"Posts"),r.a.createElement(na.a,{badgeContent:v,color:"secondary"},r.a.createElement(Re.a,{color:"events"===h?"primary":"default",onClick:function(){return b("events")},variant:"contained"},"Events")))},"posts"===h?p.map(function(e,t){var n=null,l=e.notifications.filter(function(e){return e.user!==o._id}),s=l.length>0?l[0]:null;if(s)switch(s.code){case"edit wishlist item":n="edited item in wishlist.";break;case"edit goal":n="edited goal.";break;case"edit perk":n="edited item in shop.";break;case"comment":n="added a comment.";break;case"edit comment":n="edited a comment.";break;case"like":n="added a like.";break;case"dislike":n="removed a like.";break;default:n=null}return r.a.createElement("div",{key:t,style:{paddingTop:"10px"}},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{className:a.title,color:"textSecondary",gutterBottom:!0},r.a.createElement("span",null,r.a.createElement(ke,{id:s.user,noAva:!0,span:!0,style:{fontWeight:"bold"}})," ",n))),r.a.createElement(Ya,{friendData:i,account:o,post:e,progressData:c}))}):r.a.createElement(Qr,{account:o}))})),eo=Object(b.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,accountNotActive:e.accountNotActive}},function(e){return{tryAuth:function(){return e(_())},logout:function(){return e(N())}}})(function(e){var t=Object(n.useRef)(!0),a=e.isAuthed,o=Object(n.useCallback)(Object(h.a)(g.a.mark(function a(){return g.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t.current){a.next=3;break}return a.abrupt("return",null);case 3:e.tryAuth(),a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:case"end":return a.stop()}},a,null,[[0,6]])})),[t]);Object(n.useEffect)(function(){return a||o(),function(){t.current=!1}},[a]),Object(n.useEffect)(function(){var e;e="UA-45758937-4",y.a.initialize(e)},[]),Object(n.useEffect)(function(){-1===e.history.location.pathname.indexOf("/post/")&&window.scrollTo(0,0),y.a.pageview(window.location.pathname+window.location.search)},[e.history.location.pathname]);var i=function(){return e.logout(),window.isRNWebView&&window.ReactNativeWebView.postMessage("logout"),r.a.createElement(b.a,{to:"/explore"})},l=r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",exact:!0,component:Nr}),null!==a&&r.a.createElement(b.b,{path:"/posts",exact:!0,component:$r}),r.a.createElement(b.b,{path:"/goals",component:ir}),r.a.createElement(b.b,{path:"/rewards",component:In}),r.a.createElement(b.b,{path:"/wishlist",component:In}),r.a.createElement(b.b,{path:"/profile",component:Fr}),r.a.createElement(b.b,{path:"/logout",exact:!0,component:i}),r.a.createElement(b.b,{path:"/ru",component:sr}),r.a.createElement(b.b,{path:"/blog",component:sr}),r.a.createElement(b.b,{path:"/activate-account",exact:!0,component:Lr}),!1,r.a.createElement(b.a,{to:"/"}));return e.accountNotActive&&(l=r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/logout",exact:!0,component:i}),r.a.createElement(b.b,{path:"/activate-account",exact:!0,component:Lr}),!1,a?r.a.createElement(b.a,{to:"/activate-account"}):r.a.createElement(b.a,{to:"/"}))),r.a.createElement(r.a.Fragment,null,l,a&&r.a.createElement(te,null),a&&r.a.createElement(Xr,null),r.a.createElement(Hr,null))})),to=a(412);function ao(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return no(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return no(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ro=Object(to.a)({isAuthed:!1,user:null,currentAccount:"",account:{},friendData:{},transactionData:{},progressData:{},currentProfile:"",profile:{},currentProgress:"",currentPosts:[],progress:{},post:{},postData:{},reward:{},currentReward:"",rewardData:{},pageTitle:{},friendSearchResult:[],accountNotActive:!1,lastNotifications:[],isConnectingWS:!1},{SET_DATA:function(e,t){if(t.data){for(var a=0,n=["user","account","isAuthed","currentAccount","currentProfile","currentPosts","currentReward","profile","currentProgress","progress","reward","lastNotifications"];a<n.length;a++){var r=n[a];"undefined"!==typeof t.data[r]&&(e[r]=t.data[r])}for(var o=0,i=["friendData","progressData","post","postData","rewardData","transactionData"];o<i.length;o++){var l=i[o];if("undefined"!==typeof t.data[l])for(var c in t.data[l])t.data[l][c]&&(e[l][c]=t.data[l][c])}}e.user&&(e.user.currentAccount?(e.currentAccount=e.user.currentAccount,e.accountNotActive=!1):e.user.myAccount?(e.currentAccount=e.user.myAccount,e.accountNotActive=!1):e.accountNotActive=!0)},REMOVE_DATA:function(e,t){if(t.data){for(var a=0,n=["user","account","profile","progress","reward"];a<n.length;a++){var r,o=n[a],i=ao(t.data[o]);try{for(i.s();!(r=i.n()).done;){var l=r.value;e[o]._id===l&&(e[o]={})}}catch(f){i.e(f)}finally{i.f()}}for(var c=0,s=["post","friendData","progressData","postData","rewardData","transactionData"];c<s.length;c++){var u,d=s[c],p=ao(t.data[d]);try{for(p.s();!(u=p.n()).done;){var m=u.value;delete e[d][m]}}catch(f){p.e(f)}finally{p.f()}}}},SET_FRIEND_SEARCH_RESULT:function(e,t){e.friendSearchResult=t.data},SET_FRIENDS_DATA:function(e,t){t.data&&(e.account.friendsData=t.data),t.data.perk&&(e.perk=t.data.perk)},SET_AVATAR_V:function(e,t){e.account.image=t.v},INCREASE_AVATAR_V:function(e){e.account.image=e.account.image+1},SET_IS_AUTHED:function(e,t){e.isAuthed=t.id},SET_PAGE_TITLE:function(e,t){e.pageTitle=t.title},SET_ACCOUNT_ACTIVATED:function(e,t){e.accountNotActive=t.value},SET_CONNECTING_WS:function(e,t){e.isConnectingWS=t.data}});a.d(t,"store",function(){return io});var oo=Object(De.a)({palette:{primary:{main:Xe.a[500]}},typography:{fontSize:13},overrides:{MuiAppBar:{colorSecondary:{backgroundColor:"white",color:"#333"}}}});s.a.defaults.baseURL="https://addspire.com";var io=Object(d.createStore)(ro,Object(m.composeWithDevTools)(Object(d.applyMiddleware)(p.a))),lo=r.a.createElement(u.a,{store:io},r.a.createElement(l.a,null,r.a.createElement(Ce.a,{theme:oo},r.a.createElement(eo,null)))),co=document.getElementById("root");i.a.render(lo,co)}},[[433,1,2]]]);
//# sourceMappingURL=main.fb6aae37.chunk.js.map