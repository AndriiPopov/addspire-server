{"version":3,"sources":["components/Layout/LoginModal.module.css","assets/images/pin.png","components/Layout/Layout.module.css","components/UI/ImageCarousel/imageCarousel.module.css","containers/Profile/Profile.module.css","containers/Auth/AuthTest.tsx","utils/processRes.js","store/actions/auth.tsx","store/actions/saveResources.tsx","containers/ConnectWebsocket/methods/requestResource.tsx","store/actions/updateResource.tsx","containers/ConnectWebsocket/methods/getListOfNeededResources.js","containers/ConnectWebsocket/methods/compareVersionsAndRerequest.js","containers/ConnectWebsocket/methods/getResourcesToMonitor.js","containers/ConnectWebsocket/ConnectWebsocket.tsx","websocketActions/posts.tsx","websocketActions/account.tsx","websocketActions/friends.tsx","utils/getAvatar.js","components/Layout/LoginModal.tsx","constants/fieldLength.js","constants/fieldRules.js","components/UserButton/UserButton.tsx","components/UI/ImageCarousel/ImageCarousel.tsx","utils/uploadFile.js","components/UI/ImagePickerMulti.tsx","components/UI/TinyEditor.tsx","components/Rewards/Rewards.tsx","websocketActions/progresses.tsx","components/EditGoalAndProgressForm/ConnectionsSelect.tsx","components/EditGoalAndProgressForm/EditGoalAndProgressForm.tsx","containers/Progresses/AddProgress.tsx","components/Layout/Layout.tsx","websocketActions/dashboard.tsx","containers/Progress/ActivityTable.tsx","containers/Progress/EditProgress.tsx","components/MasonryCard.tsx","components/FollowButton.tsx","components/UI/ReadMore.tsx","containers/Progress/Activity.tsx","components/Post/AddMessage.tsx","components/Post/Message.tsx","components/Post/Post.tsx","components/Post/AddPost.tsx","utils/pullData.js","containers/Progress/Progress.tsx","containers/Blog/Blog.tsx","components/UI/MoreIcon.js","components/FriendActionButton.tsx","components/FriendCard.tsx","components/AddCard/AddCard.tsx","utils/masonryBreakPoints.js","components/MasonryGrid.tsx","components/UI/CustomEmpty.tsx","containers/Progresses/Progresses.tsx","components/ProgressButton.tsx","containers/Friends/AddFriends.tsx","containers/Friends/PendingFriends.tsx","containers/Friends/Friends.tsx","containers/Shop/AddPerkForm.tsx","containers/Shop/AddPerk.tsx","websocketActions/wishlistAndPerks.tsx","containers/Shop/PerkCard.tsx","containers/Shop/WishlistAndPerks.tsx","containers/Shop/Transactions.tsx","containers/Profile/Profile.tsx","containers/ActivateAccount/ActivateAccount.tsx","containers/Shop/Perk.tsx","containers/Wishlist/WishlistItem.tsx","containers/Dashboard/NotificationsTracker.tsx","RNBridge.tsx","containers/Dashboard/DashboardPosts.tsx","containers/Dashboard/DashboardEvents.tsx","containers/Explore/LocateControl.tsx","containers/Explore/MapSettings.tsx","containers/Explore/Explore.tsx","App.tsx","store/reducer/reducer.tsx","index.tsx"],"names":["module","exports","Container","socialButtons","Background","Layout","Header","Footer","HideHeader","FooterButton","TopHeader","BottomHeader","Main","MenuButtonContiner","QuickButtonContiner","PageTitle","Dots","Avatar","Cookies","processRes","res","props","data","logout","history","push","success","errorCode","message","warning","error","successCode","status","cookies","tryAuth","token","dispatch","sessionStorage","setItem","get","rememberMe","remove","path","userId","jwt_decode","axios","defaults","headers","post","put","delete","common","Accept","setIsAuthed","_id","id","type","setData","setPageTitle","title","setFriendSearchResult","requestResource","ids","state","notRequestedIds","filter","includes","webSocket","readyState","send","JSON","stringify","messageCode","applyDelta","source","delta","watchFields","result","cloneDeep","del","applyWithDot","keys","length","shift","attr","split","applyUpdateToPart","updatedFields","_step","applyDeleteToPart","splice","_iterator","updateResource_createForOfIteratorHelper","removedFields","s","n","done","field","value","indexOf","err","e","f","getListOfNeededResources","store","requestedResources","user","account","progress","progressData","friendData","postData","transactionData","neededResources","isAuthed","currentAccount","_i","_arr","concat","Object","toConsumableArray","progresses","followProgresses","getListOfNeededResources_createForOfIteratorHelper","followPosts","_step2","_iterator2","myPosts","_step3","_iterator3","transactions","transaction","_step4","_iterator4","friends","friend","_i2","_arr2","followingAccounts","followAccounts","item","currentProfile","profile","_i3","_arr3","_step5","_iterator5","_i4","_arr4","currentProgress","participants","owner","worker","_i5","_participants","_step6","_iterator6","posts","currentPosts","_step7","_iterator7","postEl","_step8","_iterator8","users","parent","parentType","parentId","friendSearchResult","_step9","_iterator9","reduce","obj","Array","from","Set","notNeededExist","notNeededResources","check1","key","mode","check2","removeData","compareVersionsAndRerequest","versions","checkData","__v","check","getResourcesToMonitor","resources","addData","ConnectWebsocket","start","pingTimeout","WebSocket","heartbeat","_this","clearTimeout","setTimeout","close","onopen","event","resourcesToMonitor","initializeRequestResources","onmessage","news","parse","messageText","setFriendsData","friendsData","saveResource","updateResource","code","update","text","onclose","checkInterval","clearInterval","setInterval","reRequestResourcesInterval","reRequestResources","group","nextProps","newRequestedResources","_loop","setState","this","setConnectingToWS","Component","withRouter","connect","pulledFrom","actions","getState","myAccount","find","_createForOfIteratorHelper","parState","element","defineProperty","updateData","changeLikesMessage","messageId","accountId","postId","followProgress","progressId","unfollowProgress","followAccount","accountFollow","unfollowAccount","unfriend","friendId","getAvatar","nickname","version","TransitionComponent","react_default","a","createElement","Slide","assign","direction","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","cookieConsent","setCookieConsent","useEffect","checkCookieConsent","remeberMeParam","basicURL","loginVisible","Dialog","fullScreen","open","onClose","setLoginVisible","className","classes","style","maxWidth","margin","fontWeight","lineHeight","marginBottom","fontSize","dist","onClick","window","location","FormControlLabel","control","Checkbox","checked","onChange","color","label","Divider","Button","DialogTitle","DialogContent","DialogContentText","DialogActions","set","maxAge","autoFocus","fieldLength","nicknameRules","required","whitespace","min","max","pattern","nameRules","accountNameRules","descriptionRules","messageRules","priceRules","friendDataExp","getUserData","userName","name","userAvatar","avatar","src","image","size","noClick","onlyName","stopPropagation","Group","map","Fragment","noAva","noName","span","react_router_dom","objectSpread","cursor","display","to","inline","es_button","padding","height","ImageCarousel","previewImage","setPreviewImage","images","carousel","width","dots","index","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","Modal","visible","footer","onCancel","alt","uploadFile","file","filename","callback","alert","reader","FileReader","onload","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","resizeImageToSpecificSize","urltoFile","then","getSignedRequest","stop","_x","apply","arguments","readAsArrayBuffer","url","mimeType","match","fetch","arrayBuffer","buf","File","cb","resizeImageFromSrcToSpecificSize","target","readAsDataURL","console","log","img","Image","widthCoef","heightCoef","oc","document","octx","getContext","drawImage","toDataURL","onerror","_unused","fileName","response","doUploadFile","catch","signedRequest","Content-Type","ImagePickerMulti","setImages","onValueChange","upload","accept","listType","fileList","uid","onPreview","customRequest","_ref2","undefined","flex","alignItems","justifyContent","flexDirection","isRNWebView","ReactNativeWebView","postMessage","PlusOutlined_default","Boolean","dividers","TinyEditor","ts","apiKey","init","menubar","plugins","min_height","max_height","mobile","theme","toolbar","onEditorChange","useStyles","makeStyles","root","media","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","backgroundColor","red","appBar","position","spacing","rewards","previewReward","setPreviewReward","editedReward","setEditedReward","_useState5","_useState6","editedRewardIndex","setEditedRewardIndex","readOnly","RewardButton","_useState7","_useState8","anchorEl","setAnchorEl","_useState9","_useState10","confirmOpen","setConfirmOpen","handleClose","Grid","xs","sm","md","lg","xl","Card_Card","CardHeader","components_UserButton_UserButton","action","onlyButton","IconButton","currentTarget","MoreVertOutlined","Menu","keepMounted","MenuItem","rewardId","indexIn","CardActionArea","CardMedia","itemImages","itemName","CardContent","Typography","variant","saveReward","rewardKey","reward","rewardToSave","newRewards","body","removeAttribute","container","component","startIcon","AddOutlined","AppBar","Toolbar","edge","aria-label","Close","es_form","labelCol","wrapperCol","Item","UI_ImagePickerMulti","rules","Input","fullWidth","itemDescription","Box","UI_ImageCarousel_ImageCarousel","textAlign","dangerouslySetInnerHTML","__html","ConnectionsSelect","es_select","placeholder","getPopupContainer","trigger","parentNode","Option","Select","createStyles","input","iconButton","divider","EditGoalAndProgressForm","useRef","current","leafletElement","ELG","addTo","GestureHandling","goal","coordinates","setPosition","zoom","setZoom","_Form$useForm","Form","useForm","form","mapDragEnd","_zoom","getCenter","lat","lng","setFieldsValue","nomap","goalId","cancel","submit","onFinish","autoComplete","initialValues","repeat","days","onValuesChange","changedFields","allValues","sort","valuePropName","getValueFromEvent","noStyle","shouldUpdate","prevValues","currentValues","getFieldValue","components_Rewards_Rewards","Map","ref","center","ondragend","onmoveend","zIndex","gestureHandling","TileLayer","attribution","require","left","top","pointerEvents","touchAction","marginTop","marginRight","AddProgress","components_EditGoalAndProgressForm_EditGoalAndProgressForm","wsActions","setStartProgressVisible","& > *","fab","bottom","right","pageTitle","lastNotifications","isConnectingWS","startProgressVisible","showSignIn","openLink","isActivating","pathname","numberOfUnseenNots","Layout_createForOfIteratorHelper","not","parseInt","notId","lastSeenNot","logedIn","editGoal","Progresses_AddProgress","cll","appear","in","useScrollTrigger","elevation","LinearProgress","goBack","ArrowBack","Badge","badgeContent","HomeRounded","Tabs","indicatorColor","textColor","tab","last","centered","TabIndicatorProps","Tab","visibility","children","Layout_LoginModal","Fab","Add_default","moment","format","ActivityTable","activeTab","setActiveTab","isOwner","lastStages","stages","slice","Math","b","aS","aF","bS","bF","old","day","year","dayOfYear","startOf","endOf","week","month","now","abs","diff","nowStageId","stageId","border","tabs","activeKey","defaultActiveKey","findIndex","toString","onTabClick","stage","stageDate","getStatus","dismissed","failBy","approvedBy","getTag","es_tag","descriptions","tabTitle","myStatus","stageStatus","TabPane","badge","textTransform","es_radio","bordered","column","xxl","paid","EditProgress","editProgressOpen","placeholderImages","Card","borderRadius","matches","imagePH","round","x","makeRand","getPH","wordBreak","float","noLink","onClickLink","FollowButton","danger","ReadMore","overflow","setOverflow","setOpen","descRef","offsetHeight","initialHeight","content","opacity","followersVisible","setFollowersVisible","Helmet","description","PushpinFilled_default","add","likes","LikeFilled_default","LikeOutlined_default","paddingLeft","orientation","UI_ReadMore","RetweetOutlined_default","getRepeatType","acc","val","getDay","Progress_ActivityTable","Progress_EditProgress","modal","MasonryCard","components_FollowButton","imageLoading","setImageLoading","replyToUser","setMessageText","background","replyTo","comment","TextArea","autoSize","minRows","maxRows","rows","uploadImage","htmlType","messageValue","replyToMessage","editedMessage","editingMessage","onSend","icon","SendOutlined_default","showUploadList","_ref3","LoadingOutlined_default","PictureFilled_default","CloseCircleFilled_default","Message","replies","isStart","replyVisible","setReplyVisible","setReplyToUser","setEditingMessage","showReplies","setShowReplies","commentProps","timeago_react","datetime","date","live","tooltip","author","messageType","details","itemId","startMessage","Post_AddMessage","isTop","reply","postOpen","setPostOpen","noStartMessage","Post_Message","CommentOutlined_default","messages","Post_createForOfIteratorHelper","getNumberOfMessages","pullData","options","pathParts","Progress_createForOfIteratorHelper","main","sub","Progress_Activity","Post_AddPost","components_Post_Post","setTitle","replace","MoreIcon","viewBox","d","FriendActionButton","invitingFriends","invitedFriends","realFriends","additionalButton","menu","es_menu","domEvent","additionalButtons","button","noFollow","dropdown","overlay","preventDefault","asText","DownOutlined_default","forceAuth","friendActions","friendActionButton","asIcons","AddCard","shape","friendsBreakPoints","default","1600","1100","600","cardBreakPoints","700","310","MasonryGrid","react_masonry_css_es5_default","breakpointCols","columnClassName","CustomEmpty","loadedProgresses","maskClosable","closable","destroyOnClose","components_AddCard_AddCard","handleClick","searchResult","addFriendOpen","setAddFriendOpen","search","offset","card","components_FriendCard","Friends_createForOfIteratorHelper","fullFriend","confirmedFriends","empty","imageStyle","count","PendingFriends","Friends_AddFriends","AddPerkForm","connections","perk","connectionsSelect","perkId","isArray","input_number","setEditPerkOpen","setPerk","wishlist","goals","perks","Shop_AddPerkForm","processedValue","price","WishlistAndPerks","editedPerk","setEditedPerk","editPerkOpen","editPerk","Shop_AddPerk","listKey","Shop_PerkCard","onlyBuy","tableData","sorted","Transactions_createForOfIteratorHelper","Date","getTime","types","amount","collapse","expandIconPosition","destroyInactivePanel","accordion","Panel","header","typography","Paragraph","ellipsis","simple","money","layout","tag","toUpperCase","increaseAvatarV","followingVisible","setFollowingVisible","deleteVisible","setDeleteVisible","deleteField","setDeleteField","profileId","Profile_createForOfIteratorHelper","Title","level","editable","EditOutlined_default","borderTop","LogoutOutlined_default","containers_Progresses_Progresses","containers_Friends_Friends","oneFriendData","Shop_Transactions","Shop_WishlistAndPerks","onOk","components_ProgressButton","maxHeight","accountNotActive","setAccountActivated","page_header","backIcon","nicknameNotUnique","Descriptions","Perk_createForOfIteratorHelper","items","whiteSpace","wishlistItem","WishlistItem_createForOfIteratorHelper","popconfirm","onConfirm","okText","cancelText","statePosts","sortNotifiacations","NotificationsTracker_createForOfIteratorHelper","notifications","filterSameNot","arr","myNotifications","isEqual","addEventListener","setPosts","startTime","sortPosts","aN","bN","newPosts","newUnseenPosts","newOldPosts","oldPosts","DashboardPosts_createForOfIteratorHelper","_loop2","oldPostIndex","_newOldPosts","resultPosts","neededPosts","nots","getRewardText","stageName","buyer","as","getStageName","progressName","addedAccounts","ac","droppedAccounts","for","LocateControl","leaflet","lc","Locate","strings","onActivate","drawCircle","keepCurrentZoomLevel","withLeaflet","MapSettings","mapVisible","setMapVisible","setIsSearching","setNoMore","setFoundProgresses","onSearch","onGetPopular","setSearch","radius","setRadius","withMap","getRadius","metresPerPixel","cos","PI","pow","getZoom","units","distance","Switch","Slider","valueLabelDisplay","minHeight","whenReady","Explore_LocateControl","Explore","isSearching","foundProgresses","setProgresses","noMore","_useState11","_useState12","noMorePopular","setNoMorePopular","_useState13","_useState14","_useState15","_useState16","setValue","noNoMore","skip","newFriendData","Explore_createForOfIteratorHelper","Paper","InputBase","SearchOutlined","LocationOn","Explore_MapSettings","react_infinite_scroller_default","pageStart","loadMore","hasMore","loader","mountedRef","timer","setTimer","setExplanationVisible","auth","useCallback","abrupt","t0","Logout","react_router","routes","exact","DashboardPosts","DashboardEvents","Progresses","Progress","Profile","Perk","WishlistItem","Blog","ActivateAccount","process","containers_ConnectWebsocket_ConnectWebsocket","Dashboard_NotificationsTracker","src_RNBridge","reducer","createReducer","SET_DATA","REMOVE_DATA","reducer_createForOfIteratorHelper","SET_FRIEND_SEARCH_RESULT","SET_FRIENDS_DATA","SET_AVATAR_V","v","INCREASE_AVATAR_V","SET_IS_AUTHED","SET_PAGE_TITLE","SET_ACCOUNT_ACTIVATED","SET_CONNECTING_WS","__webpack_require__","__webpack_exports__","src_store","outerTheme","createMuiTheme","palette","primary","purple","overrides","MuiAppBar","colorSecondary","baseURL","createStore","composeWithDevTools","applyMiddleware","thunk","app","es","ThemeProvider","src_App","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.61365696.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LoginModal_Container__1PdGZ\",\"socialButtons\":\"LoginModal_socialButtons__1H9u7\",\"Background\":\"LoginModal_Background__2foqr\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAMAAACjKNoqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1FBMVEUAAADbJCTWNjbZNTTYNjXYNjXYNTXZNjbYNjTXNTX/AADXNjLYNjXZNTXoPDvjOjrYNTTYNTTVNDTXNjTYNjXsPT3nPDzYNjXXMzPYNTXaNjXZNzXWNDTYNjXYNTXjOTnYNjXsPj3YNTT/VVXYNDTbNzbYNjPYNjXqPDzoOzrYNTPZNTTYNzXXNTTYNTTYNTTZNzbXNTPpPTzYNjXXNTXcNzbXNDTbNzfYNTTVOTnXNTPeODfgOTjYNTXYOzvYNjXWMzPZNTXcODfWNjPYNTXqPDzYNjXYNzPXNDTZNTXkOjrnPDzZMzPYNTTYNjXiOzrkOzrYNTTaODLXNDPZNTXYNjXrPT3YNTTaNjXYNjTmOzrYNTXWNTXZNTTWNDS/QEDYNjXXNTTYNDToOzvpPDzYNTXcNzbdODfbNzfbNzfbMzPZNjXcNjbZNjbYNjbyQED2QkL1QkHvQD/+Rkb/Rkb8RUX3QkL0QUH4Q0PvPz/VNDSmISH9RUVZAACnISHzQUHYNjZaAADZNjbyQUCrIyOsIyOuJCTxQEDdODhaAQHeODiyJSVbAQGyJibqPDzgOTmzJib0QkL/RUX+RUX6Q0P8RET5Q0PsPj3zQED0QkHXNTT///9fYCXAAAAAb3RSTlMAB1Gt4ff01pg6AUzj+Pz5/M0xjvv++/xtm/l+XfpICe3+4QNi91W3/v2p6uX6+ffkrv6yYPdnDvYSh/f4lQ3uGfn3d9n95EFTuvr8KP2b+PqsKf41y/7Y+PP7pET5SgTx9av9/mH29hzpI9XCXnctusQjAAAAAWJLR0Sb79hXhAAAAAd0SU1FB+EMCQINAvEQCwMAAAFuSURBVCjPZdH3O0JRGAfwN7sIEdcoIdkKkb2yV/bee3OrazUkERFlhPy1Ouc27q3vT9/n8zz33HPeFwCFExUdExsXn8DlQTCJSfzkM1KrS0kVpPmJly7M0FM455lEFo3ZORdUMJfCXGQi8RXFCEnkAUjyrylWCgqlUCSjzzMYjQZcTPxiKCnF1Wj25QbXsnKosKBya0VovUPdVglVJCr3ZpwH/Cs5KLSo2Gm0o65VQPUjKk8OZI5n/+c1tfj0F6fZ7HzF9U0JdTL6ei6320W3ehU0NFrYl3+XNwE0t3ywsLXN9/b2Dh3TbIpONBFVlylkn+puPDppTy9jHH0ceqD9xFfAPOKBwDoGhwI4LAhuaYQgafse5YY2pxmjcXwiZDA5hU/1ENMMhJlZhD9zTAPRPFqKWsVCycIvRXkV7SwEje9Wi0tsg2WhXr+yGoZr6xbvBicMYXNrWxlusLO7p4rA/b+DwwiEo+NIg5PTYP0HPpevTLcESqcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTItMDlUMDI6MTM6MDErMDA6MDA/mojaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEyLTA5VDAyOjEzOjAxKzAwOjAwTscwZgAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3q-xb\",\"Header\":\"Layout_Header__J8BzQ\",\"Footer\":\"Layout_Footer__1UfUY\",\"HideHeader\":\"Layout_HideHeader__2uuFO\",\"FooterButton\":\"Layout_FooterButton__VhJUa\",\"TopHeader\":\"Layout_TopHeader__277Y8\",\"BottomHeader\":\"Layout_BottomHeader__3YPE5\",\"Main\":\"Layout_Main__Py9vL\",\"MenuButtonContiner\":\"Layout_MenuButtonContiner__2imT-\",\"QuickButtonContiner\":\"Layout_QuickButtonContiner__3mw1U\",\"PageTitle\":\"Layout_PageTitle__1_EDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dots\":\"imageCarousel_Dots__3XuKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Profile_Avatar__3n37F\"};","import React from 'react'\n\nimport Form from 'antd/es/form'\nimport Input from 'antd/es/input'\nimport Button from 'antd/es/button'\nimport axios from 'axios'\nimport Cookies from 'universal-cookie'\n\nconst cookies = new Cookies()\n\nconst Auth = props => {\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n    const onFinish = value => {\n        axios\n            .post('/api/authtest/' + value.id)\n            .then(res => {\n                cookies.set('auth_token', res.data.cookie)\n                props.onTryAutoSignup()\n            })\n            .catch(err => {})\n    }\n    return (\n        <Form\n            name=\"dynamic_form_nest_item\"\n            onFinish={onFinish}\n            autoComplete=\"off\"\n            {...layout}\n        >\n            <Form.Item\n                label=\"Id\"\n                name=\"id\"\n                rules={[\n                    { required: true, message: 'Please input the goal name.' },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                    Save\n                </Button>\n            </Form.Item>\n        </Form>\n    )\n}\n\nexport default Auth\n","import message from 'antd/es/message'\n\nexport default (res, props) => {\n    if (res.data.logout) props.history.push('/logout')\n    if (res.data.success === false) {\n        if (res.data.errorCode) {\n            switch (res.data.errorCode) {\n                case 'no account':\n                    message.warning('Account is not found. Please login.')\n                    break\n                case 'bad data':\n                    message.error(\n                        'Error. Please try one more time with correct data.'\n                    )\n                    break\n                case 'progress exist':\n                    message.warning('This progress already exists.')\n                    break\n                default:\n                    message.warning(\n                        'Something wrong has happened... Try again!'\n                    )\n                    break\n            }\n        } else {\n            message.error('Something failed')\n        }\n    } else {\n        if (res.data.successCode) {\n            switch (res.data.successCode) {\n                case 'avatar saved':\n                    message.success('The avatar image has been updated.')\n                    break\n                case 'success':\n                    message.success('Success!')\n                    break\n                case 'item saved':\n                    message.success('Item is saved')\n                    break\n                case 'prgress created':\n                    message.success('Progress has started!')\n                    break\n                default:\n                    message.success('Success!')\n                    break\n            }\n        }\n    }\n    if (res.data.status && res.data.status === 'no account')\n        props.history.push('/activate-account')\n}\n","import axios from 'axios'\n\nimport Cookies from 'universal-cookie'\nimport jwt_decode from 'jwt-decode'\n\nimport processRes from '../../utils/processRes'\n\nconst cookies = new Cookies()\n\nexport const tryAuth = token => (dispatch: Object) => {\n    sessionStorage.setItem('systemRefresh', '0')\n    if (!token) {\n        token = cookies.get('auth_token')\n        const rememberMe = cookies.get('rememberme')\n        if (rememberMe) {\n            cookies.remove('rememberme', {\n                path: '/',\n            })\n            if (rememberMe === 'false') {\n                cookies.remove('auth_token', {\n                    path: '/',\n                })\n            }\n        }\n    }\n\n    const userId = jwt_decode(token)\n    axios.defaults.headers.post['Content-Type'] = 'application/json'\n    axios.defaults.headers.put['Content-Type'] = 'application/json'\n    axios.defaults.headers.delete['Content-Type'] = 'application/json'\n    axios.defaults.headers.common.Accept = 'application/json'\n    if (token && userId) {\n        axios.defaults.headers.common['x-auth-token'] = token\n        axios.defaults.headers.post['x-auth-token'] = token\n        axios.defaults.headers.get['x-auth-token'] = token\n        axios.defaults.headers.delete['x-auth-token'] = token\n        axios.defaults.headers.put['x-auth-token'] = token\n        dispatch(setIsAuthed(userId._id))\n    } else {\n        dispatch(setIsAuthed(false))\n    }\n}\n\nconst setIsAuthed = id => ({\n    type: 'SET_IS_AUTHED',\n    id,\n})\n\nexport const logout = () => dispatch => {\n    cookies.remove('rememberme', {\n        path: '/',\n    })\n    cookies.remove('auth_token', {\n        path: '/',\n    })\n    delete axios.defaults.headers.common['x-auth-token']\n    delete axios.defaults.headers.post['x-auth-token']\n    delete axios.defaults.headers.get['x-auth-token']\n    delete axios.defaults.headers.delete['x-auth-token']\n    delete axios.defaults.headers.put['x-auth-token']\n    dispatch(setIsAuthed(false))\n}\n\nexport const setData = data => ({\n    type: 'SET_DATA',\n    data,\n})\n\nexport const setConnectingToWS = data => ({\n    type: 'SET_CONNECTING_WS',\n    data,\n})\n\nexport const removeData = data => ({\n    type: 'REMOVE_DATA',\n    data,\n})\n\nexport const setFriendsData = data => ({\n    type: 'SET_FRIENDS_DATA',\n    data,\n})\n\nexport const setAvatarV = v => ({\n    type: 'SET_AVATAR_V',\n    v,\n})\n\nexport const increaseAvatarV = () => ({\n    type: 'INCREASE_AVATAR_V',\n})\n\nexport const setPageTitle = title => ({\n    type: 'SET_PAGE_TITLE',\n    title,\n})\n\nexport const buyPerk = (account, perk, owner, props) => dispatch => {\n    const currency = account.wallet.find(item => item.user === owner._id)\n    if (currency && currency.amount >= perk.price) {\n        axios\n            .post('/api/shop/buy', {\n                perkId: perk.perkId,\n                ownerId: owner._id,\n            })\n            .then(res => {\n                processRes(res)\n                if (res.data.success) {\n                    dispatch(setData(res.data, props.history.location.pathname))\n                }\n            })\n            .catch(err => {})\n    } else {\n        alert(\n            'You cannot buy this item as you do not have enough money from this user.'\n        )\n    }\n}\n\nexport const confirmTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/confirm', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const cancelTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/cancel', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const setFriendSearchResult = data => ({\n    type: 'SET_FRIEND_SEARCH_RESULT',\n    data,\n})\n\nexport const setAccountActivated = value => ({\n    type: 'SET_ACCOUNT_ACTIVATED',\n    value,\n})\n","import { setData } from './auth'\n\nexport const saveResource = (data, type) => (dispatch, getState) => {\n    if (data.length > 0) {\n        const state = getState()\n        switch (type) {\n            case 'user':\n                const user = data[0]\n                let currentAccount = user.currentAccount\n                if (!currentAccount) currentAccount = user.myAccount\n                // if(!currentAccount)\n                //activate-account\n                dispatch(setData({ user, currentAccount }))\n                break\n            case 'account':\n                const account = data.find(\n                    item => item._id === state.currentAccount\n                )\n                if (account) {\n                    dispatch(setData({ account }))\n                }\n\n                const profile = data.find(\n                    item => item._id === state.currentProfile\n                )\n                if (profile) {\n                    dispatch(setData({ profile }))\n                }\n\n                break\n            case 'progress':\n                const progress = data.find(\n                    item => item._id === state.currentProgress\n                )\n                if (progress) {\n                    dispatch(setData({ progress }))\n                }\n                break\n\n            case 'post':\n                let post = {}\n                for (let item of data) {\n                    post[item._id] = item\n                }\n                dispatch(setData({ post }))\n                break\n            case 'friendData':\n                let friendData = {}\n                for (let item of data) {\n                    friendData[item._id] = item\n                }\n                dispatch(setData({ friendData }))\n                break\n            case 'progressData':\n                let progressData = {}\n                for (let item of data) {\n                    progressData[item._id] = item\n                }\n                dispatch(setData({ progressData }))\n                break\n            case 'transactionData':\n                let transactionData = {}\n                for (let item of data) {\n                    transactionData[item._id] = item\n                }\n                dispatch(setData({ transactionData }))\n                break\n            case 'postData':\n                let postData = {}\n                for (let item of data) {\n                    postData[item._id] = item\n                }\n                dispatch(setData({ postData }))\n                break\n\n            default:\n                break\n        }\n    }\n}\n","import { webSocket } from '../ConnectWebsocket'\n\nexport default (type, ids, state) => {\n    const notRequestedIds = ids.filter(id => !state[type].includes(id))\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'requestResource',\n                ids: notRequestedIds,\n                type,\n            })\n        )\n    }\n}\n","import requestResource from '../../containers/ConnectWebsocket/methods/requestResource'\nimport * as actions from './index'\nimport cloneDeep from 'lodash.clonedeep'\n\nconst applyDelta = (source, delta, watchFields) => {\n    // console.log('---------------------------APLY DELTA------------------------')\n    // console.log('----------------source----------------')\n    // console.log(source)\n    // console.log('----------------delta-------------------')\n    // console.log(delta)\n    const result = cloneDeep(source)\n\n    const applyUpdateToPart = (res, del, watchFields) => {\n        const applyWithDot = (res, keys, del) => {\n            if (keys.length > 1) {\n                const key = keys.shift()\n                applyWithDot(res[key], keys, del)\n            } else {\n                if (typeof res === 'array') {\n                    res.push(del)\n                } else {\n                    res[keys[0]] = del\n                }\n            }\n        }\n        for (let attr in del) {\n            const keys = attr.split('.')\n            if (!watchFields || watchFields.includes(keys[0])) {\n                if (typeof del[attr] !== 'undefined') {\n                    applyWithDot(res, keys, del[attr])\n                }\n            }\n        }\n    }\n\n    applyUpdateToPart(result, delta.updatedFields, watchFields)\n\n    const applyDeleteToPart = (result, keys) => {\n        if (keys.length > 1) {\n            const key = keys.shift()\n            applyDeleteToPart(result[key], keys)\n        } else {\n            if (typeof result === 'object') {\n                delete result[keys[0]]\n            } else if (typeof result === 'array') {\n                result.splice(keys[0], 1)\n            }\n        }\n    }\n\n    for (let field of delta.removedFields) {\n        if (field.indexOf('.') > -1) {\n            const keys = field.split('.')\n            if (!watchFields || watchFields.includes(keys[0]))\n                applyDeleteToPart(result, keys)\n        } else {\n            delete result[field]\n        }\n    }\n    return result\n}\n\nexport const updateResource = (code, id, update, parState) => (\n    dispatch,\n    getState\n) => {\n    if (update && id && code) {\n        const state = getState()\n        const check = key => {\n            if (state[key]._id === id) {\n                if (state[key].__v === update.updatedFields.__v - 1) {\n                    const element = applyDelta(state[key], update)\n                    dispatch(actions.setData({ [key]: element }))\n                } else {\n                    if (state[key].id) requestResource(code, [id], parState)\n                }\n            }\n        }\n        const check2 = (key, watchFields) => {\n            let updateData = {\n                [key]: cloneDeep(state[key]),\n            }\n            const friend = updateData[key][id]\n            if (friend) {\n                if (friend.__v === update.updatedFields.__v - 1) {\n                    updateData[key][id] = applyDelta(\n                        friend,\n                        update,\n                        watchFields\n                    )\n                    dispatch(actions.setData(updateData))\n                } else {\n                    requestResource(code, [id], parState)\n                }\n            }\n        }\n        switch (code) {\n            case 'user':\n                check('user')\n                break\n            case 'account':\n                check('account')\n                check('profile')\n                break\n            case 'progress':\n                check('progress')\n                break\n            case 'post':\n                dispatch(actions.setData(check2(code)))\n                break\n            case 'friendData':\n                dispatch(\n                    actions.setData(\n                        check2(code, ['name', 'image', 'notifications', '__v'])\n                    )\n                )\n                break\n            case 'progressData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'owner',\n                            'worker',\n                            'goal',\n                            'notifications',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'postData':\n                dispatch(\n                    actions.setData(check2(code, ['notifications', '__v']))\n                )\n                break\n\n            case 'transactionData':\n                dispatch(actions.setData(check2(code)))\n                break\n            default:\n                break\n        }\n    }\n}\n","export default props => {\n    const createEmptyObj = () => ({\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n    })\n    const { store } = props\n    const requestedResources = createEmptyObj()\n    const neededResources = createEmptyObj()\n    if (store.isAuthed) {\n        if (!store.user) {\n            requestedResources.user.push(store.isAuthed)\n        } else {\n            neededResources.user.push(store.user._id)\n            if (store.currentAccount) {\n                if (store.account._id !== store.currentAccount) {\n                    requestedResources.account.push(store.currentAccount)\n                } else {\n                    neededResources.account.push(store.account._id)\n                    for (let progress of [\n                        ...store.account.progresses,\n                        ...store.account.followProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let post of store.account.followPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let post of store.account.myPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let transaction of store.account.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n                    for (let friend of store.account.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let item of [\n                        ...store.account.followingAccounts,\n                        ...store.account.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n            if (store.currentProfile) {\n                if (store.profile._id !== store.currentProfile) {\n                    requestedResources.account.push(store.currentProfile)\n                } else {\n                    neededResources.account.push(store.profile._id)\n                    for (let progress of [\n                        ...store.profile.progresses,\n                        ...store.profile.followProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let friend of store.profile.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let item of [\n                        ...store.profile.followingAccounts,\n                        ...store.profile.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n\n            if (store.currentProgress) {\n                if (store.progress._id !== store.currentProgress) {\n                    requestedResources.progress.push(store.currentProgress)\n                } else {\n                    neededResources.progress.push(store.progress._id)\n                    let participants = []\n                    if (store.progress.owner)\n                        participants.push(store.progress.owner)\n                    if (store.progress.worker)\n                        participants.push(store.progress.worker)\n\n                    for (let friend of participants) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n                    for (let post of store.progress.posts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                }\n            }\n            if (store.currentPosts) {\n                for (let post of store.currentPosts) {\n                    const postEl = store.post[post]\n                    if (!postEl) {\n                        requestedResources.post.push(post)\n                    } else {\n                        neededResources.post.push(post)\n                        for (let friend of postEl.users) {\n                            if (!store.friendData[friend]) {\n                                requestedResources.friendData.push(friend)\n                            }\n                            neededResources.friendData.push(friend)\n                        }\n                        if (post.parent) {\n                            if (post.parent.parentType === 'progress')\n                                neededResources.progressData.push(\n                                    post.parent.parentId\n                                )\n                        }\n                    }\n                }\n            }\n            if (store.friendSearchResult && store.friendSearchResult.length > 0)\n                for (let friend of store.friendSearchResult) {\n                    if (!store.friendData[friend._id]) {\n                        requestedResources.friendData.push(friend._id)\n                    }\n                    neededResources.friendData.push(friend._id)\n                }\n        }\n    }\n\n    const reduce = obj => {\n        for (let attr in obj) {\n            if (obj[attr]) {\n                obj[attr] = Array.from(new Set(obj[attr]))\n            }\n        }\n    }\n\n    reduce(neededResources)\n    const notNeededResources = createEmptyObj()\n    notNeededResources.profile = []\n    let notNeededExist\n    const check1 = (key, mode) => {\n        if (\n            store[mode]._id &&\n            !neededResources[key].includes(store[mode]._id)\n        ) {\n            notNeededResources[mode].push(store[mode]._id)\n            notNeededExist = true\n        }\n    }\n    const check2 = key => {\n        for (let attr in store[key]) {\n            if (!neededResources[key].includes(attr)) {\n                notNeededResources[key].push(attr)\n                notNeededExist = true\n            }\n        }\n    }\n    check1('account', 'account')\n    check1('account', 'profile')\n    check1('progress', 'progress')\n    check2('post')\n    check2('friendData')\n    check2('progressData')\n    check2('transactionData')\n    check2('postData')\n\n    if (notNeededExist) {\n        props.removeData(notNeededResources)\n    }\n\n    reduce(requestedResources)\n\n    return requestedResources\n}\n","import requestResource from './requestResource'\n\nexport default (versions, state, store, webSocket) => {\n    const notNeededResources = {\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n    }\n\n    const checkData = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key][attr]) {\n                    if (store[key][attr] !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    const check = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key]._id === attr) {\n                    if (store[key].__v !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                    if (!store[key]._id) notNeededResources[key].push(attr)\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    for (let attr in versions.user) {\n        if (typeof versions.user[attr] !== 'undefined') {\n            if (store.user._id === attr) {\n                if (store.user.__v !== versions.user[attr]) {\n                    requestResource('user', [attr], state)\n                }\n            } else notNeededResources.user.push(attr)\n        }\n    }\n\n    for (let attr in versions.account) {\n        if (typeof versions.account[attr] !== 'undefined') {\n            if (store.account._id === attr) {\n                if (store.account.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n            }\n            if (store.profile._id === attr) {\n                if (store.profile.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n                if (!store.account._id) notNeededResources.account.push(attr)\n            }\n        }\n        if (store.account._id !== attr && store.profile._id !== attr)\n            notNeededResources.account.push(attr)\n    }\n\n    check('progress')\n\n    checkData('post')\n    checkData('friendData')\n    checkData('progressData')\n    checkData('postData')\n    checkData('transactionData')\n\n    if (\n        notNeededResources.user.length > 0 ||\n        notNeededResources.account.length > 0 ||\n        notNeededResources.progress.length > 0 ||\n        notNeededResources.post.length > 0 ||\n        notNeededResources.friendData.length > 0 ||\n        notNeededResources.progressData.length > 0 ||\n        notNeededResources.postData.length > 0 ||\n        notNeededResources.transactionData.length > 0\n    ) {\n        return notNeededResources\n    }\n}\n","export default props => {\n    const { store } = props\n    const resources = {\n        user: {},\n        account: {},\n        progress: {},\n        post: {},\n        transactionData: {},\n        friendData: {},\n        progressData: {},\n        postData: {},\n    }\n\n    if (store.user && store.user._id) {\n        resources.user[store.user._id] = store.user.__v\n    }\n\n    if (store.account._id) {\n        resources.account[store.account._id] = store.account.__v\n    }\n    if (store.profile._id) {\n        resources.account[store.profile._id] = store.profile.__v\n    }\n    if (store.progress._id) {\n        resources.progress[store.progress._id] = store.progress.__v\n    }\n\n    const addData = key => {\n        for (let item in store[key]) {\n            if (typeof store[key][item] !== 'undefined') {\n                if (store[key][item]._id) {\n                    resources[key][store[key][item]._id] = store[key][item].__v\n                }\n            }\n        }\n    }\n\n    addData('post')\n    addData('friendData')\n    addData('postData')\n    addData('progressData')\n    addData('TransactionData')\n\n    return resources\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport message from 'antd/es/message'\nimport getListOfNeededResources from './methods/getListOfNeededResources'\nimport compareVersionsAndRerequest from './methods/compareVersionsAndRerequest'\nimport getResourcesToMonitor from './methods/getResourcesToMonitor'\nimport { store } from '../..'\n\nexport let webSocket = false\n\nclass ConnectWebsocket extends Component {\n    state = {\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        friendData: [],\n        progressData: [],\n        postData: [],\n        transactionData: [],\n    }\n    start = () => {\n        let url\n        if (process.env.NODE_ENV === 'development') {\n            url = 'ws://my.websiter.test:5000'\n        } else {\n            url = 'wss://addspire.com'\n        }\n        let pingTimeout\n        webSocket = new WebSocket(url)\n\n        const heartbeat = versions => {\n            let notNeededResources\n            if (versions) {\n                notNeededResources = compareVersionsAndRerequest(\n                    versions,\n                    this.state,\n                    this.props.store,\n                    webSocket\n                )\n            }\n            clearTimeout(pingTimeout)\n\n            pingTimeout = setTimeout(() => {\n                webSocket.close()\n            }, 30000 + 1000)\n\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'heartbeat',\n                    notNeededResources,\n                    //get back list of online friends\n                })\n            )\n        }\n\n        webSocket.onopen = event => {\n            const resourcesToMonitor = getResourcesToMonitor(this.props)\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'auth',\n                    user: axios.defaults.headers.common['x-auth-token'],\n                    resourcesToMonitor,\n                    // progressId: this.props.progress._id,\n                })\n            )\n            this.initializeRequestResources(this.props)\n            heartbeat()\n        }\n\n        webSocket.onmessage = event => {\n            const news = JSON.parse(event.data)\n\n            switch (news.messageCode) {\n                case 'heartbeat':\n                    heartbeat(news.versions)\n                    break\n                case 'logout':\n                    this.props.logout()\n                    this.props.history.push('/logout')\n                    break\n\n                case 'successMessage':\n                    message.success(news.messageText)\n                    break\n                case 'errorMessage':\n                    message.error(news.messageText)\n                    break\n                case 'friendsData':\n                    this.props.setFriendsData(news.friendsData)\n                    break\n                case 'redirectToProgresses':\n                    this.props.history.push('/inspirations')\n                    break\n                case 'addResource':\n                    this.props.saveResource(news.resources, news.type)\n                    break\n                case 'updateResource':\n                    this.props.updateResource(\n                        news.code,\n                        news.id,\n                        news.update,\n                        this.state\n                    )\n                    break\n                case 'friendSearchResult':\n                    this.props.setFriendSearchResult(news.data)\n                    break\n\n                // case 'update':\n                //     let newProgress\n                //     let oldProgress = cloneDeep(this.props.progress)\n                //     if (oldProgress.__v === news.progress.__v - 1) {\n                //         newProgress = diffpatcher.patch(\n                //             oldProgress,\n                //             news.progress.patch\n                //         )\n                //         newProgress.__v = news.progress.__v\n                //         this.props.setData(\n                //             {\n                //                 progress: newProgress,\n                //             },\n                //             this.props.history.location.pathname\n                //         )\n                //     }\n                //     wsActions.getFriendsData(\n                //         newProgress || this.props.progress,\n                //         this.props.account.friends\n                //     )\n                //     break\n                case 'error':\n                    message.error(news.text)\n                    break\n                // case 'notFoundResource':\n                //     this.markNotFoundResource(data)\n                //     break\n                default:\n                    break\n            }\n        }\n        webSocket.onclose = event => {\n            clearTimeout(pingTimeout)\n        }\n    }\n\n    // markNotFoundResource = data => {\n    //     const requestedResources = this.state.requestedResources.filter(\n    //         item => item.id.toString() === data._id.toString()\n    //     )\n    //     this.setState({ requestedResources })\n    // }\n\n    checkInterval = null\n\n    check = () => {\n        if (!webSocket || webSocket.readyState === 3) {\n            clearInterval(this.checkInterval)\n            this.checkInterval = setInterval(this.check, 5000)\n            this.start()\n        }\n    }\n    componentWillMount() {\n        this.checkInterval = setInterval(this.check, 50)\n    }\n\n    reRequestResourcesInterval = null\n    reRequestResources = () => {\n        for (let group of [\n            'user',\n            'account',\n            'progress',\n            'post',\n            'postData',\n            'progressData',\n            'friendData',\n            'transactionData',\n        ]) {\n            if (this.state[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: this.state[group],\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.checkInterval)\n        if (webSocket) {\n            webSocket.close()\n        }\n        this.props.setConnectingToWS(false)\n    }\n    componentDidMount() {\n        this.props.setConnectingToWS(true)\n    }\n    componentWillReceiveProps(nextProps) {\n        this.initializeRequestResources(nextProps)\n    }\n\n    initializeRequestResources = nextProps => {\n        const newRequestedResources = getListOfNeededResources(nextProps)\n        for (let group of [\n            'user',\n            'account',\n            'progress',\n            'post',\n            'postData',\n            'progressData',\n            'friendData',\n            'transactionData',\n        ]) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !this.state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        this.setState(() => newRequestedResources)\n        clearInterval(this.reRequestResourcesInterval)\n        this.reRequestResourcesInterval = setInterval(\n            this.reRequestResources,\n            3000\n        )\n    }\n\n    render() {\n        return null\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        store: state,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        removeData: data => dispatch(actions.removeData(data)),\n        saveResource: (data, type) =>\n            dispatch(actions.saveResource(data, type)),\n        setFriendsData: data => dispatch(actions.setFriendsData(data)),\n\n        updateResource: (code, id, update, state) =>\n            dispatch(actions.updateResource(code, id, update, state)),\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n        setConnectingToWS: data => dispatch(actions.setConnectingToWS(data)),\n\n        logout: () => dispatch(actions.logout()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ConnectWebsocket)\n)\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const sendMessage = (\n    accountId,\n    postId,\n    messageValue,\n    image,\n    replyToMessage,\n    editedMessage\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'sendMessage',\n                messageValue,\n                image,\n                postId,\n                accountId,\n                replyToMessage,\n                editedMessage,\n            })\n        )\n    }\n}\n\nexport const changeLikesMessage = (\n    messageCode,\n    messageId,\n    accountId,\n    postId\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode,\n                messageId,\n                accountId,\n                postId,\n            })\n        )\n    }\n}\n\nexport const addPost = (\n    accountId,\n    parentId,\n    parentType,\n    messageValue,\n    images\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addPost',\n                accountId,\n                parentId,\n                parentType,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const deleteAccount = id => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteAccount',\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const editAccount = (value, id) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editAccount',\n                name: value.name,\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const followProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\nexport const unfollowProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\n\nexport const followAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\nexport const unfollowAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const searchFriends = search => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'searchFriends',\n                search,\n            })\n        )\n    }\n}\n\nexport const addFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const acceptFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'acceptFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const unfriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n","export default (nickname, version) => {\n    if (!nickname) return ''\n    else {\n        return (\n            'https://websiter.s3.us-east-2.amazonaws.com/' +\n            nickname +\n            '/avatar?v=' +\n            (version || 0)\n        )\n    }\n}\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Cookies from 'universal-cookie'\nimport classes from './LoginModal.module.css'\nimport {\n    FacebookLoginButton,\n    GithubLoginButton,\n    GoogleLoginButton,\n} from 'react-social-login-buttons'\nimport {\n    Button,\n    Checkbox,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Divider,\n    FormControlLabel,\n    Slide,\n} from '@material-ui/core'\n\nconst cookies = new Cookies()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst LoginModal = props => {\n    const [state, setState] = useState(false)\n    const [cookieConsent, setCookieConsent] = useState(false)\n\n    useEffect(() => {\n        checkCookieConsent()\n    })\n\n    let remeberMeParam = '?rememberme=false'\n    if (state) {\n        remeberMeParam = '?rememberme=true'\n    }\n\n    const checkCookieConsent = () => {\n        const cookiesConsent = cookies.get('cookies_consent')\n        if (cookiesConsent) {\n            setCookieConsent(true)\n        }\n    }\n\n    const agreeWithCookies = () => {\n        cookies.set('cookies_consent', 'true', {\n            path: '/',\n            maxAge: 31530000,\n        })\n        checkCookieConsent()\n    }\n    const basicURL =\n        process.env.NODE_ENV !== 'development'\n            ? 'https://addspire.com/api/auth/'\n            : 'http://my.websiter.test:5000/api/auth/'\n    return props.loginVisible ? (\n        !cookieConsent ? (\n            <Dialog open={!cookieConsent}>\n                <DialogTitle>{'Cookies consent'}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        We use cookies only for login purposes. In order to\n                        proceed you need to agree with the use of cookies.\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => {\n                            props.setLoginVisible(false)\n                            setCookieConsent(false)\n                        }}\n                        color=\"primary\"\n                    >\n                        Disagree\n                    </Button>\n                    <Button\n                        onClick={agreeWithCookies}\n                        color=\"primary\"\n                        autoFocus\n                    >\n                        Agree\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        ) : (\n            <Dialog\n                fullScreen\n                open={props.loginVisible}\n                onClose={() => props.setLoginVisible(false)}\n                TransitionComponent={TransitionComponent}\n            >\n                <div className=\"contentDiv\">\n                    <div\n                        className={classes.Container}\n                        style={{\n                            maxWidth: '500px',\n                            margin: '0 auto',\n                        }}\n                    >\n                        <h1\n                            style={{\n                                fontWeight: 'bold',\n                                lineHeight: '1.3em',\n                                marginBottom: 0,\n                                fontSize: '2.5em',\n                            }}\n                        >\n                            Welcome to Addspire!\n                        </h1>\n                        <h3>This is where great inspiration lives.</h3>\n                        <div\n                            className={classes.socialButtons}\n                            style={{ marginBottom: '30px' }}\n                        >\n                            <FacebookLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `facebook/start${remeberMeParam}`)\n                                }\n                            />\n                            <GoogleLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `google/start${remeberMeParam}`)\n                                }\n                            />\n                            <GithubLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `github/start${remeberMeParam}`)\n                                }\n                            />\n                        </div>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={state}\n                                    onChange={() => setState(!state)}\n                                    color=\"primary\"\n                                />\n                            }\n                            label=\"Remember me\"\n                        />\n\n                        <Divider style={{ margin: '20px' }} />\n\n                        <Button\n                            onClick={() => props.setLoginVisible(false)}\n                            color=\"secondary\"\n                        >\n                            Login or sign up later\n                        </Button>\n                    </div>\n                    <div className={classes.Background} />\n                </div>\n            </Dialog>\n        )\n    ) : null\n}\n\nexport default withRouter(LoginModal)\n","export default {\n    name: 200,\n    description: 10000,\n    message: 10000,\n}\n","import fieldLength from './fieldLength'\n\nexport const nicknameRules = [\n    {\n        required: true,\n        message: 'Nickname is too short. Minimal length is 2.',\n        whitespace: true,\n        min: 2,\n    },\n    {\n        message: `Nickname is too long. Miximum length is ${fieldLength.name}.`,\n        whitespace: true,\n        max: fieldLength.name,\n    },\n    {\n        pattern: /^[a-zA-Z0-9_-]*$/,\n        message: \"Nickname should contain only letters, numbers, '-' and '_'.\",\n    },\n]\n\nexport const nameRules = [\n    {\n        required: true,\n        min: 1,\n        whitespace: true,\n        message: 'Name is too short. Minimal length is 1.',\n    },\n    {\n        max: fieldLength.name,\n        message: `Name is too long. Miximum length is ${fieldLength.name}.`,\n    },\n]\n\nexport const accountNameRules = [\n    {\n        required: true,\n        min: 2,\n        whitespace: true,\n        message: 'Name is too short. Minimal length is 2.',\n    },\n    {\n        max: fieldLength.name,\n        message: `Name is too long. Miximum length is ${fieldLength.name}.`,\n    },\n]\n\nexport const descriptionRules = [\n    {\n        max: fieldLength.description,\n        message: `Description is too long. Miximum length is ${\n            fieldLength.description\n        }.`,\n    },\n]\n\nexport const messageRules = [\n    {\n        min: 1,\n        whitespace: true,\n        message: 'Message is too short. Minimal length is 1.',\n    },\n    {\n        max: fieldLength.message,\n        message: `Message is too long. Miximum length is ${\n            fieldLength.message\n        }.`,\n    },\n]\n\nexport const priceRules = [\n    {\n        required: true,\n        message: 'Please input the item price.',\n    },\n]\n","import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport Avatar from 'antd/es/avatar'\nimport getAvatar from '../../utils/getAvatar'\n\nconst UserButton = props => {\n    const { account, profile, id, friendSearchResult } = props\n    const friendData = props.friendDataExp || props.friendData\n    const getUserData = id =>\n        id === account._id\n            ? account\n            : id === profile._id\n            ? profile\n            : id === friendSearchResult._id\n            ? friendSearchResult\n            : friendData[id]\n    const userName = id => (getUserData(id) ? getUserData(id).name : id)\n    const userAvatar = id =>\n        getUserData(id) ? (\n            <span key={id}>\n                <Avatar\n                    src={getAvatar(id, getUserData(id).image)}\n                    size={props.size || (props.noClick ? 20 : 40)}\n                    style={props.group ? {} : { margin: ' 0 5px' }}\n                />\n            </span>\n        ) : null\n\n    return props.onlyName ? (\n        userName(id)\n    ) : props.group ? (\n        <span onClick={e => e.stopPropagation()}>\n            <Avatar.Group style={{ margin: ' 0 5px' }}>\n                {props.ids.map(id => userAvatar(id))}\n            </Avatar.Group>\n        </span>\n    ) : props.noClick ? (\n        <>\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </>\n    ) : props.span ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n                display: 'flex',\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            <div>{!props.noAva && userAvatar(id)}</div>\n            <div>{!props.noName && userName(id)}</div>\n        </Link>\n    ) : props.inline ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : (\n        <Link\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            <Button\n                type=\"link\"\n                style={{ padding: '0px 5px', height: 'auto', ...props.style }}\n            >\n                {!props.noAva && userAvatar(id)}\n\n                {!props.noName && userName(id)}\n            </Button>\n        </Link>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        profile: state.profile,\n        friendData: state.friendData,\n        friendSearchResult: state.friendSearchResult,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(UserButton))\n","import React, { useState } from 'react'\nimport Carousel from 'antd/es/carousel'\nimport classes from './imageCarousel.module.css'\nimport Modal from 'antd/es/modal/Modal'\n\nconst ImageCarousel = props => {\n    const [previewImage, setPreviewImage] = useState(false)\n\n    return props.images && props.images.length > 0 ? (\n        <>\n            <Carousel\n                style={{ width: props.size || 'auto' }}\n                dots={{ className: classes.Dots }}\n            >\n                {props.images.map(\n                    (image, index) =>\n                        image && (\n                            <div\n                                key={index}\n                                onClick={() => setPreviewImage(image)}\n                            >\n                                <div\n                                    style={{\n                                        backgroundImage: 'url(\"' + image + '\")',\n                                        backgroundSize: props.type || 'contain',\n                                        backgroundPosition: 'center',\n                                        width: props.size || '100%',\n                                        height:\n                                            props.height ||\n                                            props.size ||\n                                            '300px',\n                                        backgroundRepeat: 'no-repeat',\n                                    }}\n                                />\n                            </div>\n                        )\n                )}\n            </Carousel>\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => setPreviewImage('')}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </>\n    ) : null\n}\n\nexport default ImageCarousel\n","import axios from 'axios'\nimport message from 'antd/es/message'\n\nexport const uploadFile = (file, size, filename, callback) => {\n    if (file == null) {\n        return alert('No file selected.')\n    }\n\n    const reader = new FileReader()\n    reader.onload = async event => {\n        resizeImageToSpecificSize(file, { width: size, height: size }, data => {\n            if (!data) {\n                callback()\n            } else {\n                urltoFile(data, '/120').then(function(file) {\n                    getSignedRequest(file, filename, callback)\n                })\n            }\n        })\n    }\n\n    reader.readAsArrayBuffer(file)\n}\n\nconst urltoFile = (url, filename, mimeType) => {\n    mimeType = mimeType || (url.match(/^data:([^;]+);/) || '')[1]\n    return fetch(url)\n        .then(function(res) {\n            return res.arrayBuffer()\n        })\n        .then(function(buf) {\n            return new File([buf], filename, { type: 'image/jpeg' })\n        })\n}\n\nconst resizeImageToSpecificSize = (file, size, cb) => {\n    if (file) {\n        var reader = new FileReader()\n        reader.onload = function(event) {\n            resizeImageFromSrcToSpecificSize(event.target.result, size, cb)\n        }\n        reader.readAsDataURL(file)\n    }\n}\n\nconst resizeImageFromSrcToSpecificSize = (src, size, cb) => {\n    try {\n        var data\n        console.log('start')\n        var img = new Image()\n        img.onload = function() {\n            console.log('fin')\n\n            const widthCoef = img.width / size.width\n            const heightCoef = img.height / size.height\n            var oc = document.createElement('canvas'),\n                octx = oc.getContext('2d')\n            oc.width = img.width\n            oc.height = img.height\n            octx.drawImage(img, 0, 0)\n            if (widthCoef > 1 || heightCoef > 1) {\n                if (img.width > img.height) {\n                    oc.height = (img.height / img.width) * size.width\n                    oc.width = size.width\n                } else {\n                    oc.width = (img.width / img.height) * size.width\n                    oc.height = size.width\n                }\n            }\n            octx.drawImage(oc, 0, 0, oc.width, oc.height)\n            octx.drawImage(img, 0, 0, oc.width, oc.height)\n            data = oc.toDataURL('image/jpeg', 0.6)\n            cb(data)\n        }\n        img.onerror = () => {\n            cb()\n        }\n        img.src = src\n    } catch {\n        console.log('err')\n    }\n}\n\nconst getSignedRequest = (file, fileName, callback) => {\n    console.log('sign')\n    return axios\n        .post('/api/sign-s3', {\n            fileName,\n        })\n        .then(response => {\n            doUploadFile(file, response.data, callback)\n        })\n        .catch(err => {})\n}\n\nconst doUploadFile = (file, data, callback) => {\n    console.log('doupload')\n    return axios\n        .put(data.signedRequest, file, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        })\n        .then(response => {\n            callback(data.url)\n            message.success('The image has been saved.')\n        })\n        .catch(err => {\n            console.log(err)\n        })\n}\n","import Upload from 'antd/es/upload'\nimport React, { useState, useEffect } from 'react'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport { uploadFile } from '../../utils/uploadFile'\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from '@material-ui/core'\n\nconst ImagePickerMulti = props => {\n    const [images, setImages] = useState(props.images || [])\n    const [previewImage, setPreviewImage] = useState()\n\n    useEffect(() => {\n        props.onValueChange(images)\n    }, [images])\n\n    return (\n        <>\n            <Upload\n                accept=\"image/*\"\n                listType=\"picture-card\"\n                fileList={images.map((image, index) => ({\n                    url: image,\n                    uid: index,\n                }))}\n                onPreview={file => {\n                    setPreviewImage(file.url)\n                }}\n                onChange={({ fileList }) =>\n                    setImages(fileList.map(item => item.url))\n                }\n                customRequest={({ file }) => {\n                    uploadFile(file, 800, undefined, url => {\n                        if (!url) {\n                            setImages([...images])\n                        } else {\n                            setImages([...images, url])\n                        }\n                    })\n                }}\n            >\n                {images.length >= 8 ? null : (\n                    <div\n                        style={{\n                            flex: 1,\n                            display: 'flex',\n                            height: '100%',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            flexDirection: 'column',\n                        }}\n                        onClick={e => {\n                            if (window.isRNWebView) {\n                                e.stopPropagation()\n                                window.ReactNativeWebView.postMessage(\n                                    'uploadFile'\n                                )\n                                window.callback = url => {\n                                    setImages([...images, url])\n                                }\n                            }\n                        }}\n                    >\n                        <PlusOutlined />\n                        <div className=\"ant-upload-text\">Upload</div>\n                    </div>\n                )}\n            </Upload>\n            <Dialog\n                open={Boolean(previewImage)}\n                onClose={() => setPreviewImage()}\n            >\n                <DialogTitle id=\"scroll-dialog-title\">\n                    Preview image\n                </DialogTitle>\n                <DialogContent dividers={true}>\n                    <img src={previewImage} style={{ width: '100%' }} />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setPreviewImage()} color=\"primary\">\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n\nexport default ImagePickerMulti\n","import React from 'react'\nimport { Editor } from '@tinymce/tinymce-react'\n\nexport default props => (\n    <Editor\n        apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n        // initialValue={form.getFieldValue('description')}\n        init={{\n            height: 200,\n            menubar: false,\n            plugins: 'autoresize',\n            min_height: 100,\n            max_height: 800,\n            mobile: {\n                theme: 'mobile',\n                plugins: ['autosave', 'lists', 'autolink'],\n                toolbar: ['undo', 'bold', 'italic', 'styleselect'],\n            },\n\n            plugins: [\n                'advlist autolink lists link image charmap print preview anchor',\n                'searchreplace visualblocks code fullscreen',\n                'insertdatetime media table paste code help wordcount',\n            ],\n            toolbar:\n                'undo redo | formatselect | bold italic backcolor | \\\n             alignleft aligncenter alignright alignjustify | \\\n             bullist numlist outdent indent | removeformat | help',\n        }}\n        onEditorChange={props.onEditorChange}\n        value={props.value}\n    />\n)\n","import React, { useState } from 'react'\nimport Modal from 'antd/es/modal'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as wsActions from '../../websocketActions'\nimport Form from 'antd/es/form'\n\nimport { descriptionRules, nameRules } from '../../constants/fieldRules'\nimport UserButton from '../UserButton/UserButton'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    CardHeader,\n    CardMedia,\n    Grid,\n    IconButton,\n    makeStyles,\n    Typography,\n    Button,\n    Menu,\n    MenuItem,\n    Dialog,\n    Slide,\n    AppBar,\n    Toolbar,\n    DialogTitle,\n    Input,\n    DialogActions,\n    Box,\n} from '@material-ui/core'\nimport { AddOutlined, Close, MoreVertOutlined } from '@material-ui/icons'\nimport { red } from '@material-ui/core/colors'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport TinyEditor from '../UI/TinyEditor'\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: 345,\n    },\n    media: {\n        height: 0,\n        paddingTop: '56.25%', // 16:9\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        marginLeft: 'auto',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n    avatar: {\n        backgroundColor: red[500],\n    },\n    appBar: {\n        position: 'fixed',\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}))\nconst TransitionComponent = props => <Slide direction=\"left\" {...props} />\n\nconst Rewards = props => {\n    const rewards = props.rewards || []\n\n    const classes = useStyles()\n\n    const [previewReward, setPreviewReward] = useState()\n    const [editedReward, setEditedReward] = useState()\n    const [editedRewardIndex, setEditedRewardIndex] = useState()\n    const { account, readOnly, progress } = props\n\n    const RewardButton = props => {\n        const [anchorEl, setAnchorEl] = useState(null)\n        const [confirmOpen, setConfirmOpen] = useState(false)\n        const handleClick = event => {\n            setAnchorEl(event.currentTarget)\n        }\n        const handleClose = () => {\n            setAnchorEl(null)\n            setConfirmOpen(false)\n        }\n        return (\n            <Grid item xs={12} sm={6} md={4} lg={3} xl={2}>\n                <Card className={classes.root}>\n                    <CardHeader\n                        // avatar={\n                        //     <Avatar aria-label=\"recipe\" className={classes.avatar}>\n                        //         R\n                        //     </Avatar>\n                        // }\n                        avatar={\n                            <UserButton id={props.item.owner} inline={true} />\n                        }\n                        action={\n                            !props.onlyButton &&\n                            (account._id === props.item.owner ||\n                                account._id === progress.owner) && (\n                                <>\n                                    <IconButton onClick={handleClick}>\n                                        <MoreVertOutlined />\n                                    </IconButton>\n                                    <Menu\n                                        id=\"simple-menu\"\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={handleClose}\n                                    >\n                                        {account._id === props.item.owner && (\n                                            <MenuItem\n                                                onClick={() => {\n                                                    setEditedReward(props.item)\n                                                    setEditedRewardIndex(\n                                                        props.index\n                                                    )\n                                                    handleClose()\n                                                }}\n                                            >\n                                                Edit\n                                            </MenuItem>\n                                        )}\n                                        <MenuItem\n                                            onClick={() => {\n                                                setConfirmOpen(true)\n                                            }}\n                                        >\n                                            Delete\n                                        </MenuItem>\n                                    </Menu>\n                                    <Dialog\n                                        open={Boolean(confirmOpen)}\n                                        onClose={handleClose}\n                                    >\n                                        <DialogTitle>\n                                            Are youe sure you want to delete\n                                            this reward?\n                                        </DialogTitle>\n\n                                        <DialogActions>\n                                            <Button\n                                                onClick={handleClose}\n                                                color=\"primary\"\n                                            >\n                                                Disagree\n                                            </Button>\n                                            <Button\n                                                onClick={() => {\n                                                    if (props.onValueChange) {\n                                                        props.onValueChange(\n                                                            props.rewards.filter(\n                                                                (\n                                                                    item,\n                                                                    indexIn\n                                                                ) =>\n                                                                    indexIn !==\n                                                                    props.index\n                                                            )\n                                                        )\n                                                    } else {\n                                                        wsActions.deleteReward(\n                                                            account._id,\n                                                            progress._id,\n                                                            props.item.rewardId\n                                                        )\n                                                    }\n                                                    handleClose()\n                                                }}\n                                                color=\"primary\"\n                                            >\n                                                Agree\n                                            </Button>\n                                        </DialogActions>\n                                    </Dialog>\n                                </>\n                            )\n                        }\n                    />\n                    <CardActionArea\n                        onClick={() => setPreviewReward(props.item)}\n                    >\n                        <CardMedia\n                            className={classes.media}\n                            image={\n                                props.item.itemImages.length > 0 &&\n                                props.item.itemImages[0]\n                            }\n                            title={props.item.itemName}\n                        />\n                        <CardContent>\n                            <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                {props.item.itemName}\n                            </Typography>\n                        </CardContent>\n                    </CardActionArea>\n                </Card>\n            </Grid>\n        )\n    }\n    const layout = {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 20 },\n    }\n\n    const saveReward = editedReward => {\n        let rewardToSave = {}\n\n        rewardToSave = { ...editedReward }\n\n        rewardToSave.owner = account._id\n        if (props.onValueChange) {\n            let newRewards = [...rewards]\n\n            if (editedRewardIndex === 'new')\n                newRewards = [...newRewards, rewardToSave]\n            else\n                newRewards = newRewards.map((item, index) => {\n                    if (index === editedRewardIndex) return rewardToSave\n                    else return item\n                })\n            console.log('newRewards')\n            console.log(newRewards)\n            props.onValueChange(newRewards)\n            setEditedReward()\n            setEditedRewardIndex()\n        } else {\n            wsActions.saveReward(\n                account._id,\n                progress._id,\n                props.rewardKey,\n                rewardToSave\n            )\n            setEditedReward()\n            setEditedRewardIndex()\n        }\n        document.body.removeAttribute('style')\n    }\n\n    return (\n        <Grid\n            container\n            style={{ padding: '15px', maxWidth: '800px' }}\n            alignItems=\"center\"\n            spacing={1}\n        >\n            {!readOnly && (\n                <Grid item xs={12}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        component=\"span\"\n                        startIcon={<AddOutlined />}\n                        onClick={() => {\n                            setEditedReward({})\n                            setEditedRewardIndex('new')\n                        }}\n                        style={{ marginBottom: '20px' }}\n                    >\n                        Add inspiration\n                    </Button>\n                </Grid>\n            )}\n            {rewards.map((item, index) => (\n                <RewardButton\n                    {...props}\n                    item={item}\n                    key={index}\n                    index={index}\n                />\n            ))}\n\n            <Dialog\n                fullScreen\n                open={Boolean(editedRewardIndex) || Boolean(editedReward)}\n                onClose={() => {\n                    setEditedReward()\n                    setEditedRewardIndex()\n                }}\n                TransitionComponent={TransitionComponent}\n            >\n                {(Boolean(editedRewardIndex) || Boolean(editedReward)) && (\n                    <>\n                        <AppBar className={classes.appBar} color=\"primary\">\n                            <Toolbar>\n                                <IconButton\n                                    edge=\"start\"\n                                    color=\"inherit\"\n                                    onClick={() => {\n                                        setEditedReward()\n                                        setEditedRewardIndex()\n                                    }}\n                                    aria-label=\"close\"\n                                >\n                                    <Close />\n                                </IconButton>\n                                <Typography\n                                    variant=\"h6\"\n                                    className={classes.title}\n                                    color=\"inherit\"\n                                >\n                                    {editedRewardIndex === 'new'\n                                        ? 'Add new inspiration'\n                                        : 'Edit inspiration'}\n                                </Typography>\n                                <Button\n                                    autoFocus\n                                    color=\"inherit\"\n                                    onClick={() => {\n                                        saveReward(editedReward)\n                                    }}\n                                >\n                                    Save\n                                </Button>\n                            </Toolbar>\n                        </AppBar>\n                        <Toolbar />\n                        <Form\n                            style={{\n                                maxWidth: '1200px',\n                                margin: '0 auto',\n                                padding: '15px',\n                                width: '100%',\n                            }}\n                            name=\"new_inspiration\"\n                            {...layout}\n                        >\n                            <Form.Item\n                                name=\"images\"\n                                label=\"Images\"\n                                // valuePropName=\"images\"\n                            >\n                                <ImagePickerMulti\n                                    images={editedReward.itemImages}\n                                    onValueChange={itemImages =>\n                                        setEditedReward({\n                                            ...editedReward,\n                                            itemImages,\n                                        })\n                                    }\n                                />\n                            </Form.Item>\n\n                            <Form.Item label=\"Name\" rules={nameRules}>\n                                <Input\n                                    fullWidth={true}\n                                    value={editedReward.itemName}\n                                    onChange={({ target: { value } }) =>\n                                        setEditedReward({\n                                            ...editedReward,\n                                            itemName: value,\n                                        })\n                                    }\n                                />\n                            </Form.Item>\n                            <Form.Item\n                                label=\"Description\"\n                                rules={descriptionRules}\n                            >\n                                <TinyEditor\n                                    value={editedReward.itemDescription}\n                                    onEditorChange={value =>\n                                        setEditedReward({\n                                            ...editedReward,\n                                            itemDescription: value,\n                                        })\n                                    }\n                                />\n                            </Form.Item>\n                        </Form>\n                    </>\n                )}\n            </Dialog>\n            <Dialog\n                fullScreen\n                open={Boolean(previewReward)}\n                onClose={() => setPreviewReward()}\n                TransitionComponent={TransitionComponent}\n            >\n                {previewReward && (\n                    <>\n                        <AppBar className={classes.appBar} color=\"primary\">\n                            <Toolbar>\n                                <IconButton\n                                    edge=\"start\"\n                                    color=\"inherit\"\n                                    onClick={() => setPreviewReward()}\n                                >\n                                    <Close />\n                                </IconButton>\n                                <Typography\n                                    variant=\"h6\"\n                                    className={classes.title}\n                                    color=\"inherit\"\n                                >\n                                    Reward details\n                                </Typography>\n                            </Toolbar>\n                        </AppBar>\n                        <Toolbar />\n                        <Box\n                            style={{\n                                maxWidth: '1200px',\n                                margin: '0 auto',\n                                padding: '30px 15px 15px',\n                                width: '100%',\n                            }}\n                        >\n                            <ImageCarousel images={previewReward.itemImages} />\n                            <Typography\n                                variant=\"h4\"\n                                style={{\n                                    textAlign: 'center',\n                                    margin: '20px 0',\n                                }}\n                            >\n                                {previewReward.itemName}\n                            </Typography>\n                            <div\n                                dangerouslySetInnerHTML={{\n                                    __html: previewReward.itemDescription,\n                                }}\n                            />\n                        </Box>\n                    </>\n                )}\n            </Dialog>\n        </Grid>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        friendData: state.friendData,\n        progress: state.progress,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(Rewards))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const changeStage = (value, accountId, progressId, stageId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeStage',\n                value,\n                progressId,\n                accountId,\n                stageId,\n            })\n        )\n    }\n}\n\nexport const leaveProgress = data => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'leaveProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n            })\n        )\n    }\n}\n\nexport const getFriendsData = (progress, accountFriends) => {\n    if (webSocket && webSocket.readyState === 1) {\n        if (progress) {\n            let accountIds = [\n                progress.owner,\n                progress.worker,\n                ...accountFriends,\n            ]\n\n            accountIds = [...new Set(accountIds)]\n\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'getFriendsData',\n                    accountIds,\n                })\n            )\n        }\n    }\n}\n\nexport const editGoalInProgress = (data, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editGoalInProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n                value,\n            })\n        )\n    }\n}\n\nexport const startProgress = (accountId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'startProgress',\n                accountId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteReward = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteReward',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n\nexport const saveReward = (accountId, progressId, rewardKey, reward) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveReward',\n                accountId,\n                progressId,\n                rewardKey,\n                reward,\n            })\n        )\n    }\n}\n\nexport const changeLikesProgress = (accountId, progressId, add) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesProgress',\n                accountId,\n                progressId,\n                add,\n            })\n        )\n    }\n}\n","import React from 'react'\n\nimport Select from 'antd/es/select'\nimport UserButton from '../UserButton/UserButton'\n\nexport default props => (\n    <Select\n        mode=\"multiple\"\n        style={{ width: '100%' }}\n        placeholder=\"Please select\"\n        value={props.value}\n        onChange={props.onChange}\n        getPopupContainer={trigger => trigger.parentNode}\n    >\n        {[\n            props.account,\n            ...props.account.friends\n                .filter(friend => friend.status === 'friend')\n                .map(friend => props.friendData[friend.friend]),\n        ].map(\n            item =>\n                item &&\n                item._id && (\n                    <Select.Option key={item._id}>\n                        <UserButton id={item._id} noClick={true} />\n                    </Select.Option>\n                )\n        )}\n    </Select>\n)\n","import React, { useRef, useState, useEffect } from 'react'\n\nimport Form from 'antd/es/form'\n\nimport Rewards from '../Rewards/Rewards'\nimport { nameRules, descriptionRules } from '../../constants/fieldRules'\nimport ConnectionsSelect from './ConnectionsSelect'\nimport Select from 'antd/es/select'\nimport { Map, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from '../../containers/Explore/LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport {\n    AppBar,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Input,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport TinyEditor from '../UI/TinyEditor'\nconst { Option } = Select\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst EditGoalAndProgressForm = props => {\n    const map = useRef(null)\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [map.current])\n    const { goal, account, friendData } = props\n\n    const defPos = [40.689078, -74.044526]\n    const [position, setPosition] = useState(\n        goal && goal.position && goal.position.coordinates\n            ? [goal.position.coordinates[1], goal.position.coordinates[0]]\n            : defPos\n    )\n\n    const [zoom, setZoom] = useState(10)\n\n    const onFinish = value => {\n        props.onFinish({\n            ...value,\n            position: {\n                type: 'Point',\n                coordinates: [position[1], position[0]],\n            },\n        })\n    }\n\n    const layout = {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 20 },\n    }\n\n    const [form] = Form.useForm()\n\n    const mapDragEnd = e => {\n        setZoom(e.target._zoom)\n\n        setPosition([e.target.getCenter().lat, e.target.getCenter().lng])\n        form.setFieldsValue({ nomap: false })\n    }\n    const classes = useStyles()\n\n    return !props.goalId || goal ? (\n        <>\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.cancel}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        Add new goal\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => form.submit()}\n                    >\n                        Save\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Form\n                style={{\n                    maxWidth: '1200px',\n                    margin: 'auto',\n                    padding: '15px',\n                    width: '100%',\n                }}\n                form={form}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={\n                    goal || {\n                        name: 'New achievement',\n                        repeat: 'no',\n                        days: ['0'],\n                        nomap: false,\n                    }\n                }\n                {...layout}\n                onValuesChange={(changedFields, allValues) => {\n                    console.log(allValues.days)\n                    allValues.days &&\n                        form.setFieldsValue({\n                            days: [...allValues.days].sort(),\n                        })\n                }}\n            >\n                <Form.Item\n                    name=\"images\"\n                    label=\"Images\"\n                    valuePropName=\"images\"\n                    trigger=\"onValueChange\"\n                >\n                    <ImagePickerMulti />\n                </Form.Item>\n                <Form.Item\n                    label=\"Name\"\n                    name=\"name\"\n                    rules={nameRules}\n                    getValueFromEvent={event => event.target.value}\n                >\n                    <Input fullWidth={true} />\n                </Form.Item>\n                <Form.Item\n                    label=\"Description\"\n                    name=\"description\"\n                    rules={descriptionRules}\n                    trigger=\"onEditorChange\"\n                >\n                    <TinyEditor />\n                </Form.Item>\n                <Form.Item label=\"Achievers\" name=\"users\">\n                    <ConnectionsSelect\n                        account={account}\n                        friendData={friendData}\n                    />\n                </Form.Item>\n\n                <Form.Item label=\"Repeat\" name=\"repeat\">\n                    <Select getPopupContainer={trigger => trigger.parentNode}>\n                        <Option value=\"no\">No repeat</Option>\n                        <Option value=\"day\">Every day</Option>\n                        <Option value=\"weekday\">Every day of week</Option>\n                        <Option value=\"week\">Every week</Option>\n                        <Option value=\"month\">Every month</Option>\n                        <Option value=\"year\">Every year</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item\n                    noStyle\n                    shouldUpdate={(prevValues, currentValues) =>\n                        prevValues.repeat !== currentValues.repeat\n                    }\n                >\n                    {({ getFieldValue }) => {\n                        return getFieldValue('repeat') === 'weekday' ? (\n                            <Form.Item label=\"Days of week\" name=\"days\">\n                                <Select\n                                    mode=\"tags\"\n                                    getPopupContainer={trigger =>\n                                        trigger.parentNode\n                                    }\n                                >\n                                    <Option value=\"0\">Sunday</Option>\n                                    <Option value=\"1\">Monday</Option>\n                                    <Option value=\"2\">Tuesday</Option>\n                                    <Option value=\"3\">Wednesday</Option>\n                                    <Option value=\"4\">Thursday</Option>\n                                    <Option value=\"5\">Friday</Option>\n                                    <Option value=\"6\">Saturday</Option>\n                                </Select>\n                            </Form.Item>\n                        ) : null\n                    }}\n                </Form.Item>\n                <Form.Item\n                    name=\"rewards\"\n                    label=\"Inspirations\"\n                    valuePropName=\"rewards\"\n                    trigger=\"onValueChange\"\n                >\n                    <Rewards />\n                </Form.Item>\n                <Form.Item label=\"Place\">\n                    <div\n                        style={{\n                            position: 'relative',\n                            height: '300px',\n                        }}\n                    >\n                        <Map\n                            ref={map}\n                            center={position}\n                            zoom={zoom}\n                            ondragend={mapDragEnd}\n                            onmoveend={mapDragEnd}\n                            style={{\n                                width: '100%',\n                                height: '100%',\n                                position: 'relative',\n                                zIndex: 1,\n                            }}\n                            gestureHandling={true}\n                        >\n                            <TileLayer\n                                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                            />\n                            {/* <LocateControl /> */}\n                        </Map>\n                        <div\n                            style={{\n                                backgroundImage: `url(${require('../../assets/images/pin.png')})`,\n                                width: '20px',\n                                height: '35px',\n                                position: 'absolute',\n                                zIndex: 2,\n                                left: 'calc(50% - 10px)',\n                                top: 'calc(50% - 35px)',\n                                pointerEvents: 'none',\n                                touchAction: 'none',\n                            }}\n                        />\n                    </div>\n                </Form.Item>\n                <div style={{ textAlign: 'right', marginTop: '50px' }}>\n                    <Button size=\"large\" onClick={() => props.cancel(false)}>\n                        Cancel\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                    >\n                        Save\n                    </Button>\n                </div>\n            </Form>\n        </>\n    ) : null\n}\nexport default EditGoalAndProgressForm\n","import React from 'react'\nimport * as wsActions from '../../websocketActions'\n\nimport EditGoalAndProgressForm from '../../components/EditGoalAndProgressForm/EditGoalAndProgressForm'\n\nconst AddProgress = props =>\n    props.account._id ? (\n        <EditGoalAndProgressForm\n            onFinish={value => {\n                wsActions.startProgress(props.account._id, value)\n                props.setStartProgressVisible(false)\n                document.body.removeAttribute('style')\n            }}\n            account={props.account}\n            friendData={props.friendData}\n            cancel={props.cancel}\n        />\n    ) : null\n\nexport default AddProgress\n","import React, { useState, useEffect } from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport { connect } from 'react-redux'\nimport getAvatar from '../../utils/getAvatar'\nimport LoginModal from './LoginModal'\nimport * as cll from './Layout.module.css'\nimport AddProgress from '../../containers/Progresses/AddProgress'\n\nimport Fab from '@material-ui/core/Fab'\nimport AddIcon from '@material-ui/icons/Add'\nimport {\n    AppBar,\n    IconButton,\n    Button,\n    Slide,\n    Toolbar,\n    useScrollTrigger,\n    createStyles,\n    makeStyles,\n    Theme,\n    Container,\n    Badge,\n    Avatar,\n    LinearProgress,\n    Tab,\n    Tabs,\n    Dialog,\n} from '@material-ui/core'\nimport { ArrowBack, HomeRounded } from '@material-ui/icons'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '& > *': {\n                margin: '0px ' + theme.spacing(1) + 'px',\n            },\n        },\n        fab: {\n            position: 'fixed',\n            bottom: theme.spacing(2),\n            right: theme.spacing(2),\n        },\n        // totop: {\n        //     position: 'fixed',\n        //     bottom: theme.spacing(2),\n        //     right: theme.spacing(2),\n        // },\n    })\n)\n\n// const ScrollTop = props => {\n//     const { children } = props\n//     const classes = useStyles()\n\n//     const trigger = useScrollTrigger({\n//         disableHysteresis: true,\n//         threshold: 100,\n//     })\n\n//     const handleClick = event => {\n//         const anchor = (event.target.ownerDocument || document).querySelector(\n//             '#back-to-top-anchor'\n//         )\n\n//         if (anchor) {\n//             anchor.scrollIntoView({ behavior: 'smooth', block: 'center' })\n//         }\n//     }\n\n//     return (\n//         <Zoom in={trigger}>\n//             <div\n//                 onClick={handleClick}\n//                 role=\"presentation\"\n//                 className={classes.totop}\n//             >\n//                 {children}\n//             </div>\n//         </Zoom>\n//     )\n// }\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst AccountLayout = props => {\n    const { account } = props\n\n    const [loginVisible, setLoginVisible] = useState(false)\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n\n    useEffect(() => {\n        if (props.showSignIn) setLoginVisible(true)\n    }, [props.showSignIn])\n\n    const openLink = url => props.history.push('/' + url)\n\n    const isActivating = props.history.location.pathname === '/activate-account'\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n    const logedIn = props.isAuthed && account._id\n    const editGoal = (\n        <Dialog\n            fullScreen\n            open={startProgressVisible}\n            onClose={() => setStartProgressVisible(false)}\n            TransitionComponent={TransitionComponent}\n        >\n            <AddProgress\n                setStartProgressVisible={setStartProgressVisible}\n                account={account}\n                friendData={props.friendData}\n                cancel={() => setStartProgressVisible(false)}\n            />\n        </Dialog>\n    )\n\n    const classes = useStyles()\n    const handleTabChange = (e, tab) => {\n        props.history.push(['/', '/my', '/posts', '/events'][tab])\n        if (tab === 3) {\n            const last = parseInt(\n                props.lastNotifications.reduce((res, not) => {\n                    return parseInt(not.notId) > parseInt(res) ? not.notId : res\n                }, 0)\n            )\n            if (\n                props.lastNotifications.length > 0 &&\n                parseInt(account.lastSeenNot) !== last\n            ) {\n                wsActions.setLastSeenNot(account._id, last)\n            }\n        }\n    }\n    return (\n        <>\n            <div className={cll.Layout}>\n                <Slide appear={false} direction=\"down\" in={!useScrollTrigger()}>\n                    <AppBar elevation={4} color=\"secondary\">\n                        <Toolbar>\n                            {props.isConnectingWS && !logedIn && (\n                                <LinearProgress\n                                    style={{\n                                        width: '100%',\n                                        position: 'absolute',\n                                        top: 0,\n                                        left: 0,\n                                    }}\n                                />\n                            )}\n                            <div className={classes.MenuButtonContiner}>\n                                {window.isRNWebView ? (\n                                    <IconButton\n                                        onClick={() => props.history.goBack()}\n                                    >\n                                        <ArrowBack color=\"primary\" />\n                                    </IconButton>\n                                ) : (\n                                    <Link to=\"/\">\n                                        <img\n                                            style={{\n                                                height: '42px',\n                                                margin: '0 0 12px 10px',\n                                            }}\n                                            src=\"/logo.jpg\"\n                                        />\n                                    </Link>\n                                )}\n                            </div>\n                            <div style={{ flex: 1 }} />\n                            <div className={classes.root}>\n                                {(logedIn || !props.isConnectingWS) &&\n                                    (isActivating && 'Activate your account')}\n                                {logedIn ? (\n                                    !isActivating ? (\n                                        <>\n                                            <IconButton\n                                                onClick={() => openLink('')}\n                                            >\n                                                <Badge\n                                                    badgeContent={\n                                                        numberOfUnseenNots\n                                                    }\n                                                    color=\"secondary\"\n                                                >\n                                                    <HomeRounded\n                                                        style={{\n                                                            fontSize: 30,\n                                                            color: '#333',\n                                                        }}\n                                                    />\n                                                </Badge>\n                                            </IconButton>\n                                            <IconButton\n                                                onClick={() =>\n                                                    openLink('account')\n                                                }\n                                                size=\"small\"\n                                            >\n                                                <Badge\n                                                    badgeContent={\n                                                        account.friends.filter(\n                                                            item =>\n                                                                item.status ===\n                                                                'inviting'\n                                                        ).length\n                                                    }\n                                                    color=\"secondary\"\n                                                >\n                                                    <Avatar\n                                                        src={getAvatar(\n                                                            account._id,\n                                                            account.image\n                                                        )}\n                                                    />\n                                                </Badge>\n                                            </IconButton>\n                                        </>\n                                    ) : (\n                                        <Button\n                                            onClick={() =>\n                                                props.history.push('/logout')\n                                            }\n                                        >\n                                            Logout\n                                        </Button>\n                                    )\n                                ) : props.isConnectingWS ? (\n                                    <Button\n                                        onClick={() =>\n                                            props.history.push('/logout')\n                                        }\n                                    >\n                                        Logout\n                                    </Button>\n                                ) : (\n                                    <Button\n                                        onClick={() =>\n                                            window.isRNWebView\n                                                ? window.ReactNativeWebView.postMessage(\n                                                      'showLogin'\n                                                  )\n                                                : setLoginVisible(true)\n                                        }\n                                        color=\"primary\"\n                                    >\n                                        Login\n                                    </Button>\n                                )}\n                            </div>\n                        </Toolbar>\n                        {['/', '/my', '/posts', '/events'].includes(\n                            props.history.location.pathname\n                        ) &&\n                            logedIn && (\n                                <Tabs\n                                    indicatorColor=\"primary\"\n                                    textColor=\"primary\"\n                                    onChange={handleTabChange}\n                                    centered={true}\n                                    value={[\n                                        '/',\n                                        '/my',\n                                        '/posts',\n                                        '/events',\n                                    ].indexOf(props.history.location.pathname)}\n                                    TabIndicatorProps={{\n                                        style: {\n                                            height: 0,\n                                        },\n                                    }}\n                                >\n                                    <Tab\n                                        label=\"Explore\"\n                                        // icon={<SearchRounded />}\n                                    />\n                                    <Tab\n                                        label=\"My\"\n                                        // icon={<Person />}\n                                    />\n                                    <Tab\n                                        label=\"Posts\"\n                                        // icon={<DynamicFeed />}\n                                    />\n                                    <Tab\n                                        label={\n                                            <Badge\n                                                badgeContent={\n                                                    numberOfUnseenNots\n                                                }\n                                                color=\"secondary\"\n                                            >\n                                                Events\n                                            </Badge>\n                                        }\n                                        // icon={<NewReleases />}\n                                    />\n                                </Tabs>\n                            )}\n                    </AppBar>\n                </Slide>\n                <Toolbar id=\"back-to-top-anchor\" />\n                {['/', '/my', '/posts', '/events'].includes(\n                    props.history.location.pathname\n                ) &&\n                    logedIn && <Tabs style={{ visibility: 'hidden' }} />}\n                <Container style={{ paddingTop: '20px' }}>\n                    {props.children}\n                </Container>\n            </div>\n            <LoginModal\n                loginVisible={loginVisible}\n                setLoginVisible={setLoginVisible}\n            />\n            {(logedIn || !props.isConnectingWS) &&\n                (!isActivating && (\n                    <>\n                        <Fab\n                            color=\"primary\"\n                            className={classes.fab}\n                            onClick={() => {\n                                account._id\n                                    ? setStartProgressVisible(true)\n                                    : window.isRNWebView\n                                    ? window.ReactNativeWebView.postMessage(\n                                          'showLogin'\n                                      )\n                                    : setLoginVisible(true)\n                            }}\n                        >\n                            <AddIcon />\n                        </Fab>\n                        {editGoal}\n                    </>\n                ))}\n\n            {/* <ScrollTop {...props}>\n                <Fab\n                    color=\"secondary\"\n                    size=\"small\"\n                    aria-label=\"scroll back to top\"\n                >\n                    <ArrowUpward />\n                </Fab>\n            </ScrollTop> */}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        pageTitle: state.pageTitle,\n        isAuthed: state.isAuthed,\n        lastNotifications: state.lastNotifications,\n        isConnectingWS: state.isConnectingWS,\n        friendData: state.friendData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(AccountLayout))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const setLastSeenNot = (accountId, notId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'setLastSeenNot',\n                accountId,\n                notId,\n            })\n        )\n    }\n}\n","import React, { useState } from 'react'\nimport Descriptions from 'antd/es/descriptions'\n\nimport * as wsActions from '../../websocketActions'\nimport Rewards from '../../components/Rewards/Rewards'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Divider from 'antd/es/divider'\nimport Tabs from 'antd/es/tabs'\nimport Tag from 'antd/es/tag'\nimport Radio from 'antd/es/radio'\nimport Badge from 'antd/es/badge'\nimport moment from 'moment'\nimport CaretRightOutlined from '@ant-design/icons/CaretRightOutlined'\n\nmoment().format()\n\nconst ActivityTable = props => {\n    const [activeTab, setActiveTab] = useState(-1)\n    const { progress, account } = props\n    const { goal } = progress\n\n    const isOwner = account && account._id === progress.owner\n\n    let lastStages = progress.stages\n        .slice(Math.max(progress.stages.length - 7, 0))\n        .sort((a, b) => {\n            let aS, aF, bS, bF\n            if (a.old && !b.old) return 1\n            else if (b.old && !a.old) return -1\n            else {\n                if (a.day) {\n                    aS = moment()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .startOf('day')\n                    aF = moment()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .endOf('day')\n                    bS = moment()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .startOf('day')\n                    bF = moment()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .endOf('day')\n                } else if (a.week) {\n                    aS = moment()\n                        .year(a.year)\n                        .week(a.week)\n                        .startOf('week')\n                    aF = moment()\n                        .year(a.year)\n                        .week(a.week)\n                        .endOf('week')\n                    bS = moment()\n                        .year(b.year)\n                        .week(b.week)\n                        .startOf('week')\n                    bF = moment()\n                        .year(b.year)\n                        .week(b.week)\n                        .endOf('week')\n                } else if (a.month) {\n                    aS = moment()\n                        .year(a.year)\n                        .month(a.month)\n                        .startOf('month')\n                    aF = moment()\n                        .year(a.year)\n                        .month(a.month)\n                        .endOf('month')\n                    bS = moment()\n                        .year(b.year)\n                        .month(b.month)\n                        .startOf('month')\n                    bF = moment()\n                        .year(b.year)\n                        .month(b.month)\n                        .endOf('month')\n                } else if (a.year) {\n                    aS = moment()\n                        .year(a.year)\n                        .startOf('year')\n                    aF = moment()\n                        .year(a.year)\n                        .endOf('year')\n                    bS = moment()\n                        .year(b.year)\n                        .startOf('year')\n                    bF = moment()\n                        .year(b.year)\n                        .endOf('year')\n                }\n                if (aS) {\n                    const now = moment()\n\n                    if (\n                        Math.min(\n                            Math.abs(now.diff(aS)),\n                            Math.abs(now.diff(aF))\n                        ) <=\n                        Math.min(Math.abs(now.diff(bS)), Math.abs(now.diff(bF)))\n                    )\n                        return -1\n                    else return 1\n                }\n            }\n            return 0\n        })\n\n    const nowStageId = lastStages.length > 0 ? lastStages[0].stageId : 0\n\n    lastStages = progress.stages\n\n    return lastStages.length === 0 ? null : (\n        <div\n            style={{\n                border: '1px solid #eee',\n                padding: '10px 5px',\n            }}\n        >\n            <Tabs\n                activeKey={activeTab}\n                type=\"card\"\n                defaultActiveKey={\n                    nowStageId\n                        ? lastStages\n                              .findIndex(item => item.stageId === nowStageId)\n                              .toString()\n                        : '2'\n                }\n                onTabClick={key => setActiveTab(key === activeTab ? -1 : key)}\n            >\n                {lastStages.map((stage, index) => {\n                    const getStatus = id => {\n                        if (isOwner && stage.dismissed) return 'dismissed'\n                        if (stage.failBy.find(item => item.accountId === id))\n                            return 'fail'\n                        if (\n                            stage.approvedBy.find(item => item.accountId === id)\n                        )\n                            return 'complete'\n                        return 'process'\n                    }\n\n                    const getTag = id => {\n                        const status = getStatus(id)\n                        let text = 'In process',\n                            color = '#108ee9'\n                        switch (status) {\n                            case 'fail':\n                                text = 'Failed'\n                                color = '#f50'\n                                break\n                            case 'complete':\n                                text = 'Complete'\n                                color = '#87d068'\n                                break\n                            case 'dismissed':\n                                text = 'Dismissed'\n                                color = '#ffa500'\n                                break\n                            default:\n                                break\n                        }\n\n                        return <Tag color={color}>{text}</Tag>\n                    }\n\n                    const users = goal.users\n                        .filter(item => item !== progress.owner)\n                        .map(user => (\n                            <Descriptions.Item\n                                key={user}\n                                label={\n                                    <>\n                                        <UserButton\n                                            id={user}\n                                            noAva={true}\n                                            span={true}\n                                        />{' '}\n                                        {' (achiever)'}\n                                    </>\n                                }\n                            >\n                                {getTag(user)}\n                            </Descriptions.Item>\n                        ))\n\n                    const owner = [\n                        <Descriptions.Item\n                            key={progress.owner}\n                            label={\n                                <>\n                                    <UserButton\n                                        id={progress.owner}\n                                        noAva={true}\n                                        span={true}\n                                    />{' '}\n                                    {' (owner)'}\n                                </>\n                            }\n                        >\n                            {getTag(progress.owner)}\n                        </Descriptions.Item>,\n                    ]\n                    let stageDate\n                    let tabTitle = <div>One time goal</div>\n                    if (stage.day) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .dayOfYear(stage.day)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('dddd')}</div>\n                                <div>{stageDate.format('D MMM YY')}</div>\n                            </>\n                        )\n                    } else if (stage.week) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .week(stage.week)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('wo')} week</div>\n                                <div>\n                                    {stageDate\n                                        .startOf('week')\n                                        .format('D MMM YY')}\n                                </div>\n                                <div>\n                                    {stageDate.endOf('week').format('D MMM YY')}\n                                </div>\n                            </>\n                        )\n                    } else if (stage.month) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .month(stage.month)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('MMMM')}</div>\n                                <div>{stageDate.format('YYYY')}</div>\n                            </>\n                        )\n                    } else if (stage.year) {\n                        stageDate = moment().year(stage.year)\n\n                        tabTitle = <div>{stageDate.format('YYYY')}</div>\n                    }\n\n                    const myStatus =\n                        account && account._id && getStatus(account._id)\n\n                    const stageStatus = getStatus(progress.owner)\n                    return (\n                        <Tabs.TabPane\n                            tab={\n                                <Badge\n                                    color={\n                                        stageStatus === 'complete'\n                                            ? 'green'\n                                            : stageStatus === 'dismissed'\n                                            ? 'orange'\n                                            : stageStatus === 'fail'\n                                            ? 'volcano'\n                                            : 'rgba(0,0,0,0)'\n                                    }\n                                >\n                                    <span\n                                        style={{\n                                            fontSize: '12px',\n                                            textTransform: 'uppercase',\n                                            textAlign: 'center',\n                                        }}\n                                    >\n                                        {tabTitle}\n                                    </span>\n                                </Badge>\n                            }\n                            key={index}\n                        >\n                            {account &&\n                                account._id &&\n                                (progress.owner === account._id ||\n                                    goal.users.includes(account._id)) && (\n                                    <>\n                                        Set status:\n                                        <Radio.Group\n                                            value={myStatus}\n                                            style={{ padding: '20px 0px ' }}\n                                            onChange={value =>\n                                                wsActions.changeStage(\n                                                    value.target.value,\n                                                    account._id,\n                                                    progress._id,\n                                                    stage.stageId\n                                                )\n                                            }\n                                        >\n                                            <Radio\n                                                value=\"complete\"\n                                                style={{ display: 'block' }}\n                                            >\n                                                <Tag\n                                                    color={\n                                                        myStatus !== 'complete'\n                                                            ? 'green'\n                                                            : '#87d068'\n                                                    }\n                                                    style={{\n                                                        padding: '5px 0px',\n                                                        width: '100%',\n                                                        fontSize: '18px',\n                                                        maxWidth: '200px',\n                                                        textAlign: 'center',\n                                                        margin: '10px 0px',\n                                                    }}\n                                                >\n                                                    Complete\n                                                </Tag>\n                                            </Radio>\n                                            <Radio value=\"process\">\n                                                <Tag\n                                                    color={\n                                                        myStatus !== 'process'\n                                                            ? 'processing'\n                                                            : '#108ee9'\n                                                    }\n                                                    style={{\n                                                        margin: '10px 0px',\n                                                    }}\n                                                >\n                                                    In process\n                                                </Tag>\n                                            </Radio>\n                                            <Radio value=\"fail\">\n                                                <Tag\n                                                    color={\n                                                        myStatus !== 'fail'\n                                                            ? 'volcano'\n                                                            : '#f50'\n                                                    }\n                                                    style={{\n                                                        margin: '10px 0px',\n                                                    }}\n                                                >\n                                                    Fail\n                                                </Tag>\n                                            </Radio>\n                                            {isOwner && (\n                                                <Radio value=\"dismissed\">\n                                                    <Tag\n                                                        color={\n                                                            myStatus !==\n                                                            'dismissed'\n                                                                ? 'orange'\n                                                                : '#ffa500'\n                                                        }\n                                                        style={{\n                                                            margin: '10px 0px',\n                                                        }}\n                                                    >\n                                                        Dismiss\n                                                    </Tag>\n                                                </Radio>\n                                            )}\n                                        </Radio.Group>\n                                    </>\n                                )}\n\n                            <Descriptions\n                                size=\"small\"\n                                bordered\n                                column={{\n                                    xxl: 4,\n                                    xl: 3,\n                                    lg: 3,\n                                    md: 3,\n                                    sm: 2,\n                                    xs: 1,\n                                }}\n                            >\n                                {owner}\n                                {users}\n                            </Descriptions>\n\n                            {stage.paid.length > 0 && (\n                                <>\n                                    <Divider style={{ fontSize: '15px' }}>\n                                        Earned rewards\n                                    </Divider>\n\n                                    <Rewards\n                                        rewardKey={1}\n                                        rewards={stage.paid}\n                                        readOnly={true}\n                                    />\n                                </>\n                            )}\n                        </Tabs.TabPane>\n                    )\n                })}\n            </Tabs>\n        </div>\n    )\n}\nexport default ActivityTable\n","import React from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport EditGoalAndProgressForm from '../../components/EditGoalAndProgressForm/EditGoalAndProgressForm'\n\nconst EditProgress = props => {\n    const { progress, account, state, setState, friendData } = props\n\n    const onFinish = value => {\n        wsActions.editGoalInProgress(props, value)\n        setState({ ...state, editProgressOpen: false })\n        document.body.removeAttribute('style')\n    }\n\n    return progress.goal ? (\n        <EditGoalAndProgressForm\n            goal={progress.goal}\n            onFinish={onFinish}\n            account={account}\n            friendData={friendData}\n            cancel={props.cancel}\n        />\n    ) : null\n}\n\nexport default EditProgress\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nexport default withRouter(props => {\n    const placeholderImages = [\n        'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg',\n        'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg',\n        'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg',\n        'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg',\n        'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg',\n        'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg',\n        'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg',\n        'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg',\n    ]\n    const images = props.images || []\n\n    const getPH = () => {\n        if (!props.id) return 0\n        const makeRand = x => {\n            x = Math.abs(x)\n            while (x > 1) x = x / 10\n            return x\n        }\n        const matches = props.id.match(/\\d+$/)\n        const imagePH = matches && matches.length > 0 ? parseInt(matches[0]) : 0\n        return Math.abs(\n            Math.round(makeRand(imagePH) * (placeholderImages.length - 1))\n        )\n    }\n\n    const Card = (\n        <>\n            {!props.friends && (\n                <img\n                    style={{\n                        maxWidth: '100%',\n                        margin: 'auto',\n                        display: 'block',\n                        borderRadius: '15px',\n                        ...props.style,\n                    }}\n                    src={\n                        images.length > 0\n                            ? images[0]\n                            : placeholderImages[getPH()]\n                    }\n                />\n            )}\n\n            <div style={{ padding: '5px 0px', wordBreak: 'break-word' }}>\n                {props.actions && (\n                    <div style={{ float: 'right' }}>{props.actions}</div>\n                )}\n                <span style={{ float: 'none' }}>{props.body}</span>\n            </div>\n        </>\n    )\n    return props.noLink ? (\n        Card\n    ) : (\n        <Link to={props.onClickLink} style={{ cursor: 'pointer' }}>\n            {Card}\n        </Link>\n    )\n})\n","import React from 'react'\nimport Button from 'antd/es/button'\nimport * as wsActions from '../websocketActions'\n\nconst FollowButton = props => {\n    const { account, type, id } = props\n    if (account && account._id && account._id !== id) {\n        if (type === 'progress') {\n            return account.followProgresses.includes(id) ? (\n                <Button\n                    danger\n                    onClick={() => wsActions.unfollowProgress(account._id, id)}\n                >\n                    Unfollow\n                </Button>\n            ) : (\n                <Button\n                    type=\"primary\"\n                    onClick={() => wsActions.followProgress(account._id, id)}\n                >\n                    Follow\n                </Button>\n            )\n        } else {\n            return account.followAccounts.includes(id) ? (\n                <Button\n                    danger\n                    onClick={() => wsActions.unfollowAccount(account._id, id)}\n                >\n                    Unfollow\n                </Button>\n            ) : (\n                <Button\n                    type=\"primary\"\n                    onClick={() => wsActions.followAccount(account._id, id)}\n                >\n                    Follow\n                </Button>\n            )\n        }\n    }\n    return null\n}\n\nexport default FollowButton\n","import Button from 'antd/es/button'\nimport React, { useEffect, useRef, useState } from 'react'\n\nconst ReadMore = props => {\n    const [overflow, setOverflow] = useState(false)\n    const [open, setOpen] = useState(false)\n    const descRef = useRef(null)\n\n    useEffect(() => {\n        console.log(descRef.current.offsetHeight)\n        if (descRef.current.offsetHeight > props.initialHeight) {\n            setOverflow(true)\n        }\n    }, [descRef.current && descRef.current.offsetHeight, props.content])\n    return (\n        <div\n            style={{\n                height: open ? 'initial' : props.initialHeight + 'px',\n                overflow: 'hidden',\n                position: 'relative',\n            }}\n        >\n            <div\n                ref={descRef}\n                dangerouslySetInnerHTML={{ __html: props.content }}\n            />\n            {overflow && (\n                <div\n                    style={{\n                        position: 'absolute',\n                        bottom: 0,\n                        width: '100%',\n                        textAlign: 'center',\n                    }}\n                >\n                    <div\n                        style={{\n                            transition: 'opacity 0.25s',\n                            opacity: open ? 0 : 1,\n                            backgroundImage:\n                                'linear-gradient(to bottom, rgba(255, 255, 255, 0.44), #ffffff )',\n                            content: '',\n                            height: '50px',\n                            width: '100%',\n\n                            bottom: '0',\n                            left: '0',\n                            position: 'absolute',\n                        }}\n                    />\n\n                    <Button onClick={() => setOpen(!open)}>\n                        {open ? 'Read Less' : 'Read More'}\n                    </Button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default ReadMore\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Button from 'antd/es/button'\n\nimport Modal from 'antd/es/modal'\n\nimport * as wsActions from '../../websocketActions'\nimport ActivityTable from './ActivityTable'\nimport EditProgress from './EditProgress'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport ImageCarousel from '../../components/UI/ImageCarousel/ImageCarousel'\n\nimport Rewards from '../../components/Rewards/Rewards'\nimport MasonryCard from '../../components/MasonryCard'\nimport FollowButton from '../../components/FollowButton'\nimport Helmet from 'react-helmet'\nimport LikeFilled from '@ant-design/icons/LikeFilled'\nimport LikeOutlined from '@ant-design/icons/LikeOutlined'\nimport PushpinFilled from '@ant-design/icons/PushpinFilled'\nimport RetweetOutlined from '@ant-design/icons/RetweetOutlined'\nimport Divider from 'antd/es/divider'\nimport ReadMore from '../../components/UI/ReadMore'\nimport { Dialog, Slide } from '@material-ui/core'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst Activity = props => {\n    const { account, progress, state, setState, friendData } = props\n    const { goal } = progress\n    const [followersVisible, setFollowersVisible] = useState(false)\n\n    const getDay = day => {\n        switch (day) {\n            case '0':\n                return 'Sunday'\n            case '1':\n                return 'Monday'\n            case '2':\n                return 'Tuesday'\n            case '3':\n                return 'Wednesday'\n            case '4':\n                return 'Thursday'\n            case '5':\n                return 'Friday'\n            case '6':\n                return 'Saturday'\n\n            default:\n                return ''\n        }\n    }\n\n    const getRepeatType = repeat => {\n        switch (repeat) {\n            case 'day':\n                return 'every day'\n            case 'weekday':\n                return 'every day of week'\n            case 'week':\n                return 'every week'\n            case 'month':\n                return 'every month'\n            case 'year':\n                return 'every year'\n            default:\n                return ''\n        }\n    }\n    return goal ? (\n        <>\n            <Helmet>\n                <title>\n                    {goal.name} by {progress.owner} at Addspire\n                </title>\n                <meta name=\"description\" content={goal.description} />\n            </Helmet>\n            {goal.images.length > 0 && <ImageCarousel images={goal.images} />}\n            <div style={{ textAlign: 'center' }}>\n                <h1>{goal.name}</h1>\n                <Button type=\"text\" onClick={() => setFollowersVisible(true)}>\n                    <PushpinFilled style={{ fontSize: '20px' }} />\n                    {progress.followingAccounts.length} Followers\n                </Button>\n                <Button\n                    type=\"text\"\n                    onClick={() =>\n                        wsActions.changeLikesProgress(\n                            account._id,\n                            progress._id,\n                            !progress.likes.includes(account._id)\n                        )\n                    }\n                >\n                    {progress.likes.includes(account._id) ? (\n                        <LikeFilled style={{ fontSize: '20px' }} />\n                    ) : (\n                        <LikeOutlined style={{ fontSize: '20px' }} />\n                    )}\n                    Likes\n                    <span style={{ paddingLeft: '8px' }}>\n                        {progress.likes.length}\n                    </span>\n                </Button>\n\n                <div style={{ marginTop: '10px' }}>\n                    {account &&\n                    account._id &&\n                    account.followProgresses.includes(progress._id) ? (\n                        <Button\n                            type=\"link\"\n                            onClick={() =>\n                                wsActions.unfollowProgress(\n                                    account._id,\n                                    progress._id\n                                )\n                            }\n                        >\n                            Following\n                        </Button>\n                    ) : (\n                        account._id && (\n                            <Button\n                                type=\"primary\"\n                                onClick={() =>\n                                    wsActions.followProgress(\n                                        account._id,\n                                        progress._id\n                                    )\n                                }\n                            >\n                                Follow\n                            </Button>\n                        )\n                    )}\n                </div>\n                {account._id === progress.owner && (\n                    <Button\n                        style={{ marginTop: '10px' }}\n                        type=\"primary\"\n                        onClick={() => {\n                            setState({ ...state, editProgressOpen: true })\n                        }}\n                    >\n                        Edit progress\n                    </Button>\n                )}\n                {account.progresses &&\n                    account.progresses.includes(progress._id.toString()) && (\n                        <Button\n                            danger={true}\n                            type=\"link\"\n                            onClick={() => {\n                                wsActions.leaveProgress(props)\n                            }}\n                            style={{ marginLeft: '10px' }}\n                        >\n                            Leave the progress\n                        </Button>\n                    )}\n            </div>\n            <Divider orientation=\"left\">Desciption</Divider>\n            <ReadMore initialHeight={200} content={goal.description} />\n\n            {goal.repeat !== 'no' && (\n                <p>\n                    <RetweetOutlined />\n                    {' Repeats '}\n                    {getRepeatType(goal.repeat) +\n                        (goal.repeat === 'weekday'\n                            ? ' (' +\n                              goal.days.reduce(\n                                  (acc, val, index) =>\n                                      acc +\n                                      (index > 0 ? ', ' : '') +\n                                      getDay(val),\n                                  ''\n                              ) +\n                              ').'\n                            : '.')}\n                </p>\n            )}\n\n            <Divider orientation=\"left\">Rewards</Divider>\n\n            <Rewards rewards={goal.rewards} />\n            <Divider orientation=\"left\">Track progress</Divider>\n            <div style={{ margin: '20px 0px' }}>\n                <ActivityTable\n                    progress={progress}\n                    account={account}\n                    state={state}\n                    setState={setState}\n                />\n            </div>\n            <Dialog\n                fullScreen\n                open={state.editProgressOpen}\n                onClose={() => setState({ ...state, editProgressOpen: false })}\n                TransitionComponent={TransitionComponent}\n            >\n                <EditProgress\n                    progress={progress}\n                    account={account}\n                    state={state}\n                    setState={setState}\n                    friendData={friendData}\n                    cancel={() =>\n                        setState({ ...state, editProgressOpen: false })\n                    }\n                />\n            </Dialog>\n            <Modal\n                title=\"Followers\"\n                visible={followersVisible}\n                footer={null}\n                onCancel={() => {\n                    setFollowersVisible(false)\n                    document.body.removeAttribute('style')\n                }}\n            >\n                {progress.followingAccounts.map(item => (\n                    <MasonryCard\n                        friends={true}\n                        noLink={true}\n                        key={item}\n                        actions={<FollowButton account={account} id={item} />}\n                        body={<UserButton span={true} id={item} size={50} />}\n                    />\n                ))}\n            </Modal>\n        </>\n    ) : null\n}\n\nexport default withRouter(Activity)\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Button from 'antd/es/button'\nimport Comment from 'antd/es/comment'\nimport Avatar from 'antd/es/avatar'\nimport Input from 'antd/es/input'\nimport Form from 'antd/es/form'\nimport Upload from 'antd/es/upload'\nimport PictureFilled from '@ant-design/icons/PictureFilled'\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined'\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled'\nimport SendOutlined from '@ant-design/icons/SendOutlined'\nimport { uploadFile } from '../../utils/uploadFile'\nimport * as wsActions from '../../websocketActions'\nimport getAvatar from '../../utils/getAvatar'\nimport { messageRules } from '../../constants/fieldRules'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport message from 'antd/es/message'\nimport Modal from 'antd/es/modal/Modal'\n\nconst AddMessage = props => {\n    const [previewImage, setPreviewImage] = useState('')\n    const [imageLoading, setImageLoading] = useState(false)\n    const [images, setImages] = useState(props.images || [])\n    const { post, account } = props\n\n    const [messageText, setMessageText] = useState(\n        props.content ||\n            (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n    )\n\n    useEffect(() => {\n        setMessageText(\n            props.content ||\n                (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n        )\n    }, [props.replyToUser, props.content])\n\n    const uploadImage = file => {\n        uploadFile(file, 800, undefined, url => {\n            setImages([...images, url])\n        })\n    }\n\n    return post && account._id ? (\n        <div\n            style={{\n                background: '#fff',\n\n                ...(props.replyTo\n                    ? {}\n                    : {\n                          width: '100%',\n                          bottom: '-200px',\n                          left: '0px',\n                          //   position: 'absolute',\n                      }),\n            }}\n        >\n            <Comment\n                avatar={<Avatar src={getAvatar(account._id, account.image)} />}\n                content={\n                    <>\n                        <Form.Item rules={messageRules} style={{ margin: 0 }}>\n                            <Input.TextArea\n                                autoSize={{\n                                    minRows: 1,\n                                    maxRows: 3,\n                                }}\n                                rows={1}\n                                onChange={e => setMessageText(e.target.value)}\n                                value={messageText}\n                                placeholder=\"Write a comment\"\n                            />\n                        </Form.Item>\n                        {images.length > 0 && (\n                            <Form.Item style={{ margin: 0 }}>\n                                <Upload\n                                    accept=\"image/*\"\n                                    listType=\"picture-card\"\n                                    fileList={images.map((image, index) => ({\n                                        url: image,\n                                        uid: index,\n                                    }))}\n                                    onPreview={file => {\n                                        setPreviewImage(file.url)\n                                    }}\n                                    onChange={({ fileList }) =>\n                                        setImages(\n                                            fileList.map(image => image.url)\n                                        )\n                                    }\n                                    customRequest={({ file }) => {\n                                        uploadImage(file)\n                                    }}\n                                >\n                                    {images.length >= 8 ? null : (\n                                        <div\n                                            style={{\n                                                flex: 1,\n                                                display: 'flex',\n                                                height: '100%',\n                                                alignItems: 'center',\n                                                justifyContent: 'center',\n                                                flexDirection: 'column',\n                                            }}\n                                            onClick={e => {\n                                                if (window.isRNWebView) {\n                                                    e.stopPropagation()\n                                                    window.ReactNativeWebView.postMessage(\n                                                        'uploadFile'\n                                                    )\n                                                    window.callback = url => {\n                                                        setImages([\n                                                            ...images,\n                                                            url,\n                                                        ])\n                                                    }\n                                                }\n                                            }}\n                                        >\n                                            <PlusOutlined />\n                                            <div className=\"ant-upload-text\">\n                                                Upload\n                                            </div>\n                                        </div>\n                                    )}\n                                </Upload>\n                            </Form.Item>\n                        )}\n                        <Form.Item style={{ margin: 0 }}>\n                            <Button\n                                htmlType=\"submit\"\n                                onClick={() => {\n                                    wsActions.sendMessage(\n                                        account._id,\n                                        post._id,\n                                        messageText,\n                                        images,\n                                        props.replyTo,\n                                        props.editingMessage\n                                    )\n                                    setMessageText('')\n                                    setImages([])\n                                    if (props.onSend) props.onSend()\n                                }}\n                                icon={<SendOutlined />}\n                                type=\"text\"\n                            >\n                                Send\n                            </Button>\n                            <Upload\n                                accept=\"image/*\"\n                                showUploadList={false}\n                                customRequest={({ file }) => {\n                                    if (images.length > 8) {\n                                        message.warning(\n                                            'You can not attach more than 8 images.'\n                                        )\n                                        return\n                                    }\n                                    setImageLoading(true)\n                                    uploadFile(file, 800, undefined, url => {\n                                        setImageLoading(false)\n                                        if (!url) {\n                                            setImages([...images])\n                                        } else {\n                                            setImages([...images, url])\n                                        }\n                                    })\n                                }}\n                            >\n                                <Button\n                                    type=\"text\"\n                                    icon={\n                                        imageLoading ? (\n                                            <LoadingOutlined />\n                                        ) : (\n                                            <PictureFilled />\n                                        )\n                                    }\n                                    onClick={e => {\n                                        if (window.isRNWebView) {\n                                            e.stopPropagation()\n                                            window.ReactNativeWebView.postMessage(\n                                                'uploadFile'\n                                            )\n                                            window.callback = url => {\n                                                setImageLoading(false)\n                                                setImages([...images, url])\n                                            }\n                                        }\n                                    }}\n                                >\n                                    Image\n                                </Button>\n                            </Upload>\n                            {props.cancel && (\n                                <Button\n                                    onClick={props.cancel}\n                                    icon={<CloseCircleFilled />}\n                                    type=\"text\"\n                                >\n                                    Cancel\n                                </Button>\n                            )}\n                        </Form.Item>\n                    </>\n                }\n            />\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => {\n                    setPreviewImage('')\n                    document.body.removeAttribute('style')\n                }}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </div>\n    ) : null\n}\n\nexport default withRouter(AddMessage)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Comment from 'antd/es/comment'\n\nimport Tooltip from 'antd/es/tooltip'\nimport TimeAgo from 'timeago-react'\n\nimport * as wsActions from '../../websocketActions'\nimport LikeFilled from '@ant-design/icons/LikeFilled'\nimport LikeOutlined from '@ant-design/icons/LikeOutlined'\nimport AddMessage from './AddMessage'\nimport Button from 'antd/es/button'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\nimport UserButton from '../UserButton/UserButton'\n\nconst Message = props => {\n    const {\n        account,\n        message,\n        friendData,\n        progressData,\n        post,\n        replies,\n        isStart,\n    } = props\n    const [replyVisible, setReplyVisible] = useState(false)\n    const [replyToUser, setReplyToUser] = useState('')\n    const [editingMessage, setEditingMessage] = useState('')\n    const [showReplies, setShowReplies] = useState(false)\n    const commentProps = {\n        actions: !props.isStart && [\n            <span>\n                <TimeAgo datetime={message.date} live />\n            </span>,\n            <span key=\"comment-basic-like\">\n                <Tooltip title=\"Like\">\n                    {message.likes.includes(account._id) ? (\n                        <LikeFilled\n                            onClick={() =>\n                                wsActions.changeLikesMessage(\n                                    'dislikeMessage',\n                                    message.messageId,\n                                    account._id,\n                                    post._id\n                                )\n                            }\n                        />\n                    ) : (\n                        <LikeOutlined\n                            onClick={() =>\n                                wsActions.changeLikesMessage(\n                                    'likeMessage',\n                                    message.messageId,\n                                    account._id,\n                                    post._id\n                                )\n                            }\n                        />\n                    )}\n                </Tooltip>\n                <span style={{ paddingLeft: '8px' }}>\n                    {message.likes.length}\n                </span>\n            </span>,\n\n            message.author !== account._id && (\n                <span\n                    key=\"comment-basic-reply-to\"\n                    onClick={() => {\n                        if (props.setReplyVisible) {\n                            props.setReplyVisible(true)\n                            props.setReplyToUser(props.message.author)\n                        } else {\n                            setReplyVisible(true)\n                            setReplyToUser('')\n                        }\n                        setShowReplies(true)\n                    }}\n                >\n                    Reply\n                </span>\n            ),\n            message.author === account._id && (\n                <span\n                    key=\"comment-basic-reply-to\"\n                    onClick={() => setEditingMessage(message.messageId)}\n                >\n                    Edit\n                </span>\n            ),\n        ],\n        avatar: <UserButton noName={true} id={message.author} span={true} />,\n        content: isStart ? (\n            <>\n                {message.messageType === 'wishlist' && (\n                    <>\n                        {' '}\n                        <span\n                            style={{\n                                fontWeight: 'bold',\n                                cursor: 'pointer',\n                                margin: '10px 0px 0px ',\n                            }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/wishlist/${message.details.owner}/${\n                                        message.details.itemId\n                                    }`\n                                )\n                            }\n                        >\n                            {message.details.name}\n                        </span>\n                    </>\n                )}\n                {message.text && <p>{message.text}</p>}\n            </>\n        ) : (\n            <>\n                <div\n                    style={{\n                        background: '#eee',\n                        borderRadius: '5px',\n                        padding: '3px 10px',\n                        display:\n                            message.image && message.image.length > 0\n                                ? 'block'\n                                : 'inline-block',\n                    }}\n                >\n                    <UserButton\n                        id={message.author}\n                        span={true}\n                        noAva={true}\n                        style={{ fontWeight: 'bold' }}\n                    />\n\n                    {message.image && message.image.length > 0 && (\n                        <ImageCarousel\n                            images={message.image}\n                            height=\"60vmin\"\n                            type=\"contain\"\n                        />\n                    )}\n\n                    {message.text && <p>{message.text}</p>}\n                </div>\n                <div />\n            </>\n        ),\n        author: isStart && (\n            <span\n                style={{ color: '#333', fontWeight: 'bold', fontSize: '14px' }}\n            >\n                <UserButton id={message.author} span={true} noAva={true} />{' '}\n                <span style={{ fontWeight: 'normal' }}>in</span>{' '}\n                {post.parent &&\n                    progressData &&\n                    progressData[post.parent.parentId] && (\n                        <span\n                            style={{ cursor: 'pointer' }}\n                            onClick={() =>\n                                props.history.push(\n                                    '/inspirations/' + post.parent.parentId\n                                )\n                            }\n                        >\n                            {progressData[post.parent.parentId].goal.name}\n                        </span>\n                    )}\n                {post.startMessage &&\n                    ['wishlist', 'perk', 'goal'].includes(\n                        post.startMessage.messageType\n                    ) && (\n                        <span\n                            style={{ cursor: 'pointer' }}\n                            onClick={() =>\n                                props.history.push('/profile/' + message.author)\n                            }\n                        >\n                            {post.startMessage.messageType === 'wishlist'\n                                ? 'Wishlist'\n                                : post.startMessage.messageType === 'goals'\n                                ? 'Goals'\n                                : 'Shop'}\n                        </span>\n                    )}\n            </span>\n        ),\n        datetime: isStart && (\n            <span style={{ color: '#333' }}>\n                <TimeAgo datetime={message.date} live />\n            </span>\n        ),\n    }\n    return account && friendData ? (\n        account._id !== message.author || !editingMessage ? (\n            <Comment {...commentProps}>\n                {props.isTop && replies && replies.length > 0 ? (\n                    showReplies ? (\n                        replies.map((reply, index) => (\n                            <Message\n                                key={index}\n                                message={reply}\n                                post={post}\n                                account={account}\n                                friendData={friendData}\n                                setReplyVisible={setReplyVisible}\n                                setReplyToUser={setReplyToUser}\n                            />\n                        ))\n                    ) : (\n                        <Button\n                            type=\"text\"\n                            onClick={() => setShowReplies(true)}\n                        >\n                            Show {replies.length} replies\n                        </Button>\n                    )\n                ) : null}\n\n                {props.isTop && replyVisible ? (\n                    <AddMessage\n                        post={post}\n                        account={account}\n                        replyTo={message.messageId}\n                        replyToUser={replyToUser}\n                        cancel={() => setReplyVisible(false)}\n                    />\n                ) : null}\n            </Comment>\n        ) : (\n            <AddMessage\n                post={post}\n                account={account}\n                replyTo={message.messageId}\n                editingMessage={editingMessage}\n                content={message.text}\n                images={message.image}\n                onSend={() => setEditingMessage('')}\n                cancel={() => setEditingMessage('')}\n            />\n        )\n    ) : null\n}\n\nexport default withRouter(Message)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport Message from './Message'\nimport LikeOutlined from '@ant-design/icons/LikeOutlined'\nimport LikeFilled from '@ant-design/icons/LikeFilled'\nimport CommentOutlined from '@ant-design/icons/CommentOutlined'\nimport AddMessage from './AddMessage'\nimport Divider from 'antd/es/divider'\nimport Button from 'antd/es/button'\n\nconst Post = props => {\n    const { post, account, friendData, progressData } = props\n    const [postOpen, setPostOpen] = useState(props.showReplies)\n    const getNumberOfMessages = messages => {\n        let result = 0\n        for (let item of messages) {\n            result = result + 1 + item.replies.length\n        }\n        return result\n    }\n    return post ? (\n        <>\n            {!props.noStartMessage && (\n                <>\n                    <Message\n                        message={post.startMessage}\n                        post={post}\n                        account={account}\n                        friendData={friendData}\n                        progressData={progressData}\n                        replies={[]}\n                        isStart={true}\n                    />\n                    {post.startMessage.image &&\n                        post.startMessage.image.length > 0 && (\n                            <img\n                                style={{\n                                    maxWidth: '100%',\n                                    margin: 'auto',\n                                    display: 'block',\n                                }}\n                                src={post.startMessage.image[0]}\n                            />\n                        )}\n                </>\n            )}\n            <Divider type=\"horizontal\" style={{ margin: '5px 0' }} />\n\n            <div\n                style={{\n                    textAlign: 'left',\n                    // marginBottom: '200px',\n                    position: 'relative',\n                }}\n            >\n                <div\n                    style={{ display: 'flex', justifyContent: 'space-around' }}\n                >\n                    <span key=\"comment-basic-like\">\n                        <Button\n                            type=\"text\"\n                            onClick={() =>\n                                wsActions.changeLikesMessage(\n                                    post.startMessage.likes.includes(\n                                        account._id\n                                    )\n                                        ? 'dislikeMessage'\n                                        : 'likeMessage',\n                                    post.startMessage.messageId,\n                                    account._id,\n                                    post._id\n                                )\n                            }\n                        >\n                            {post.startMessage.likes.includes(account._id) ? (\n                                <LikeFilled style={{ fontSize: '20px' }} />\n                            ) : (\n                                <LikeOutlined style={{ fontSize: '20px' }} />\n                            )}\n                            Likes\n                            <span style={{ paddingLeft: '8px' }}>\n                                {post.startMessage.likes.length}\n                            </span>\n                        </Button>\n                    </span>\n                    <span>\n                        <Button onClick={() => setPostOpen(true)} type=\"text\">\n                            <CommentOutlined style={{ fontSize: '20px' }} />\n                            Comment\n                            <span style={{ paddingLeft: '8px' }}>\n                                {getNumberOfMessages(post.messages)}\n                            </span>\n                        </Button>\n                    </span>\n                </div>\n                <Divider type=\"horizontal\" style={{ margin: '5px 0' }} />\n                {postOpen && (\n                    <>\n                        <AddMessage post={post} account={account} />\n                        {post.messages && post.messages.length\n                            ? post.messages.map((message, index) => (\n                                  <Message\n                                      key={index}\n                                      message={message}\n                                      post={post}\n                                      account={account}\n                                      friendData={friendData}\n                                      replies={message.replies}\n                                      isTop={true}\n                                  />\n                              ))\n                            : null}\n                    </>\n                )}\n            </div>\n        </>\n    ) : null\n}\n\nexport default withRouter(Post)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Button from 'antd/es/button'\nimport Comment from 'antd/es/comment'\nimport Avatar from 'antd/es/avatar'\nimport Input from 'antd/es/input'\nimport Form from 'antd/es/form'\nimport Upload from 'antd/es/upload'\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined'\nimport SendOutlined from '@ant-design/icons/SendOutlined'\nimport { uploadFile } from '../../utils/uploadFile'\nimport * as wsActions from '../../websocketActions'\nimport getAvatar from '../../utils/getAvatar'\nimport { messageRules } from '../../constants/fieldRules'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled'\nimport PictureFilled from '@ant-design/icons/PictureFilled'\nimport Modal from 'antd/es/modal/Modal'\nimport Divider from 'antd/es/divider'\n\nconst AddPost = props => {\n    const [previewImage, setPreviewImage] = useState('')\n    const [imageLoading, setImageLoading] = useState(false)\n    const [images, setImages] = useState([])\n\n    const { parent, account, parentType } = props\n\n    const [messageText, setMessageText] = useState(\n        props.content ||\n            (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n    )\n\n    const uploadImage = file => {\n        uploadFile(file, 800, undefined, url => {\n            setImages([...images, url])\n        })\n    }\n    return account._id ? (\n        <div\n            style={{\n                background: '#fff',\n                padding: '0px 10px',\n                bottom: '0px',\n                left: '0px',\n                zIndex: 1000,\n            }}\n        >\n            <Divider orientation=\"left\">Posts and comments</Divider>\n\n            <Comment\n                avatar={<Avatar src={getAvatar(account._id, account.image)} />}\n                content={\n                    <>\n                        <Form.Item rules={messageRules}>\n                            <Input.TextArea\n                                autoSize={{\n                                    minRows: 1,\n                                    maxRows: 3,\n                                }}\n                                rows={1}\n                                onChange={e => setMessageText(e.target.value)}\n                                value={messageText}\n                            />\n                        </Form.Item>\n                        {images.length > 0 && (\n                            <Form.Item style={{ margin: 0 }}>\n                                <Upload\n                                    accept=\"image/*\"\n                                    listType=\"picture-card\"\n                                    fileList={images.map((image, index) => ({\n                                        url: image,\n                                        uid: index,\n                                    }))}\n                                    onPreview={file => {\n                                        setPreviewImage(file.url)\n                                    }}\n                                    onChange={({ fileList }) =>\n                                        setImages(\n                                            fileList.map(image => image.url)\n                                        )\n                                    }\n                                    customRequest={({ file }) => {\n                                        uploadImage(file)\n                                    }}\n                                >\n                                    {images.length >= 8 ? null : (\n                                        <div\n                                            style={{\n                                                flex: 1,\n                                                display: 'flex',\n                                                height: '100%',\n                                                alignItems: 'center',\n                                                justifyContent: 'center',\n                                                flexDirection: 'column',\n                                            }}\n                                            onClick={e => {\n                                                if (window.isRNWebView) {\n                                                    e.stopPropagation()\n                                                    window.ReactNativeWebView.postMessage(\n                                                        'uploadFile'\n                                                    )\n                                                    window.callback = url => {\n                                                        setImages([\n                                                            ...images,\n                                                            url,\n                                                        ])\n                                                    }\n                                                }\n                                            }}\n                                        >\n                                            <PlusOutlined />\n                                            <div className=\"ant-upload-text\">\n                                                Upload\n                                            </div>\n                                        </div>\n                                    )}\n                                </Upload>\n                            </Form.Item>\n                        )}\n                        <Form.Item>\n                            <Button\n                                htmlType=\"submit\"\n                                onClick={() => {\n                                    wsActions.addPost(\n                                        account._id,\n                                        parent,\n                                        parentType,\n                                        messageText,\n                                        images\n                                    )\n                                    setMessageText('')\n                                    setImages([])\n                                    if (props.onSend) props.onSend()\n                                }}\n                                icon={<SendOutlined />}\n                                type=\"text\"\n                            >\n                                Send\n                            </Button>\n                            <Upload\n                                accept=\"image/*\"\n                                showUploadList={false}\n                                customRequest={({ file }) => {\n                                    if (images.length > 8) {\n                                        message.warning(\n                                            'You can not attach more than 8 images.'\n                                        )\n                                        return\n                                    }\n                                    setImageLoading(true)\n                                    uploadFile(file, 800, undefined, url => {\n                                        setImageLoading(false)\n                                        if (!url) {\n                                            setImages([...images])\n                                        } else {\n                                            setImages([...images, url])\n                                        }\n                                    })\n                                }}\n                            >\n                                <Button\n                                    type=\"text\"\n                                    icon={\n                                        imageLoading ? (\n                                            <LoadingOutlined />\n                                        ) : (\n                                            <PictureFilled />\n                                        )\n                                    }\n                                    onClick={e => {\n                                        if (window.isRNWebView) {\n                                            e.stopPropagation()\n                                            window.ReactNativeWebView.postMessage(\n                                                'uploadFile'\n                                            )\n                                            window.callback = url => {\n                                                setImageLoading(false)\n                                                setImages([...images, url])\n                                            }\n                                        }\n                                    }}\n                                >\n                                    Image\n                                </Button>\n                            </Upload>\n                            {messageText || images.length ? (\n                                <Button\n                                    onClick={() => {\n                                        setMessageText('')\n                                        setImages([])\n                                    }}\n                                    icon={<CloseCircleFilled />}\n                                    type=\"text\"\n                                >\n                                    Cancel\n                                </Button>\n                            ) : null}\n                        </Form.Item>\n                    </>\n                }\n            />\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => {\n                    setPreviewImage('')\n                    document.body.removeAttribute('style')\n                }}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </div>\n    ) : null\n}\n\nexport default withRouter(AddPost)\n","import axios from 'axios'\nimport processRes from './processRes'\nexport default (props, data, setData, options, callback) => {\n    // if (typeof props.isAuthed === 'undefined') return\n    // options = {\n    //     forceAuth: true,\n    //     forceActivate: true,\n    //     pullData: true,\n    //     ...(options || {}),\n    // }\n\n    // if (!props.isAuthed) {\n    //     props.tryAuth(props, options.forceAuth)\n    // }\n\n    // if (options.pullData) {\n    axios\n        .get('/api' + props.history.location.pathname)\n        .then(res => {\n            processRes(res, props)\n            // if (options.forceActivate) {\n            //     if (props.isAuthed && res.data.status === 'no account') {\n            //         props.history.push('/activate-account')\n            //     }\n            // }\n\n            setData(res.data)\n            callback(res.data)\n        })\n        .catch(err => {})\n    // }\n}\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\n\nimport Modal from 'antd/es/modal'\nimport Activity from './Activity'\nimport Post from '../../components/Post/Post'\nimport AddPost from '../../components/Post/AddPost'\nimport pullData from '../../utils/pullData'\n\nconst Progress = props => {\n    const [state, setState] = useState({})\n\n    const [data, setData] = useState({})\n    const pathParts = props.history.location.pathname.split('/')\n    const progressId = pathParts.length > 2 ? pathParts[2] : ''\n    if (!progressId) return null\n    useEffect(() => {\n        if (props.isAuthed) {\n            props.setData({ currentProgress: progressId })\n        } else {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n                const post = {}\n                for (let item of data.post) post[item._id] = item\n\n                props.setData({\n                    friendData,\n                    posts: post,\n                    account: {},\n                    progress: data.progress,\n                })\n            })\n        }\n    }, [props.isAuthed, props.history.location.pathname])\n\n    const { progress, account, friendData, posts } = props.isAuthed\n        ? props\n        : { ...data, account: {} }\n\n    if (!progress || !progress._id) return null\n    props.setData({ currentPosts: progress.posts })\n\n    const { goal } = progress\n    if (goal) props.setPageTitle({ main: goal.name, sub: progress.worker })\n    return goal && friendData ? (\n        <div className=\"contentDiv\">\n            <Activity\n                state={state}\n                setState={setState}\n                progress={progress}\n                account={account}\n                friendData={friendData}\n            />\n\n            {account._id && (\n                <AddPost\n                    parent={progressId}\n                    account={account}\n                    parentType=\"progress\"\n                    // onSend={() => setEditingMessage('')}\n                />\n            )}\n            {posts &&\n                progress.posts.map(postId => {\n                    if (posts[postId]) {\n                        const post = posts[postId]\n                        return (\n                            <div key={postId}>\n                                <div\n                                    style={{\n                                        height: '5px',\n                                        background: '#ddd',\n                                        width: 'calc(100% + 8px)',\n                                        position: 'absolute',\n                                        left: '-8px',\n                                    }}\n                                />\n                                <div style={{ paddingTop: '10px' }}>\n                                    <Post\n                                        friendData={friendData}\n                                        account={account}\n                                        post={post}\n                                    />\n                                </div>\n                            </div>\n                        )\n                    } else return null\n                })}\n\n            <Modal\n                visible={state.previewImage}\n                footer={null}\n                onCancel={() => {\n                    setState({ ...state, previewImage: '' })\n                    document.body.removeAttribute('style')\n                }}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={state.previewImage}\n                />\n            </Modal>\n        </div>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        posts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Progress)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\nimport axios from 'axios'\n\nconst styles = `<style> article,  aside,  details,  figcaption,  figure,  footer,  header,  hgroup,  menu,  nav,  section {      display: block;  }   html {      height: 100%;      padding: 0;      margin: 0;  }   body {      margin: auto;      font-weight: 300;      font-family: 'Open Sans', sans-serif !important;      color: #444;      font-size: 17px;      line-height: 1.231;      height: 100%;  }   .clearafter:after {      clear: both;      content: '.';      display: block;      height: 0;      visibility: hidden;  }   h1 {      margin: 0px;  }   .twofold a {      color: #888;      text-decoration: none;  }   .twofold a:hover {      color: #3665c1;  }   .twofold {      display: inline-block;      margin: 5px 0px;      width: 143px;      padding-left: 35px;      font-family: 'Open Sans', sans-serif !important;      color: #999;      font-size: 12px;  }   .twofold_mail {      display: inline-block;      margin: 5px 0px;      cursor: pointer;      color: #999;      padding-left: 35px;      width: 120px;      font-family: 'Open Sans', sans-serif !important;      font-size: 12px;  }   .twofold_mail:hover {      color: #4683ea;  }   .wrapp {      min-height: 100%;      position: relative;      margin: auto;  }   .cont {      width: 94%;      margin: auto;      padding-bottom: 320px;      text-align: center;  }   .logo_back {      padding: 9px 4%;  }   a.logo {      border: none;      text-decoration: none;  }   a img {      border: none;  }   .maintext0 {      font-weight: 300;      font-size: 45px;      color: #222;      margin: 50px auto 10px;      text-align: center;  }   .maintext1 {      font-size: 20px;      font-weight: 300;      letter-spacing: -1px;      margin: 0px auto 20px;      text-align: center;  }   .leftTitle {      font-size: 22px;      font-weight: 600;      margin: 20px auto 20px;      text-align: left;  }   .maintext2 {      font-size: 37px;      font-weight: 300;      text-align: center;      margin: 100px 0px 0px;      color: #222;  }   .maintext3 {      font-size: 22px;      font-weight: 300;      text-align: center;      margin: 50px 0px 20px;      color: #222;  }   .maintext4 {      font-size: 37px;      font-weight: 300;      text-align: center;      margin: 25px 0px 35px;      color: #222;  }   .contactusleft:hover {      background: #FF5935;  }   .facebookleft:hover {      background: #2350A2;  }   .googleleft:hover {      background: #d34836;  }   .linkedinleft:hover {      background: #006699;  }   .twitterleft:hover {      background: #00ACEF;  }   .twitterleft,  .linkedinleft,  .googleleft,  .facebookleft,  .contactusleft {      background: none;      border: none;      cursor: pointer;      width: 28px;      height: 34px;      outline: none;  }   .noselect {      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .totop {      position: absolute;      color: #2B7BC7;      bottom: 0px;      right: 0px;      text-decoration: none;      font-size: 15px;  }   .totop:hover {      text-decoration: underline;  }   .totopmap {      margin-left: 965px;      color: #2B7BC7;      text-decoration: none;      font-size: 15px;  }   .totopmap:hover {      text-decoration: underline;  }   .arrow {      padding-right: 15px;  }   .regulartitlemap {      color: #535353;      font-size: 25px;      font-weight: normal;      margin: 100px 0px 20px 20px;      font-weight: 600;  }   .regulartitleprice {      top: 0px;      color: #535353;      font-size: 25px;      font-weight: normal;      margin: 80px 0px 0px 20px;      font-weight: 600;  }   .even {      padding: 3px;      border-bottom: 1px solid #EEE;      height: 34px;  }   .even:hover {      background-color: #EAFBFB;  }   .pricing {      width: 700px;      margin: auto;      border: 0px solid black;      border-bottom: none;      border-bottom: 1px solid black;      border-collapse: collapse;      font-size: 17px;      text-align: center;      margin-top: 70px;  }   .countries {      list-style-type: none;      top: 0px;      margin: 100px 0px 100px;      text-align: left;  }   .countries li {      width: 188px;      margin: 5px 0 24px 0px;      display: inline-block;  }   .countries li.clear {      clear: left;  }   .countries li svg {      float: left;      margin: 0 10px 0 0;      border: 1px solid #e6e6e6;  }   .countries li a {      display: table;      width: 160px;      color: #666;      *display: block;      *position: relative;      cursor: pointer;      text-decoration: none;      vertical-align: middle;  }   .countries li a:hover {      color: #08c;  }   .countries li span {      display: table-cell;      width: 160px;      vertical-align: middle;      *display: block;      *position: absolute;      *top: 50%;  }   .countries li span span {      width: 100%;      *display: block;      *position: relative;      *top: -50%;  }   /* .menu { position:absolute; left:196px; top:27px; *font-family: arial, sans-serif; } .menu ul{ \tmargin:0px; \tlist-style-type: none; } .menu ul li{ \tfloat:left; \tpadding:0px; \tmargin:0px 35px 0px 5px; } .menu ul li a { \tdisplay:table; \tcolor:#999;     height:24px; \tcursor:pointer; \ttext-decoration:none; \tvertical-align:middle; } .menu ul li a:hover {  color:#333; } .menu ul li span { \tdisplay:table-cell;  padding: 0px;  font-size:14px; \tfont-weight:600; \tvertical-align:middle; \ttext-align:center; } .login {  font-size:14px;  font-weight:600;  text-align:center;  display:table;  color:#999;  cursor:pointer;  text-decoration:none;  line-height:0; } .login:hover {  color:#333; } .signup {  font-size:14px;  font-weight:600;  text-align:center;  display:table;  color:#999;  cursor:pointer;  text-decoration:none;  line-height:0; } .signup:hover {  color:#333; } */  .menu {      position: absolute;      right: 240px;      top: 27px;      *font-family: arial, sans-serif;  }   .menu ul {      margin: 0px;      list-style-type: none;  }   .menu ul li {      float: left;      padding: 0px;      margin: 0px 45px 0px 5px;  }   .menu ul li a {      display: table;      color: #888;      height: 24px;      cursor: pointer;      text-decoration: none;      vertical-align: middle;  }   .menu ul li a:hover {      color: #333;  }   .menu ul li span {      display: table-cell;      padding: 0px;      font-size: 14px;      font-weight: 600;      vertical-align: middle;      text-align: center;  }   .login {      font-size: 14px;      font-weight: 600;      text-align: center;      display: table;      color: #888;      cursor: pointer;      text-decoration: none;      line-height: 0;  }   .login:hover {      color: #333;  }   .signup {      font-size: 14px;      font-weight: 600;      text-align: center;      display: table;      color: #888;      cursor: pointer;      text-decoration: none;      line-height: 0;  }   .signup:hover {      color: #333;  }   .language {      cursor: pointer;  }   .language:hover {}   .language svg {      border: 1px solid #e6e6e6;  }   .download {      height: 24px;      background: #1EAB4B;      padding: 0px 25px 0px;      float: right;      border: none;      border-radius: 3px;      color: white;      font-family: 'Open Sans';      font-weight: 900;  }   button {      cursor: pointer;  }   .download:hover {      background: #27ae60;  }   .social_footer {      padding-left: 35px;      height: 12px;      display: inline-block;      margin: 5px 0px;      width: 120px;  }   .social_footer p {      float: left;      display: inline;      margin: 0px 13px;      color: #999;  }   .social_footer svg {      float: left;      display: inline;  }   .tmsdownloads {      background: #1EAB4B;      border: none;      line-height: 13px;      cursor: pointer;      min-height: 37px;      padding: 7px 0px;      color: #fff;      font-size: 15px;      font-family: 'Open Sans', sans-serif;      font-weight: 600;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   .tmsdownloads:hover {      background: #27ae60;  }   .blueBut {      background: #4683ea;      border: none;      cursor: pointer;      height: 37px;      color: #fff;      font-size: 15px;      font-family: 'Open Sans', sans-serif;      font-weight: 600;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   .blueBut:hover {      background: #4d92f7;  }   .orderBut {      background: #F6F9FF;      outline: none;  }   .orderBut:hover {      background: #dce9ff;  }   .hpLoginBlocks {      vertical-align: top;      max-width: 400px;      min-width: 310px;      width: 100%;      display: inline-block;      margin-bottom: 30px;  }   .market:hover {      box-shadow: 1px 2px #ddd;  }   #readMore {      margin: 30px auto 0px;      color: #0087e2;      fill: #0087e2;      cursor: pointer;  }   #readMore:hover,  #readMore:hover path {      color: #4d92f7;      fill: #4d92f7;  }   .simplelink {      text-decoration: none;      color: #333;  }   .simplelink:hover {      text-decoration: none;      color: #3665c1;  }   .right_submenu {      position: absolute;      height: 39px;      right: 45px;      top: 18px;      display: block;      border: 1px solid #E6E6E6;  }   footer {      font-size: 12px;      background: #f3f3f3;      background: -moz-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #f3f3f3), color-stop(100%, #fff));      background: -webkit-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -o-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -ms-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: linear-gradient(top, #f3f3f3 0, #fff 100%);      font-size: 12px;      padding: 30px 0 0px;      margin-top: 100px;      width: 100%;      height: 158px;      color: #888;      position: absolute;      bottom: 0px;  }   .footer_header {      font-weight: 300;      color: #555;      font-size: 13px;      text-align: left;      padding-left: 35px;  }   .flag svg {      border: 1px solid #e6e6e6;  }   .price {      width: 80%;      margin: auto;      border-collapse: collapse;  }   .price tr {      height: 36px;      border-bottom: 1px solid #ddd;  }   table .yel:hover td {      background: #e7f4fd;  }   .gre {      padding-left: 10px;      background: #fff;  }   .price button {      cursor: pointer;      font-size: 23px;      color: #fff;      border: none;      border-radius: 3px;      min-height: 40px;      box-shadow: 0px 2px 1px 1px #adadad;      padding: 0px 35px;  }   .doodle {      height: 0px;      position: relative;      bottom: 26px;  }   .signup_free {      background: #1EAB4B;  }   .signup_free:hover {      background: #27ae60;  }   .signup_pro {      background: #1548B8;  }   .signup_pro:hover {      background: #1851CE;  }   .free {      color: #1EAB4B;      font-size: 13px;      background: #f5f5f5;  }   .pro {      color: #1548B8;      font-size: 13px;      background: #f5f5f5;  }   .pricing_image {      margin: 85px auto 0px;      text-align: center;  }   .tworow {      width: 49.999%;      float: left;      display: inline;      text-align: center;      margin-top: 80px;  }   .tworow>div {      width: 30%;      max-width: 80px;      text-align: center;      margin: auto;  }   .half {      margin: 10px 10%;      text-align: center;      line-height: 1.6;  }   .oneimage {      text-align: center;      margin: auto;      margin-top: 85px;      max-width: 750px;      width: 100%;  }   #placeholder #lozenge {      fill: #666;  }   #placeholder:hover #lozenge {      fill: url(#SVGID_1_);  }   .passbut:hover {      text-decoration: underline;  }   #regbut:hover {      background: #21b951;  }   #loginbut:hover {      background: #70bcf0;  }   .passbut {      text-decoration: none;      color: #4683ea;  }   #regbut {      background: #1eab4b;  }   #loginbut {      background: #51aded;  }   input {      width: 300px;      height: 35px;      border: 1px solid #cccccc;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;      color: #555555;      font-size: 15px;  }   input[type='checkbox'] {      height: 16px;      width: 16px;  }   .linksimple {      color: #4683ea;      text-decoration: none;  }   .linksimple:hover {      color: #4683ea;      text-decoration: underline;  }   .linksimple:visited {      color: #4683ea;      text-decoration: none;  }   .LoginButton {      cursor: pointer;      border: none;      height: 62px;      color: white;      font-size: 16px;      font-weight: bold;      box-shadow: 0px 2px 1px 1px #adadad;      width: 330px;      margin: 15px auto 15px;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   #reghome {      background: #1eab4b;  }   #reghome:hover {      background: #21b951;  }   .regtable {      width: 55%;      margin: auto;      border-collapse: collapse;      text-align: center;  }   .regtable tr {      height: 48px;  }   .regtable td {      width: 50%;  }   .regtable input {      padding-left: 5px;      height: 30px;      color: #111;      background: #fff;  }   ::-webkit-input-placeholder {      color: #999;  }   :-moz-placeholder {      color: #999;      opacity: 1;  }   ::-moz-placeholder {      color: #999;      opacity: 1;  }   :-ms-input-placeholder {      color: #999;  }   .logo_svg:hover polygon {      fill: #00CACD;  }   .logo_svg:hover path {      fill: #00CACD;  }   /* FLOAT DIV STYLES */  .floatDiv {      position: absolute;      background: grey;      width: 300px;      height: 200px;      resize: both;      overflow: hidden;      border: 1px solid #bbb;      top: 100px;      left: 300px;  }   .floatDivTH {      width: 100%;      height: 25px;      background: #eee;      border: 1px solid #bbb;      cursor: pointer;      line-height: 0px;  }   .floatDivTH td {      width: 25px;  }   .floatDivTH td:first-child {      width: auto;      white-space: nowrap;  }   .rollDiv {      left: 0px;      top: 0px;      width: 200px;      resize: none;  }   .expandDiv {      left: 0px;      top: 0px;      height: 100%;      width: 100%;      resize: none;      border: none;  }   .topPan {      width: 100%;      height: 25px;      background: #eee;  }   .topClose {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 2px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .topExpand {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 27px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .topRoll {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 53px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .dock {      left: 0px;      bottom: 0px;      height: 33px;      width: 200px;      resize: none;      position: absolute;      background: grey;      overflow: hidden;  }   .undock {      left: 0px;      bottom: 0px;      height: auto;      max-height: 100%;      width: 200px;      resize: none;      position: absolute;      background: grey;      overflow: hidden;      overflow-y: auto;  }   .expandDock {      position: absolute;      left: 199px;      bottom: 0px;      width: 33px;      height: 33px;      cursor: pointer;      background: #eee;  }   .expandDock table,  .expandDock table tr td {      border: 1px solid #bbb;      text-align: center;      width: 100%;      height: 100%;      line-height: 0;  }   .rollDiv .topPan {      cursor: pointer;  }   .floatDiv .topPan {      cursor: default;  }   .st0,  .floatDivTH path {      fill: #444 !important;  }   #ratioWrap {      width: 95%;      max-width: 640px;      display: inline-block;      position: relative;      margin: 40px auto 20px;      /* z-index:25; */  }   #ratioWrap:after {      padding-top: 56.25%;      display: block;      content: '';  }   #div1 {      margin: auto;      position: absolute;      top: 0;      bottom: 0;      right: 0;      left: 0;      cursor: pointer;      text-align: center;      background: #fff;      \" } #placeholder{   margin:auto;   position: absolute;   top: 0;   bottom: 0;   right: 0;   left: 0;   cursor:pointer;   text-align:center;   background:#fff;\"  }   #contLogin {      margin-top: 0px;      padding-top: 30px;      padding-bottom: 130px;  }   #header {      position: fixed;      height: 79px;      width: 100%;      display: block;      background: white;      z-index: 21;      top: 0px;  }   .prodList {      text-align: center;      width: 100%;      margin-top: 75px;  }   .prodList a {      color: inherit;      display: inline-block;      margin: 0px 46px;      width: 210px;      border: 1px solid #eee;      border-radius: 20px;      background: #F6F9FF;      box-shadow: 1px 2px #ddd;      cursor: pointer;      text-decoration: none;      vertical-align: top;  }   .prodList div {      display: inline-block;      margin: 0px 50px;      width: 210px;      border: 1px solid #eee;      border-radius: 20px;      background: #F6F9FF;      box-shadow: 1px 2px #ddd;      cursor: pointer;  }   .prodList table {      width: 100%;      border-collapse: collapse;      border: none;      text-align: center;  }   .prodList tr:first-child td {      padding-top: 33px;  }   .prodList tr:nth-child(2) td {      padding: 9px 20px 20px;  }   .prodList tr:last-child td {      padding: 0px 20px 33px;      font-size: 14px;  }   .appList {      text-align: center;      width: 100%;      margin-top: 75px;  }   .appList a {      color: inherit;  }   .appList div {      display: inline-block;      margin: 0px 50px;      width: 210px;      cursor: pointer;  }   .sharePan {      width: 100%;      list-style-type: none;      padding: 0;  }   .sharePan li {      width: 25%;      float: left;      box-sizing: border-box;      height: 30px;  }   .sharePan a {      color: white;      text-decoration: none;      display: block;      width: 100%;      height: 100%;      position: relative;  }   .sharePan a div {      position: absolute;      top: 5px;      left: 40px;      font-weight: 700;  }   .sharePan a svg {      margin: 8px 15px;  }   .sharePan li:nth-child(1) {      background: #3b5998;  }   .sharePan li:nth-child(2) {      background: #1da1f2;  }   .sharePan li:nth-child(3) {      background: #006fa6;  }   .sharePan li:nth-child(4) {      background: #db4437;  }   .tag {      display: inline-block;      border-radius: 3px;      padding: 4px 20px;      margin: 5px 10px 5px 0px;      border: 1px solid transparent;      cursor: pointer;      font-size: 15px;      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .processes .tag {      background: rgba(70, 131, 234, 0.2);  }   .processes .tag:hover {      border: 1px solid background:rgba(70, 131, 234, 0.5);      background: rgba(70, 131, 234, 0.4);  }   .processes .activeTag {      background: rgba(70, 131, 234, 1);      color: white;  }   .processes .activeTag:hover {      background: #4d92f7;      border: 1px solid #4d92f7;  }   .services .tag {      background: rgba(30, 171, 75, 0.2);  }   .services .tag:hover {      border: 1px solid background:rgba(30, 171, 75, 0.5);      background: rgba(30, 171, 75, 0.4);  }   .services .activeTag {      background: rgba(30, 171, 75, 1);      color: white;  }   .services .activeTag:hover {      background: #1EAB4B;      border: 1px solid #1EAB4B;  }   .articles {      text-align: center;  }   .articles>a {      text-align: left;      display: inline-block;      margin: 20px 10px 0px 10px;      border-radius: 3px;      border: 1px solid transparent;      cursor: pointer;      text-decoration: none;      color: #777;      max-width: 284px;      width: 100%;      vertical-align: top;  }   .articles>a:hover {      opacity: .8;  }   .toKnowledge {      margin: 50px auto 30px;      text-align: right;  }   .toKnowledge a {      padding: 10px 20px;      background: #0087e2;      border: 1px solid #bbb;      color: white;      border-radius: 3px;  }   .toKnowledge a:hover {      background: #4d92f7;      border: 1px solid #ccc;      text-decoration: none;  }   .blueLink {      text-decoration: none;      color: #0087e2;  }   .blueLink:hover {      text-decoration: underline;  }   .articleTags {      width: 100%;  }   .articleTags div {      display: inline-block;      border-radius: 3px;      padding: 2px 4px;      margin: 5px 5px 5px 0px;      cursor: pointer;      font-size: 14px;      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .artProcTag {      background: rgba(70, 131, 234, 0.2);      color: #777;  }   .artProcTag.active {      background: rgba(70, 131, 234, 1);      color: white;  }   .artServTag {      background: rgba(30, 171, 75, 0.2);      color: #777;  }   .artServTag,  .active {      background: rgba(30, 171, 75, 1);      color: white;  }   .article h3 {      font-weight: 600;      font-size: 20px;      margin: 7px 0px 10px;  }   .article p {      font-style: italic;      margin: 0px 0px 8px;      font-size: 15px;  }   /* ------------------ARTICLES--------------------- */  .artB {      color: #444;      font-size: 18px;      line-height: 26px;  }   .artB h1 {      font-size: 44px;      font-weight: 700;      color: #191919;      text-align: center;      line-height: 60px;  }   .artB h2 {      font-size: 30px;      font-weight: 400;      color: #191919;      text-align: center;      line-height: 35px;  }   .artB table {      width: 100%;      vertical-align: top;      border-collapse: collapse;  }   .artB table.twotd td {      width: 50%;      vertical-align: top;  }   .artB table.threetd td {      width: 33%;      vertical-align: top;  }   .artB td {      border: 1px solid #999;      padding-left: 10px;  }   .artB td ol {      margin: 0px;  }   .artB ol {      margin: 0px;      margin: 35px 0px -13px 0px;      font-style: italic;      font-weight: 600;  }   .artB ol p {      color: #444;      /*font-size: 17px;*/      line-height: 26px;      font-style: initial;      font-weight: 300;      margin-left: -40px;  }   .artB ol i p {      font-style: italic;      color: #008b8b;  }   .artB p.total {      color: #134f5c;      font-weight: bold;      margin-top: 0px;  }   .artB iframe {      margin: auto;      display: block;  }   @media screen and (min-width: 1200px) {       #mob-menu-but,      #mob-menu {          display: none !important;      }       #cont {          display: block !important;      }  }   @media screen and (max-width: 1100px) {      .footSep {          visibility: hidden;      }  }   @media screen and (max-width: 1200px) {       #menu,      #submenu {          display: none;      }       #mob-menu-but {          width: 30px;          height: 30px;          position: absolute;          right: 4%;          top: 21px;          display: block;      }       #mob-menu {          display: none;          width: 100%;          background: white;          z-index: 9999;          margin: 0px;          padding: 0px;          margin-top: 89px;      }       #mob-menu li {          text-align: center;          list-style: none;          margin: 20px;      }       #mob-menu a {          text-decoration: none;          font-size: 16px;          font-weight: 500;          color: #0F3F9F !important;          cursor: pointer;      }  }   @media screen and (max-width: 750px) {      .maintext0 {          font-size: 30px;      }       .maintext1 {          font-size: 18px;      }       .maintext2,      .maintext4 {          font-size: 26px;      }       .maintext4 {          margin: 15px 0px 30px;      }       .pricing_image {          margin: 70px auto 20px;      }       .half {          14px;      }       #cont {          margin-top: 50px;      }  }   @media screen and (max-width: 650px) {      .sharePan div {          display: none;      }       .articles>a {          margin: 50px 0px 0px 0px;      }  }   @media screen and (max-width: 450px) {      .artB h1 {          font-size: 26px;          font-weight: 400;          color: #191919;          text-align: center;          line-height: 40px;      }       .artB h2 {          font-size: 22px;          font-weight: 400;          font-style: italic;          color: #191919;          text-align: center;          line-height: 30px;      }       .maintext0 {          font-size: 26px;      }       .maintext1 {          font-size: 18px;      }       .maintext2 {          font-size: 25px;          margin: 50px 0px 0px;      }       .maintext4 {          font-size: 25px;          margin: 10px 0px 20px;      }       .pricing_image {          margin: 40px auto 20px;      }       .half {          14px;      }       .tworow {          width: 100%;      }       .hpLoginBlocks {          min-width: initial;      }       #cont {          margin-top: 30px;      }  }   /* ------------------------LOGOS---------------------------- */  .logo_svg_maintain:hover svg {      fill: #0044ff;  }   .logo_svg_order:hover svg {      fill: #ff4400;  }   /* ------------------------LOGOS END------------------------ */  /* ------------------------PRODUCTS MENU-------------------- */  #products_menu {      position: absolute;      right: -100px;      top: 35px;      width: 346px;      background: white;      border-radius: 3px;      border: 1px solid #ccc;      display: none;      box-shadow: 0 2px 10px rgba(0, 0, 0, .2);      box-sizing: border-box;      font-size: 15px;      color: #222;  }   #products_menu>div {      padding: 30px 30px 30px 30px;      box-sizing: border-box;  }   #products_menu>div>a {      display: inline-block;      width: 90px;      height: 90px;      border: 1px solid transparent;      vertical-align: top;      text-align: center;      cursor: pointer;      border-radius: 3px;      box-sizing: border-box;      text-decoration: none;      color: #222;  }   #products_menu>div>a:hover {      border: 1px solid #e6e6e6;  }   #products_menu>a>button {      width: 100%;      background: #eee;      height: 40px;      border: none;  }   #products_menu>a>button:hover {      width: 100%;      background: #e7e7e7;      height: 40px;      border: none;  }   /* ------------------------PRODUCTS MENU END----------------- */  /* ------------------------SUPPORT MENU---------------------- */  .collapseDiv {      width: 100%;      display: none;      padding: 15px 0px;      box-sizing: border-box;      background: #333;  }   .collapseDiv>a {      display: block;      text-decoration: none;      width: 100%;      background: #333;      padding: 5px 30px 5px 40px;      box-sizing: border-box;      cursor: pointer;      color: #fff;  }   .collapseDiv>a:hover {      background: #222;  }   .plusM {      float: right;      margin-right: 10px;  }   .supMen {      width: 100%;      background: #eee;      padding: 10px 20px;      box-sizing: border-box;      cursor: pointer;      border-top: 1px solid #ccc;  }   .supMen:hover {      background: #ddd;  }   .supMenAct {      width: 100%;      background: #c5c5c5;      padding: 10px 20px;      box-sizing: border-box;      cursor: pointer;      border-top: 1px solid #ccc;  }   .supMenAct:hover {      background: #bbb;  }   @media screen and (max-width: 400px) {      .plusM {          visibility: hidden;      }  }   .artImg {      width: 100%;  }   .supArtMenIt {      width: 100%;      padding: 10px 0px;  }   .supArtMenIt>a {      display: block;      text-decoration: none;      width: 100%;      cursor: pointer;      padding: 10px 10px;      font-size: 14px;      box-sizing: border-box;      color: #444;      text-align: left;  }   .supArtMenIt>a:hover {      background: #eee;  }   .supArtMenItAct {      color: blue;      border-left: 3px solid blue;      font-weight: 600;  }   .supMenArt {      vertical-align: top;      display: inline-block;      max-width: 280px;      min-width: 250px;      margin: 80px auto;      box-shadow: -10px 5px 20px -5px #ccc;      border-left: 1px solid #ccc;      box-sizing: border-box;      float: right;      color: #222;  }   @media screen and (max-width: 1070px) {      .supMenArt {          display: block;          float: none;          max-width: 600px;          min-width: 0px;          box-shadow: -4px 7px 50px -5px #ccc;      }  }   /* ------------------------SUPPORT MENU END------------------ */  /* ------------------------SUPPORT ARTICLE------------------- */  .artS {      max-width: 700px;      text-align: left;      margin-top: 68px;      color: #222;      font-size: 15px;      line-height: 31px;      display: inline-block;  }   .artS h1,  .artS h2 {      text-align: left;      font-weight: 400;  }   .artS h1 {      font-size: 40px;      line-height: 60px;  }   .artS img {      width: 100%;      height: auto;  }   .artS .emb {      width: 100%;      text-align: center;  }   .artS .emb div {      font-size: 27px;      margin: 43px auto;      color: #999;  }   .artS .emb img {      width: 90%;      margin: auto;  }   .artS .emb p {      text-align: left;  }   .artS .emb textarea {      width: 90%;      font-size: 15px;      height: 100px;  }   .artS .artImg {      width: 100%;      max-width: 120px;      float: right;      margin: 18px 10px 10px 40px;  }   .artS .clearD {      width: 100%;      height: 40px;      visibility: hidden;      clear: both;  }   .artS ol {      margin: 0px;      font-style: normal;      font-weight: inherit;  }   .artS a {      color: #4184f1;      text-decoration: none;  }   .artS a:hover {      text-decoration: underline;  }   .artS .aNewT:after {      content: '';      background: no-repeat url(http://www.logision.com/img/newBlank.png);      display: inline-block;      height: 10px;      margin: 0 3px 0 5px;      width: 10px;  }   /* ------------------------SUPPORT ARTICLE END--------------- */</style>`\n\nconst Blog = props => {\n    const [state, setState] = useState('')\n    const [title, setTitle] = useState('')\n    useEffect(() => {\n        const url = 'https://websiter.dev' + props.history.location.pathname\n        axios\n            .post('/api/blog', { url })\n            .then(res => {\n                setState(\n                    styles +\n                        res.data.body\n                            .replace(\n                                /\\/images\\/blog/gi,\n                                'https://websiter.dev/images/blog'\n                            )\n                            .replace(\n                                /href=\"https:\\/\\/websiter.dev/gi,\n                                'href=\"https://addspire.com'\n                            )\n                )\n                setTitle(res.data.title)\n            })\n            .catch(err => {})\n    }, [props.history.location.pathname])\n\n    return (\n        <div>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n            <div dangerouslySetInnerHTML={{ __html: state }} />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","import React from 'react'\n\nexport default props => (\n    <svg\n        viewBox=\"0 0 24 24\"\n        width=\"18\"\n        height=\"18\"\n        style={{ transform: 'rotate(90deg)', display: 'block' }}\n    >\n        <path d=\"M2 10h4v4H2v-4zm8 4h4v-4h-4v4zm8-4v4h4v-4h-4z\" />\n    </svg>\n)\n","import React from 'react'\n\nimport * as wsActions from '../websocketActions'\nimport Menu from 'antd/es/menu'\nimport Dropdown from 'antd/es/dropdown'\nimport DownOutlined from '@ant-design/icons/DownOutlined'\nimport Button from 'antd/es/button'\nimport MoreIcon from './UI/MoreIcon'\n\nconst FriendActionButton = props => {\n    const { invitingFriends, invitedFriends, realFriends, _id, account } = props\n    const accountId = account ? account._id : ''\n    if (!accountId) return []\n\n    if (accountId === _id) return [props.additionalButton]\n\n    const menu = (\n        <Menu onClick={({ domEvent }) => domEvent.stopPropagation()}>\n            {props.additionalButtons &&\n                props.additionalButtons.map((button, index) => (\n                    <Menu.Item key={index + 100} onClick={button.onClick}>\n                        {button.title}\n                    </Menu.Item>\n                ))}\n            {invitingFriends.find(item => item.friend === _id) ? (\n                <Menu.Item\n                    key=\"2\"\n                    onClick={() => wsActions.unfriend(accountId, _id)}\n                    danger={true}\n                >\n                    Decline\n                </Menu.Item>\n            ) : invitedFriends.find(item => item.friend === _id) ? (\n                <Menu.Item\n                    key=\"3\"\n                    onClick={() => wsActions.unfriend(accountId, _id)}\n                    danger={true}\n                >\n                    Cancel invitation\n                </Menu.Item>\n            ) : realFriends.find(item => item.friend === _id) ? (\n                <Menu.Item\n                    key=\"4\"\n                    onClick={() => wsActions.unfriend(accountId, _id)}\n                    danger={true}\n                >\n                    Unfriend\n                </Menu.Item>\n            ) : null}\n            {props.noFollow ? null : account.followAccounts.includes(_id) ? (\n                <Menu.Item\n                    key=\"5\"\n                    onClick={() => wsActions.unfollowAccount(accountId, _id)}\n                    danger={true}\n                >\n                    Unfollow\n                </Menu.Item>\n            ) : (\n                <Menu.Item\n                    key=\"6\"\n                    onClick={() => wsActions.followAccount(accountId, _id)}\n                >\n                    Follow\n                </Menu.Item>\n            )}\n        </Menu>\n    )\n    return invitingFriends.find(item => item.friend === _id) ? (\n        <Dropdown.Button\n            type=\"primary\"\n            overlay={menu}\n            trigger={['click', 'hover']}\n            onClick={e => {\n                e.preventDefault()\n                e.stopPropagation()\n                wsActions.acceptFriend(accountId, _id)\n            }}\n        >\n            Accept friendship\n        </Dropdown.Button>\n    ) : ![...realFriends, ...invitingFriends, ...invitedFriends].find(\n          item => item.friend === _id\n      ) ? (\n        <Dropdown.Button\n            type=\"primary\"\n            overlay={menu}\n            trigger={['click', 'hover']}\n            onClick={e => {\n                e.preventDefault()\n                e.stopPropagation()\n                wsActions.addFriend(accountId, _id)\n            }}\n        >\n            Become friends\n        </Dropdown.Button>\n    ) : (\n        <Dropdown overlay={menu} trigger={['click']}>\n            <a\n                // className=\"ant-dropdown-link\"\n                onClick={e => {\n                    e.preventDefault()\n                    e.stopPropagation()\n                }}\n            >\n                <Button type={props.asText ? 'primary' : 'link'}>\n                    {props.asText ? (\n                        <>\n                            Actions <DownOutlined />\n                        </>\n                    ) : (\n                        <MoreIcon />\n                    )}\n                </Button>\n            </a>\n        </Dropdown>\n    )\n}\n\nexport default FriendActionButton\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../store/actions'\nimport { withRouter } from 'react-router-dom'\n\nimport friendActionButton from './FriendActionButton'\nimport UserButton from './UserButton/UserButton'\nimport MasonryCard from './MasonryCard'\n\nconst FriendCard = props => {\n    const friendActions = friendActionButton({\n        account: props.account,\n        realFriends: props.realFriends,\n        invitedFriends: props.invitedFriends,\n        invitingFriends: props.invitingFriends,\n        _id: props.friend._id,\n        asIcons: true,\n\n        additionalButtons: [\n            {\n                title: 'See profile',\n                onClick: () =>\n                    props.history.push('/profile/' + props.friend._id),\n            },\n        ],\n    })\n\n    return (\n        <MasonryCard\n            actions={friendActions}\n            body={<UserButton span={true} id={props.friend._id} size={50} />}\n            noLink={true}\n            friends={true}\n        />\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n\n\n\n\n            \n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(FriendCard)\n)\n","import React from 'react'\nimport Button from 'antd/es/button'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nconst AddCard = props => (\n    <Button\n        onClick={props.action}\n        type=\"primary\"\n        shape=\"round\"\n        icon={<PlusOutlined />}\n        size=\"large\"\n    >\n        {props.title}\n    </Button>\n)\n\nexport default AddCard\n","export const friendsBreakPoints = {\n    default: 4,\n    1600: 3,\n    1100: 2,\n    600: 1,\n}\n\nexport const cardBreakPoints = {\n    default: 4,\n    1100: 3,\n    700: 2,\n    310: 1,\n}\n","import React from 'react'\nimport Masonry from 'react-masonry-css'\nimport {\n    cardBreakPoints,\n    friendsBreakPoints,\n} from '../utils/masonryBreakPoints'\n\nexport default props => (\n    <div style={{ marginTop: '40px', ...props.style }}>\n        <Masonry\n            breakpointCols={3}\n            className=\"my-masonry-grid\"\n            columnClassName=\"my-masonry-grid_column\"\n            breakpointCols={\n                props.friends ? friendsBreakPoints : cardBreakPoints\n            }\n        >\n            {props.children}\n        </Masonry>\n    </div>\n)\n","import React from 'react'\n\nexport default props => (\n    <div\n        style={{\n            margin: 'auto',\n            textAlign: 'center',\n            width: '90%',\n            maxWidth: '400px',\n            padding: '30px 0px',\n        }}\n    >\n        <img\n            src={props.url}\n            style={{\n                width: '100%',\n                height: 'auto',\n                marginBottom: '20px',\n            }}\n        />\n        <span>{props.text}</span>\n    </div>\n)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport AddCard from '../../components/AddCard/AddCard'\nimport Modal from 'antd/es/modal/Modal'\nimport AddProgress from './AddProgress'\nimport MasonryGrid from '../../components/MasonryGrid'\nimport MasonryCard from '../../components/MasonryCard'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Helmet from 'react-helmet'\nimport CustomEmpty from '../../components/UI/CustomEmpty'\n\nconst Progresses = props => {\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n\n    const { isOwner, progressData, account, profile } = props\n\n    const { progresses } = !isOwner ? profile : account\n\n    let loadedProgresses\n    if (progresses) {\n        loadedProgresses = progresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n\n    const editGoal = !isOwner ? null : loadedProgresses ? (\n        <Modal\n            title=\"Add progress\"\n            visible={startProgressVisible}\n            maskClosable\n            closable\n            onCancel={() => {\n                setStartProgressVisible(false)\n                document.body.removeAttribute('style')\n            }}\n            width=\"100%\"\n            style={{ maxWidth: '1000px' }}\n            footer={null}\n            destroyOnClose={true}\n        >\n            <AddProgress\n                setStartProgressVisible={setStartProgressVisible}\n                account={account}\n                friendData={props.friendData}\n                cancel={() => setStartProgressVisible(false)}\n            />\n        </Modal>\n    ) : null\n\n    return !loadedProgresses || loadedProgresses.length === 0 ? (\n        <CustomEmpty\n            url=\"/inspiration.png\"\n            text=\"You will see your inspirations here. You can add a new inspiration for yourself or for people you care.\"\n        />\n    ) : (\n        <div>\n            {isOwner && (\n                <>\n                    <AddCard\n                        title=\"Add inspiration\"\n                        sub=\"Rich your goals or help others!\"\n                        action={() => {\n                            setStartProgressVisible(true)\n                        }}\n                    />\n                    {editGoal}\n                </>\n            )}\n            <MasonryGrid style={{ marginTop: '40px' }}>\n                {loadedProgresses.map((item, index) => (\n                    <MasonryCard\n                        id={item._id}\n                        key={index}\n                        onClickLink={'/inspirations/' + item._id}\n                        images={item.goal.images}\n                        body={\n                            <>\n                                <UserButton\n                                    ids={item.goal.users}\n                                    group={true}\n                                />\n                                <span style={{ fontWeight: 'bold' }}>\n                                    {item.name}\n                                </span>\n                            </>\n                        }\n                    />\n                ))}\n            </MasonryGrid>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        profile: state.profile,\n        isAuthed: state.isAuthed,\n        progressData: state.progressData,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Progresses)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Avatar from 'antd/es/avatar'\n\nconst ProgressButton = props => {\n    const { id } = props\n    const userName = id => props.progressData[id].goal.name\n    const userAvatar = id => (\n        <span\n            onClick={() => {\n                handleClick(id)\n            }}\n        >\n            <Avatar\n                src={\n                    props.progressData[id].goal.images.length > 0 &&\n                    props.progressData[id].goal.images[0]\n                }\n                size={props.size || (props.noClick ? 20 : 40)}\n                style={props.group ? {} : { margin: ' 0 5px' }}\n            />\n        </span>\n    )\n\n    const handleClick = id =>\n        props.history.push('/inspirations/' + (id || props.id))\n    return (\n        <span\n            style={{ cursor: 'pointer', fontWeight: 'bold', ...props.style }}\n            onClick={e => {\n                e.stopPropagation()\n                handleClick()\n            }}\n        >\n            {userAvatar(id)}\n            {userName(id)}\n        </span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        progressData: state.progressData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProgressButton))\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport Card from 'antd/es/card'\nimport Button from 'antd/es/button'\nimport Modal from 'antd/es/modal'\n\nimport Input from 'antd/es/input'\nimport Form from 'antd/es/form'\n\nimport FriendCard from '../../components/FriendCard'\nimport { nicknameRules } from '../../constants/fieldRules'\n\nconst AddFriends = props => {\n    useEffect(() => {\n        props.setFriendSearchResult({})\n    }, [props.addFriendOpen])\n\n    const {\n        addFriendOpen,\n        setAddFriendOpen,\n        searchResult,\n        realFriends,\n        invitedFriends,\n        invitingFriends,\n    } = props\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n\n    return (\n        <Modal\n            title=\"Add friend\"\n            visible={addFriendOpen}\n            maskClosable\n            closable\n            onCancel={() => {\n                setAddFriendOpen(false)\n                document.body.removeAttribute('style')\n            }}\n            footer={\n                <Button\n                    key=\"back\"\n                    onClick={() => {\n                        setAddFriendOpen(false)\n                        document.body.removeAttribute('style')\n                    }}\n                >\n                    Return\n                </Button>\n            }\n            destroyOnClose={true}\n        >\n            <p>\n                To find a friend you need to enter your friend's name or\n                nickname.\n            </p>\n            <Form\n                name=\"dynamic_form_nest_item\"\n                onFinish={value => wsActions.searchFriends(value.search)}\n                autoComplete=\"off\"\n                {...layout}\n            >\n                <Form.Item label=\"Search\" name=\"search\" rules={nicknameRules}>\n                    <Input placeholder=\"Must be more than 2 characters long\" />\n                </Form.Item>\n\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                        Search\n                    </Button>\n                </Form.Item>\n            </Form>\n            {searchResult.length > 0 && (\n                <Card title=\"Search result\">\n                    {searchResult.map(friend => (\n                        <FriendCard\n                            {...props}\n                            friend={friend}\n                            realFriends={realFriends}\n                            invitingFriends={invitingFriends}\n                            invitedFriends={invitedFriends}\n                        />\n                    ))}\n                </Card>\n            )}\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        searchResult: state.friendSearchResult,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AddFriends)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport FriendCard from '../../components/FriendCard'\nimport MasonryGrid from '../../components/MasonryGrid'\n\nconst pendingFriends = props => {\n    const { realFriends, invitedFriends, invitingFriends } = props\n    return (\n        <>\n            {invitingFriends.length > 0 && (\n                <>\n                    <h2>People invited me to be friends</h2>\n                    <MasonryGrid friends={true}>\n                        {invitingFriends.map(friend => (\n                            <FriendCard\n                                key={friend._id}\n                                {...props}\n                                friend={friend}\n                                realFriends={realFriends}\n                                invitingFriends={invitingFriends}\n                                invitedFriends={invitedFriends}\n                            />\n                        ))}\n                    </MasonryGrid>\n                </>\n            )}\n\n            {invitedFriends.length > 0 && (\n                <>\n                    <h2>I invited these people</h2>\n                    <MasonryGrid friends={true}>\n                        {invitedFriends.map(friend => (\n                            <FriendCard\n                                key={friend._id}\n                                {...props}\n                                friend={friend}\n                                realFriends={realFriends}\n                                invitingFriends={invitingFriends}\n                                invitedFriends={invitedFriends}\n                            />\n                        ))}\n                    </MasonryGrid>\n                </>\n            )}\n        </>\n    )\n}\n\nexport default withRouter(pendingFriends)\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\n\nimport FriendCard from '../../components/FriendCard'\nimport AddCard from '../../components/AddCard/AddCard'\nimport AddFriends from './AddFriends'\nimport PendingFriends from './PendingFriends'\nimport Tabs from 'antd/es/tabs'\nimport Empty from 'antd/es/empty'\nimport Badge from 'antd/es/badge'\nimport MasonryGrid from '../../components/MasonryGrid'\n\nconst Friends = props => {\n    const [addFriendOpen, setAddFriendOpen] = useState()\n\n    useEffect(() => {\n        props.setPageTitle({ main: 'Friends', sub: '' })\n    }, [])\n\n    const { account, friendData } = props\n    if (!account._id) return null\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n\n    if (account.friends) {\n        for (let friend of account.friends) {\n            const fullFriend = { ...friendData[friend.friend], ...friend }\n            if (fullFriend) {\n                if (fullFriend.status === 'friend') realFriends.push(fullFriend)\n                else if (fullFriend.status === 'invited')\n                    invitedFriends.push(fullFriend)\n                else if (fullFriend.status === 'inviting')\n                    invitingFriends.push(fullFriend)\n            }\n        }\n    }\n\n    const confirmedFriends =\n        realFriends.length > 0 ? (\n            <MasonryGrid friends={true}>\n                {realFriends.map(friend => (\n                    <FriendCard\n                        {...props}\n                        key={friend.friend}\n                        friend={friend}\n                        realFriends={realFriends}\n                        invitingFriends={invitingFriends}\n                        invitedFriends={invitedFriends}\n                    />\n                ))}\n            </MasonryGrid>\n        ) : (\n            <Empty\n                image=\"https://websiter.s3.us-east-2.amazonaws.com/image+4.jpg\"\n                imageStyle={{ height: '250px', marginTop: '50px' }}\n                description={false}\n            />\n        )\n    return (\n        <div>\n            <AddCard\n                title=\"Add friend\"\n                sub=\"Find by nickname\"\n                action={() => setAddFriendOpen(true)}\n            />\n            {invitedFriends.length > 0 || invitingFriends.length > 0 ? (\n                <Tabs>\n                    <Tabs.TabPane key=\"confirmed\" tab=\"Confrmed\">\n                        {confirmedFriends}\n                    </Tabs.TabPane>\n\n                    <Tabs.TabPane\n                        tab={\n                            <Badge\n                                count={invitingFriends.length}\n                                offset={[10, 0]}\n                            >\n                                Pending\n                            </Badge>\n                        }\n                        key=\"pending\"\n                    >\n                        <PendingFriends\n                            realFriends={realFriends}\n                            invitedFriends={invitedFriends}\n                            invitingFriends={invitingFriends}\n                        />\n                    </Tabs.TabPane>\n                </Tabs>\n            ) : (\n                confirmedFriends\n            )}\n            <AddFriends\n                addFriendOpen={addFriendOpen}\n                setAddFriendOpen={setAddFriendOpen}\n                realFriends={realFriends}\n                invitedFriends={invitedFriends}\n                invitingFriends={invitingFriends}\n                account={account}\n            />\n        </div>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Friends)\n)\n","import React, { useState } from 'react'\nimport Modal from 'antd/es/modal'\n\nimport Button from 'antd/es/button'\nimport Input from 'antd/es/input'\nimport InputNumber from 'antd/es/input-number'\nimport Form from 'antd/es/form'\nimport Select from 'antd/es/select'\nimport Upload from 'antd/es/upload'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport Avatar from 'antd/es/avatar'\nimport {\n    nameRules,\n    descriptionRules,\n    priceRules,\n} from '../../constants/fieldRules'\nimport getAvatar from '../../utils/getAvatar'\n\nconst AddPerkForm = props => {\n    const [previewImage, setPreviewImage] = useState('')\n    const {\n        connections,\n        perk,\n        onFinish,\n        images,\n        setImages,\n        uploadImage,\n    } = props\n\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n\n    const connectionsSelect = (\n        <Select\n            mode=\"multiple\"\n            style={{ width: '100%' }}\n            placeholder=\"Please select\"\n            getPopupContainer={trigger => trigger.parentNode}\n        >\n            {connections.map(item => (\n                <Select.Option key={item._id}>\n                    <Avatar\n                        src={getAvatar(item._id, item.image)}\n                        size={20}\n                        style={{ marginRight: '10px' }}\n                    />\n                    {item.name} - ({item._id})\n                </Select.Option>\n            ))}\n        </Select>\n    )\n    const [form] = Form.useForm()\n\n    const normFile = e => {\n        if (Array.isArray(e)) {\n            return e\n        }\n        return e && e.fileList.map(image => image.url)\n    }\n\n    return !props.perkId || perk ? (\n        <>\n            <Form\n                form={form}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={perk || {}}\n                {...layout}\n            >\n                <Form.Item\n                    name=\"images\"\n                    label=\"Images\"\n                    valuePropName=\"images\"\n                    getValueFromEvent={normFile}\n                >\n                    <Upload\n                        accept=\"image/*\"\n                        listType=\"picture-card\"\n                        fileList={images.map((image, index) => ({\n                            ...image,\n                            uid: index,\n                        }))}\n                        onPreview={file => {\n                            setPreviewImage(file.url)\n                        }}\n                        onChange={({ fileList }) => setImages(fileList)}\n                        customRequest={({ file }) => {\n                            uploadImage(file)\n                        }}\n                    >\n                        {images.length >= 8 ? null : (\n                            <div>\n                                <PlusOutlined />\n                                <div className=\"ant-upload-text\">Upload</div>\n                            </div>\n                        )}\n                    </Upload>\n                </Form.Item>\n                <Form.Item label=\"Name\" name=\"name\" rules={nameRules}>\n                    <Input placeholder=\"New item\" />\n                </Form.Item>\n                <Form.Item\n                    label=\"Description\"\n                    name=\"description\"\n                    rules={descriptionRules}\n                >\n                    <Input.TextArea placeholder=\"Write a few words about this item.\" />\n                </Form.Item>\n\n                {props.mode === 'shop' && (\n                    <Form.Item label=\"Available for\" name=\"users\">\n                        {connectionsSelect}\n                    </Form.Item>\n                )}\n\n                {props.mode === 'shop' && (\n                    <Form.Item label=\"Price\" name=\"price\" rules={priceRules}>\n                        <InputNumber />\n                    </Form.Item>\n                )}\n\n                <Form.Item {...tailLayout}>\n                    <Button\n                        type=\"primary\"\n                        htmlType=\"submit\"\n                        size=\"large\"\n                        style={{ margin: '10px' }}\n                    >\n                        Save\n                    </Button>\n\n                    <Button\n                        type=\"link\"\n                        danger\n                        size=\"large\"\n                        style={{ margin: '10px' }}\n                        onClick={() => {\n                            props.setEditPerkOpen(false)\n                            document.body.removeAttribute('style')\n                        }}\n                    >\n                        Cancel\n                    </Button>\n                </Form.Item>\n            </Form>\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => setPreviewImage('')}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </>\n    ) : null\n}\n\nexport default AddPerkForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { uploadFile } from '../../utils/uploadFile'\nimport AddPerkForm from './AddPerkForm'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\n\nconst AddPerk = props => {\n    const [perk, setPerk] = useState()\n    const [images, setImages] = useState([])\n    const { account, mode } = props\n    const perkId = props.perkId || ''\n    useEffect(() => {\n        if (perkId) {\n            const perk =\n                mode === 'wishlist'\n                    ? account.wishlist.find(item => item.itemId === perkId)\n                    : mode === 'goals'\n                    ? account.goals.find(item => item.goalId === perkId)\n                    : account.perks.find(item => item.perkId === perkId)\n            if (perk) {\n                setPerk(perk)\n                setImages(\n                    perk.images.map((url, index) => ({\n                        url,\n                        uid: index,\n                    }))\n                )\n            }\n        }\n    }, [])\n\n    const connections = [\n        account,\n        ...account.friends\n            .filter(friend => friend.status === 'friend')\n            .map(friend => props.friendData[friend.friend]),\n    ]\n\n    const uploadImage = file => {\n        uploadFile(file, 800, undefined, url => {\n            setImages(\n                [...images, { url }].map((image, index) => ({\n                    ...image,\n                    uid: index,\n                }))\n            )\n        })\n    }\n\n    return !props.perkId || perk ? (\n        <AddPerkForm\n            connections={connections}\n            perk={perk}\n            onFinish={value => {\n                const processedValue = {\n                    ...value,\n                    images: images.map(image => image.url),\n                }\n                wsActions.savePerk(account._id, perkId, processedValue, mode)\n                props.setEditPerkOpen(false)\n                document.body.removeAttribute('style')\n            }}\n            images={images}\n            setImages={setImages}\n            uploadImage={uploadImage}\n            mode={props.mode}\n            setEditPerkOpen={props.setEditPerkOpen}\n        />\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n    }\n}\nexport default withRouter(connect(mapStateToProps)(AddPerk))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const savePerk = (accountId, id, value, mode) => {\n    if (accountId && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode:\n                    mode === 'wishlist'\n                        ? 'saveWishlistItem'\n                        : mode === 'goals'\n                        ? 'saveGoal'\n                        : 'savePerk',\n                id,\n                value,\n                accountId,\n            })\n        )\n    }\n}\n\nexport const deletePerk = (accountId, id, mode) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode:\n                    mode === 'wishlist'\n                        ? 'deleteWishlistItem'\n                        : mode === 'goals'\n                        ? 'deleteGoal'\n                        : 'deletePerk',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n\nexport const buyPerk = (buyer, seller, perkId) => {\n    if (perkId && buyer && seller && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'buyPerk',\n                perkId,\n                buyer,\n                seller,\n            })\n        )\n    }\n}\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport MasonryCard from '../../components/MasonryCard'\n\nconst PerkCard = props => {\n    const { perk, perkId, owner, mode } = props\n\n    return (\n        <MasonryCard\n            id={perkId}\n            onClickLink={`/${mode || 'shop'}/${owner._id}/${perkId}`}\n            images={perk.images}\n            body={\n                <span style={{ fontWeight: 'bold' }}>\n                    {perk.name}\n                    {mode === 'shop' && ` ($${perk.price})`}\n                </span>\n            }\n        />\n    )\n}\n\nexport default withRouter(PerkCard)\n","import React, { useState } from 'react'\nimport Modal from 'antd/es/modal'\nimport AddPerk from './AddPerk'\nimport PerkCard from './PerkCard'\nimport AddCard from '../../components/AddCard/AddCard'\nimport MasonryGrid from '../../components/MasonryGrid'\n\nconst WishlistAndPerks = props => {\n    const [editedPerk, setEditedPerk] = useState('')\n    const [editPerkOpen, setEditPerkOpen] = useState()\n\n    const { account, profile, isOwner } = props\n\n    const editPerk = (\n        <Modal\n            title=\"Add item\"\n            visible={editPerkOpen}\n            maskClosable\n            closable\n            onCancel={() => {\n                setEditPerkOpen(false)\n                document.body.removeAttribute('style')\n            }}\n            width=\"90%\"\n            footer={null}\n            destroyOnClose={true}\n        >\n            <AddPerk\n                setEditPerkOpen={setEditPerkOpen}\n                perkId={editedPerk}\n                mode={props.mode}\n            />\n        </Modal>\n    )\n\n    return account && account._id && isOwner ? (\n        <>\n            {isOwner && (\n                <>\n                    <AddCard\n                        action={() => {\n                            setEditedPerk('')\n                            setEditPerkOpen(true)\n                        }}\n                        title=\"Add item\"\n                        sub={props.mode === 'shop' && 'Set price'}\n                    />\n                    {editPerk}\n                </>\n            )}\n            <MasonryGrid>\n                {account[props.listKey || props.mode] &&\n                    account[props.listKey || props.mode].map((perk, index) => (\n                        <PerkCard\n                            key={index}\n                            perk={perk}\n                            perkId={\n                                props.mode === 'wishlist' ||\n                                props.mode === 'goals'\n                                    ? perk.itemId\n                                    : perk.perkId\n                            }\n                            owner={profile}\n                            account={account}\n                            setEditedPerk={setEditedPerk}\n                            setEditPerkOpen={setEditPerkOpen}\n                            mode={props.mode}\n                            style={{ cursor: 'pointer' }}\n                        />\n                    ))}\n            </MasonryGrid>\n        </>\n    ) : (\n        <MasonryGrid>\n            {profile.wishlist.map((item, index) => (\n                <PerkCard\n                    key={index}\n                    perk={item}\n                    perkId={item.itemId}\n                    owner={profile}\n                    account={account || {}}\n                    setEditedPerk={() => {}}\n                    setEditPerkOpen={() => {}}\n                    onlyBuy={true}\n                    mode=\"wishlist\"\n                />\n            ))}\n        </MasonryGrid>\n    )\n}\n\nexport default WishlistAndPerks\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport * as actions from '../../store/actions'\nimport Button from 'antd/es/button'\nimport Tag from 'antd/es/tag'\nimport TimeAgo from 'timeago-react'\nimport Avatar from 'antd/es/avatar'\nimport getAvatar from '../../utils/getAvatar'\nimport Rewards from '../../components/Rewards/Rewards'\nimport Collapse from 'antd/es/collapse'\nimport Badge from 'antd/es/badge'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Descriptions from 'antd/es/descriptions'\nimport Typography from 'antd/es/typography'\nimport Empty from 'antd/es/empty'\nimport moment from 'moment'\nimport CustomEmpty from '../../components/UI/CustomEmpty'\n\nmoment().format()\n\nconst Transactions = props => {\n    props.setPageTitle({ main: 'Shop', sub: 'Transactions' })\n\n    const { account, transactionData, friendData } = props\n    if (!account || !account._id) return null\n\n    const transactions = account.transactions\n        .filter(item => transactionData[item])\n        .map(item => transactionData[item])\n\n    const columns = [\n        {\n            title: 'Type',\n            dataIndex: 'types',\n            key: 'types',\n            render: types => (\n                <>\n                    {types.map(tag => {\n                        let color = tag.length > 5 ? 'geekblue' : 'green'\n                        if (tag === 'loser') {\n                            color = 'volcano'\n                        }\n                        return (\n                            <Tag color={color} key={tag}>\n                                {tag.toUpperCase()}\n                            </Tag>\n                        )\n                    })}\n                </>\n            ),\n        },\n        {\n            title: 'With',\n            dataIndex: 'user',\n            key: 'user',\n            render: user => {\n                const friend = friendData[user]\n                return friend ? (\n                    <Button\n                        type=\"link\"\n                        style={{ padding: 0 }}\n                        onClick={() => props.history.push('/profile/' + user)}\n                    >\n                        <Avatar\n                            src={getAvatar(user, friend.image)}\n                            style={{ marginRight: '5px' }}\n                        />\n                        {friend.name + ' (' + friend._id + ')'}\n                    </Button>\n                ) : (\n                    user\n                )\n            },\n        },\n        {\n            title: 'Item',\n            dataIndex: 'perk',\n            key: 'perk',\n            render: perk =>\n                perk.simple || (\n                    <Rewards\n                        rewardKey={1}\n                        label=\"Rewards\"\n                        rewards={[{ rewards: [perk], key: 1 }]}\n                        readOnly={true}\n                    />\n                ),\n        },\n        {\n            title: 'Amount',\n            dataIndex: 'amount',\n            key: 'amount',\n            render: amount => (amount > 0 ? amount : ''),\n        },\n        {\n            title: 'Date',\n            dataIndex: 'date',\n            key: 'date',\n            render: date => <TimeAgo datetime={date} live />,\n        },\n        {\n            title: 'Progress',\n            dataIndex: 'progress',\n            key: 'progress',\n            render: progress => (\n                <Button\n                    type=\"link\"\n                    onClick={() =>\n                        props.history.push('/inspirations/' + progress)\n                    }\n                >\n                    {progress}\n                </Button>\n            ),\n        },\n        {\n            title: 'Status',\n            key: 'status',\n            dataIndex: 'status',\n            render: (status, record) => {\n                if (status === 'Not confirmed') {\n                    return (\n                        <>\n                            <Button\n                                danger={true}\n                                type=\"link\"\n                                onClick={() =>\n                                    wsActions.cancelTransaction(\n                                        account._id,\n                                        record.transaction._id\n                                    )\n                                }\n                            >\n                                Cancel\n                            </Button>\n                            {record.transaction.from === account._id && (\n                                <Button\n                                    type=\"link\"\n                                    onClick={() =>\n                                        wsActions.confirmTransaction(\n                                            account._id,\n                                            record.transaction._id\n                                        )\n                                    }\n                                >\n                                    Confirm\n                                </Button>\n                            )}\n                        </>\n                    )\n                }\n                return status\n            },\n        },\n    ]\n\n    const tableData = []\n    let sorted = [...transactions]\n    sorted = sorted.sort((a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n    )\n    for (let transaction of sorted) {\n        const types = []\n        if (transaction.from === account._id && transaction.to === account.id) {\n            types.push('internal')\n        }\n        if (transaction.to === account._id) {\n            if (transaction.progress) {\n                types.push('earn')\n                if (!transaction.amount) types.push('item')\n                else types.push('money')\n            } else {\n                if (transaction.item && transaction.amount) {\n                    types.push('buy')\n                    types.push('item')\n                } else {\n                    types.push('recieve gift')\n                    if (!transaction.amount) types.push('item')\n                    else types.push('money')\n                }\n            }\n        } else if (transaction.from === account._id) {\n            if (transaction.progress) {\n                types.push('pay')\n                if (!transaction.amount) types.push('item')\n                else types.push('money')\n            } else {\n                if (transaction.item && transaction.amount) {\n                    types.push('sell')\n                    types.push('item')\n                } else {\n                    types.push('send gift')\n                    if (!transaction.amount) types.push('item')\n                    else types.push('money')\n                }\n            }\n        }\n\n        const user =\n            transaction.to !== account._id ? transaction.to : transaction.from\n\n        tableData.push({\n            key: tableData.length,\n            types,\n            user,\n            perk: transaction.item,\n            amount: transaction.amount,\n            date: transaction.date,\n            progress: transaction.progress,\n            status: transaction.status,\n            transaction,\n        })\n    }\n    return sorted.length > 0 ? (\n        <Collapse\n            expandIconPosition=\"right\"\n            style={{ marginBottom: '50px' }}\n            destroyInactivePanel={true}\n            accordion\n        >\n            {sorted.map((transaction, index) => {\n                const types = []\n                if (\n                    transaction.from === account._id &&\n                    transaction.to === account.id\n                ) {\n                    types.push('internal')\n                }\n                if (transaction.to === account._id) {\n                    if (transaction.progress) {\n                        types.push('earn')\n                        if (!transaction.amount) types.push('item')\n                        else types.push('money')\n                    } else {\n                        if (transaction.item && transaction.amount) {\n                            types.push('buy')\n                            types.push('item')\n                        } else {\n                            types.push('recieve gift')\n                            if (!transaction.amount) types.push('item')\n                            else types.push('money')\n                        }\n                    }\n                } else if (transaction.from === account._id) {\n                    if (transaction.progress) {\n                        types.push('pay')\n                        if (!transaction.amount) types.push('item')\n                        else types.push('money')\n                    } else {\n                        if (transaction.item && transaction.amount) {\n                            types.push('sell')\n                            types.push('item')\n                        } else {\n                            types.push('send gift')\n                            if (!transaction.amount) types.push('item')\n                            else types.push('money')\n                        }\n                    }\n                }\n\n                const user =\n                    transaction.to !== account._id\n                        ? transaction.to\n                        : transaction.from\n\n                tableData.push({\n                    key: tableData.length,\n                    types,\n                    user,\n                    perk: transaction.item,\n                    amount: transaction.amount,\n                    date: transaction.date,\n                    progress: transaction.progress,\n                    status: transaction.status,\n                    transaction,\n                })\n                const { item: reward } = transaction\n                return (\n                    <Collapse.Panel\n                        style={{ padding: 0 }}\n                        header={\n                            <>\n                                <div\n                                    style={{\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                    }}\n                                >\n                                    <Badge\n                                        color={\n                                            transaction.status ===\n                                            'Not confirmed'\n                                                ? 'blue'\n                                                : transaction.status ===\n                                                  'Cancelled'\n                                                ? 'red'\n                                                : 'green'\n                                        }\n                                    />\n                                    <Typography.Paragraph\n                                        ellipsis={{ rows: 1 }}\n                                        style={{ display: 'inline', margin: 0 }}\n                                    >\n                                        {reward.mode === 'simple'\n                                            ? reward.simple\n                                            : reward.mode === 'money'\n                                            ? reward.money + ' (money)'\n                                            : reward.mode === 'item'\n                                            ? reward.itemName\n                                            : ''}\n                                    </Typography.Paragraph>\n                                    <UserButton\n                                        noName={true}\n                                        id={\n                                            transaction.to !== account._id\n                                                ? transaction.to\n                                                : transaction.from\n                                        }\n                                    />\n                                </div>\n                                <div>\n                                    <TimeAgo datetime={transaction.date} live />\n                                </div>\n                            </>\n                        }\n                        key={index}\n\n                        // extra={}\n                    >\n                        <Descriptions\n                            layout=\"vertical\"\n                            size=\"small\"\n                            bordered\n                            column={{\n                                xxl: 4,\n                                xl: 3,\n                                lg: 3,\n                                md: 3,\n                                sm: 2,\n                                xs: 1,\n                            }}\n                        >\n                            <Descriptions.Item label=\"Type\">\n                                {types.map(tag => {\n                                    let color =\n                                        tag.length > 5 ? 'geekblue' : 'green'\n                                    if (tag === 'loser') {\n                                        color = 'volcano'\n                                    }\n                                    return (\n                                        <Tag color={color} key={tag}>\n                                            {tag.toUpperCase()}\n                                        </Tag>\n                                    )\n                                })}\n                            </Descriptions.Item>\n                            <Descriptions.Item label=\"Transaction with\">\n                                <UserButton\n                                    id={\n                                        transaction.to !== account._id\n                                            ? transaction.to\n                                            : transaction.from\n                                    }\n                                />\n                            </Descriptions.Item>\n\n                            <Descriptions.Item label=\"Item\">\n                                {\n                                    <Rewards\n                                        onlyButton={true}\n                                        rewardKey={1}\n                                        label=\"Rewards\"\n                                        rewards={[transaction.item]}\n                                        readOnly={true}\n                                    />\n                                }\n                            </Descriptions.Item>\n\n                            <Descriptions.Item label=\"Date\">\n                                {moment(transaction.date).format(\n                                    'dddd[,] MMM Do YYYY'\n                                )}\n                            </Descriptions.Item>\n\n                            {transaction.progress && transaction.progressId && (\n                                <Descriptions.Item label=\"Progress\">\n                                    <Button\n                                        type=\"text\"\n                                        onClick={() =>\n                                            props.history.push(\n                                                '/inspirations/' +\n                                                    transaction.progressId\n                                            )\n                                        }\n                                    >\n                                        {transaction.progress}\n                                    </Button>\n                                </Descriptions.Item>\n                            )}\n                        </Descriptions>\n                    </Collapse.Panel>\n                )\n            })}\n        </Collapse>\n    ) : (\n        <CustomEmpty\n            url=\"/reward.png\"\n            text=\"Here you will see all rewards that you got or gave. You can add a reward for anybody in inspirations.\"\n        />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        transactionData: state.transactionData,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Transactions)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Avatar from 'antd/es/avatar'\nimport Card from 'antd/es/card'\n\nimport friendActionButton from '../../components/FriendActionButton'\nimport FriendCard from '../../components/FriendCard'\nimport Tabs from 'antd/es/tabs'\nimport Progresses from '../Progresses/Progresses'\nimport Wallet from '../Shop/Wallet'\nimport PerkCard from '../Shop/PerkCard'\nimport getAvatar from '../../utils/getAvatar'\nimport pullData from '../../utils/pullData'\nimport UserButton from '../../components/UserButton/UserButton'\nimport MasonryGrid from '../../components/MasonryGrid'\nimport Button from 'antd/es/button'\nimport Modal from 'antd/es/modal/Modal'\nimport MasonryCard from '../../components/MasonryCard'\nimport ProgressButton from '../../components/ProgressButton'\nimport FollowButton from '../../components/FollowButton'\nimport Tag from 'antd/es/tag'\nimport * as wsActions from '../../websocketActions'\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport EditOutlined from '@ant-design/icons/EditOutlined'\n\nimport * as classes from './Profile.module.css'\nimport Typography from 'antd/es/typography'\nimport Input from 'antd/es/input'\nimport message from 'antd/es/message'\nimport Friends from '../Friends/Friends'\nimport LogoutOutlined from '@ant-design/icons/LogoutOutlined'\nimport WishlistAndPerks from '../Shop/WishlistAndPerks'\nimport Transactions from '../Shop/Transactions'\nimport Helmet from 'react-helmet'\nimport CustomEmpty from '../../components/UI/CustomEmpty'\n\nconst Profile = props => {\n    const [data, setData] = useState({})\n    const [followersVisible, setFollowersVisible] = useState(false)\n    const [followingVisible, setFollowingVisible] = useState(false)\n    const { profile, friendData, account } = props.isAuthed ? props : data\n    const [deleteVisible, setDeleteVisible] = useState()\n    const [deleteField, setDeleteField] = useState('')\n\n    useEffect(() => {\n        const pathParts = props.history.location.pathname.split('/')\n        if (pathParts.length > 2) {\n            const profileId = pathParts[2]\n            if (props.isAuthed) {\n                props.setData({ currentProfile: profileId })\n            } else {\n                pullData(props, data, setData, { forceAuth: false }, data => {\n                    const friendData = {}\n                    for (let friend of data.friendData)\n                        friendData[friend._id] = friend\n                    const progressData = {}\n                    for (let progress of data.progressData)\n                        progressData[progress._id] = progress\n\n                    props.setData({\n                        // profile: data.profile,\n                        friendData,\n                        progressData,\n                        account: {},\n                    })\n                })\n            }\n        } else {\n            if (props.isAuthed) {\n                props.setData({ currentProfile: account._id })\n            }\n        }\n    }, [props.isAuthed, props.history.location.pathname, props.account._id])\n\n    if (!profile || !profile._id) return null\n\n    const isOwner = account && account._id && account._id === profile._id\n    props.setPageTitle({ main: profile.name, sub: '' })\n\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n    if (profile && profile.friends && account && account._id) {\n        for (let friend of account.friends) {\n            if (friend.status === 'friend') realFriends.push(friend)\n            else if (friend.status === 'invited') invitedFriends.push(friend)\n            else if (friend.status === 'inviting') invitingFriends.push(friend)\n        }\n    }\n    const friendActions = friendActionButton({\n        account,\n        realFriends: realFriends,\n        invitedFriends: invitedFriends,\n        invitingFriends: invitingFriends,\n        _id: profile._id,\n        additionalButton: null,\n        asText: true,\n    })\n    const loading = false\n\n    return (\n        <>\n            <Helmet>\n                <title>\n                    {profile.name} - Addspire - Explore inspirations and ideas\n                    from around the World!\n                </title>\n                <meta\n                    name=\"description\"\n                    content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                />\n            </Helmet>\n            <div>\n                <Card>\n                    <div style={{ textAlign: 'center', marginBottom: '50px' }}>\n                        {isOwner ? (\n                            <Upload\n                                name=\"avatar\"\n                                accept=\"image/*\"\n                                listType=\"picture-card\"\n                                className={classes.Avatar}\n                                showUploadList={false}\n                                customRequest={({ file }) => {\n                                    uploadFile(file, 800, 'avatar', url => {\n                                        if (url) props.increaseAvatarV()\n                                    })\n                                }}\n                            >\n                                <div\n                                    style={{\n                                        flex: 1,\n                                        display: 'flex',\n                                        height: '100%',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        flexDirection: 'column',\n                                    }}\n                                    onClick={e => {\n                                        if (window.isRNWebView) {\n                                            e.stopPropagation()\n                                            window.ReactNativeWebView.postMessage(\n                                                'uploadFile'\n                                            )\n                                            window.callback = url => {\n                                                props.increaseAvatarV()\n                                            }\n                                        }\n                                    }}\n                                >\n                                    {account.image ? (\n                                        <Avatar\n                                            src={getAvatar(\n                                                account._id,\n                                                account.image\n                                            )}\n                                            size={150}\n                                            style={{ margin: '25px' }}\n                                        />\n                                    ) : (\n                                        <>\n                                            {loading ? (\n                                                <LoadingOutlined />\n                                            ) : (\n                                                <PlusOutlined />\n                                            )}\n                                            <div className=\"ant-upload-text\">\n                                                Upload\n                                            </div>\n                                        </>\n                                    )}\n                                </div>\n                            </Upload>\n                        ) : (\n                            <Avatar\n                                src={getAvatar(profile._id, profile.image)}\n                                size={200}\n                            />\n                        )}\n                        <Typography.Title\n                            level={2}\n                            editable={\n                                isOwner\n                                    ? {\n                                          onChange: res =>\n                                              wsActions.editAccount(\n                                                  { name: res },\n                                                  account._id\n                                              ),\n                                          icon: (\n                                              <EditOutlined\n                                                  style={{ fontSize: '16px' }}\n                                              />\n                                          ),\n                                      }\n                                    : false\n                            }\n                        >\n                            {profile.name}\n                        </Typography.Title>\n                        {/* <h1 style={{ margin: 0 }}>{profile.name}</h1> */}\n                        <h3>({profile._id})</h3>\n                        <Button\n                            type=\"text\"\n                            onClick={() => setFollowersVisible(true)}\n                        >\n                            {profile.followingAccounts.length} Followers\n                        </Button>\n                        <Button\n                            type=\"text\"\n                            onClick={() => setFollowingVisible(true)}\n                        >\n                            {profile.followProgresses.length +\n                                profile.followAccounts.length}{' '}\n                            Following\n                        </Button>\n                        {isOwner && (\n                            <div style={{ borderTop: '1px #ccc solid' }}>\n                                <Button\n                                    icon={<LogoutOutlined />}\n                                    onClick={() =>\n                                        props.history.push('/logout')\n                                    }\n                                    danger\n                                    type=\"text\"\n                                >\n                                    Logout\n                                </Button>\n                            </div>\n                        )}\n                        <div>\n                            {account && account._id !== profile._id && (\n                                <span style={{ marginRight: '10px' }}>\n                                    {realFriends.find(\n                                        item => item.friend === profile._id\n                                    ) ? (\n                                        <Tag color=\"green\">Friends</Tag>\n                                    ) : null}\n                                    {account.followAccounts.includes(\n                                        profile._id\n                                    ) ? (\n                                        <Tag\n                                            style={{ marginRight: '10px' }}\n                                            color=\"purple\"\n                                        >\n                                            Following\n                                        </Tag>\n                                    ) : (\n                                        <Button\n                                            type=\"primary\"\n                                            onClick={() =>\n                                                wsActions.followAccount(\n                                                    account._id,\n                                                    profile._id\n                                                )\n                                            }\n                                        >\n                                            Follow\n                                        </Button>\n                                    )}\n                                </span>\n                            )}\n                            {friendActions}\n                        </div>\n                    </div>\n                    <Tabs type=\"card\">\n                        <Tabs.TabPane tab=\"Inspirations\" key={0}>\n                            <Progresses isOwner={isOwner} />\n                        </Tabs.TabPane>\n\n                        <Tabs.TabPane tab=\"Friends\" key={1}>\n                            {isOwner ? (\n                                <Friends />\n                            ) : (\n                                <MasonryGrid friends={true}>\n                                    {profile.friends.filter(\n                                        friend => friend.status === 'friend'\n                                    ).length === 0 ? (\n                                        <CustomEmpty\n                                            url=\"/friend.png\"\n                                            text=\"Here you will all confirmed friends of this account. You can create inspirations with your friends.\"\n                                        />\n                                    ) : (\n                                        profile.friends\n                                            .filter(\n                                                friend =>\n                                                    friend.status === 'friend'\n                                            )\n                                            .map(friend => {\n                                                const oneFriendData = {\n                                                    ...friendData[\n                                                        friend.friend\n                                                    ],\n                                                    _id: friend.friend,\n                                                }\n                                                return (\n                                                    <FriendCard\n                                                        key={oneFriendData._id}\n                                                        {...props}\n                                                        account={account}\n                                                        friend={oneFriendData}\n                                                        realFriends={\n                                                            realFriends\n                                                        }\n                                                        invitingFriends={\n                                                            invitingFriends\n                                                        }\n                                                        invitedFriends={\n                                                            invitedFriends\n                                                        }\n                                                    />\n                                                )\n                                            })\n                                    )}\n                                </MasonryGrid>\n                            )}\n                        </Tabs.TabPane>\n\n                        <Tabs.TabPane tab=\"Rewards\" key={4}>\n                            <Transactions />\n                        </Tabs.TabPane>\n\n                        <Tabs.TabPane tab=\"Wishlist\" key={7}>\n                            <WishlistAndPerks\n                                mode=\"wishlist\"\n                                account={account}\n                                profile={profile}\n                                isOwner={isOwner}\n                            />\n                        </Tabs.TabPane>\n                        {isOwner && (\n                            <Tabs.TabPane tab=\"Settings\" key={8}>\n                                <Button\n                                    danger={true}\n                                    onClick={() => setDeleteVisible(true)}\n                                >\n                                    Delete account\n                                </Button>\n                                <Modal\n                                    title=\"Delete account\"\n                                    visible={deleteVisible}\n                                    onOk={() => {\n                                        if (deleteField !== account._id) {\n                                            message.warning(\n                                                'The nickmanme is not correct.'\n                                            )\n                                        } else {\n                                            wsActions.deleteAccount(account._id)\n                                        }\n                                        document.body.removeAttribute('style')\n                                    }}\n                                    onCancel={() => {\n                                        setDeleteVisible(false)\n                                        setDeleteField('')\n                                        document.body.removeAttribute('style')\n                                    }}\n                                >\n                                    <p>\n                                        Please enter your nickname and press Ok\n                                        to delete your account.\n                                    </p>\n                                    <Input\n                                        onChange={e =>\n                                            setDeleteField(e.target.value)\n                                        }\n                                    />\n                                </Modal>\n                            </Tabs.TabPane>\n                        )}\n                    </Tabs>\n                </Card>\n            </div>\n            <Modal\n                title=\"Followers\"\n                visible={followersVisible}\n                footer={null}\n                onCancel={() => {\n                    setFollowersVisible(false)\n                    document.body.removeAttribute('style')\n                }}\n            >\n                {profile.followingAccounts.map(item => (\n                    <MasonryCard\n                        friends={true}\n                        noLink={true}\n                        key={item}\n                        actions={<FollowButton account={account} id={item} />}\n                        body={<UserButton span={true} id={item} size={50} />}\n                    />\n                ))}\n            </Modal>\n            <Modal\n                title=\"Following\"\n                visible={followingVisible}\n                footer={null}\n                onCancel={() => {\n                    setFollowingVisible(false)\n                    document.body.removeAttribute('style')\n                }}\n            >\n                <Tabs>\n                    <Tabs.TabPane tab=\"People\" key=\"1\">\n                        {profile.followAccounts.map(item => (\n                            <MasonryCard\n                                friends={true}\n                                noLink={true}\n                                key={item}\n                                actions={\n                                    <FollowButton account={account} id={item} />\n                                }\n                                body={\n                                    <UserButton\n                                        span={true}\n                                        id={item}\n                                        size={50}\n                                    />\n                                }\n                            />\n                        ))}\n                    </Tabs.TabPane>\n                    <Tabs.TabPane tab=\"Inspirations\" key={2}>\n                        {profile.followProgresses.map(item => (\n                            <MasonryCard\n                                id={item}\n                                noLink={true}\n                                key={item}\n                                actions={\n                                    <FollowButton\n                                        type=\"progress\"\n                                        account={account}\n                                        id={item}\n                                    />\n                                }\n                                body={\n                                    <ProgressButton\n                                        span={true}\n                                        id={item}\n                                        size={50}\n                                    />\n                                }\n                                style={{\n                                    maxHeight: '170px',\n                                    marginTop: '20px',\n                                }}\n                            />\n                        ))}\n                    </Tabs.TabPane>\n                </Tabs>\n            </Modal>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        profile: state.profile,\n        isAuthed: state.isAuthed,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n        increaseAvatarV: () => dispatch(actions.increaseAvatarV()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Profile)\n)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport message from 'antd/es/message'\n\nimport Input from 'antd/es/input'\nimport PageHeader from 'antd/es/page-header'\nimport Form from 'antd/es/form'\nimport { withRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport { nicknameRules, accountNameRules } from '../../constants/fieldRules'\nimport * as actions from '../../store/actions'\n\nconst ActivateAccount = props => {\n    if (!props.isAuthed) props.history.push('/logout')\n    useEffect(() => {\n        if (!props.accountNotActive) props.history.push('/settings')\n    }, [props.accountNotActive])\n    const onFinish = value => {\n        axios\n            .post('/api/activate-account', {\n                ...value,\n            })\n            .then(res => {\n                if (res.data.success) {\n                    message.success('Your account has been activated!')\n                    props.setAccountActivated(false)\n                } else {\n                    if (res.data.nicknameNotUnique) {\n                        message.warning(\n                            'The nickname is taken. Choose another nickname please.'\n                        )\n                    }\n                    if (res.data.errorCode) {\n                        message.error(\n                            'Something is wrong with the data. Please try one more time with new data.'\n                        )\n                    }\n                }\n            })\n            .catch(err => {})\n    }\n\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n\n    return (\n        <>\n            <PageHeader\n                className=\"site-page-header\"\n                title=\"Activate your account\"\n                backIcon={false}\n            />\n            <Form\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                {...layout}\n            >\n                <Form.Item label=\"Name\" name=\"name\" rules={accountNameRules}>\n                    <Input placeholder=\"Must be more than 1 character long\" />\n                </Form.Item>\n                <Form.Item\n                    label=\"Nickname\"\n                    name=\"nickname\"\n                    rules={nicknameRules}\n                >\n                    <Input placeholder=\"Must be more than 1 character long\" />\n                </Form.Item>\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                        Save\n                    </Button>\n                </Form.Item>\n            </Form>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        user: state.user,\n        account: state.account,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        setAccountActivated: value =>\n            dispatch(actions.setAccountActivated(value)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ActivateAccount)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Card from 'antd/es/card'\nimport pullData from '../../utils/pullData'\nimport Descriptions from 'antd/es/descriptions'\nimport Post from '../../components/Post/Post'\nimport UserButton from '../../components/UserButton/UserButton'\nimport ImageCarousel from '../../components/UI/ImageCarousel/ImageCarousel'\nimport Helmet from 'react-helmet'\n\nconst { Item } = Descriptions\n\nconst Perk = props => {\n    const [data, setData] = useState({})\n    const { account } = props\n    useEffect(() => {\n        const pathParts = props.history.location.pathname.split('/')\n        if (pathParts.length > 3) {\n            const accountId = pathParts[2]\n            if (props.isAuthed && account._id === accountId) {\n                const perk = account.perks.find(\n                    item => item.perkId === pathParts[3]\n                )\n                setData({ profile: account, perk })\n            } else {\n                pullData(props, data, setData, { forceAuth: false }, data => {\n                    const friendData = {}\n                    for (let friend of data.friendData)\n                        friendData[friend._id] = friend\n\n                    props.setData({\n                        post: { [data.post._id]: data.post },\n                        friendData,\n                    })\n                })\n            }\n        }\n    }, [props.isAuthed])\n    if (!data.perk) return null\n    const { perk, profile } = data\n    props.setData({ currentPosts: perk.post })\n    if (perk) {\n        props.setPageTitle({ main: perk.name, sub: profile._id })\n    }\n\n    const getAccounts = items => {\n        if (profile && props.friendData) {\n            return items.map(item => <UserButton id={item} />)\n        } else return items\n    }\n\n    return perk ? (\n        <div className=\"contentDiv\">\n            <Helmet>\n                <title>\n                    {perk.name} by {profile.id}\n                </title>\n                <meta name=\"description\" content={perk.description} />\n            </Helmet>\n            <Card\n                title={\n                    <span>\n                        Item from <UserButton id={profile._id} /> shop\n                    </span>\n                }\n                bordered={false}\n            >\n                <ImageCarousel images={perk.images} />\n\n                <h1>{perk.name}</h1>\n                <p style={{ whiteSpace: 'pre-wrap' }}>{perk.description}</p>\n\n                <Descriptions\n                    title=\"Goal description\"\n                    bordered\n                    column={{ xxl: 4, xl: 3, lg: 3, md: 3, sm: 2, xs: 1 }}\n                >\n                    <Item label=\"Available for\">{getAccounts(perk.users)}</Item>\n                    <Item label=\"Price\">{perk.price}</Item>\n                </Descriptions>\n                <Post\n                    noStartMessage={true}\n                    post={props.post[perk.post]}\n                    account={props.account}\n                    friendData={props.friendData}\n                    showReplies={true}\n                />\n            </Card>\n        </div>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        post: state.post,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Perk)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Card from 'antd/es/card'\nimport pullData from '../../utils/pullData'\nimport Post from '../../components/Post/Post'\nimport ImageCarousel from '../../components/UI/ImageCarousel/ImageCarousel'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Helmet from 'react-helmet'\nimport Button from 'antd/es/button'\nimport Modal from 'antd/es/modal/Modal'\nimport AddPerk from '../Shop/AddPerk'\nimport Popconfirm from 'antd/es/popconfirm'\nimport * as wsActions from '../../websocketActions'\nconst WishlistItem = props => {\n    const [data, setData] = useState({})\n    const [editedPerk, setEditedPerk] = useState('')\n    const [editPerkOpen, setEditPerkOpen] = useState()\n    const { account } = props\n\n    let accountId\n    const pathParts = props.history.location.pathname.split('/')\n    if (pathParts.length > 3) {\n        accountId = pathParts[2]\n    } else return null\n\n    useEffect(() => {\n        if (!props.isAuthed || account._id === accountId) {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n\n                props.setData({\n                    post: { [data.post._id]: data.post },\n                    friendData,\n                })\n            })\n        }\n    }, [props.isAuthed])\n\n    let wishlistItem, profile\n    if (props.isAuthed && account._id === accountId) {\n        wishlistItem = account.wishlist.find(\n            item => item.itemId === pathParts[3]\n        )\n\n        profile = account\n    } else {\n        wishlistItem = data.wishlistItem\n        profile = data.profile\n    }\n    if (!wishlistItem) return null\n    props.setData({ currentPosts: wishlistItem.post })\n\n    const isOwner =\n        account &&\n        account._id &&\n        profile &&\n        profile._id &&\n        account._id === profile._id\n\n    return wishlistItem ? (\n        <div className=\"contentDiv\">\n            <Helmet>\n                <title>{`${wishlistItem.name} by ${profile.name}`}</title>\n                <meta name=\"description\" content={wishlistItem.description} />\n            </Helmet>\n            <Card\n                title={\n                    <span>\n                        <UserButton id={profile._id} /> wishlist\n                    </span>\n                }\n                bordered={false}\n            >\n                <ImageCarousel images={wishlistItem.images} />\n                <div style={{ textAlign: 'center' }}>\n                    <h1>{wishlistItem.name}</h1>\n                    {isOwner && (\n                        <>\n                            <Button\n                                type=\"primary\"\n                                style={{ margin: '10px' }}\n                                onClick={() => {\n                                    setEditedPerk(wishlistItem.itemId)\n                                    setEditPerkOpen(true)\n                                }}\n                            >\n                                Edit\n                            </Button>\n\n                            <Popconfirm\n                                title=\"Are you sure you want to delete this item?\"\n                                onConfirm={() => {\n                                    wsActions.deletePerk(\n                                        account._id,\n                                        wishlistItem.itemId,\n                                        'wishlist'\n                                    )\n                                    props.history.push(\n                                        '/profile/' + profile._id\n                                    )\n                                }}\n                                onCancel={() => {}}\n                                okText=\"Confirm\"\n                                cancelText=\"Cancel\"\n                            >\n                                <Button\n                                    danger\n                                    type=\"text\"\n                                    style={{ margin: '10px' }}\n                                >\n                                    Delete\n                                </Button>\n                            </Popconfirm>\n                        </>\n                    )}\n                </div>\n                <p style={{ whiteSpace: 'pre-wrap' }}>\n                    {wishlistItem.description}\n                </p>\n                <Post\n                    noStartMessage={true}\n                    post={props.post[wishlistItem.post]}\n                    account={props.account}\n                    friendData={props.friendData}\n                    showReplies={true}\n                />\n            </Card>\n            <Modal\n                title=\"Edit item\"\n                visible={editPerkOpen}\n                maskClosable\n                closable\n                onCancel={() => {\n                    setEditPerkOpen(false)\n                    document.body.removeAttribute('style')\n                }}\n                width=\"90%\"\n                footer={null}\n                destroyOnClose={true}\n            >\n                <AddPerk\n                    setEditPerkOpen={setEditPerkOpen}\n                    perkId={editedPerk}\n                    mode=\"wishlist\"\n                />\n            </Modal>\n        </div>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        post: state.post,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(WishlistItem)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\nconst NotificationsTracker = props => {\n    const { account, friendData, progressData } = props\n\n    const sortNotifiacations = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications,\n            ]\n    }\n\n    for (let friend of account.friends) {\n        if (\n            friendData[friend.friend] &&\n            friend.status === 'friend' &&\n            friendData[friend.friend].notifications\n        )\n            lastNotifications = [\n                ...lastNotifications,\n                ...friendData[friend.friend].notifications,\n            ]\n    }\n    const filterSameNot = (res, not, index, arr) => {\n        if (!res.find(item => item.notId === not.notId)) {\n            res.push(not)\n        }\n        return res\n    }\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n\n    lastNotifications = lastNotifications.sort(sortNotifiacations).slice(0, 100)\n\n    lastNotifications = [\n        ...lastNotifications,\n        ...account.myNotifications,\n    ].filter(item => item.code !== 'add post')\n\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n    lastNotifications = lastNotifications.sort(sortNotifiacations)\n    if (!isEqual(lastNotifications, props.lastNotifications)) {\n        props.setData({ lastNotifications })\n    }\n\n    return <span />\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(NotificationsTracker)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport * as actions from './store/actions'\n\nconst RNBridge = props => {\n    window.addEventListener('message', function(e) {\n        // window.isRNWebView = true\n\n        try {\n            const data = JSON.parse(e.data)\n            switch (data.message) {\n                case 'token':\n                    const token = data.token\n                    props.tryAuth(token)\n                    break\n                case 'callback':\n                    window.callback(data.url)\n                    break\n                case 'back':\n                    if (!props.history.location.key) {\n                        window.isRNWebView &&\n                            window.ReactNativeWebView.postMessage('exit')\n                    } else props.history.goBack()\n                    break\n                default:\n                    return\n            }\n        } catch (err) {\n            console.error('failed to parse message from react-native ' + err)\n            return\n        }\n    })\n\n    return <></>\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: token => dispatch(actions.tryAuth(token)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(RNBridge)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\n\nimport Post from '../../components/Post/Post'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Divider from 'antd/es/divider'\n\nconst DashboardPosts = props => {\n    const {\n        account,\n        friendData,\n        statePosts,\n        progressData,\n        currentPosts,\n    } = props\n\n    const [posts, setPosts] = useState([])\n    const [startTime] = useState(new Date().getTime())\n\n    const sortPosts = (a, b) => {\n        const aN = a.notifications.filter(item => item.user !== account._id)\n        const bN = b.notifications.filter(item => item.user !== account._id)\n        if (aN.length === 0 && bN.length > 0) return 1\n        else if (aN.length > 0 && bN.length === 0) return -1\n        else if (aN.length === 0 && bN.length === 0) return 0\n        else\n            return new Date(aN[0].date).getTime() <\n                new Date(bN[0].date).getTime()\n                ? 1\n                : -1\n    }\n\n    const sortNotifications = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    useEffect(() => {\n        if (currentPosts) {\n            const newPosts = currentPosts\n                .filter(item => statePosts[item])\n                .map(item => statePosts[item])\n\n            const newUnseenPosts = []\n            const newOldPosts = []\n            let oldPosts = [...posts]\n            for (let post of newPosts) {\n                let oldPostIndex = oldPosts.findIndex(item => {\n                    return item._id.toString() === post._id.toString()\n                })\n                if (oldPostIndex === -1) {\n                    if (\n                        post.notifications &&\n                        post.notifications.length > 0 &&\n                        new Date(post.notifications[0].date).getTime() >\n                            startTime\n                    ) {\n                        newUnseenPosts.push(post)\n                    } else {\n                        newOldPosts.push(post)\n                    }\n                } else {\n                    oldPosts[oldPostIndex] = post\n                }\n            }\n\n            for (let post of newOldPosts) {\n                const index = oldPosts.findIndex(item => {\n                    if (\n                        item &&\n                        item.notifications &&\n                        item.notifications.length > 0\n                    ) {\n                        return (\n                            new Date(item.notifications[0]).getTime() >\n                            new Date(post.notifications[0]).getTime()\n                        )\n                    } else return false\n                })\n                if (index === -1) {\n                    oldPosts.push(post)\n                } else {\n                    oldPosts.splice(index, 0, post)\n                }\n            }\n\n            let resultPosts = [...newUnseenPosts, ...oldPosts]\n            if (posts.length === 0) {\n                resultPosts = resultPosts.sort(sortPosts)\n            }\n            setPosts(resultPosts)\n        }\n    }, [currentPosts, statePosts])\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications.filter(\n                    item =>\n                        item.code === 'add post' && item.user !== account._id\n                ),\n            ]\n    }\n\n    lastNotifications = lastNotifications\n        .sort(sortNotifications)\n        .map(item => item.details.postId)\n        .slice(0, 10)\n\n    const neededPosts = [\n        ...new Set([\n            ...account.followPosts,\n            ...account.myPosts,\n            ...posts.map(post => post._id),\n            ...lastNotifications,\n        ]),\n    ]\n    if (!isEqual(currentPosts, neededPosts))\n        props.setData({ currentPosts: neededPosts })\n\n    props.setPageTitle({ main: 'Dashboard', sub: '' })\n\n    return posts.map((item, index) => {\n        let text = null\n        const nots = item.notifications.filter(not => not.user !== account._id)\n        const not = nots.length > 0 ? nots[0] : null\n        if (not) {\n            switch (not.code) {\n                case 'edit wishlist item':\n                    text = 'edited item in wishlist.'\n\n                    break\n                case 'edit goal':\n                    text = 'edited goal.'\n\n                    break\n                case 'edit perk':\n                    text = 'edited item in shop.'\n\n                    break\n\n                case 'comment':\n                    text = 'added a comment.'\n\n                    break\n                case 'edit comment':\n                    text = 'edited a comment.'\n\n                    break\n                case 'like':\n                    text = 'added a like.'\n\n                    break\n                case 'dislike':\n                    text = 'removed a like.'\n\n                    break\n                default:\n                    text = null\n                    break\n            }\n        }\n        return (\n            <div key={index}>\n                <div\n                    style={{\n                        height: '5px',\n                        background: '#ddd',\n                        width: 'calc(100% + 8px)',\n                        position: 'absolute',\n                        left: '-8px',\n                    }}\n                />\n                <div style={{ paddingTop: '10px' }}>\n                    {text && (\n                        <>\n                            <span>\n                                <UserButton\n                                    id={not.user}\n                                    noAva={true}\n                                    span={true}\n                                    style={{ fontWeight: 'bold' }}\n                                />{' '}\n                                {text}\n                            </span>\n                            <Divider\n                                type=\"horizontal\"\n                                style={{ margin: '5px 0' }}\n                            />\n                        </>\n                    )}\n                    <Post\n                        friendData={friendData}\n                        account={account}\n                        post={item}\n                        progressData={progressData}\n                    />\n                </div>\n            </div>\n        )\n    })\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        currentPosts: state.currentPosts,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(DashboardPosts)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Comment from 'antd/es/comment'\nimport Divider from 'antd/es/divider'\nimport moment from 'moment'\n\nmoment().format()\n\nconst DashboardEvents = props => {\n    const { lastNotifications } = props\n    const getRewardText = item => (\n        <span style={{ fontWeight: 'bold' }}>\n            {item.details.reward.money\n                ? '$' + item.details.reward.money\n                : item.details.reward.simple || item.details.reward.itemName}\n        </span>\n    )\n\n    const getStageName = stage => {\n        let stageDate\n        if (stage.day) {\n            stageDate = moment()\n                .year(stage.year)\n                .dayOfYear(stage.day)\n            return stageDate.format('dddd D MMM YYYY')\n        } else if (stage.week) {\n            stageDate = moment()\n                .year(stage.year)\n                .week(stage.week)\n            return (\n                stageDate.startOf('week').format('wo [week] D MMM YYYY - ') +\n                stageDate.endOf('week').format('D MMM YYYY')\n            )\n        } else if (stage.month) {\n            stageDate = moment()\n                .year(stage.year)\n                .month(stage.month)\n            return stageDate.format('MMMM YYYY')\n        } else if (stage.year) {\n            stageDate = moment().year(stage.year)\n            return stageDate.format('YYYY')\n        }\n    }\n    return lastNotifications.map((item, index) => {\n        let text = null,\n            stageName\n\n        switch (item.code) {\n            case 'change name':\n                text = (\n                    <span>\n                        {' '}\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' changed name.'}\n                    </span>\n                )\n                break\n            case 'delete account':\n                text = (\n                    <span>\n                        {item.user}\n                        deleted account.\n                    </span>\n                )\n                break\n            case 'friend request':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' wants to become friends with you.'}\n                    </span>\n                )\n                break\n            case 'friend add':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' and '}\n                        <UserButton\n                            span={true}\n                            noAva={true}\n                            id={item.details.friend}\n                        />\n                        {' became friends.'}\n                    </span>\n                )\n                break\n            case 'unfriend':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' and '}\n                        <UserButton\n                            span={true}\n                            noAva={true}\n                            id={item.details.friend}\n                        />\n                        {' stopped being friends.'}\n                    </span>\n                )\n                break\n            case 'add wishlist item':\n            case 'edit wishlist item':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />{' '}\n                        {item.code === 'add wishlist item'\n                            ? 'added to wishlist a new item'\n                            : 'edited in wishlist'}{' '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/wishlist/${item.user}/${\n                                        item.details.itemId\n                                    }`\n                                )\n                            }\n                        >\n                            {item.details.itemName}\n                        </span>{' '}\n                        .\n                    </span>\n                )\n                break\n            case 'delete wishlist item':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' deleted '}\n                        {item.details.itemName} from wishlist.\n                    </span>\n                )\n                break\n            case 'add goal':\n            case 'edit goal':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />{' '}\n                        {item.code === 'add goal'\n                            ? 'added a new goal'\n                            : 'edited goal'}{' '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/goals/${item.user}/${item.details.itemId}`\n                                )\n                            }\n                        >\n                            {item.details.itemName}\n                        </span>\n                        {' .'}\n                    </span>\n                )\n                break\n            case 'delete goal':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' deleted '}\n                        {item.details.itemName} from goals.\n                    </span>\n                )\n                break\n            case 'add perk':\n            case 'edit perk':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />{' '}\n                        {item.code === 'add perk'\n                            ? 'added to shop a new item'\n                            : 'edited in shop'}{' '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/shop/${item.user}/${item.details.itemId}`\n                                )\n                            }\n                        >\n                            {item.details.itemName}\n                        </span>\n                        {' .'}\n                    </span>\n                )\n                break\n            case 'delete perk':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' deleted '}\n                        {item.details.itemName} from shop.\n                    </span>\n                )\n                break\n            case 'buy perk':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' bought '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/shop/${item.user}/${item.details.itemId}`\n                                )\n                            }\n                        >\n                            {item.details.itemName} (${item.details.price})\n                        </span>\n                        {' from '}\n                        <UserButton\n                            span={true}\n                            noAva={true}\n                            id={item.details.owner}\n                        />\n                        {' .'}\n                    </span>\n                )\n                break\n            case 'cancel transaction':\n            case 'confirm transaction':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />{' '}\n                        {item.code === 'cancel transaction'\n                            ? 'cancelled'\n                            : 'confirmed'}\n                        {' purchase of '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/shop/${item.user}/${item.details.itemId}`\n                                )\n                            }\n                        >\n                            {item.details.itemName} (${item.details.price})\n                        </span>\n                        {' by '}\n                        <UserButton\n                            span={true}\n                            noAva={true}\n                            id={item.details.buyer}\n                        />\n                        {' .'}\n                    </span>\n                )\n                break\n            case 'start progress':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' started participating in inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.itemId}`\n                                )\n                            }\n                        >\n                            {item.details.itemName}\n                        </span>\n                        {' as '}\n                        {item.details.as}.\n                    </span>\n                )\n                break\n            case 'stage approve':\n            case 'stage progress':\n            case 'stage fail':\n            case 'stage dismiss':\n                stageName = getStageName(item.details)\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {item.code === 'stage approve'\n                            ? ' approved  '\n                            : item.code === 'stage progress'\n                            ? ' put into process '\n                            : item.code === 'stage fail'\n                            ? ' marked as failed '\n                            : ' dismissed '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        {stageName && (\n                            <>\n                                {' for '}\n                                <span style={{ fontWeight: 'bold' }}>\n                                    {stageName}\n                                </span>\n                            </>\n                        )}\n                        .\n                    </span>\n                )\n                break\n\n            case 'stage complete':\n                text = (\n                    <span>\n                        {'Progress '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        {stageName && (\n                            <>\n                                {' for '}\n                                <span style={{ fontWeight: 'bold' }}>\n                                    {stageName}\n                                </span>\n                            </>\n                        )}\n\n                        {' was approved and finished.'}\n                    </span>\n                )\n                break\n            case 'milestone finish':\n                text = (\n                    <span>\n                        Milestone {item.details.itemName}\n                        {' in inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        {' was approved and finished.'}\n                    </span>\n                )\n                break\n            case 'get reward':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' recieved '}\n                        {getRewardText(item)}\n                        {' as a reward from '}\n                        <UserButton\n                            span={true}\n                            noAva={true}\n                            id={item.details.from}\n                        />\n                        {' in inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        .\n                    </span>\n                )\n                break\n            case 'leave progress':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' left inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        .\n                    </span>\n                )\n                break\n            case 'edit progress':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' edited inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        {item.details.addedAccounts.length > 0 ? (\n                            <>\n                                {' and added '}\n                                {item.details.addedAccounts.map(ac => (\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={ac}\n                                    />\n                                ))}{' '}\n                            </>\n                        ) : (\n                            ''\n                        )}\n                        {item.details.droppedAccounts.length > 0 ? (\n                            <>\n                                {' and removed '}\n                                {item.details.droppedAccounts.map(ac => (\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={ac}\n                                    />\n                                ))}\n                                {' .'}\n                            </>\n                        ) : (\n                            '.'\n                        )}\n                    </span>\n                )\n                break\n            case 'remove from progress':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' removed '}\n                        <UserButton\n                            span={true}\n                            noAva={true}\n                            id={item.details.account}\n                        />\n                        {' from inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        .\n                    </span>\n                )\n                break\n            case 'add to progress':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' added '}\n                        <UserButton\n                            span={true}\n                            noAva={true}\n                            id={item.details.account}\n                        />\n                        {' to inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        .\n                    </span>\n                )\n                break\n            case 'add reward':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' added '}\n                        {getRewardText(item)} as a reward for\n                        {!item.details.for || item.details.for.length === 0\n                            ? ' all '\n                            : item.details.for.map(account => (\n                                  <>\n                                      <UserButton\n                                          noAva={true}\n                                          span={true}\n                                          id={account}\n                                      />\n                                      ,\n                                  </>\n                              ))}\n                        {' in inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        .\n                    </span>\n                )\n                break\n            case 'delete reward':\n                text = (\n                    <span>\n                        <UserButton span={true} noAva={true} id={item.user} />\n                        {' removed '}\n                        {getRewardText(item)}\n                        {' as a reward for '}\n                        {!item.details.for || item.details.for.length === 0\n                            ? ' all '\n                            : item.details.for.map(account => (\n                                  <>\n                                      <UserButton\n                                          span={true}\n                                          noAva={true}\n                                          id={account}\n                                      />\n                                      ,\n                                  </>\n                              ))}\n                        {' in inspiration '}\n                        <span\n                            style={{ fontWeight: 'bold' }}\n                            onClick={() =>\n                                props.history.push(\n                                    `/inspirations/${item.details.progressId}`\n                                )\n                            }\n                        >\n                            {item.details.progressName}\n                        </span>\n                        .\n                    </span>\n                )\n                break\n            default:\n                text = 'New event'\n                break\n        }\n        return (\n            <div key={index}>\n                <Divider style={{ margin: '5px 0px' }} />\n                <Comment\n                    avatar={\n                        <UserButton noName={true} id={item.user} span={true} />\n                    }\n                    content={text}\n                />\n            </div>\n        )\n\n        // <Card>{text}</Card>\n    })\n}\nconst mapStateToProps = state => {\n    return {\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(DashboardEvents))\n","import React, { Component } from 'react'\nimport { withLeaflet } from 'react-leaflet'\nimport Locate from 'leaflet.locatecontrol'\nimport 'leaflet.locatecontrol/dist/L.Control.Locate.min.css'\n\nclass LocateControl extends Component {\n    componentDidMount() {\n        const { map } = this.props.leaflet\n\n        const lc = new Locate({\n            position: 'topleft',\n            strings: {\n                title: 'My location',\n            },\n            onActivate: () => {}, // callback before engine starts retrieving locations\n            drawCircle: false,\n            keepCurrentZoomLevel: true,\n        })\n        lc.addTo(map)\n\n        lc.start()\n    }\n\n    render() {\n        return null\n    }\n}\n\nexport default withLeaflet(LocateControl)\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport { Map, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from './LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Grid,\n    Checkbox,\n    Slider,\n    MenuItem,\n    Select,\n    FormControl,\n    Switch,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst MapSettings = props => {\n    const {\n        mapVisible,\n        setMapVisible,\n        setIsSearching,\n        setNoMore,\n        setFoundProgresses,\n        onSearch,\n        onGetPopular,\n        setSearch,\n        search,\n    } = props\n    const map = useRef(null)\n    const [radius, setRadius] = useState(false)\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [map.current])\n\n    const mapDragEnd = e => {\n        setSearch({\n            ...search,\n            zoom: e.target._zoom,\n            position: [e.target.getCenter().lat, e.target.getCenter().lng],\n            withMap: true,\n        })\n    }\n\n    useEffect(() => {\n        getRadius()\n    }, [props.search])\n\n    const getRadius = () => {\n        if (map && map.current && map.current.leafletElement) {\n            const metresPerPixel =\n                (40075016.686 *\n                    Math.abs(\n                        Math.cos(\n                            (map.current.leafletElement.getCenter().lat *\n                                Math.PI) /\n                                180\n                        )\n                    )) /\n                Math.pow(2, map.current.leafletElement.getZoom() + 8)\n\n            setRadius(\n                search.units === 'mi'\n                    ? (search.distance * 1609) / metresPerPixel\n                    : (search.distance * 1000) / metresPerPixel\n            )\n        }\n    }\n\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={mapVisible}\n            onClose={() => {\n                setMapVisible(false)\n                if (search.withMap || search.value) {\n                    setIsSearching(true)\n                    setNoMore(false)\n                    setFoundProgresses([])\n                    onSearch()\n                } else {\n                    onGetPopular()\n                }\n            }}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (search.withMap || search.value) {\n                                setIsSearching(true)\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                onSearch()\n                            } else {\n                                onGetPopular()\n                            }\n                        }}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        Search with location\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (search.withMap || search.value) {\n                                setIsSearching(true)\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                onSearch()\n                            } else {\n                                onGetPopular()\n                            }\n                        }}\n                    >\n                        Done\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Grid\n                container\n                style={{ padding: '15px', maxWidth: '800px' }}\n                alignItems=\"center\"\n            >\n                <Grid item xs={4} sm={4}>\n                    Search with location\n                </Grid>\n                <Grid item xs={8} sm={8}>\n                    <Switch\n                        checked={search.withMap}\n                        color=\"primary\"\n                        onChange={e => {\n                            setSearch({\n                                ...search,\n                                withMap: e.target.checked,\n                            })\n                        }}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    Distance\n                </Grid>\n                <Grid item xs={8}>\n                    <Slider\n                        valueLabelDisplay=\"auto\"\n                        min={1}\n                        max={500}\n                        onChange={(e, distance) =>\n                            setSearch({ ...search, distance })\n                        }\n                        value={search.distance}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    Units\n                </Grid>\n                <Grid item xs={8}>\n                    <Select\n                        value={search.units}\n                        onChange={event =>\n                            setSearch({ ...search, units: event.target.value })\n                        }\n                    >\n                        <MenuItem value=\"mi\">mi</MenuItem>\n                        <MenuItem value=\"km\">km</MenuItem>\n                    </Select>\n                </Grid>\n            </Grid>\n\n            <div\n                style={{\n                    position: 'relative',\n                    minHeight: '300px',\n                    flex: 1,\n                    marginTop: '30px',\n                    overflow: 'hidden',\n                }}\n            >\n                <Map\n                    whenReady={() => {\n                        getRadius()\n                    }}\n                    ref={map}\n                    center={search.position}\n                    zoom={search.zoom}\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        position: 'relative',\n                        zIndex: 1,\n                    }}\n                    ondragend={mapDragEnd}\n                    onmoveend={mapDragEnd}\n                    gestureHandling={true}\n                >\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <LocateControl />\n                </Map>\n                <div\n                    style={{\n                        backgroundImage: `url(${require('../../assets/images/pin.png')})`,\n                        width: '20px',\n                        height: '35px',\n                        position: 'absolute',\n                        zIndex: 3,\n                        left: 'calc(50% - 10px)',\n                        top: 'calc(50% - 35px)',\n                        pointerEvents: 'none',\n                        touchAction: 'none',\n                    }}\n                />\n                <div\n                    style={{\n                        background: 'rgba(82, 95, 165, .15)',\n                        width: 2 * radius + 'px',\n                        height: 2 * radius + 'px',\n                        position: 'absolute',\n                        zIndex: '2',\n                        left: 'calc(50% - ' + radius + 'px)',\n                        top: 'calc(50% - ' + radius + 'px)',\n                        pointerEvents: 'none',\n                        touchAction: 'none',\n                        borderRadius: radius + 'px',\n                        border: '1px rgba(82, 95, 165, .5) solid',\n                    }}\n                />\n            </div>\n        </Dialog>\n    )\n}\n\nexport default MapSettings\n","import React, { useEffect, useState, useRef } from 'react'\nimport axios from 'axios'\nimport InfiniteScroll from 'react-infinite-scroller'\nimport message from 'antd/es/message'\n\nimport MasonryGrid from '../../components/MasonryGrid'\nimport MasonryCard from '../../components/MasonryCard'\nimport Helmet from 'react-helmet'\n\nimport 'leaflet/dist/leaflet.css'\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    createStyles,\n    Divider,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Theme,\n} from '@material-ui/core'\nimport { LocationOn, SearchOutlined } from '@material-ui/icons'\nimport MapSettings from './MapSettings'\n\nconst Explore = () => {\n    const map = useRef(null)\n    const [isSearching, setIsSearching] = useState(false)\n    const [mapVisible, setMapVisible] = useState(false)\n    const [foundProgresses, setFoundProgresses] = useState([])\n    const [progresses, setProgresses] = useState([])\n    const [noMore, setNoMore] = useState(false)\n    const [noMorePopular, setNoMorePopular] = useState(false)\n\n    const [search, setSearch] = useState({\n        value: '',\n        withMap: false,\n        distance: 20,\n        zoom: 7,\n        position: [40.689078, -74.044526],\n        units: 'mi',\n    })\n\n    const [value, setValue] = useState('')\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [map.current])\n\n    const onSearch = (value, noNoMore) => {\n        if (!noMore || noNoMore) {\n            setNoMore(true)\n            axios\n                .post('/api/explore/search', {\n                    value: value ? { ...search, value } : search,\n                    skip: noNoMore ? 0 : foundProgresses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMore(res.data.noMore)\n                        setFoundProgresses(res.data.progresses)\n                        if (res.data.progresses.length === 0)\n                            message.warning('There are no progresses found.')\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(\n                                'Something is wrong with the data. Please try one more time with new data.'\n                            )\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n    const onGetPopular = () => {\n        if (!noMorePopular) {\n            setNoMorePopular(true)\n            axios\n                .post('/api/explore/popular', {\n                    skip: progresses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMorePopular(res.data.noMore)\n                        setProgresses([...progresses, ...res.data.progresses])\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(\n                                'Something is wrong with the data. Please try one more time with new data.'\n                            )\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n\n    const useStyles = makeStyles((theme: Theme) =>\n        createStyles({\n            root: {\n                padding: '2px 4px',\n                display: 'flex',\n                alignItems: 'center',\n                maxWidth: 400,\n                width: '100%',\n            },\n            input: {\n                marginLeft: theme.spacing(1),\n                flex: 1,\n            },\n            iconButton: {\n                padding: 10,\n            },\n            divider: {\n                height: 28,\n                margin: 4,\n            },\n            appBar: {\n                position: 'relative',\n            },\n            title: {\n                marginLeft: theme.spacing(2),\n                flex: 1,\n            },\n        })\n    )\n    const classes = useStyles()\n\n    return (\n        <div>\n            <Helmet>\n                <title>\n                    Explore inspirations and ideas from around the World!\n                </title>\n                <meta\n                    name=\"description\"\n                    content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                />\n            </Helmet>\n            <Paper className={classes.root}>\n                <InputBase\n                    className={classes.input}\n                    placeholder=\"Search goals\"\n                    onChange={e => {\n                        if (!e.target.value && !search.withMap) {\n                            setNoMore(false)\n                            setFoundProgresses([])\n                            setIsSearching(false)\n                            setSearch({ ...search, value: '' })\n                        }\n                        setValue(e.target.value)\n                    }}\n                />\n                <IconButton\n                    className={classes.iconButton}\n                    onClick={() => {\n                        if (value) {\n                            setIsSearching(true)\n                            if (value !== search.value) {\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                setSearch({ ...search, value })\n                                onSearch(value, true)\n                            }\n                        } else {\n                            setNoMore(false)\n                            setSearch({ ...search, value })\n                            setIsSearching(false)\n                        }\n                    }}\n                >\n                    <SearchOutlined />\n                </IconButton>\n                <Divider className={classes.divider} orientation=\"vertical\" />\n                <IconButton\n                    className={classes.iconButton}\n                    onClick={() => setMapVisible(true)}\n                    color={search.withMap ? 'primary' : 'default'}\n                >\n                    <LocationOn />\n                </IconButton>\n            </Paper>\n            <MapSettings\n                mapVisible={mapVisible}\n                setMapVisible={setMapVisible}\n                setIsSearching={setIsSearching}\n                setNoMore={setNoMore}\n                setFoundProgresses={setFoundProgresses}\n                onSearch={onSearch}\n                onGetPopular={onGetPopular}\n                setSearch={setSearch}\n                search={search}\n            />\n            {isSearching ? (\n                foundProgresses.length > 0 ? (\n                    <InfiniteScroll\n                        pageStart={0}\n                        loadMore={onSearch()}\n                        hasMore={!noMore}\n                        loader={\n                            <div className=\"loader\" key={0}>\n                                Loading ...\n                            </div>\n                        }\n                    >\n                        <MasonryGrid>\n                            {foundProgresses.map((item, index) => (\n                                <MasonryCard\n                                    id={item._id}\n                                    key={index}\n                                    onClickLink={'/inspirations/' + item._id}\n                                    images={item.goal.images}\n                                    body={\n                                        <>\n                                            {/* <UserButton\n                                                noName={true}\n                                                id={item.owner}\n                                                friendDataExp={friendData}\n                                            /> */}\n                                            <span\n                                                style={{ fontWeight: 'bold' }}\n                                            >\n                                                {item.name}\n                                            </span>\n                                        </>\n                                    }\n                                />\n                            ))}\n                        </MasonryGrid>\n                    </InfiniteScroll>\n                ) : null\n            ) : (\n                <InfiniteScroll\n                    pageStart={0}\n                    loadMore={onGetPopular}\n                    hasMore={!noMorePopular}\n                    loader={\n                        <div className=\"loader\" key={0}>\n                            Loading ...\n                        </div>\n                    }\n                >\n                    <MasonryGrid>\n                        {progresses.map((item, index) => (\n                            <MasonryCard\n                                id={item._id}\n                                key={index}\n                                onClickLink={'/inspirations/' + item._id}\n                                images={item.goal.images}\n                                body={\n                                    <>\n                                        {/* <UserButton\n                                            noName={true}\n                                            id={item.owner}\n                                            friendDataExp={friendData}\n                                        /> */}\n                                        <span style={{ fontWeight: 'bold' }}>\n                                            {item.name}\n                                        </span>\n                                    </>\n                                }\n                            />\n                        ))}\n                    </MasonryGrid>\n                </InfiniteScroll>\n            )}\n        </div>\n    )\n}\n\nexport default Explore\n","import React, { useEffect, useState, useRef, useCallback } from 'react'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\n\nimport AuthTest from './containers/Auth/AuthTest'\nimport './components/UI/loadStyles'\nimport AccountLayout from './components/Layout/Layout'\nimport Progress from './containers/Progress/Progress'\nimport Blog from './containers/Blog/Blog'\n\nimport Profile from './containers/Profile/Profile'\n\nimport ActivateAccount from './containers/ActivateAccount/ActivateAccount'\nimport Cookies from 'universal-cookie'\nimport Perk from './containers/Shop/Perk'\n\nimport WishlistItem from './containers/Wishlist/WishlistItem'\nimport { connect } from 'react-redux'\nimport * as actions from './store/actions'\nimport ConnectWebsocket from './containers/ConnectWebsocket/ConnectWebsocket'\nimport NotificationsTracker from './containers/Dashboard/NotificationsTracker'\nimport Modal from 'antd/es/modal/Modal'\nimport Button from 'antd/es/button'\nimport RNBridge from './RNBridge'\nimport DashboardPosts from './containers/Dashboard/DashboardPosts'\nimport DashboardEvents from './containers/Dashboard/DashboardEvents'\nimport Progresses from './containers/Progresses/Progresses'\nimport Explore from './containers/Explore/Explore'\n\nconst cookies = new Cookies()\n\nconst App = props => {\n    const mountedRef = useRef(true)\n    const [timer, setTimer] = useState(null)\n    const [explanationVisible, setExplanationVisible] = useState(false)\n    const [showSignIn, setShowSignIn] = useState(false)\n    const { isAuthed } = props\n\n    const auth = useCallback(async () => {\n        try {\n            if (!mountedRef.current) return null\n            props.tryAuth()\n        } catch (error) {}\n    }, [mountedRef])\n    useEffect(() => {\n        if (!isAuthed) {\n            auth()\n        }\n        return () => {\n            mountedRef.current = false\n        }\n    }, [isAuthed])\n\n    if (!isAuthed) {\n        if (!cookies.get('explanationSeen') && !timer)\n            setTimer(setTimeout(() => setExplanationVisible(true), 5000))\n    } else if (timer) {\n        window.clearTimeout(timer)\n    }\n\n    const Logout = () => {\n        props.logout()\n        window.isRNWebView && window.ReactNativeWebView.postMessage('logout')\n        return <Redirect to=\"/explore\" />\n    }\n\n    // useEffect(() => {\n    //     if(window.isRNWebView){\n    //         if(props.history)\n    //     }\n    //         // ? window.ReactNativeWebView.postMessage('showLogin')\n    // })\n    let routes = (\n        <Switch>\n            <Route path=\"/\" exact component={Explore} />\n            {isAuthed && (\n                <Route path=\"/posts\" exact component={DashboardPosts} />\n            )}\n            {isAuthed && (\n                <Route path=\"/events\" exact component={DashboardEvents} />\n            )}\n            {isAuthed && <Route path=\"/my\" exact component={Progresses} />}\n\n            <Route path=\"/inspirations\" component={Progress} />\n\n            <Route path=\"/profile\" component={Profile} />\n\n            {isAuthed && <Route path=\"/account\" exact component={Profile} />}\n            <Route path=\"/shop\" component={Perk} />\n            <Route path=\"/wishlist\" component={WishlistItem} />\n            <Route path=\"/logout\" exact component={Logout} />\n            <Route path=\"/ru\" component={Blog} />\n            <Route path=\"/blog\" component={Blog} />\n\n            <Route path=\"/activate-account\" exact component={ActivateAccount} />\n\n            {process.env.NODE_ENV === 'development' && !isAuthed && (\n                <Route path=\"/logintest\" exact component={AuthTest} />\n            )}\n            <Redirect to=\"/\" />\n        </Switch>\n    )\n\n    if (props.accountNotActive) {\n        routes = (\n            <Switch>\n                <Route path=\"/logout\" exact component={Logout} />\n\n                <Route\n                    path=\"/activate-account\"\n                    exact\n                    component={ActivateAccount}\n                />\n\n                {process.env.NODE_ENV === 'development' && !isAuthed && (\n                    <Route path=\"/logintest\" exact component={AuthTest} />\n                )}\n                {isAuthed ? (\n                    <Redirect to=\"/activate-account\" />\n                ) : (\n                    <Redirect to=\"/\" />\n                )}\n            </Switch>\n        )\n    }\n    const handleExplanationClose = () => {\n        cookies.set('explanationSeen', 'true', {\n            path: '/',\n            maxAge: 86400,\n        })\n        setExplanationVisible(false)\n        setShowSignIn(true)\n        document.body.removeAttribute('style')\n    }\n\n    return (\n        <>\n            <AccountLayout showSignIn={showSignIn}>{routes}</AccountLayout>\n            {isAuthed && <ConnectWebsocket />}\n            {isAuthed && <NotificationsTracker />}\n            <RNBridge />\n            {!window.isRNWebView && false && (\n                <Modal\n                    visible={explanationVisible}\n                    // footer={<Button onClick={handleExplanationClose}>Close</Button>}\n                    footer={null}\n                    onCancel={handleExplanationClose}\n                >\n                    <div>\n                        <h1>Welcome to Addspire!</h1>\n                        <p style={{ fontSize: '16px' }}>\n                            This is a social network where people share and get\n                            support for their ideas, pomises and resolutions.\n                        </p>\n                        <h3 style={{ fontSize: '16px', marginTop: '30px' }}>\n                            Here is how Addspire works:\n                        </h3>\n\n                        <p style={{ fontSize: '16px', marginTop: '30px' }}>\n                            1. You can create an inspiration for your idea\n                        </p>\n                        <img\n                            src=\"/intro/1.png\"\n                            style={{\n                                width: '100%',\n                                border: '1px solid #ccc',\n                            }}\n                        />\n\n                        <p style={{ fontSize: '16px', marginTop: '50px' }}>\n                            Or you can inspire people you care.\n                        </p>\n                        <img\n                            src=\"/intro/2.png\"\n                            style={{\n                                width: '100%',\n                                border: '1px solid #ccc',\n                            }}\n                        />\n\n                        <p style={{ fontSize: '16px', marginTop: '50px' }}>\n                            2. Start working on your goal, share updates and\n                            make posts. Your friends and the Addspire community\n                            will support you.\n                        </p>\n                        <img\n                            src=\"/intro/3.png\"\n                            style={{\n                                width: '100%',\n                                border: '1px solid #ccc',\n                            }}\n                        />\n\n                        <p style={{ fontSize: '16px', marginTop: '50px' }}>\n                            3. Achieve your goal and start a new one!\n                        </p>\n                        <img\n                            src=\"/intro/4.png\"\n                            style={{\n                                width: '100%',\n                                border: '1px solid #ccc',\n                            }}\n                        />\n                        <p style={{ fontSize: '16px', marginTop: '50px' }}>\n                            More than 60% of people make promises and\n                            resolutions every year and more than 90% of them\n                            fail.\n                        </p>\n                        <h3 style={{ marginTop: '50px' }}>\n                            Make sure that you will achieve your goals!\n                        </h3>\n                        <div style={{ textAlign: 'center' }}>\n                            <Button\n                                type=\"primary\"\n                                style={{\n                                    background: 'green',\n                                    fontSize: '20px',\n                                    padding: '10px 40px',\n                                    fontWeight: 'bold',\n                                    height: 'auto',\n                                    margin: '30px auto',\n                                }}\n                                onClick={handleExplanationClose}\n                            >\n                                Sign Up\n                            </Button>\n                        </div>\n                    </div>\n                </Modal>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: () => dispatch(actions.tryAuth()),\n        logout: () => dispatch(actions.logout()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(App)\n)\n","import { createReducer } from '@reduxjs/toolkit'\n\nexport const initialState = {\n    isAuthed: false,\n    user: null,\n    currentAccount: '',\n    account: {},\n    friendData: {},\n    transactionData: {},\n    progressData: {},\n    currentProfile: '',\n    profile: {},\n    currentProgress: '',\n    currentPosts: [],\n    progress: {},\n    post: {},\n    postData: {},\n    pageTitle: {},\n    friendSearchResult: [],\n    accountNotActive: false,\n    lastNotifications: [],\n    isConnectingWS: false,\n}\n\nconst reducer = createReducer(initialState, {\n    SET_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'isAuthed',\n                'currentAccount',\n                'currentProfile',\n                'currentPosts',\n                'profile',\n                'currentProgress',\n                'progress',\n                'lastNotifications',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    state[key] = action.data[key]\n                }\n            }\n            for (let key of [\n                'friendData',\n                'progressData',\n                'post',\n                'postData',\n                'transactionData',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    for (let attr in action.data[key]) {\n                        if (action.data[key][attr]) {\n                            state[key][attr] = action.data[key][attr]\n                        }\n                    }\n                }\n            }\n        }\n        if (state.user) {\n            if (state.user.currentAccount) {\n                state.currentAccount = state.user.currentAccount\n                state.accountNotActive = false\n            } else if (state.user.myAccount) {\n                state.currentAccount = state.user.myAccount\n                state.accountNotActive = false\n            } else {\n                state.accountNotActive = true\n            }\n        }\n    },\n    REMOVE_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of ['user', 'account', 'profile', 'progress']) {\n                for (let item of action.data[key]) {\n                    if (state[key]._id === item) {\n                        state[key] = {}\n                    }\n                }\n            }\n            for (let key of [\n                'post',\n                'friendData',\n                'progressData',\n                'postData',\n                'transactionData',\n            ]) {\n                for (let item of action.data[key]) {\n                    delete state[key][item]\n                }\n            }\n        }\n    },\n    SET_FRIEND_SEARCH_RESULT: (state: Object, action: Object) => {\n        state.friendSearchResult = action.data\n    },\n\n    SET_FRIENDS_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            state.account.friendsData = action.data\n        }\n        if (action.data.perk) state.perk = action.data.perk\n    },\n    SET_AVATAR_V: (state: Object, action: Object) => {\n        state.account.image = action.v\n    },\n    INCREASE_AVATAR_V: (state: Object) => {\n        state.account.image = state.account.image + 1\n    },\n    SET_IS_AUTHED: (state: Object, action: Object) => {\n        state.isAuthed = action.id\n    },\n    SET_PAGE_TITLE: (state: Object, action: Object) => {\n        state.pageTitle = action.title\n    },\n    SET_ACCOUNT_ACTIVATED: (state: Object, action: Object) => {\n        state.accountNotActive = action.value\n    },\n    SET_CONNECTING_WS: (state: Object, action: Object) => {\n        state.isConnectingWS = action.data\n    },\n})\n\nexport default reducer\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\n\nimport './index.css'\nimport App from './App'\nimport reducer from './store/reducer/reducer'\n//import * as serviceWorker from './serviceWorker';\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport { purple } from '@material-ui/core/colors'\n\nconst outerTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                backgroundColor: 'white',\n            },\n        },\n    },\n})\n\nif (process.env.NODE_ENV === 'development') {\n    axios.defaults.baseURL = 'http://my.websiter.test:5000'\n} else {\n    axios.defaults.baseURL = 'https://addspire.com'\n}\n// axios.defaults.withCredentials = true\n\nexport const store = createStore(\n    reducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <ThemeProvider theme={outerTheme}>\n                <App />\n            </ThemeProvider>\n        </BrowserRouter>\n    </Provider>\n)\n\nconst root = document.getElementById('root')\n\nReactDOM.render(app, root)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}