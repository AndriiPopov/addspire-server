(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports={header__title:"Welcome_header__title__2PVWK",subheader:"Welcome_subheader__8NTpe",slider:"Welcome_slider__1C5Wk",slider__word:"Welcome_slider__word__2M0ri",slider__words:"Welcome_slider__words__2RsMS",wordSlider:"Welcome_wordSlider__3DU7B",videoWrapper:"Welcome_videoWrapper__203j_"}},267:function(e,t,a){e.exports={Container:"LoginModal_Container__1PdGZ",socialButtons:"LoginModal_socialButtons__1H9u7",Background:"LoginModal_Background__2foqr"}},379:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAMAAACjKNoqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1FBMVEUAAADbJCTWNjbZNTTYNjXYNjXYNTXZNjbYNjTXNTX/AADXNjLYNjXZNTXoPDvjOjrYNTTYNTTVNDTXNjTYNjXsPT3nPDzYNjXXMzPYNTXaNjXZNzXWNDTYNjXYNTXjOTnYNjXsPj3YNTT/VVXYNDTbNzbYNjPYNjXqPDzoOzrYNTPZNTTYNzXXNTTYNTTYNTTZNzbXNTPpPTzYNjXXNTXcNzbXNDTbNzfYNTTVOTnXNTPeODfgOTjYNTXYOzvYNjXWMzPZNTXcODfWNjPYNTXqPDzYNjXYNzPXNDTZNTXkOjrnPDzZMzPYNTTYNjXiOzrkOzrYNTTaODLXNDPZNTXYNjXrPT3YNTTaNjXYNjTmOzrYNTXWNTXZNTTWNDS/QEDYNjXXNTTYNDToOzvpPDzYNTXcNzbdODfbNzfbNzfbMzPZNjXcNjbZNjbYNjbyQED2QkL1QkHvQD/+Rkb/Rkb8RUX3QkL0QUH4Q0PvPz/VNDSmISH9RUVZAACnISHzQUHYNjZaAADZNjbyQUCrIyOsIyOuJCTxQEDdODhaAQHeODiyJSVbAQGyJibqPDzgOTmzJib0QkL/RUX+RUX6Q0P8RET5Q0PsPj3zQED0QkHXNTT///9fYCXAAAAAb3RSTlMAB1Gt4ff01pg6AUzj+Pz5/M0xjvv++/xtm/l+XfpICe3+4QNi91W3/v2p6uX6+ffkrv6yYPdnDvYSh/f4lQ3uGfn3d9n95EFTuvr8KP2b+PqsKf41y/7Y+PP7pET5SgTx9av9/mH29hzpI9XCXnctusQjAAAAAWJLR0Sb79hXhAAAAAd0SU1FB+EMCQINAvEQCwMAAAFuSURBVCjPZdH3O0JRGAfwN7sIEdcoIdkKkb2yV/bee3OrazUkERFlhPy1Ouc27q3vT9/n8zz33HPeFwCFExUdExsXn8DlQTCJSfzkM1KrS0kVpPmJly7M0FM455lEFo3ZORdUMJfCXGQi8RXFCEnkAUjyrylWCgqlUCSjzzMYjQZcTPxiKCnF1Wj25QbXsnKosKBya0VovUPdVglVJCr3ZpwH/Cs5KLSo2Gm0o65VQPUjKk8OZI5n/+c1tfj0F6fZ7HzF9U0JdTL6ei6320W3ehU0NFrYl3+XNwE0t3ywsLXN9/b2Dh3TbIpONBFVlylkn+puPDppTy9jHH0ceqD9xFfAPOKBwDoGhwI4LAhuaYQgafse5YY2pxmjcXwiZDA5hU/1ENMMhJlZhD9zTAPRPFqKWsVCycIvRXkV7SwEje9Wi0tsg2WhXr+yGoZr6xbvBicMYXNrWxlusLO7p4rA/b+DwwiEo+NIg5PTYP0HPpevTLcESqcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTItMDlUMDI6MTM6MDErMDA6MDA/mojaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEyLTA5VDAyOjEzOjAxKzAwOjAwTscwZgAAAABJRU5ErkJggg=="},402:function(e){e.exports={welcome:{title:"Here we ",phrase1:"keep promises.",phrase2:"motivate.",phrase3:"reach goals.",phrase4:"inspire.",videoLink:"aXk0QNu09EQ",button:"Start reaching your goals",subheader:"Addspire is the best place for sharing and supporting goals, promises and resolutions."},layout:{blog:"Blog",login:"Login"},explore:{noGoals:"No goals found.",wrongData:"Something is wrong with the search data. Please try one more time with new search data.",title:"Explore goals and ideas from around the World!",desc:"Addspire is a social network where you can inspire and motivate yourself or the people you care.",mapPH:"Search goals",recentViewedGoals:"Recently viewed goals by you",topGoalsTitle:"Top goals and resolutions",loading:"Loading...",shareText:" goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",searchWithLocation:"Search with location",myLocation:"My location"},processRes:{accountNotFound:"Account is not found. Please login.",error:"Error. Please try one more time with correct data.",generalError:"Something wrong has happened... Try again!",avaSaved:"The avatar image has been updated.",success:"Success!",saved:"Item is saved",goalStarted:"Goal has started!"},reward:{aUser:"a user",itemLikes:"Item likes",deleteItem:"Delete item",confirmDelete:"Are youe sure you want to delete this item?",addReward:"Add reward",addRewardToGoal:"Add reward to goal",confirmRemove:"Are you sure you want to delete this reward? This reward will be only deleted from this goal.",addNew:"Add new ",edit:"Edit ",item:"item",reward:"reward"},wish:{received:"Received",addNewItem:"Add new item",editItem:"Edit item"},g:{choose:"Choose",done:"Done",addGoal:"Add goal",by:"by ",edit:"Edit",delete:"Delete",save:"Save",images:"Images",image:"Image",name:"Name",desc:"Description",itemDetails:"Item details",confirm:"Confirm",cancel:"Cancel",unlike:"Unlike",like:"Like",likes:"Likes",wishlistItem:"Wishlist item",reward:"Reward",item:"item",shareText:"on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",close:"Close",comments:"Comments",day:"day",week:"week",month:"month",year:"year",hide:"Hide",show:"Show",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",everyDay:"every day",everyDayOfWeek:"every day of week",everyWeek:"every week",everyMonth:"every month",everyYear:"every year",noRepeat:"No repeat",unfollow:"Unfollow",leave:"Leave",followers:"Followers",follow:"Follow",repeats:"Repeats",postsAndComments:"Posts and comments",upload:"Upload",following:"Following",logout:"Logout",goals:"Goals",accept:"Accept",decline:"Decline",friends:"Friends",addFriend:"Add friend",received:"Received",gave:"Gave",users:"Users",distance:"Distance",units:"Units",miles:"miles",km:"km",posts:"Posts",events:"Events",actions:"Actions",acceptFriendship:"Accept friendship",becomeFriends:"Become friends",cancelInvitation:"Cancel invitation",unfriend:"Unfriend",addSomeText:"Add some text",share:"Share",shareTo:"Share to:",email:"Email",copyUrl:"Copy url",urlCopied:"Url is copied to the clipboard!",readLess:"Show less",readMore:"Show more",previewImage:"Preview image",add:"Add",rewards:"Rewards",remove:"Remove",wishlist:"Wishlist",addItem:"Add item",disagree:"Disagree",agree:"Agree",place:"Place",pleaseSelect:"Please select",send:"Send",addspireFriends:"Addspire friends",otherFriends:"Other friends",categories:"Categories",animals:"Animals",building:"Building",cars:"Cars & motocycles",diy:"DIY",design:"Design",education:"Education",entertainment:"Entertainment",food:"Food & drinks",gardening:"Gardening",health:"Health",sport:"Sport",home:"Home",kids:"Kids & parenting",fashion:"Fashion",nature:"Nature",travel:"Travel",other:"Other",similarGoals:"Similar goals",spaceCategories:" categories"},progress:{editGoal:"Edit goal",failed:"Failed",completed:"Completed",dismissed:"Dismissed",inProcess:"In process",fail:"Fail",complete:"Complete",dismiss:"Dismiss",earnedRewards:" earned rewards",tracking:"Tracking",goalLikes:"Goal likes",goalFollowers:"Goal followers",addNewGoal:"Add new goal",newGoal:"New goal",achievers:"Achievers"},profile:{shareText:" account on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",pendingFriendships:"Pending friendships",awaitingApproval:"Awaiting approval",receivedAndGivenRewards:"Recieved and given rewards",settings:"Settings",deleteAccount:"Delete account",pleaseEnterNickname:"Please enter your nickname (",andPressOk:") and press Ok to delete your account."},friends:{peopleInvitedMe:"People invited me to be friends",iInvitedPeople:"I invited these people",pending:"Pending",instructions:"To find a friend you need to enter your friend's name or nickname.",searchFriends:"Search friend"},dash:{editedItem:"edited item in wishlist.",editedGoal:"edited goal.",addedComment:"added a comment.",editedComment:"edited a comment.",addedLike:"added a like.",removedLike:"removed a like.",changedName:" changed name.",deletedAccount:"deleted account.",wantsToBecomeFriends:" wants to become friends with you.",and:" and ",becameFriends:" became friends.",stoppedFriends:" stopped being friends.",addedToWish:"added to wishlist a new item",editedWish:"edited in wishlist",deleted:" deleted ",fromWish:"from wishlist.",addedGoal:"added a new goal",editedGoalND:"edited goal",fromGoals:"from goals.",cancelled:"cancelled",confirmed:"confirmed",by:" by ",startedParticipating:" started participating in goal ",as:" as ",approved:" approved  ",putToProgress:" put into process ",markedFailed:" marked as failed ",dismissed:" dismissed ",for:" for ",goal:"Goal ",wasApprovedAndFinished:" was approved and finished.",received:" received ",asReward:" as a reward from ",inGoal:" in goal ",leftGoal:" left goal ",andAdded:" and added ",andRemoved:" and removed ",removed:"removed ",fromGoal:" from goal ",added:"added ",toGoal:" to goal ",asRewardFor:"as a reward for",all:" all ",newEvent:"New event",seeProfile:"See profile",sharedAndInvitedYouTo:"Shared and invited you to",somethingOnAddspire:"something on Addspire"},blog:{hide:"Hide articles not in my language",show:"Show articles in all languages",title:"Addspire Blog - a social network for sharing and supporting ideas, promises and resolutions."},activate:{activateAccount:"Activate account",minLength:"Must be more than 1 character long",nickname:"Nickname"},rules:{nicknameShort:"Nickname is too short. Minimal length is 2.",nicknameLong:"Nickname is too long. Maximum length is",nicknameType:"Nickname should contain only letters, numbers, '-' and '_'.",nameShort:"Name is too short. Minimal length is 1.",nameLong:"Name is too long. Maximum length is",accNameShort:"Name is too short. Minimal length is 2.",accNameLong:"Name is too long. Maximum length is",descLong:"Description is too long. Miximum length is",messageShort:"Message is too short. Minimal length is 1.",messageLong:"Message is too long. Miximum length is"},post:{mainPost:"Main post",comment:"Comment",shareText:"Post in goal on Addspire.com - a social network for sharing and supporting promises and resolutions.",comments:"comments",otherPosts:"Other posts",messageLikes:"Message likes",editPost:"Edit post",reply:"Reply",replies:"replies",postNew:"Post something new",createNewPost:"Create a new post",addComment:"Add a comment",imageLimit:"You can not attach more than 8 images."},login:{cookieText:"We use cookies only for login and analytic purposes. In order to proceed you need to agree with the use of cookies.",welcome:"Welcome to Addspire!",rememberMe:"Remember me",loginLater:"Login or sign up later"}}},403:function(e){e.exports={welcome:{title:"\u0417\u0434\u0435\u0441\u044c \u043c\u044b ",phrase1:"\u043c\u043e\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u043c.",phrase2:"\u043e\u0431\u0435\u0449\u0430\u0435\u043c.",phrase3:"\u0434\u043e\u0441\u0442\u0438\u0433\u0430\u0435\u043c.",phrase4:"\u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u0435\u043c.",videoLink:"ugZBg4yAkQA",button:"\u041d\u0430\u0447\u0430\u0442\u044c \u0434\u043e\u0441\u0442\u0438\u0433\u0430\u0442\u044c \u043c\u043e\u0438 \u0446\u0435\u043b\u0438",subheader:"Addspire - \u044d\u0442\u043e \u043b\u0443\u0447\u0448\u0435\u0435 \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f \u0446\u0435\u043b\u0435\u0439 \u0438 \u043c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u0438."},layout:{blog:"\u0411\u043b\u043e\u0433",login:"\u0412\u043e\u0439\u0442\u0438"},explore:{noGoals:"\u0426\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.",wrongData:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u043e\u0438\u0441\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430.",title:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0446\u0435\u043b\u0438 \u0438 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u044f \u043b\u044e\u0434\u0435\u0439 \u0441\u043e \u0432\u0441\u0435\u0433\u043e \u043c\u0438\u0440\u0430!",desc:"Addspire - \u044d\u0442\u043e \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c, \u0433\u0434\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u043e\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043b\u044e\u0434\u0435\u0439.",mapPH:"\u041f\u043e\u0438\u0441\u043a \u0446\u0435\u043b\u0435\u0439",recentViewedGoals:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0432\u0430\u043c\u0438 \u0446\u0435\u043b\u0438",topGoalsTitle:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0446\u0435\u043b\u0438 \u0438 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u044f",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",shareText:" \u0446\u0435\u043b\u044c \u043d\u0430 Addspire.com - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c, \u0433\u0434\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u043e\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043b\u044e\u0434\u0435\u0439.",searchWithLocation:"\u041f\u043e\u0438\u0441\u043a \u043d\u0430 \u043a\u0430\u0440\u0442\u0435",myLocation:"\u041c\u043e\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"},processRes:{accountNotFound:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0439\u0442\u0438 \u0441\u043d\u043e\u0432\u0430.",error:"\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.",generalError:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430!",avaSaved:"\u0410\u0432\u0430\u0442\u0430\u0440 \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",success:"\u0423\u0441\u043f\u0435\u0445!",saved:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",goalStarted:"\u0426\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0430!"},reward:{aUser:"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",itemLikes:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c",deleteItem:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirmDelete:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u043f\u0438\u0441\u044c?",addReward:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443",addRewardToGoal:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443 \u043a \u0446\u0435\u043b\u0438",confirmRemove:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u043d\u0430\u0433\u0440\u0430\u0434\u0443? \u042d\u0442\u0430 \u043d\u0430\u0433\u0440\u0430\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u044d\u0442\u043e\u0439 \u0446\u0435\u043b\u0438.",addNew:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e ",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ",item:"\u0437\u0430\u043f\u0438\u0441\u044c",reward:"\u043d\u0430\u0433\u0440\u0430\u0434\u0443"},wish:{received:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b\u0435",addNewItem:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",editItem:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"},g:{choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",done:"\u0413\u043e\u0442\u043e\u0432\u043e",addGoal:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0435\u043b\u044c",by:"\u043e\u0442 ",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",images:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",image:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",name:"\u0418\u043c\u044f",desc:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",itemDetails:"\u0414\u0435\u0442\u0430\u043b\u0438",confirm:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",unlike:"\u041d\u0435\u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",like:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",likes:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",wishlistItem:"\u0416\u0435\u043b\u0430\u043d\u0438\u0435",reward:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430",item:"\u0437\u0430\u043f\u0438\u0441\u044c",shareText:"\u0432 Addspire.com - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c, \u0433\u0434\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u043e\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043b\u044e\u0434\u0435\u0439.",close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",comments:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",day:"\u0434\u0435\u043d\u044c",week:"\u043d\u0435\u0434\u0435\u043b\u044f",month:"\u043c\u0435\u0441\u044f\u0446",year:"\u0433\u043e\u0434",hide:"\u0421\u043a\u0440\u044b\u0442\u044c",show:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",sunday:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",monday:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",tuesday:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a",wednesday:"\u0421\u0440\u0435\u0434\u0430",thursday:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",friday:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430",saturday:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430",everyDay:"\u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c",everyDayOfWeek:"\u0434\u0435\u043d\u044c \u043d\u0435\u0434\u0435\u043b\u0438",everyWeek:"\u043a\u0430\u0436\u0434\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e",everyMonth:"\u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",everyYear:"\u043a\u0430\u0436\u0434\u044b\u0439 \u0433\u043e\u0434",noRepeat:"\u041e\u0434\u0438\u043d \u0440\u0430\u0437",unfollow:"\u041d\u0435 \u0441\u043b\u0435\u0434\u0438\u0442\u044c",leave:"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c",followers:"\u0424\u043e\u043b\u043b\u043e\u0432\u0435\u0440\u044b",follow:"\u0421\u043b\u0435\u0434\u0438\u0442\u044c",repeats:"\u041f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u044f",postsAndComments:"\u041f\u043e\u0441\u0442\u044b \u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",upload:"\u0417\u0430\u0433\u0440\u0430\u0437\u0438\u0442\u044c",following:"\u0421\u043b\u0435\u0434\u0438\u0442 \u0437\u0430",logout:"\u0412\u044b\u0439\u0442\u0438",goals:"\u0426\u0435\u043b\u0438",decline:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",friends:"\u0414\u0440\u0443\u0437\u044c\u044f",accept:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",addFriend:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u0430",received:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e",gave:"\u041e\u0442\u0434\u0430\u043d\u043e",users:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",distance:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435",units:"\u042e\u043d\u0438\u0442\u044b",miles:"\u043c\u0438\u043b\u0438",km:"\u043a\u043c",posts:"\u041f\u043e\u0441\u0442\u044b",events:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f",actions:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",acceptFriendship:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u0434\u0440\u0443\u0436\u0431\u043a",becomeFriends:"\u0421\u0442\u0430\u0442\u044c \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438",cancelInvitation:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0440\u0443\u0436\u0431\u0443",unfriend:"\u041d\u0435 \u0434\u0440\u0443\u0436\u0438\u0442\u044c",addSomeText:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",share:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",shareTo:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441:",email:"\u0418\u043c\u0435\u0439\u043b",copyUrl:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",urlCopied:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430!",readLess:"\u0421\u043a\u0440\u044b\u0442\u044c",readMore:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",previewImage:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",rewards:"\u041d\u0430\u0433\u0440\u0430\u0434\u044b",remove:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",wishlist:"\u0416\u0435\u043b\u0430\u043d\u0438\u044f",addItem:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",disagree:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f",agree:"\u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0442\u044c\u0441\u044f",place:"\u041c\u0435\u0441\u0442\u043e",pleaseSelect:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435",send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",addspireFriends:"\u0414\u0440\u0443\u0437\u044c\u044f \u0432 Addspire",otherFriends:"\u0414\u0440\u0443\u0433\u0438\u0435 \u0434\u0440\u0443\u0437\u044c\u044f",categories:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",animals:"\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435",building:"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",cars:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 \u0438 \u043c\u043e\u0442\u043e\u0446\u0438\u043a\u043b\u044b",diy:"\u0421\u0432\u043e\u0438\u043c\u0438 \u0440\u0443\u043a\u0430\u043c\u0438",design:"\u0414\u0438\u0437\u0430\u0439\u043d",education:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435",entertainment:"\u0420\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435",food:"\u0415\u0434\u0430 \u0438 \u043d\u0430\u043f\u0438\u0442\u043a\u0438",gardening:"\u041e\u0433\u043e\u0440\u043e\u0434",health:"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435",sport:"\u0421\u043f\u043e\u0440\u0442",home:"\u0414\u043e\u043c",kids:"\u0414\u0435\u0442\u0438 \u0438 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0438",fashion:"\u0421\u0442\u0438\u043b\u044c",nature:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430",travel:"\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435",other:"\u0414\u0440\u0443\u0433\u043e\u0435",similarGoals:"\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u0446\u0435\u043b\u0438",spaceCategories:" \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"},progress:{editGoal:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0446\u0435\u043b\u0438",failed:"\u041d\u0435\u0443\u0434\u0430\u0447\u0430",completed:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",dismissed:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e",inProcess:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",fail:"\u041d\u0435\u0443\u0434\u0430\u0447\u0430",complete:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",dismiss:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",earnedRewards:" \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b",tracking:"\u0422\u0440\u0435\u043a\u0438\u043d\u0433",goalLikes:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",goalFollowers:"\u0424\u043e\u043b\u043b\u043e\u0432\u0435\u0440\u044b",addNewGoal:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0446\u0435\u043b\u044c",newGoal:"\u041d\u043e\u0432\u0430\u044f \u0446\u0435\u043b\u044c",achievers:"\u0414\u043e\u0442\u0438\u0433\u0430\u044e\u0442 \u0446\u0435\u043b\u044c"},profile:{shareText:" \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0430 Addspire.com - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0446\u0435\u043b\u0435\u0439, \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0439 \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f.",pendingFriendships:"\u0414\u0440\u0443\u0437\u044c\u044f \u0432 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438",awaitingApproval:"\u041e\u0436\u0438\u0434\u0430\u044e\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",receivedAndGivenRewards:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0438 \u043e\u0442\u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b",settings:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",deleteAccount:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",pleaseEnterNickname:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c (",andPressOk:") \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f."},friends:{peopleInvitedMe:"\u0425\u043e\u0442\u044f\u0442 \u0434\u0440\u0443\u0436\u0438\u0442\u044c \u0441\u043e \u043c\u043d\u043e\u0439",iInvitedPeople:"\u042f \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u043b \u0434\u0440\u0443\u0436\u0438\u0442\u044c",pending:"\u0412 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438",instructions:"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0433\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0435\u0433\u043e \u0438\u043c\u044f \u0438\u043b\u0438 \u043d\u0438\u043a\u043d\u0435\u0439\u043c.",searchFriends:"\u041f\u043e\u0438\u0441\u043a \u0434\u0440\u0443\u0437\u0435\u0439"},dash:{editedItem:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0436\u0435\u043b\u0430\u043d\u0438\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0436\u0435\u043b\u0430\u043d\u0438\u0439.",editedGoal:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0446\u0435\u043b\u044c.",addedComment:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439.",editedComment:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439.",addedLike:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u043b\u0430\u0439\u043a.",removedLike:"\u0443\u0434\u0430\u043b\u0438\u043b \u043b\u0430\u0439\u043a.",changedName:" \u0438\u0437\u043c\u0435\u043d\u0438\u043b \u0438\u043c\u044f.",deletedAccount:"\u0443\u0434\u0430\u043b\u0438\u043b \u0430\u043a\u043a\u0430\u0443\u043d\u0442.",wantsToBecomeFriends:" \u0445\u043e\u0447\u0435\u0442 \u0434\u0440\u0443\u0436\u0438\u0442\u044c \u0441 \u0432\u0430\u043c\u0438.",and:" \u0438 ",becameFriends:" \u0441\u0442\u0430\u043b\u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438.",stoppedFriends:" \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043b\u0438 \u0434\u0440\u0443\u0436\u0438\u0442\u044c.",addedToWish:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0436\u0435\u043b\u0430\u043d\u0438\u0435",editedWish:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0436\u0435\u043b\u0430\u043d\u0438\u0435",deleted:" \u0443\u0434\u0430\u043b\u0438\u043b ",fromWish:"\u0438\u0437 \u0436\u0435\u043b\u0430\u043d\u0438\u0439.",addedGoal:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0446\u0435\u043b\u044c",editedGoalND:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0446\u0435\u043b\u044c",fromGoals:"\u0438\u0437 \u0446\u0435\u043b\u0435\u0439.",cancelled:"\u043e\u0442\u043c\u0435\u043d\u0438\u043b",confirmed:"\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b",by:" \u043e\u0442 ",startedParticipating:" \u043d\u0430\u0447\u0430\u043b \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 \u0446\u0435\u043b\u0438 ",as:" \u043a\u0430\u043a ",approved:" \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b  ",putToProgress:" \u043e\u0442\u043c\u0435\u0442\u0438\u043b \u043a\u0430\u043a \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 ",markedFailed:" \u043e\u0442\u043c\u0435\u0442\u0438\u043b \u043a\u0430\u043a \u043d\u0435\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e ",dismissed:" \u043e\u0442\u043c\u0435\u043d\u0438\u043b ",for:" \u0434\u043b\u044f ",goal:"\u0426\u0435\u043b\u044c ",wasApprovedAndFinished:" \u0431\u044b\u043b\u0430 \u0432\u044b\u043e\u043b\u043d\u0435\u043d\u0430.",received:" \u043f\u043e\u043b\u0443\u0447\u0438\u043b ",asReward:" \u043a\u0430\u043a \u043d\u0430\u0433\u0440\u0430\u0434\u0443 \u043e\u0442 ",inGoal:" \u0432 \u0446\u0435\u043b\u0438 ",leftGoal:" \u043f\u043e\u043a\u0438\u043d\u0443\u043b \u0446\u0435\u043b\u044c ",andAdded:" \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043b ",andRemoved:" \u0438 \u0443\u0434\u0430\u043b\u0438\u043b ",removed:"\u0443\u0434\u0430\u043b\u0438\u043b ",fromGoal:" \u0438\u0437 \u0446\u0435\u043b\u0438 ",added:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b ",toGoal:" \u043a \u0446\u0435\u043b\u0438 ",asRewardFor:"\u043a\u0430\u043a \u043d\u0430\u0433\u0440\u0430\u0434\u0443 \u0437\u0430",all:" \u0432\u0441\u0435 ",newEvent:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435",seeProfile:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0443",sharedAndInvitedYouTo:"\u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0441\u044f \u0438 \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u043b \u0432\u0430\u0441 \u0432",somethingOnAddspire:"\u0447\u0442\u043e-\u0442\u043e \u043d\u0430 Addspire"},blog:{hide:"\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u044f\u0437\u044b\u043a\u0430\u0445",show:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u044f\u0437\u044b\u043a\u0430\u0445",title:"Addspire \u0411\u043b\u043e\u0433 - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0446\u0435\u043b\u0435\u0439, \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0439 \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f."},activate:{activateAccount:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",minLength:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0435\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u0430",nickname:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"},rules:{nicknameShort:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430.",nicknameLong:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 ",nicknameType:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, '-' \u0438 '_'.",nameShort:"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 1 \u0441\u0438\u043c\u0432\u043e\u043b.",nameLong:"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",accNameShort:"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430.",accNameLong:"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",descLong:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",messageShort:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 1 \u0441\u0438\u043c\u0432\u043e\u043b.",messageLong:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},post:{mainPost:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u043f\u043e\u0441\u0442",comment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442",shareText:"\u041f\u043e\u0441\u0442 \u0432 \u0446\u0435\u043b\u0438 \u043d\u0430 Addspire.com - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0446\u0435\u043b\u0435\u0439, \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0439 \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f.",comments:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",otherPosts:"\u0414\u0440\u0443\u0433\u0438\u0435 \u043f\u043e\u0441\u0442\u044b",messageLikes:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",editPost:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",reply:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",replies:"\u043e\u0442\u0432\u0435\u0442\u044b",postNew:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u0441\u0442",createNewPost:"\u0421\u043e\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442",addComment:"\u0414\u043e\u0431\u0430\u0432\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",imageLimit:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 8 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a."},login:{cookieText:"\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043a\u0443\u043a\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u043d\u0430 \u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438. \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0442\u044c\u0441\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043a\u0443\u043a\u0438.",welcome:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 Addspire!",rememberMe:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c",loginLater:"\u0412\u043e\u0439\u0442\u0438 \u043f\u043e\u0437\u0436\u0435"}}},414:function(e,t,a){e.exports={Dots:"imageCarousel_Dots__3XuKo"}},422:function(e,t,a){e.exports={Layout:"Layout_Layout__3q-xb",Header:"Layout_Header__J8BzQ",Footer:"Layout_Footer__1UfUY",HideHeader:"Layout_HideHeader__2uuFO",FooterButton:"Layout_FooterButton__VhJUa",TopHeader:"Layout_TopHeader__277Y8",BottomHeader:"Layout_BottomHeader__3YPE5",Main:"Layout_Main__Py9vL",MenuButtonContiner:"Layout_MenuButtonContiner__2imT-",QuickButtonContiner:"Layout_QuickButtonContiner__3mw1U",PageTitle:"Layout_PageTitle__1_EDr"}},431:function(e,t,a){e.exports={Avatar:"Profile_Avatar__3n37F"}},468:function(e,t,a){e.exports=a(855)},494:function(e,t,a){},837:function(e,t){},855:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),c=a(28),l=a(39),s=a.n(l),u=a(20),d=a(75),m=a(195),p=a(396),f=(a(494),a(173)),g=a.n(f),h=a(227),y=a(62),E=a(268),b=a(61),v=a(201),w=a(69),O=a(139),k=(new O.a,a(187),a(143),a(275),a(599),a(329),a(330),a(604),a(331),a(607),a(332),a(333),a(276),a(612),a(614),a(616),a(618),a(621),a(623),a(625),a(277),a(214),a(336),a(857),a(858),a(634),a(636),a(638),a(640),a(642),a(645),a(647),a(649),a(651),a(653),a(334),a(335),a(655),a(16)),x=a(24),j=a(13),A=a(400),S=a(54),_=a(305),C=a(202),D=a(401),T={en:{translation:a(402)},ru:{translation:a(403)}};_.a.use(D.a).use(C.e).init({resources:T,fallbackLng:"en",keySeparator:".",interpolation:{escapeValue:!1},nonExplicitSupportedLngs:!0});var N=_.a,I=function(e,t){var a=N.t;if(e.data.logout&&t.history.push("/logout"),!1===e.data.success)if(e.data.errorCode)switch(e.data.errorCode){case"no account":S.b.warning(a("processRes.accountNotFound"));break;case"bad data":S.b.error(a("processRes.error"));break;default:S.b.warning(a("processRes.generalError"))}else S.b.error(a("processRes.generalError"));else if(e.data.successCode)switch(e.data.successCode){case"avatar saved":S.b.success(a("processRes.avaSaved"));break;case"success":S.b.success(a("processRes.success"));break;case"item saved":S.b.success(a("processRes.saved"));break;case"progress created":S.b.success(a("processRes.goalStarted"));break;default:S.b.success(a("processRes.success"))}e.data.status&&"no account"===e.data.status&&t.history.push("/activate-account")},F=new O.a,P=function(e){return function(t){if(sessionStorage.setItem("systemRefresh","0"),!e){e=F.get("auth_token");var a=F.get("rememberme");a&&(F.remove("rememberme",{path:"/"}),"false"===a&&F.remove("auth_token",{path:"/"}))}var n=Object(A.a)(e);s.a.defaults.headers.post["Content-Type"]="application/json",s.a.defaults.headers.put["Content-Type"]="application/json",s.a.defaults.headers.delete["Content-Type"]="application/json",s.a.defaults.headers.common.Accept="application/json",e&&n?(s.a.defaults.headers.common["x-auth-token"]=e,s.a.defaults.headers.post["x-auth-token"]=e,s.a.defaults.headers.get["x-auth-token"]=e,s.a.defaults.headers.delete["x-auth-token"]=e,s.a.defaults.headers.put["x-auth-token"]=e,t(R(n._id))):t(R(null))}},R=function(e){return{type:"SET_IS_AUTHED",id:e}},M=function(){return function(e){F.remove("rememberme",{path:"/"}),F.remove("auth_token",{path:"/"}),delete s.a.defaults.headers.common["x-auth-token"],delete s.a.defaults.headers.post["x-auth-token"],delete s.a.defaults.headers.get["x-auth-token"],delete s.a.defaults.headers.delete["x-auth-token"],delete s.a.defaults.headers.put["x-auth-token"],e(R(!1))}},L=function(e){return{type:"SET_DATA",data:e}},z=function(e){return{type:"SET_PAGE_TITLE",title:e}},W=function(e){return{type:"SET_FRIEND_SEARCH_RESULT",data:e}};function B(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Y(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var U=a(93),G=a(237),V=a(238),X=a(259),J=a(239),H=a(260);function q(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Q(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Z=function(e){var t=e.store,a={user:[],account:[],progress:[],reward:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[]},n={user:[],account:[],progress:[],reward:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[]};if(t.isAuthed)if(t.user){if(n.user.push(t.user._id),t.currentAccount)if(t.account._id!==t.currentAccount)a.account.push(t.currentAccount);else{n.account.push(t.account._id);for(var r=0,o=[].concat(Object(k.a)(t.account.progresses),Object(k.a)(t.account.followProgresses),Object(k.a)(t.account.recentProgresses));r<o.length;r++){var i=o[r];t.progressData[i]||a.progressData.push(i),n.progressData.push(i)}var c,l=q(t.account.followPosts);try{for(l.s();!(c=l.n()).done;){var s=c.value;t.postData[s]||a.postData.push(s),n.postData.push(s)}}catch(we){l.e(we)}finally{l.f()}var u,d=q(t.account.myPosts);try{for(d.s();!(u=d.n()).done;){var m=u.value;t.postData[m]||a.postData.push(m),n.postData.push(m)}}catch(we){d.e(we)}finally{d.f()}var p,f=q(t.account.transactions);try{for(f.s();!(p=f.n()).done;){var g=p.value;t.transactionData[g]||a.transactionData.push(g),n.transactionData.push(g)}}catch(we){f.e(we)}finally{f.f()}var h,y=q(t.account.friends);try{for(y.s();!(h=y.n()).done;){var E=h.value;t.friendData[E.friend]||a.friendData.push(E.friend),n.friendData.push(E.friend)}}catch(we){y.e(we)}finally{y.f()}var b,v=q(t.account.rewards);try{for(v.s();!(b=v.n()).done;){var w=b.value;t.rewardData[w]||a.rewardData.push(w),n.rewardData.push(w)}}catch(we){v.e(we)}finally{v.f()}for(var O=0,x=[].concat(Object(k.a)(t.account.followingAccounts),Object(k.a)(t.account.followAccounts));O<x.length;O++){var j=x[O];t.friendData[j]||a.friendData.push(j),n.friendData.push(j)}}if(t.currentProfile)if(t.profile._id!==t.currentProfile)a.account.push(t.currentProfile);else{n.account.push(t.profile._id);for(var A=0,S=[].concat(Object(k.a)(t.profile.progresses),Object(k.a)(t.profile.followProgresses));A<S.length;A++){var _=S[A];t.progressData[_]||a.progressData.push(_),n.progressData.push(_)}var C,D=q(t.profile.transactions);try{for(D.s();!(C=D.n()).done;){var T=C.value;if(t.transactionData[T]){var N=t.transactionData[T].reward;t.rewardData[N]||a.rewardData.push(N),n.rewardData.push(N)}else a.transactionData.push(T);n.transactionData.push(T)}}catch(we){D.e(we)}finally{D.f()}var I,F=q(t.profile.friends);try{for(F.s();!(I=F.n()).done;){var P=I.value;t.friendData[P.friend]||a.friendData.push(P.friend),n.friendData.push(P.friend)}}catch(we){F.e(we)}finally{F.f()}var R,M=q(t.profile.rewards);try{for(M.s();!(R=M.n()).done;){var L=R.value;t.rewardData[L]||a.rewardData.push(L),n.rewardData.push(L)}}catch(we){M.e(we)}finally{M.f()}for(var z=0,W=[].concat(Object(k.a)(t.profile.followingAccounts),Object(k.a)(t.profile.followAccounts));z<W.length;z++){var B=W[z];t.friendData[B]||a.friendData.push(B),n.friendData.push(B)}}if(t.currentProgress)if(t.progress._id!==t.currentProgress)a.progress.push(t.currentProgress);else{n.progress.push(t.progress._id);var Y=[];t.progress.owner&&Y.push(t.progress.owner),t.progress.users&&(Y=Y.concat(t.progress.users)),t.progress.likes&&(Y=Y.concat(t.progress.likes)),t.progress.followingAccounts&&(Y=Y.concat(t.progress.followingAccounts));var U,G=q(Y);try{for(G.s();!(U=G.n()).done;){var V=U.value;t.friendData[V]||a.friendData.push(V),n.friendData.push(V)}}catch(we){G.e(we)}finally{G.f()}var X,J=q(t.progress.posts);try{for(J.s();!(X=J.n()).done;){var H=X.value;t.postData[H]||a.postData.push(H),n.postData.push(H)}}catch(we){J.e(we)}finally{J.f()}var Q,Z=t.progress.rewards,K=q(t.progress.stages);try{for(K.s();!(Q=K.n()).done;){var $=Q.value;Z=[].concat(Object(k.a)(Z),[$.rewards])}}catch(we){K.e(we)}finally{K.f()}var ee,te=q(Z);try{for(te.s();!(ee=te.n()).done;){var ae=ee.value;t.rewardData[ae]||a.rewardData.push(ae),n.rewardData.push(ae)}}catch(we){te.e(we)}finally{te.f()}}if(t.currentPosts){var ne,re=q(t.currentPosts);try{for(re.s();!(ne=re.n()).done;){var oe=ne.value,ie=t.post[oe];if(ie){n.post.push(oe);var ce,le=q(ie.users);try{for(le.s();!(ce=le.n()).done;){var se=ce.value;t.friendData[se]||a.friendData.push(se),n.friendData.push(se)}}catch(we){le.e(we)}finally{le.f()}oe.parent&&("progress"===oe.parent.parentType&&n.progressData.push(oe.parent.parentId),"reward"===oe.parent.parentType&&n.rewardData.push(oe.parent.parentId))}else a.post.push(oe)}}catch(we){re.e(we)}finally{re.f()}}if(t.currentReward)if(t.reward._id!==t.currentReward)a.reward.push(t.currentReward);else{n.reward.push(t.reward._id);var ue,de=q(t.reward.likes);try{for(de.s();!(ue=de.n()).done;){var me=ue.value;t.friendData[me]||a.friendData.push(me),n.friendData.push(me)}}catch(we){de.e(we)}finally{de.f()}t.post[t.reward.post]||a.post.push(t.reward.post),n.post.push(t.reward.post)}if(t.friendSearchResult&&t.friendSearchResult.length>0){var pe,fe=q(t.friendSearchResult);try{for(fe.s();!(pe=fe.n()).done;){var ge=pe.value;t.friendData[ge._id]||a.friendData.push(ge._id),n.friendData.push(ge._id)}}catch(we){fe.e(we)}finally{fe.f()}}}else a.user.push(t.isAuthed);var he=function(e){for(var t in e)e[t]&&(e[t]=Array.from(new Set(e[t])))};he(n);var ye,Ee={user:[],account:[],progress:[],reward:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[]};Ee.profile=[];var be=function(e,a){t[a]._id&&!n[e].includes(t[a]._id)&&(Ee[a].push(t[a]._id),ye=!0)},ve=function(e){for(var a in t[e])n[e].includes(a)||(Ee[e].push(a),ye=!0)};return be("account","account"),be("account","profile"),be("progress","progress"),be("reward","reward"),ve("post"),ve("friendData"),ve("rewardData"),ve("progressData"),ve("transactionData"),ve("postData"),ye&&e.removeData(Ee),he(a),a},K=function(e,t,a,n){var r={user:[],account:[],progress:[],post:[],reward:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[]},o=function(n){for(var o in e[n])"undefined"!==typeof e[n][o]&&(a[n][o]?a[n][o]!==e[n][o]&&ce(n,[o],t):r[n].push(o))},i=function(n){for(var o in e[n])"undefined"!==typeof e[n][o]&&(a[n]._id===o?(a[n].__v!==e[n][o]&&ce(n,[o],t),a[n]._id||r[n].push(o)):r[n].push(o))};for(var c in e.user)"undefined"!==typeof e.user[c]&&(a.user._id===c?a.user.__v!==e.user[c]&&ce("user",[c],t):r.user.push(c));for(var l in e.account)"undefined"!==typeof e.account[l]&&(a.account._id===l&&a.account.__v!==e.account[l]&&ce("account",[l],t),a.profile._id===l&&(a.profile.__v!==e.account[l]&&ce("account",[l],t),a.account._id||r.account.push(l))),a.account._id!==l&&a.profile._id!==l&&r.account.push(l);if(i("progress"),i("reward"),o("post"),o("friendData"),o("progressData"),o("rewardData"),o("postData"),o("transactionData"),r.user.length>0||r.account.length>0||r.progress.length>0||r.post.length>0||r.friendData.length>0||r.progressData.length>0||r.postData.length>0||r.transactionData.length>0)return r},$=function(e){var t=e.store,a={user:{},account:{},progress:{},post:{},reward:{},transactionData:{},friendData:{},progressData:{},postData:{},rewardData:{}};t.user&&t.user._id&&(a.user[t.user._id]=t.user.__v),t.account._id&&(a.account[t.account._id]=t.account.__v),t.profile._id&&(a.account[t.profile._id]=t.profile.__v),t.progress._id&&(a.progress[t.progress._id]=t.progress.__v),t.reward._id&&(a.reward[t.reward._id]=t.reward.__v);var n=function(e){for(var n in t[e])"undefined"!==typeof t[e][n]&&t[e][n]._id&&(a[e][t[e][n]._id]=t[e][n].__v)};return n("post"),n("friendData"),n("postData"),n("progressData"),n("rewardData"),n("TransactionData"),a};function ee(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return te(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return te(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ae=!1,ne=new O.a,re=["user","account","progress","reward","post","postData","progressData","friendData","transactionData","rewardData"],oe=function(e){function t(){var e,a;Object(G.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(X.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).state={user:[],account:[],progress:[],reward:[],post:[],friendData:[],progressData:[],postData:[],transactionData:[],rewardData:[]},a.start=function(){var e;ae=new WebSocket("wss://addspire.com");var t=function(t){var n;t&&(n=K(t,a.state,a.props.store,ae)),clearTimeout(e),e=setTimeout(function(){ae.close()},31e3),ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"heartbeat",notNeededResources:n}))};ae.onopen=function(e){var n=$(a.props);ae.send(JSON.stringify({messageCode:"auth",user:s.a.defaults.headers.common["x-auth-token"],resourcesToMonitor:n})),a.initializeRequestResources(a.props),t()},ae.onmessage=function(e){var n=JSON.parse(e.data);switch(n.messageCode){case"heartbeat":t(n.versions),a.props.setData({onlineUsers:n.onlineUsers});break;case"logout":a.props.logout(),a.props.history.push("/logout");break;case"successMessage":S.b.success(n.messageText);break;case"errorMessage":S.b.error(n.messageText);break;case"friendsData":a.props.setFriendsData(n.friendsData);break;case"redirectToProgresses":a.props.history.push("/goals");break;case"addResource":a.props.saveResource(n.resources,n.type,n.newOnlineUsers);break;case"updateResource":a.props.updateResource(n.code,n.id,n.update,a.state);break;case"friendSearchResult":a.props.setFriendSearchResult(n.data);break;case"goTo":a.props.history.push(n.messageText);break;case"authSuccess":s.a.defaults.headers.common["x-auth-token"]&&ne.set("auth_token",s.a.defaults.headers.common["x-auth-token"],{path:"/",expires:new Date((new Date).getTime()+5184e5)});break;case"error":S.b.error(n.text)}},ae.onclose=function(t){clearTimeout(e)}},a.checkInterval=null,a.check=function(){ae&&3!==ae.readyState||(clearInterval(a.checkInterval),a.checkInterval=setInterval(a.check,5e3),a.start())},a.reRequestResourcesInterval=null,a.reRequestResources=function(){var e,t=ee(re);try{for(t.s();!(e=t.n()).done;){var n=e.value;a.state[n].length>0&&ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"requestResource",ids:a.state[n],type:n}))}}catch(r){t.e(r)}finally{t.f()}},a.initializeRequestResources=function(e){var t,n=Z(e),r=ee(re);try{var o=function(){var e=t.value;n[e].length>0&&ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"requestResource",ids:n[e].filter(function(t){return!a.state[e].includes(t)}),type:e}))};for(r.s();!(t=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}a.setState(function(){return n}),clearInterval(a.reRequestResourcesInterval),a.reRequestResourcesInterval=setInterval(a.reRequestResources,3e3)},a}return Object(H.a)(t,e),Object(V.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.checkInterval),ae&&ae.close(),this.props.setConnectingToWS(!1)}},{key:"componentDidMount",value:function(){this.checkInterval=setInterval(this.check,50),this.props.setConnectingToWS(!0)}},{key:"componentDidUpdate",value:function(e,t){e.store.currentAccount!==this.props.store.currentAccount&&ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"currentAccount",id:this.props.store.currentAccount}))}},{key:"render",value:function(){return null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,n=Z(e),r=ee(re);try{var o=function(){var e=a.value;n[e].length>0&&ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"requestResource",ids:n[e].filter(function(a){return!t[e].includes(a)}),type:e}))};for(r.s();!(a=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return n}}]),t}(n.Component),ie=Object(y.g)(Object(u.b)(function(e){return{store:e}},function(e){return{setData:function(t,a){return e(L(t))},removeData:function(t){return e(function(e){return{type:"REMOVE_DATA",data:e}}(t))},saveResource:function(t,a,n){return e(function(e,t,a){return function(n,r){if(e.length>0){var o=r();switch(t){case"user":var i=e[0],c=i.currentAccount;c||(c=i.myAccount),n(L({user:i,currentAccount:c}));break;case"account":var l=e.find(function(e){return e._id===o.currentAccount});l&&n(L({account:l,newOnlineUsers:a}));var s=e.find(function(e){return e._id===o.currentProfile});s&&n(L({profile:s,newOnlineUsers:a}));break;case"progress":var u=e.find(function(e){return e._id===o.currentProgress});u&&n(L({progress:u}));break;case"post":var d,m={},p=B(e);try{for(p.s();!(d=p.n()).done;){var f=d.value;m[f._id]=f}}catch(R){p.e(R)}finally{p.f()}n(L({post:m}));break;case"reward":var g=e.find(function(e){return e._id===o.currentReward});g&&n(L({reward:g}));break;case"friendData":var h,y={},E=B(e);try{for(E.s();!(h=E.n()).done;){var b=h.value;y[b._id]=b}}catch(R){E.e(R)}finally{E.f()}n(L({friendData:y,newOnlineUsers:a}));break;case"progressData":var v,w={},O=B(e);try{for(O.s();!(v=O.n()).done;){var k=v.value;w[k._id]=k}}catch(R){O.e(R)}finally{O.f()}n(L({progressData:w}));break;case"transactionData":var x,j={},A=B(e);try{for(A.s();!(x=A.n()).done;){var S=x.value;j[S._id]=S}}catch(R){A.e(R)}finally{A.f()}n(L({transactionData:j}));break;case"postData":var _,C={},D=B(e);try{for(D.s();!(_=D.n()).done;){var T=_.value;C[T._id]=T}}catch(R){D.e(R)}finally{D.f()}n(L({postData:C}));break;case"rewardData":var N,I={},F=B(e);try{for(F.s();!(N=F.n()).done;){var P=N.value;I[P._id]=P}}catch(R){F.e(R)}finally{F.f()}n(L({rewardData:I}))}}}}(t,a,n))},setFriendsData:function(t){return e(function(e){return{type:"SET_FRIENDS_DATA",data:e}}(t))},updateResource:function(t,a,n,r){return e(pe(t,a,n,r))},setFriendSearchResult:function(t){return e(W(t))},setConnectingToWS:function(t){return e(function(e){return{type:"SET_CONNECTING_WS",data:e}}(t))},logout:function(){return e(M())}}})(oe)),ce=function(e,t,a){var n=t.filter(function(t){return!a[e].includes(t)});ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"requestResource",ids:n,type:e}))},le=a(300),se=a.n(le);function ue(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return de(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return de(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var me=function(e,t,a){var n=se()(e);!function(e,t,a){var n=function e(t,a,n){a.length>1?e(t[a.shift()],a,n):"array"===typeof t?t.push(n):t[a[0]]=n};for(var r in t){var o=r.split(".");a&&!a.includes(o[0])||"undefined"!==typeof t[r]&&n(e,o,t[r])}}(n,t.updatedFields,a);var r,o=function e(t,a){a.length>1?e(t[a.shift()],a):"object"===typeof t?delete t[a[0]]:"array"===typeof t&&t.splice(a[0],1)},i=ue(t.removedFields);try{for(i.s();!(r=i.n()).done;){var c=r.value;if(c.indexOf(".")>-1){var l=c.split(".");a&&!a.includes(l[0])||o(n,l)}else delete n[c]}}catch(s){i.e(s)}finally{i.f()}return n},pe=function(e,t,a,n){return function(r,o){if(a&&t&&e){var i=o(),c=function(o){if(i[o]._id===t)if(i[o].__v===a.updatedFields.__v-1){var c=me(i[o],a);r(L(Object(U.a)({},o,c)))}else i[o].id&&ce(e,[t],n)},l=function(o,c){var l=Object(U.a)({},o,se()(i[o])),s=l[o][t];s&&(s.__v===a.updatedFields.__v-1?(l[o][t]=me(s,a,c),r(L(l))):ce(e,[t],n))};switch(e){case"user":c("user");break;case"account":c("account"),c("profile");break;case"progress":c("progress");break;case"reward":c("reward");break;case"post":r(L(l(e)));break;case"friendData":r(L(l(e,["name","image","notifications","__v"])));break;case"progressData":r(L(l(e,["owner","worker","goal","notifications","__v"])));break;case"rewardData":r(L(l(e,["name","owner","images","likes","__v"])));break;case"postData":r(L(l(e,["notifications","__v"])));break;case"transactionData":r(L(l(e)))}}}},fe=function(e,t,a){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"changeLikesProgress",accountId:e,progressId:t,add:a}))},ge=function(e,t,a){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"changeLikesReward",accountId:e,rewardId:t,add:a}))},he=function(e,t,a,n){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:e,messageId:t,accountId:a,postId:n}))},ye=function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"followProgress",accountId:e,progressId:t}))},Ee=function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"unfollowProgress",accountId:e,progressId:t}))},be=function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"followAccount",accountId:e,accountFollow:t}))},ve=function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"unfollowAccount",accountId:e,accountFollow:t}))},we=function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"addFriend",accountId:e,friendId:t}))},Oe=function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"acceptFriend",accountId:e,friendId:t}))},ke=function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"unfriend",accountId:e,friendId:t}))},xe=a(429),je=a(181),Ae=function(e,t){return e?"https://websiter.s3.us-east-2.amazonaws.com/"+e+"/avatar?v="+(t||0):""},Se=a(158),_e=a(172),Ce=Object(y.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,profile:e.profile,friendData:e.friendData,friendSearchResult:e.friendSearchResult,onlineUsers:e.onlineUsers}})(function(e){var t=e.account,a=e.profile,n=e.id,o=e.friendSearchResult,i=e.onlineUsers,l=e.friendDataExp||e.friendData,s=function(e){return e===t._id?t:e===a._id?a:e===o._id?o:l[e]},u=function(t){var a=s(t)?s(t).name:t;return e.typography?r.a.createElement(Se.a,{noWrap:!0},a):a},d=function(t){var a=s(t)?r.a.createElement(je.a,{src:Ae(t,s(t).image),size:e.size||(e.noClick?20:40),style:e.group||e.noName?{}:{margin:" 0 5px"}}):null;return s(t)?i.includes(t)?r.a.createElement("span",{key:t},r.a.createElement(_e.a,{color:"green"},a)):r.a.createElement("span",{key:t},a):null};return e.onlyName?u(n):e.group?r.a.createElement("span",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(je.a.Group,{style:{margin:" 0 5px"}},e.ids.map(function(e){return d(e)}))):e.noClick?r.a.createElement(r.a.Fragment,null,!e.noAva&&d(n),!e.noName&&u(n)):e.span?r.a.createElement(c.b,{style:Object(x.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},!e.noAva&&d(n),!e.noName&&u(n)):e.inline?r.a.createElement(c.b,{style:Object(x.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},!e.noAva&&d(n),!e.noName&&u(n)):r.a.createElement(c.b,{onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},r.a.createElement(w.a,{type:"link",style:Object(x.a)({padding:"0px 5px",height:"auto"},e.style)},!e.noAva&&d(n),!e.noName&&u(n)))})),De=a(303),Te=a(23),Ne=a.n(Te),Ie=a(444),Fe=a(903),Pe=a(964),Re=a(909),Me=a(976),Le=a(860),ze=a(910),We=a(911),Be=a(912),Ye=a(908),Ue=a(913),Ge=a(900),Ve=a(914),Xe=a(263),Je=a(265),He=a(266),qe=a(264),Qe=a(902),Ze=a(203),Ke=a(897),$e=a(973),et=a(453),tt=a(898),at=a(899),nt=a(962),rt=a(901),ot=a(142),it=a(405),ct=Object(Ke.a)(function(e){return Object($e.a)({title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600},addBox:{color:e.palette.primary.main,display:"flex",alignItems:"center"}})}),lt=function(e){var t=Object(it.a)().t,a=ct();return e.items.length>0||e.empty||e.customEmpty||e.withAdd?r.a.createElement(r.a.Fragment,null,e.title&&r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},e.title),r.a.createElement(et.a,{style:{padding:"15px",display:"flex",overflowX:"auto",paddingBottom:"10px"}},0===e.items.length&&e.empty?e.customEmpty||r.a.createElement(ot.a,null):r.a.createElement(r.a.Fragment,null,e.withAdd&&r.a.createElement(tt.a,{style:{borderRadius:"15px",cursor:"pointer",flexShrink:0,width:"100px",marginRight:"10px",position:"relative",minHeight:"160px"}},r.a.createElement(at.a,{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return e.onAdd()}},r.a.createElement(Ge.a,{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"5px"}},r.a.createElement(nt.a,{style:{flexDirection:"column"},className:a.addBox},r.a.createElement(rt.a,null),r.a.createElement(nt.a,{style:{textAlign:"center"}},e.addTitle||t("g.add")))))),e.items.map(function(t,a){return r.a.createElement(tt.a,{style:{borderRadius:"15px",cursor:"pointer",flexShrink:0,width:"100px",marginRight:"10px",position:"relative"}},e.content(t,a))}),r.a.createElement(nt.a,{style:{width:"10px",flexShrink:0}})))):null},st=["https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg"],ut=function(e){if(!e)return 0;var t=e.match(/\d+$/),a=t&&t.length>0?parseInt(t[0]):0;return Math.abs(Math.round(function(e){for(e=Math.abs(e);e>1;)e/=10;return e}(a)*(st.length-1)))},dt=Object(y.g)(function(e){var t=e.images||[],a=e.friends?null:r.a.createElement("img",{style:Object(x.a)({maxWidth:"100%",margin:"auto",display:"block",borderRadius:"15px",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)"},e.style),src:t.length>0?t[0]:st[ut(e.id)]});return e.noLink?r.a.createElement(r.a.Fragment,null,a,r.a.createElement("div",{style:{padding:"5px 0px",wordBreak:"break-word",display:"flex",alignItems:"center"}},r.a.createElement(nt.a,{style:{flex:1}},e.body),e.actions&&r.a.createElement("div",{style:{marginLeft:"10px"}},e.actions))):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:e.onClickLink,style:{cursor:"pointer"}},a),r.a.createElement("div",{style:{padding:"5px 0px",wordBreak:"break-word",display:"flex",alignItems:"center"}},r.a.createElement(c.b,{to:e.onClickLink,style:{cursor:"pointer",flex:1}},e.body),e.actions&&r.a.createElement("div",{style:{marginLeft:"10px"}},e.actions)))});Ne()().format();var mt=Object(Ie.a)({palette:{primary:{main:Xe.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Xe.a[600]},select:{"&:focus":{backgroundColor:Object(Ze.fade)(Xe.a[600],.05)}}}}}),pt=Object(Ie.a)({palette:{primary:{main:Je.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Je.a[600]},select:{"&:focus":{backgroundColor:Object(Ze.fade)(Je.a[600],.05)}}}}}),ft=Object(Ie.a)({palette:{primary:{main:He.a[600]}},overrides:{MuiSelect:{selectMenu:{color:He.a[600]},select:{"&:focus":{backgroundColor:Object(Ze.fade)(He.a[600],.05)}}}}}),gt=Object(Ie.a)({palette:{primary:{main:qe.a[600]}},overrides:{MuiSelect:{selectMenu:{color:qe.a[600]},select:{"&:focus":{backgroundColor:Object(Ze.fade)(qe.a[600],.05)}}}}}),ht=Object(Ie.a)({palette:{primary:{main:Qe.a[500]}},overrides:{MuiListItem:{secondaryAction:{paddingRight:"133px",paddingLeft:0}}}}),yt=Object(y.g)(Object(u.b)(function(e){return{rewardData:e.rewardData}})(function(e){var t=Object(it.a)().t,a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],l=o[1],s=e.progress,u=e.account,d=e.rewardData,m=u&&u._id===s.owner,p=s.stages.slice(Math.max(s.stages.length-7,0)).sort(function(e,t){var a,n,r,o;if(e.old&&!t.old)return 1;if(t.old&&!e.old)return-1;if(e.day?(a=Ne()().year(e.year).dayOfYear(e.day).startOf("day"),n=Ne()().year(e.year).dayOfYear(e.day).endOf("day"),r=Ne()().year(t.year).dayOfYear(t.day).startOf("day"),o=Ne()().year(t.year).dayOfYear(t.day).endOf("day")):e.week?(a=Ne()().year(e.year).week(e.week).startOf("week"),n=Ne()().year(e.year).week(e.week).endOf("week"),r=Ne()().year(t.year).week(t.week).startOf("week"),o=Ne()().year(t.year).week(t.week).endOf("week")):e.month?(a=Ne()().year(e.year).month(e.month).startOf("month"),n=Ne()().year(e.year).month(e.month).endOf("month"),r=Ne()().year(t.year).month(t.month).startOf("month"),o=Ne()().year(t.year).month(t.month).endOf("month")):e.year&&(a=Ne()().year(e.year).startOf("year"),n=Ne()().year(e.year).endOf("year"),r=Ne()().year(t.year).startOf("year"),o=Ne()().year(t.year).endOf("year")),a){var i=Ne()();return Math.min(Math.abs(i.diff(a)),Math.abs(i.diff(n)))<=Math.min(Math.abs(i.diff(r)),Math.abs(i.diff(o)))?-1:1}return 0}),f=p.length>0?p[0].stageId:0;return 0===(p=s.stages).length?null:r.a.createElement(Fe.a,{theme:ht},r.a.createElement(De.a,{type:"card",defaultActiveKey:f?p.findIndex(function(e){return e.stageId===f}).toString():"2"},p.map(function(e,a){var n,o=function(t){return m&&e.dismissed?"dismissed":e.failBy.find(function(e){return e.accountId===t})?"fail":e.approvedBy.find(function(e){return e.accountId===t})?"complete":"process"},p=function(e){switch(o(e)){case"fail":return t("progress.failed");case"complete":return t("progress.completed");case"dismissed":return t("progress.dismissed");default:return t("progress.inProcess")}},f=u&&u._id&&o(u._id),g=o(s.owner),h=function(a){return a===u._id?r.a.createElement(Pe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,onChange:function(t){return a=t.target.value,n=u._id,r=s._id,o=e.stageId,void(ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"changeStage",value:a,progressId:r,accountId:n,stageId:o})));var a,n,r,o}},r.a.createElement(Re.a,{value:"complete"},t("progress.complete")),r.a.createElement(Re.a,{value:"process"},t("progress.inProcess")),r.a.createElement(Re.a,{value:"fail"},t("progress.fail")),r.a.createElement(Re.a,{value:"dismissed"},t("progress.dismiss"))):r.a.createElement(Me.a,{color:"primary",label:p(a)})},y=s.users.filter(function(e){return e!==s.owner}).map(function(e){var t=o(e);return r.a.createElement(Le.a,null,r.a.createElement(ze.a,null,r.a.createElement(Ce,{noName:!0,id:e})),r.a.createElement(We.a,{primary:r.a.createElement(Ce,{id:e,noAva:!0,span:!0,onlyName:!0})}),r.a.createElement(Be.a,null,r.a.createElement(Fe.a,{theme:"process"===t?pt:"complete"===t?ft:"fail"===t?mt:gt},h(e))))}),E=[r.a.createElement(Le.a,null,r.a.createElement(ze.a,null,r.a.createElement(Ce,{noName:!0,id:s.owner})),r.a.createElement(We.a,{primary:r.a.createElement(Se.a,{noWrap:!0,variant:"body2"},r.a.createElement(Ce,{id:s.owner,noAva:!0,span:!0,onlyName:!0}))}),r.a.createElement(Be.a,null,r.a.createElement(Fe.a,{theme:"process"===g?pt:"complete"===g?ft:"fail"===g?mt:gt},h(s.owner))))],b=r.a.createElement("div",null,"One time goal");return e.day?(n=Ne()().year(e.year).dayOfYear(e.day),b=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",null,n.format("dddd"))),r.a.createElement("div",null,r.a.createElement("span",null,n.format("D MMM YY"))))):e.week?(n=Ne()().year(e.year).week(e.week),b=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",null,n.format("wo")," week")),r.a.createElement("div",null,r.a.createElement("span",null,n.startOf("week").format("D MMM YY"))),r.a.createElement("div",null,r.a.createElement("span",null,n.endOf("week").format("D MMM YY"))))):e.month?(n=Ne()().year(e.year).month(e.month),b=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",null,n.format("MMMM"))),r.a.createElement("div",null,r.a.createElement("span",null,n.format("YYYY"))))):e.year&&(n=Ne()().year(e.year),b=r.a.createElement("div",null,r.a.createElement("span",null,n.format("YYYY")))),r.a.createElement(De.a.TabPane,{tab:r.a.createElement(_e.a,{color:"complete"===g?"green":"dismissed"===g?"orange":"fail"===g?"volcano":"blue"},r.a.createElement("span",{style:{fontSize:"12px",textTransform:"uppercase",textAlign:"center"}},b)),key:a},r.a.createElement(Ye.a,{dense:!0},E,y),e.paid.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{onClick:function(){return l(!i)},color:"primary",style:{}},t(i?"g.hide":"g.show")+t("progress.earnedRewards")),i&&r.a.createElement(lt,{items:e.paid.map(function(e){return d[e]}).filter(function(e){return e}),content:function(e){return r.a.createElement(Ge.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(c.b,{to:"/rewards/"+e._id},r.a.createElement(Ve.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:st[ut(e._id)],title:e.name}),r.a.createElement(Ge.a,{style:{padding:"5px"}},r.a.createElement(Se.a,{variant:"body2",noWrap:!0},e.name))))}})))})))})),Et=a(970),bt=a(915),vt=a(917),wt=a(861),Ot=a(916),kt=a(918),xt=a(919),jt=a(920),At=a(904),St=a(921),_t=a(153),Ct=a(170),Dt=a(165),Tt=a.n(Dt),Nt=function(e,t,a,n){if(null==e)return alert("No file selected.");var r=new FileReader;r.onload=function(){var r=Object(h.a)(g.a.mark(function r(o){return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:Ft(e,{width:t,height:t},function(e){e?It(e,"/120").then(function(e){Rt(e,a,n)}):n()});case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),r.readAsArrayBuffer(e)},It=function(e,t,a){return a=a||(e.match(/^data:([^;]+);/)||"")[1],fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return new File([e],t,{type:"image/jpeg"})})},Ft=function(e,t,a){if(e){var n=new FileReader;n.onload=function(e){Pt(e.target.result,t,a)},n.readAsDataURL(e)}},Pt=function(e,t,a){try{var n,r=new Image;r.onload=function(){var e=r.width/t.width,o=r.height/t.height,i=document.createElement("canvas"),c=i.getContext("2d");i.width=r.width,i.height=r.height,c.drawImage(r,0,0),(e>1||o>1)&&(r.width>r.height?(i.height=r.height/r.width*t.width,i.width=t.width):(i.width=r.width/r.height*t.width,i.height=t.width)),c.drawImage(i,0,0,i.width,i.height),c.drawImage(r,0,0,i.width,i.height),n=i.toDataURL("image/jpeg",.6),a(n)},r.onerror=function(){a()},r.src=e}catch(o){}},Rt=function(e,t,a){return s.a.post("/api/sign-s3",{fileName:t}).then(function(t){Mt(e,t.data,a)}).catch(function(e){})},Mt=function(e,t,a){return s.a.put(t.signedRequest,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){a(t.url),S.b.success("The image has been saved.")}).catch(function(e){})},Lt=function(e){var t=Object(it.a)().t,a=Object(n.useState)(e.images||[]),o=Object(j.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(),s=Object(j.a)(l,2),u=s[0],d=s[1];return Object(n.useEffect)(function(){e.onValueChange(i)},[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{accept:"image/*",listType:"picture-card",fileList:i.map(function(e,t){return{url:e,uid:t}}),onPreview:function(e){d(e.url)},onChange:function(e){var t=e.fileList;return c(t.map(function(e){return e.url}))},customRequest:function(e){var t=e.file;Nt(t,800,void 0,function(e){c(e?[].concat(Object(k.a)(i),[e]):Object(k.a)(i))})}},i.length>=8?null:r.a.createElement("div",{style:{flex:1,display:"flex",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},onClick:function(e){window.isRNWebView&&(e.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(e){c([].concat(Object(k.a)(i),[e]))})}},r.a.createElement(Tt.a,null),r.a.createElement("div",{className:"ant-upload-text"},t("g.upload")))),r.a.createElement(Et.a,{open:Boolean(u),onClose:function(){return d()}},r.a.createElement(bt.a,{id:"scroll-dialog-title"},t("g.previewImage")),r.a.createElement(Ot.a,{dividers:!0},r.a.createElement("img",{src:u,style:{width:"100%"}})),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){return d()},color:"primary"},t("g.close")))))},zt=a(412),Wt=a(168),Bt=(a(772),a(413)),Yt=a.n(Bt),Ut=function(e){var t,a=Object(it.a)().t;if("string"===typeof e.value){var n=Yt()(e.value),o=n.contentBlocks,i=n.entityMap;t=Wt.ContentState.createFromBlockArray(o,i),t=Object(Wt.convertToRaw)(t)}else t=e.value;return r.a.createElement(zt.Editor,Object.assign({placeholder:a("g.addSomeText"),readOnly:e.readOnly,wrapperClassName:"demo-wrapper"},e.readOnly?{contentState:t}:{editorClassName:"demo-editor"},{defaultContentState:t,onContentStateChange:function(t){e.onEditorChange&&e.onEditorChange(t),e.onEditorChangePlain&&e.onEditorChangePlain(Object(Wt.convertFromRaw)(t).getPlainText(" "))},toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0}},toolbarHidden:e.readOnly,options:!e.readOnly&&["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","emoji","remove","history"]}))},Gt=200,Vt=1e4,Xt=1e4,Jt=[{required:!0,message:N.t("rules.nicknameShort"),whitespace:!0,min:2},{message:"".concat(N.t("rules.nicknameLong")," ").concat(Gt,"."),whitespace:!0,max:Gt},{pattern:/^[a-zA-Z0-9_-]*$/,message:N.t("rules.nicknameType")}],Ht=[{required:!0,min:1,whitespace:!0,message:N.t("rules.nameShort")},{max:Gt,message:"".concat(N.t("rules.nameLong")," ").concat(Gt,".")}],qt=[{required:!0,min:2,whitespace:!0,message:N.t("rules.accNameShort")},{max:Gt,message:"".concat(N.t("rules.accNameLong")," ").concat(Gt,".")}],Qt=("".concat(N.t("rules.descLong")," ").concat(Vt,"."),N.t("rules.messageShort"),"".concat(N.t("rules.messageLong")," ").concat(Xt,"."),function(e){return r.a.createElement(kt.a,Object.assign({direction:"left"},e))}),Zt=Object(Ke.a)(function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}}}),Kt={labelCol:{span:4},wrapperCol:{span:20}},$t=Object(u.b)(function(e){return{account:e.account}})(function(e){var t=Object(it.a)().t,a=Zt(),o=Object(n.useState)(e.reward||{images:[]}),i=Object(j.a)(o,2),c=i[0],l=i[1];Object(n.useEffect)(function(){l(e.reward||{images:[]})},e.open);var s=e.wish;return r.a.createElement(Et.a,{fullScreen:!0,open:e.open,onClose:e.close,TransitionComponent:Qt},e.open&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.a,{className:a.appBar,color:"primary"},r.a.createElement(jt.a,null,r.a.createElement(wt.a,{edge:"start",color:"inherit",onClick:e.close,"aria-label":"close"},r.a.createElement(St.a,null)),r.a.createElement(Se.a,{variant:"h6",className:a.title,color:"inherit"},(e.reward?t("reward.edit"):t("reward.addNew"))+t(s?"reward.item":"reward.reward")),r.a.createElement(Ue.a,{autoFocus:!0,color:"inherit",onClick:function(){!function(e,t,a){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"saveReward",accountId:e,reward:t,wish:a}))}(e.account._id,c,s),e.close()}},t("g.save")))),r.a.createElement(jt.a,null),r.a.createElement(_t.a,Object.assign({style:{maxWidth:"1200px",margin:"0 auto",padding:"15px",width:"100%"},name:"new_reward"},Kt),r.a.createElement(_t.a.Item,{name:"images",label:t("g.images")},r.a.createElement(Lt,{images:c.images,onValueChange:function(e){return l(Object(x.a)({},c,{images:e}))}})),r.a.createElement(_t.a.Item,{label:t("g.name"),rules:Ht},r.a.createElement(At.a,{fullWidth:!0,value:c.name,onChange:function(e){var t=e.target.value;return l(Object(x.a)({},c,{name:t}))}})),r.a.createElement(_t.a.Item,{label:t("g.desc")},r.a.createElement(Ut,{value:c.description,onEditorChange:function(e){l(function(t){return Object(x.a)({},t,{description:e})})},onEditorChangePlain:function(e){return l(function(t){return Object(x.a)({},t,{descriptionText:e})})}})))))}),ea=a(965),ta=Object(Ke.a)({text:{"&>div::after":{border:"none"},"&>div::before":{border:"none !important"},"& textarea":{fontSize:"14px"}}}),aa=Object(y.g)(function(e){var t=Object(it.a)().t,a=ta(),o=Object(n.useState)(""),i=Object(j.a)(o,2),c=(i[0],i[1],Object(n.useState)(!1)),l=Object(j.a)(c,2),s=(l[0],l[1]),u=Object(n.useState)(e.images||[]),d=Object(j.a)(u,2),m=d[0],p=d[1],f=e.post,g=e.account,h=Object(n.useState)(e.content||(e.replyToUser?"@"+e.replyToUser+" ":"")),y=Object(j.a)(h,2),E=y[0],b=y[1];Object(n.useEffect)(function(){b(e.content||(e.replyToUser?"@"+e.replyToUser+" ":""))},[e.replyToUser,e.content]);return f&&g._id?r.a.createElement(nt.a,{style:{display:"flex",width:"100%",margin:"10px 0px"}},r.a.createElement(nt.a,{style:{marginRight:"10px"}},r.a.createElement(Ce,{noName:!0,id:g._id,span:!0,size:e.isTop?36:25})),r.a.createElement(nt.a,{style:{flex:1}},r.a.createElement(nt.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px"}},r.a.createElement(ea.a,{multiline:!0,value:E,onChange:function(e){return b(e.target.value)},margin:"dense",placeholder:t("post.addComment"),className:a.text,fullWidth:!0}),m.length>0&&r.a.createElement(Lt,{images:m,onValueChange:function(e){return p(e)}}),r.a.createElement(Ue.a,{onClick:function(){var t,a,n,r,o,i;t=g._id,a=f._id,n=E,r=m,o=e.replyTo,i=e.editingMessage,ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"sendMessage",messageValue:n,image:r,postId:a,accountId:t,replyToMessage:o,editedMessage:i})),b(""),p([]),e.onSend&&e.onSend()}},r.a.createElement("span",{style:ba},t("g.send"))),r.a.createElement(Ct.a,{accept:"image/*",showUploadList:!1,customRequest:function(e){var a=e.file;m.length>8?message.warning(t("post.imageLimit")):(s(!0),Nt(a,800,void 0,function(e){s(!1),p(e?[].concat(Object(k.a)(m),[e]):Object(k.a)(m))}))}},r.a.createElement(Ue.a,{onClick:function(e){window.isRNWebView&&(e.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(e){s(!1),p([].concat(Object(k.a)(m),[e]))})}},r.a.createElement("span",{style:ba},t("g.image")))),e.cancel&&r.a.createElement(Ue.a,{onClick:e.cancel},r.a.createElement("span",{style:ba},t("g.cancel")))))):null}),na=a(415),ra=a(414),oa=a.n(ra),ia=a(95),ca=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),o=a[0],i=a[1];return e.images&&e.images.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,{style:{width:e.size||"auto",margin:"10px 0"},dots:{className:oa.a.Dots},autoplay:!0},e.images.map(function(t,a){return t&&r.a.createElement("div",{key:a,onClick:function(){return i(t)}},r.a.createElement("div",{style:{backgroundImage:'url("'+t+'")',backgroundSize:e.type||"contain",backgroundPosition:"center",width:e.size||"100%",height:e.height||e.size||"300px",maxWidth:"800px",backgroundRepeat:"no-repeat",borderRadius:"20px",margin:"auto"}}))})),r.a.createElement(ia.a,{visible:o,footer:null,onCancel:function(){return i("")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o}))):null},la=a(451),sa=a(923),ua=function(e){return r.a.createElement(kt.a,Object.assign({direction:"up"},e))},da=Object(Ke.a)(function(e){return Object($e.a)({appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),ma=function(e){var t=Object(it.a)().t,a=da();return r.a.createElement(Et.a,{fullScreen:!0,open:e.open,onClose:e.close,TransitionComponent:ua},r.a.createElement(xt.a,{className:a.appBar,color:"primary"},r.a.createElement(jt.a,null,r.a.createElement(wt.a,{edge:"start",color:"inherit",onClick:e.close,"aria-label":"close"},r.a.createElement(St.a,null)),r.a.createElement(Se.a,{variant:"h6",className:a.title,color:"inherit"},e.title),e.save&&r.a.createElement(Ue.a,{autoFocus:!0,color:"inherit",onClick:e.save},e.saveText||t("g.save")))),r.a.createElement(jt.a,null),e.children)},pa=function(e){var t=Object(it.a)().t,a=e.account,n=e.type,o=e.id;return a&&a._id&&a._id!==o?"progress"===n?a.followProgresses.includes(o)?r.a.createElement(Ue.a,{variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),Ee(a._id,o)}},t("g.unfollow")):r.a.createElement(Ue.a,{color:"primary",variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),ye(a._id,o)}},t("g.follow")):a.followAccounts.includes(o)?r.a.createElement(Ue.a,{variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),ve(a._id,o)}},t("g.unfollow")):r.a.createElement(Ue.a,{color:"primary",variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),be(a._id,o)}},t("g.follow")):null},fa=a(922),ga=a(924),ha=function(e){var t=Object(it.a)().t,a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(!1),s=Object(j.a)(l,2),u=s[0],d=s[1],m=Object(n.useRef)(null);return Object(n.useEffect)(function(){m.current&&m.current.offsetHeight>e.initialHeight&&c(!0)},[m.current&&m.current.offsetHeight,e.content,e.contentEditor,e.children]),r.a.createElement("div",{style:{maxHeight:u?"initial":e.initialHeight+"px",overflow:"hidden",position:"relative",paddingBottom:i&&u?"50px":"0px"}},e.content&&r.a.createElement("div",{ref:m,dangerouslySetInnerHTML:{__html:e.content}}),e.contentEditor&&r.a.createElement("div",{ref:m},r.a.createElement(Ut,{readOnly:!0,value:e.contentEditor})),e.children&&r.a.createElement("div",{ref:m},e.children),i&&r.a.createElement("div",{style:{position:"absolute",bottom:0,width:"100%"}},r.a.createElement("div",{style:{transition:"opacity 0.25s",opacity:u?0:1,backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 1), #ffffff )",content:"",height:"50px",width:"100%",bottom:"0",left:"0",position:"absolute"}}),r.a.createElement(Ue.a,{color:"primary",onClick:function(){return d(!u)}},u?t("g.readLess"):t("g.readMore")+(e.addTitle||""))))},ya=Object(Ke.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),Ea=function(e){var t=Object(it.a)().t,a=ya(),o=Object(n.useState)(e.images||[]),i=Object(j.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(e.content||""),u=Object(j.a)(s,2),d=u[0],m=u[1];Object(n.useEffect)(function(){l(e.images||[]),m(e.content||"")},[e.open]);var p=function(){e.save(c,d),f()},f=function(){l([]),m(""),e.cancel()};return r.a.createElement(ma,{open:e.open,close:f,title:e.title,save:p},r.a.createElement(nt.a,{style:{padding:"0 16px",maxWidth:"1200px",margin:"0 auto",width:"100%"}},r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.desc")),r.a.createElement(nt.a,null,r.a.createElement(Ut,{value:d,onEditorChange:function(e){return m(e)}})),r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.images")),r.a.createElement(Lt,{images:c,onValueChange:function(e){return l(e)}}),r.a.createElement(nt.a,{style:{textAlign:"right",marginTop:"50px"}},r.a.createElement(Ue.a,{size:"large",onClick:f},t("g.cancel")),r.a.createElement(Ue.a,{color:"primary",variant:"contained",size:"large",style:{marginLeft:"10px",marginRight:"50px"},onClick:p},t("g.save")))))};Ne()().format();var ba={fontSize:"12px",color:"#666",textTransform:"none"},va=Object(y.g)(function e(t){var a=Object(it.a)().t,o=t.account,i=t.message,c=t.friendData,l=(t.progressData,t.post),s=t.replies,u=t.isStart,d=Object(n.useState)(!1),m=Object(j.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(null),h=Object(j.a)(g,2),y=h[0],E=h[1],b=Object(n.useState)(""),v=Object(j.a)(b,2),w=v[0],O=v[1],k=Object(n.useState)(""),A=Object(j.a)(k,2),S=A[0],_=A[1],C=Object(n.useState)(!1),D=Object(j.a)(C,2),T=D[0],N=D[1],I=Object(n.useState)(null),F=Object(j.a)(I,2),P=F[0],R=F[1],M=Object(n.useState)(!1),L=Object(j.a)(M,2),z=L[0],W=L[1],B=function(){W(!1)};return o&&c?r.a.createElement(r.a.Fragment,null,o._id===i.author&&S?r.a.createElement(aa,{post:l,account:o,replyTo:i.messageId,editingMessage:S,content:i.text,images:i.image,onSend:function(){return _("")},cancel:function(){return _("")}}):r.a.createElement(r.a.Fragment,null,t.isStart?r.a.createElement(nt.a,{style:{display:"flex",width:"100%",margin:"10px 0px"}},r.a.createElement(nt.a,{style:{marginRight:"10px"}},r.a.createElement(Ce,{noName:!0,id:i.author,span:!0})),r.a.createElement(nt.a,{style:{flex:1}},r.a.createElement("span",{style:{color:"#333",fontWeight:"bold",fontSize:"14px"}},r.a.createElement(Ce,{id:i.author,span:!0,noAva:!0})," ",r.a.createElement("div",{style:ba,onClick:function(){return t.history.push("progress"===l.parent.parentType&&"/goals/"+l.parent.parentId+"/post/"+l._id)}},Ne()(i.date).fromNow()),l.startMessage&&["wishlist","perk","goal"].includes(l.startMessage.messageType)&&r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return t.history.push("/profile/"+i.author)}},"wishlist"===l.startMessage.messageType?a("g.wishlist"):"goals"===l.startMessage.messageType?a("g.goals"):a("g.rewards")))),o._id===i.author&&r.a.createElement(nt.a,null,r.a.createElement(wt.a,{onClick:function(e){return R(e.currentTarget)}},r.a.createElement(fa.a,null)),r.a.createElement(la.a,{id:"simple-menu",anchorEl:P,keepMounted:!0,open:Boolean(P),onClose:function(){return R(null)}},r.a.createElement(Re.a,{onClick:function(){W(!0),R(null)}},a("g.edit"))),r.a.createElement(Ea,{open:z,cancel:B,title:a("post.editPost"),save:function(e,a){!function(e,t,a,n){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"editPost",accountId:e,postId:t,messageValue:a,images:n}))}(o._id,l._id,a,e),t.onSend&&t.onSend(),B()},images:i.image,content:i.text}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{style:{display:"flex",width:"100%"}},r.a.createElement(nt.a,{style:{marginRight:"10px"}},r.a.createElement(Ce,{noName:!0,id:i.author,span:!0,size:t.isTop?36:25})),r.a.createElement(nt.a,{style:{flex:1}},r.a.createElement(sa.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circle",badgeContent:i.likes.length?r.a.createElement(Me.a,{icon:r.a.createElement(ga.a,null),color:"primary",label:i.likes.length,size:"small",onClick:function(){return E(i.likes)}}):0},r.a.createElement(nt.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px"}},r.a.createElement(Ce,{id:i.author,span:!0,noAva:!0}),i.image&&i.image.length>0&&r.a.createElement(ca,{images:i.image,height:"60vmin",type:"contain"}),i.text&&r.a.createElement("p",{style:{wordBreak:"break-word"}},i.text))),r.a.createElement(nt.a,null,r.a.createElement("span",{style:Object(x.a)({},ba,{marginRight:"15px"})},Ne()(i.date).fromNow()),r.a.createElement(Ue.a,{onClick:function(){return he(i.likes.includes(o._id)?"dislikeMessage":"likeMessage",i.messageId,o._id,l._id)}},r.a.createElement("span",{style:ba},i.likes.includes(o._id)?a("g.unlike"):a("g.like"))),i.author!==o._id&&r.a.createElement(Ue.a,{onClick:function(){t.setReplyVisible?(t.setReplyVisible(!0),t.setReplyToUser(t.message.author)):(f(!0),O("")),N(!0)}},r.a.createElement("span",{style:ba},a("post.reply"))),i.author===o._id&&r.a.createElement(Ue.a,{onClick:function(){return _(i.messageId)}},r.a.createElement("span",{style:ba},a("g.edit")))),t.isTop&&s&&s.length>0?T?s.map(function(t,a){return r.a.createElement(e,{key:a,message:t,post:l,account:o,friendData:c,setReplyVisible:f,setReplyToUser:O})}):r.a.createElement(Ue.a,{onClick:function(){return N(!0)}},r.a.createElement("span",{style:Object(x.a)({},ba,{fontSize:"15px"})},"".concat(a("g.show")," ").concat(s.length," ").concat(a("post.replies")))):null,t.isTop&&p?r.a.createElement(aa,{post:l,account:o,replyTo:i.messageId,replyToUser:w,cancel:function(){return f(!1)}}):null))),u?r.a.createElement(r.a.Fragment,null,"wishlist"===i.messageType&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{style:{fontWeight:"bold",cursor:"pointer",margin:"10px 0px 0px "},onClick:function(){return t.history.push("/wishlist/".concat(i.details.owner,"/").concat(i.details.itemId))}},i.details.name)),i.text&&r.a.createElement(ha,{initialHeight:700,contentEditor:i.text}),i.image&&i.image.length>0&&r.a.createElement(ca,{images:i.image,height:"60vmin",type:"contain"})):r.a.createElement(r.a.Fragment,null)),r.a.createElement(ma,{open:Boolean(y),close:function(){return E(null)},title:"Message likes"},y&&y.map(function(e){return r.a.createElement(dt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(pa,{account:o,id:e}),body:r.a.createElement(Ce,{span:!0,id:e,size:50})})}))):null}),wa=a(941),Oa=a(942),ka=a(943),xa=a(864),ja=a(971),Aa=a(925),Sa=a(940),_a=a(926),Ca=a(927),Da=a(928),Ta=a(929),Na=a(930),Ia=a(931),Fa=a(932),Pa=a(933),Ra=a(934),Ma=a(935),La=a(936),za=a(937),Wa=a(938),Ba=a(939),Ya=a(418),Ua=a(963),Ga=a(157),Va=Object(u.b)(function(e){return{account:e.account,friendData:e.friendData}})(function(e){var t=Object(it.a)().t,a=e.account,n=e.friendData;return a._id&&n?r.a.createElement(Ga.a,{mode:"multiple",style:{width:"100%"},placeholder:t("g.pleaseSelect"),value:e.value,onChange:e.onChange,getPopupContainer:function(e){return e.parentNode}},[e.account].concat(Object(k.a)(e.account.friends.filter(function(e){return"friend"===e.status}).map(function(t){return e.friendData[t.friend]}))).map(function(e){return e&&e._id&&r.a.createElement(Ga.a.Option,{key:e._id},r.a.createElement(Ce,{id:e._id,noClick:!0}))})):r.a.createElement("span",null,"Please login to share with your Addspire friends.")}),Xa=Object(y.g)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData}})(function(e){var t=Object(it.a)().t,a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(!1),s=Object(j.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)([]),p=Object(j.a)(m,2),f=p[0],g=p[1],h=e.account,y={url:e.link||window.location.href,title:e.title,media:e.media||"https://addspire.com/logo.jpg",style:{margin:"10px",display:"inline-block",textAlign:"center",cursor:"pointer"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(xa.a,{title:t("g.share"),enterDelay:500,leaveDelay:200},e.post?r.a.createElement(Ue.a,{onClick:function(){return d(!0)},startIcon:r.a.createElement(Aa.a,null)},r.a.createElement("span",{style:ba},t("g.share"))):r.a.createElement(wt.a,{style:e.style,onClick:function(){return d(!0)}},r.a.createElement(Aa.a,null))),r.a.createElement(Et.a,{open:u,onClose:function(){return d(!1)}},r.a.createElement(bt.a,null,t("g.shareTo")),r.a.createElement(Ot.a,null,r.a.createElement(nt.a,{style:{margin:"10px auto 30px"}},r.a.createElement(Se.a,{variant:"subtitle1"},t("g.addspireFriends"),":"),r.a.createElement(nt.a,{style:{marginTop:"15px",padding:"10px"}},r.a.createElement(Va,{value:f,onChange:function(e){return g(e)}}),r.a.createElement(Ue.a,{color:"primary",style:{marginTop:"10px"},onClick:function(){return f.length>0&&function(e,t,a,n){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"shareWithFriends",accountId:e,url:t,friends:a,item:n}))}(h._id,y.url,f,e.item)}},t("g.send")))),r.a.createElement(nt.a,null,r.a.createElement(Se.a,{variant:"subtitle1"},t("g.otherFriends"),":")),r.a.createElement(nt.a,{style:{marginTop:"15px",padding:"10px"}},r.a.createElement(_a.a,Object.assign({},y,{quote:e.title}),r.a.createElement(Ca.a,{size:32,round:!0}),r.a.createElement(nt.a,null,"Facebook")),r.a.createElement(Da.a,y,r.a.createElement(Ta.a,{size:32,round:!0}),r.a.createElement(nt.a,null,"Twitter")),r.a.createElement(Na.a,y,r.a.createElement(Ia.a,{size:32,round:!0}),r.a.createElement(nt.a,null,"Telegram")),r.a.createElement(Fa.a,y,r.a.createElement(Pa.a,{size:32,round:!0}),r.a.createElement(nt.a,null,"Pinterest")),r.a.createElement(Ra.a,y,r.a.createElement(Ma.a,{size:32,round:!0}),r.a.createElement(nt.a,null,"LinkedIn")),r.a.createElement(La.a,Object.assign({},y,{image:e.media}),r.a.createElement(za.a,{size:32,round:!0}),r.a.createElement(nt.a,null,"VK")),r.a.createElement(Wa.a,Object.assign({},y,{subject:e.title,body:"body"}),r.a.createElement(Ba.a,{size:32,round:!0}),r.a.createElement(nt.a,null,t("g.email"))),r.a.createElement(Ya.CopyToClipboard,Object.assign({text:y.url},y,{onCopy:function(){return c(!0)}}),r.a.createElement(nt.a,null,r.a.createElement(Sa.a,{style:{fontSize:32}}),r.a.createElement(nt.a,null,t("g.copyUrl")))))),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){return d(!1)}},t("g.close")))),r.a.createElement(ja.a,{open:i,autoHideDuration:2e3,onClose:function(){return c(!1)}},r.a.createElement(Ua.a,{onClose:function(){return c(!1)},severity:"success"},t("g.urlCopied"))))}));function Ja(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Ha(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ha(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var qa=Object(Ke.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),Qa=Object(y.g)(function(e){var t=Object(it.a)().t,a=qa(),o=e.post,i=e.account,c=e.friendData,l=e.progressData,s=e.history.location.pathname.indexOf(o._id)>-1,u=Object(n.useState)(e.showReplies||s),d=Object(j.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(null),g=Object(j.a)(f,2),h=g[0],y=g[1],E=Object(n.useRef)(null);return Object(n.useEffect)(function(){s&&E.current&&(window.scrollTo({top:E.current.offsetTop-70,behavior:"smooth"}),p(!0))},[s]),o?r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("post.mainPost")),r.a.createElement(tt.a,{elevation:s&&3},r.a.createElement(Ge.a,{ref:E},!e.noStartMessage&&r.a.createElement(r.a.Fragment,null,r.a.createElement(va,{message:o.startMessage,post:o,account:i,friendData:c,progressData:l,replies:[],isStart:!0}),o.startMessage.likes.length>0&&r.a.createElement(Me.a,{icon:r.a.createElement(ga.a,null),color:"primary",label:o.startMessage.likes.length,size:"small",onClick:function(){return y(o.startMessage.likes)},style:{marginBottom:"10px"}}),r.a.createElement(wa.a,null)),r.a.createElement("div",{style:{textAlign:"left",position:"relative"}},!e.noPostControls&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(Ue.a,{onClick:function(){return he(o.startMessage.likes.includes(i._id)?"dislikeMessage":"likeMessage",o.startMessage.messageId,i._id,o._id)},startIcon:r.a.createElement(Oa.a,null)},r.a.createElement("span",{style:ba},o.startMessage.likes.includes(i._id)?t("g.unlike"):t("g.like")))),r.a.createElement("span",null,r.a.createElement(Ue.a,{onClick:function(){return p(!0)},startIcon:r.a.createElement(ka.a,null)},r.a.createElement("span",{style:ba},t("post.comment")))),r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(Xa,{post:!0,link:"progress"===o.parent.parentType&&"https://addspire.com/goals/"+o.parent.parentId+"/post/"+o._id,media:o.startMessage.image&&o.startMessage.image.length>0&&o.startMessage.image[0],title:t("post.shareText"),item:{postId:o._id}}))),r.a.createElement(wa.a,null)),m?r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,{post:o,account:i,isTop:!0}),o.messages&&o.messages.length?o.messages.map(function(e,t){return r.a.createElement(va,{key:t,message:e,post:o,account:i,friendData:c,replies:e.replies,isTop:!0})}):null):o.messages.length>0&&r.a.createElement(Ue.a,{onClick:function(){return p(!0)}},r.a.createElement("span",{style:Object(x.a)({},ba,{fontSize:"15px"})},"".concat(t("g.show")," \n                                        ").concat(function(e){var t,a=0,n=Ja(e);try{for(n.s();!(t=n.n()).done;)a=a+1+t.value.replies.length}catch(r){n.e(r)}finally{n.f()}return a}(o.messages)," \n                                        ").concat(t("post.comments"))))))),r.a.createElement(ma,{open:Boolean(h),close:function(){return y(null)},title:t("post.messageLikes")},h&&h.map(function(e){return r.a.createElement(dt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(pa,{account:i,id:e}),body:r.a.createElement(Ce,{span:!0,id:e,size:50})})})),s&&r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("post.otherPosts"))):null}),Za=function(e,t,a,n,r){s.a.get("/api"+e.history.location.pathname).then(function(t){I(t,e),a(t.data),r(t.data)}).catch(function(e){})},Ka=a(267),$a=a.n(Ka),en=a(204),tn=a(944),an=a(945),nn=a(968),rn=new O.a,on=function(e){return r.a.createElement(kt.a,Object.assign({direction:"up"},e))},cn=Object(y.g)(function(e){var t=Object(it.a)().t,a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(!1),s=Object(j.a)(l,2),u=s[0],d=s[1];Object(n.useEffect)(function(){p()});var m="?rememberme=false";i&&(m="?rememberme=true");var p=function(){rn.get("cookies_consent")&&d(!0)},f="https://addspire.com/api/auth/";return e.loginVisible?u?r.a.createElement(Et.a,{fullScreen:!0,open:e.loginVisible,onClose:function(){return e.setLoginVisible(!1)},TransitionComponent:on},r.a.createElement("div",{className:"contentDiv"},r.a.createElement("div",{className:$a.a.Container,style:{maxWidth:"500px",margin:"0 auto"}},r.a.createElement("h1",{style:{fontWeight:"bold",lineHeight:"1.3em",marginBottom:0,fontSize:"2.5em"}},t("login.welcome")),r.a.createElement("div",{className:$a.a.socialButtons,style:{marginBottom:"30px"}},r.a.createElement(en.FacebookLoginButton,{onClick:function(){return window.location=f+"facebook/start".concat(m)}}),r.a.createElement(en.GoogleLoginButton,{onClick:function(){return window.location=f+"google/start".concat(m)}}),r.a.createElement(en.InstagramLoginButton,{onClick:function(){return window.location=f+"instagram/start".concat(m)}}),r.a.createElement(en.GithubLoginButton,{onClick:function(){return window.location=f+"github/start".concat(m)}})),r.a.createElement(an.a,{control:r.a.createElement(nn.a,{checked:i,onChange:function(){return c(!i)},color:"primary"}),label:t("login.rememberMe")}),r.a.createElement(wa.a,{style:{margin:"20px"}}),r.a.createElement(Ue.a,{onClick:function(){return e.setLoginVisible(!1)},color:"secondary"},t("login.loginLater"))),r.a.createElement("div",{className:$a.a.Background}))):r.a.createElement(Et.a,{open:!u},r.a.createElement(bt.a,null,"Cookies consent"),r.a.createElement(Ot.a,null,r.a.createElement(tn.a,null,t("login.cookieText"))),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){e.setLoginVisible(!1),d(!1)}},t("g.disagree")),r.a.createElement(Ue.a,{onClick:function(){rn.set("cookies_consent","true",{path:"/",maxAge:3153e4}),p()},color:"primary",autoFocus:!0},t("g.agree")))):null}),ln=a(422),sn=function(e){return e.account._id?r.a.createElement(sr,{onFinish:function(t){!function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"startProgress",accountId:e,value:t}))}(e.account._id,t),e.setStartProgressVisible(!1),document.body.removeAttribute("style")},account:e.account,friendData:e.friendData,cancel:e.cancel}):null},un=a(948),dn=a(949),mn=a(950),pn=a(946),fn=a(979),gn=a(977),hn=a(978),yn=a(952),En=a(951),bn=a(953),vn=a(954),wn=a(955),On=a(956),kn=function(e){var t=Object(it.a)().t,a=Object(n.useState)(null),o=Object(j.a)(a,2),i=o[0],c=o[1],l=e.invitingFriends,s=e.invitedFriends,u=e.realFriends,d=e._id,m=e.account,p=m?m._id:"";if(!p)return null;var f=function(){c(null)},g=function(e){c(e.currentTarget)};return p===d?e.additionalButtons?r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{onClick:function(e){return g(e)}},r.a.createElement(fa.a,null)),r.a.createElement(la.a,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:f},e.additionalButtons.map(function(e,t){return r.a.createElement(Re.a,{key:t+100,onClick:function(){e.onClick(),f()}},e.title)}))):null:r.a.createElement(r.a.Fragment,null,e.minimized?e.asText?r.a.createElement(Ue.a,{onClick:function(e){return g(e)},variant:"contained",color:"primary"},t("g.actions")):r.a.createElement(wt.a,{onClick:function(e){return g(e)}},r.a.createElement(fa.a,null)):l.find(function(e){return e.friend===d})?r.a.createElement(nt.a,null,r.a.createElement(Ue.a,{color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),Oe(p,d)}},t("g.acceptFriendship")),r.a.createElement(wt.a,{onClick:function(e){return g(e)}},r.a.createElement(fa.a,null))):[].concat(Object(k.a)(u),Object(k.a)(l),Object(k.a)(s)).find(function(e){return e.friend===d})?e.asText?r.a.createElement(Ue.a,{onClick:function(e){return g(e)},variant:"contained",color:"primary"},t("g.actions")):r.a.createElement(wt.a,{onClick:function(e){return g(e)}},r.a.createElement(fa.a,null)):r.a.createElement(nt.a,null,r.a.createElement(Ue.a,{color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),we(p,d)}},t("g.becomeFriends")),r.a.createElement(wt.a,{onClick:function(e){return g(e)}},r.a.createElement(fa.a,null))),r.a.createElement(la.a,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:f},e.minimized&&l.find(function(e){return e.friend===d})&&r.a.createElement(Re.a,{key:7,onClick:function(){Oe(p,d),f()}},t("g.acceptFriendship")),e.minimized&&![].concat(Object(k.a)(u),Object(k.a)(l),Object(k.a)(s)).find(function(e){return e.friend===d})&&r.a.createElement(Re.a,{key:7,onClick:function(){we(p,d),f()}},t("g.becomeFriends")),e.additionalButtons&&e.additionalButtons.map(function(e,t){return r.a.createElement(Re.a,{key:t+100,onClick:function(){e.onClick,f()}},e.title)}),l.find(function(e){return e.friend===d})?r.a.createElement(Re.a,{key:"2",onClick:function(){ke(p,d),f()}},t("g.decline")):s.find(function(e){return e.friend===d})?r.a.createElement(Re.a,{key:"3",onClick:function(){ke(p,d),f()}},t("g.cancelInvitation")):u.find(function(e){return e.friend===d})?r.a.createElement(Re.a,{key:"4",onClick:function(){ke(p,d),f()}},t("g.unfriend")):null,e.noFollow?null:m.followAccounts.includes(d)?r.a.createElement(Re.a,{key:"5",onClick:function(){ve(p,d),f()}},t("g.unfollow")):r.a.createElement(Re.a,{key:"6",onClick:function(){be(p,d),f()}},t("g.follow"))))},xn=Object(y.g)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed}},function(e){return{setData:function(t,a){return e(L(t))},tryAuth:function(t,a){return e(P(t))}}})(function(e){var t=Object(it.a)().t;return r.a.createElement(dt,{friends:!0,noLink:!0,actions:r.a.createElement(kn,{account:e.account,realFriends:e.realFriends,invitedFriends:e.invitedFriends,invitingFriends:e.invitingFriends,_id:e.friend._id,additionalButtons:[{title:t("g.seeProfile"),onClick:function(){return e.history.push("/profile/"+e.friend._id)}}],asIcons:!0}),body:r.a.createElement(Ce,{span:!0,id:e.friend._id,size:50})})})),jn=a(454),An=a(947);function Sn(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return _n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _n(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Cn=Object(Ke.a)(function(e){return Object($e.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%",margin:"30px auto"},input:{marginLeft:e.spacing(1),flex:1,margin:"auto"},iconButton:{padding:10}})}),Dn=Object(u.b)(function(e){return{searchResult:e.friendSearchResult}},function(e){return{setFriendSearchResult:function(t){return e(W(t))}}})(function(e){var t=Object(it.a)().t,a=Cn();Object(n.useEffect)(function(){e.setFriendSearchResult({}),l("")},[e.open]);var o=Object(n.useState)(""),i=Object(j.a)(o,2),c=i[0],l=i[1],s=e.account,u=e.friendData,d=e.searchResult;if(!s._id)return null;var m=[],p=[],f=[];if(s.friends){var g,h=Sn(s.friends);try{for(h.s();!(g=h.n()).done;){var y=g.value,E=Object(x.a)({},u[y.friend],y);E&&("friend"===E.status?m.push(E):"invited"===E.status?p.push(E):"inviting"===E.status&&f.push(E))}}catch(b){h.e(b)}finally{h.f()}}return r.a.createElement(pn.a,{style:{paddingTop:"20px",maxWidth:"800px"}},r.a.createElement(Se.a,{variant:"body2",align:"center"},t("friends.instructions")),r.a.createElement(et.a,{className:a.root},r.a.createElement(jn.a,{className:a.input,placeholder:t("friends.searchFriends"),onChange:function(e){return l(e.target.value)}}),r.a.createElement(wt.a,{className:a.iconButton,onClick:function(){return e=c,void(ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"searchFriends",search:e})));var e}},r.a.createElement(An.a,null))),d.length>0&&d.map(function(t){return r.a.createElement(xn,Object.assign({},e,{friend:t,realFriends:m,invitingFriends:f,invitedFriends:p}))}))}),Tn=a(423),Nn=a.n(Tn),In=a(424),Fn=a.n(In),Pn=Object(Ke.a)(function(e){return Object($e.a)({language:{margin:e.spacing(0,.5,0,1)},languageText:Object(U.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),languageIcon:Object(U.a)({display:"block"},e.breakpoints.up("sm"),{display:"none"})})}),Rn=Object(u.b)(function(e){return{currentLanguage:e.language}})(function(e){var t=e.currentLanguage,a=Object(it.a)(),o=a.i18n,i=a.t,c=Pn(),l=Object(n.useState)(null),s=Object(j.a)(l,2),u=s[0],d=s[1],m=function(e){e&&o.changeLanguage(e),d(null)},p=[{code:"en",text:"English"},{code:"ru",text:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(xa.a,{title:i("changeLanguage"),enterDelay:300},r.a.createElement(Ue.a,{color:"inherit","aria-owns":u?"language-menu":void 0,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},"data-ga-event-category":"header","data-ga-event-action":"language"},r.a.createElement(Nn.a,{className:c.languageIcon}),r.a.createElement("span",{className:e.settings?c.language:[c.language,c.languageText].join(" ")},p.filter(function(e){return e.code===t}).length>0?p.filter(function(e){return e.code===t})[0].text:p[0].text),r.a.createElement(Fn.a,{fontSize:"small"}))),r.a.createElement(la.a,{id:"language-menu",anchorEl:u,open:Boolean(u),onClose:function(){return m()}},p.map(function(e){return r.a.createElement(Re.a,{component:"a","data-no-link":"true",key:e.code,selected:o.language===e.code,onClick:function(){return m(e.code)}},e.text)})))});function Mn(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Ln(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ln(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var zn=Object(Ke.a)(function(e){return Object($e.a)({speedDial:{right:"12px",bottom:"16px",position:"fixed"},logout:{left:e.spacing(2),bottom:e.spacing(2),position:"fixed"},login:{right:"16px",bottom:"16px",position:"fixed"},home:{right:"16px",bottom:"88px",position:"fixed"},avatar:{border:"1px solid "+e.palette.primary.main},title:{marginLeft:e.spacing(2),flex:1},blogLabel:Object(U.a)({margin:e.spacing(0,.5,0,1),display:"none"},e.breakpoints.up("sm"),{display:"inline"}),blogIcon:Object(U.a)({display:"inline"},e.breakpoints.up("sm"),{display:"none"})})}),Wn=function(e){return r.a.createElement(kt.a,Object.assign({direction:"up"},e))},Bn=Object(y.g)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed,lastNotifications:e.lastNotifications,isConnectingWS:e.isConnectingWS,friendData:e.friendData,language:e.language}})(function(e){var t,a=Object(it.a)().t,o=Object(n.useRef)(),i=Object(un.a)(function(e){return e.breakpoints.up("sm")}),l=e.account,s=e.language,u=Object(n.useState)(!1),d=Object(j.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(j.a)(f,2),h=g[0],y=g[1],E=Object(n.useState)(!1),b=Object(j.a)(E,2),v=b[0],w=b[1],O=Object(n.useState)(!1),k=Object(j.a)(O,2),x=k[0],A=k[1],S=function(t){return e.history.push(t)},_="/activate-account"===e.history.location.pathname,C=0,D=Mn(e.lastNotifications);try{for(D.s();!(t=D.n()).done;){var T=t.value;parseInt(T.notId)>parseInt(l.lastSeenNot||0)&&C++}}catch(R){D.e(R)}finally{D.f()}var N=e.isAuthed&&l._id,I=zn(),F=!Object(dn.a)(),P=!i&&function(t){var a,n=Mn(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(0===e.history.location.pathname.indexOf(r))return!0}}catch(R){n.e(R)}finally{n.f()}}(["/goals","/posts","/profile","/account"]);return e.hide?e.children:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ln.Layout,style:e.white?{background:"#fff"}:{}},r.a.createElement(kt.a,{appear:!1,direction:"down",in:F},r.a.createElement(xt.a,{elevation:1,color:"secondary"},e.isConnectingWS&&!N&&r.a.createElement(mn.a,{style:{width:"100%",position:"absolute",top:0,left:0}}),r.a.createElement(jt.a,null,r.a.createElement("div",{tabIndex:0,ref:o,style:{width:0,height:0}}),l._id&&e.header||r.a.createElement(nt.a,{style:{display:"flex",flex:1}},r.a.createElement(nt.a,{style:{display:"flex",flex:1}},r.a.createElement(Ue.a,{component:c.b,to:"/"},r.a.createElement("img",{style:{height:"100%",position:"absolute",left:0},src:"/android-icon-36x36.png"}),r.a.createElement("img",{style:{height:"18px",visibility:"hidden"},src:"/android-icon-36x36.png"}),r.a.createElement(Se.a,{variant:"button",className:I.blogLabel},"Addspire"))),r.a.createElement(nt.a,{style:{display:"flex"}},r.a.createElement(Rn,null),r.a.createElement(Ue.a,{component:c.b,to:"/".concat("en"!==s?s+"/":"","blog"),style:{marginRight:"20px"}},r.a.createElement(En.a,{className:I.blogIcon}),r.a.createElement("span",{className:I.blogLabel},a("layout.blog"))),N&&_||!N&&e.isConnectingWS?r.a.createElement(Ue.a,{onClick:function(){return e.history.push("/logout")}},a("g.logout")):!l._id&&r.a.createElement(Ue.a,{variant:"contained",color:"primary",onClick:function(){return p(!0)}},a("layout.login"))))))),r.a.createElement(jt.a,{id:"back-to-top-anchor"}),r.a.createElement(pn.a,{style:{paddingTop:"20px",paddingBottom:"20px"},disableGutters:Boolean(P)},e.children),r.a.createElement(jt.a,{style:{marginTop:"50px",background:"#eee",paddingTop:"22px",paddingBottom:"22px"}},r.a.createElement(nt.a,{style:{display:"flex",flex:1}},r.a.createElement(nt.a,{style:{display:"flex",flex:1,justifyContent:"center"}},r.a.createElement(c.b,{to:"/",style:{display:"flex",alignItems:"baseline"}},r.a.createElement("img",{style:{height:"23px"},src:"/android-icon-36x36.png"}),r.a.createElement(Se.a,{variant:"button"},"Addspire"))))),N&&!_&&r.a.createElement(gn.a,{ariaLabel:"SpeedDial",className:I.speedDial,icon:r.a.createElement(hn.a,null),onClose:function(){o.current.focus(),A(!1)},onOpen:function(){return A(!0)},open:x},r.a.createElement(yn.a,{icon:r.a.createElement(bn.a,null),tooltipTitle:r.a.createElement("span",{style:{whiteSpace:"nowrap"}},a("g.addFriend")),tooltipOpen:!0,onClick:function(){o.current.focus(),w(!0),A(!1)}}),r.a.createElement(yn.a,{icon:r.a.createElement(vn.a,null),tooltipTitle:r.a.createElement("span",{style:{whiteSpace:"nowrap"}},a("g.addGoal")),tooltipOpen:!0,onClick:function(){o.current.focus(),y(!0),A(!1)}})),(N||!e.isConnectingWS)&&_&&"Activate your account",r.a.createElement(kt.a,{appear:!1,direction:"up",in:!Object(dn.a)()},r.a.createElement(nt.a,{style:{position:"fixed",bottom:"12px",width:"100%"}},N&&!_&&r.a.createElement(nt.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(et.a,{elevation:3,style:{borderRadius:"37px"}},r.a.createElement(wt.a,{onClick:function(){return S("/")},color:"/"===e.history.location.pathname?"primary":"default"},r.a.createElement(wn.a,{fontSize:"large"})),r.a.createElement(wt.a,{onClick:function(){return S("/posts")},color:"/posts"===e.history.location.pathname?"primary":"default"},r.a.createElement(sa.a,{badgeContent:C,color:"secondary"},r.a.createElement(On.a,{fontSize:"large"}))),r.a.createElement(wt.a,{onClick:function(){return S("/profile/"+l._id)}},r.a.createElement(sa.a,{badgeContent:l.friends.filter(function(e){return"inviting"===e.status}).length,color:"secondary"},r.a.createElement(fn.a,{classes:e.history.location.pathname==="/profile/"+l._id?{root:I.avatar}:{},src:Ae(l._id,l.image)})))))))),r.a.createElement(cn,{loginVisible:m,setLoginVisible:p}),(N||!e.isConnectingWS)&&!_&&r.a.createElement(r.a.Fragment,null),l._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ma,{open:v,close:function(){w(!1)},title:a("g.addFriend")},r.a.createElement(Dn,{close:function(){return w(!1)},open:v,account:l,friendData:e.friendData})),r.a.createElement(Et.a,{fullScreen:!0,open:h,onClose:function(){y(!1)},TransitionComponent:Wn},r.a.createElement(sn,{setStartProgressVisible:y,account:l,friendData:e.friendData,cancel:function(){return y(!1)}}))))})),Yn=a(102);function Un(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Gn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Gn(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Vn=Object(Ke.a)(function(e){return Object($e.a)({title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600},pageTitle:{marginLeft:e.spacing(2),flex:1}})}),Xn=Object(y.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,posts:e.post,postData:e.postData,reward:e.reward,friendData:e.friendData}},function(e){return{setData:function(t){e(L(t))}}})(function(e){var t=Object(it.a)().t,a=Vn(),o=Object(n.useState)(!1),i=Object(j.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(null),u=Object(j.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!1),f=Object(j.a)(p,2),g=f[0],h=f[1],y=Object(n.useState)(!1),E=Object(j.a)(y,2),b=E[0],v=E[1],w=Object(n.useState)({}),O=Object(j.a)(w,2),k=O[0],A=O[1],S=e.history.location.pathname.split("/"),_=e.rewardId||(S.length>2?S[2]:"");if(!_)return null;var C="wishlist"===S[1];Object(n.useEffect)(function(){e.isAuthed?e.setData({currentReward:_}):Za(e,0,A,0,function(t){var a,n={},r=Un(t.friendData);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o._id]=o}}catch(u){r.e(u)}finally{r.f()}var i,c={},l=Un(t.posts);try{for(l.s();!(i=l.n()).done;){var s=i.value;c[s._id]=s}}catch(u){l.e(u)}finally{l.f()}e.setData({friendData:n,post:c,account:{},reward:t.reward})})},[e.isAuthed,e.history.location.pathname]);var D=e.isAuthed?e:Object(x.a)({},k,{posts:e.posts,account:{}}),T=D.reward,N=D.account,I=D.friendData,F=D.posts;if(!T||!T._id)return null;var P=N._id?function(){var e=[];return N._id===T.owner&&e.push(r.a.createElement(Re.a,{onClick:function(){v(!0),m(null)}},t("g.edit"))),e.push(r.a.createElement(Re.a,{onClick:function(){h(!0),m(null)}},t("g.delete"))),T.likes.includes(N._id)&&e.push(r.a.createElement(Re.a,{onClick:function(){ge(N._id,T._id,!1),m(null)}},t("g.unlike"))),e.length>0&&e}():null;return I?r.a.createElement(Bn,{header:r.a.createElement(Se.a,{variant:"h6",className:a.pageTitle,color:"inherit",noWrap:!0},T.name),hide:e.rewardId},r.a.createElement(Yn.a,null,r.a.createElement("title",null,T.name||t(C?"g.wishlistItem":"g.reward")," ",t("g.by"),T.owner||t("g.aUser")," - Addspire"),r.a.createElement("meta",{name:"description",content:T.descriptionText})),r.a.createElement("div",{className:"contentDiv"},r.a.createElement(et.a,{style:{padding:"15px"}},T.images.length>0&&r.a.createElement(ca,{images:T.images}),r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},r.a.createElement(Se.a,{variant:"h4"},T.name),r.a.createElement(nt.a,{style:{margin:"5px 0px"}},r.a.createElement(Ue.a,{onClick:function(){return l(!0)}},r.a.createElement("span",{style:{textTransform:"none"}},T.likes.length," ",t("g.likes"))),r.a.createElement(Xa,{title:T.name+" - ".concat(t("g.item")," ").concat(t("g.shareText")),media:T.images&&T.images[0],item:{rewardId:T._id,rewardName:T.name}}),P&&N&&N._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{onClick:function(e){return m(e.currentTarget)}},r.a.createElement(fa.a,null)),r.a.createElement(la.a,{anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){return m(null)}},P))),r.a.createElement(nt.a,{style:{margin:"0px 0px 20px"}},N&&N._id&&!T.likes.includes(N._id)&&r.a.createElement(Ue.a,{color:"primary",variant:"contained",onClick:function(){return ge(N._id,T._id,!0)}},t("g.like")))),r.a.createElement(ha,{initialHeight:200,contentEditor:T.description})),r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.comments")),F&&F[T.post]&&r.a.createElement("div",{key:T.post,style:{paddingTop:"10px"}},r.a.createElement(Qa,{friendData:I,account:N,post:F[T.post],noStartMessage:!0,noPostControls:!0,showReplies:!0}))),r.a.createElement(Et.a,{open:c,onClose:function(){return l(!1)},title:t("reward.itemLikes"),fullWidth:!0,maxWidth:"md"},r.a.createElement(bt.a,null,t("reward.itemLikes")),r.a.createElement(Ot.a,null,T.likes.map(function(e){return r.a.createElement(dt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(pa,{account:N,id:e}),body:r.a.createElement(Ce,{span:!0,id:e,size:50})})})),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){return l(!1)},color:"primary"},t("g.close")))),r.a.createElement(Et.a,{open:Boolean(g)},r.a.createElement(bt.a,null,t("reward.deleteItem")),r.a.createElement(Ot.a,null,r.a.createElement(tn.a,null,t("reward.confirmDelete"))),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){return h(!1)}},t("g.cancel")),r.a.createElement(Ue.a,{onClick:function(){var t,a;t=N._id,a=T._id,ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"deleteReward",accountId:t,rewardId:a})),h(!1),e.history.goBack()},color:"primary"},t("g.delete")))),N._id===T.owner&&r.a.createElement($t,{open:b,close:function(){return v(!1)},reward:T})):null})),Jn=Object(y.g)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,rewardData:e.rewardData}})(function(e){var t=Object(it.a)().t,a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(""),u=Object(j.a)(s,2),d=u[0],m=u[1],p=e.account,f=e.owner,g=e.rewardData,h=e.wish,y=e.additionalButton,E=p&&p._id&&p._id===f._id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:t(h?"g.wishlist":"g.rewards"),items:f.rewards.map(function(e){return g[e]}).filter(function(e){return e&&Boolean(h)===Boolean(e.wish)}),content:function(t){var a=r.a.createElement(r.a.Fragment,null," ",r.a.createElement(Ve.a,{style:{height:"150px",backgroundSize:"contain"},image:t.images.length>0?t.images[0]:st[ut(t._id)],title:t.name}),r.a.createElement(Ge.a,{style:{padding:"5px"}},r.a.createElement(Se.a,{variant:"body2",noWrap:!0},t.name)));return r.a.createElement(Ge.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},e.openInDialog?r.a.createElement(nt.a,{onClick:function(){return m(t._id)}},a):r.a.createElement(c.b,{to:(h?"/wishlist/":"/rewards/")+t._id},a),y&&y(t))},withAdd:E,addTitle:t("g.addItem"),onAdd:function(){return l(!0)}}),E&&r.a.createElement($t,{open:i,close:function(){return l(!1)},wish:h}),e.openInDialog&&r.a.createElement(Et.a,{open:Boolean(d),onClose:function(){return m("")},fullWidth:!0,maxWidth:"md"},r.a.createElement(vt.a,null,r.a.createElement(wt.a,{onClick:function(){return m("")}},r.a.createElement(St.a,null))),r.a.createElement(Ot.a,null,d&&r.a.createElement(Xn,{rewardId:d}))))})),Hn=Object(y.g)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,rewardData:e.rewardData}},function(e){return{setData:function(t){return e(L(t))}}})(function(e){var t=Object(it.a)().t,a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(!1),u=Object(j.a)(s,2),d=u[0],m=u[1],p=e.rewardData,f=e.account,g=e.progress,h=e.rewards,y=e.onValueChange,E=(y?h:g.rewards)||[];return g||y?r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:t("g.rewards"),items:E.map(function(e){return p[e]}).filter(function(e){return e}),content:function(e){return r.a.createElement(Ge.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(c.b,{to:"/rewards/"+e._id},r.a.createElement(Ve.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:st[ut(e._id)],title:e.name}),r.a.createElement(Ge.a,{style:{padding:"5px"}},r.a.createElement(Se.a,{variant:"body2",noWrap:!0},e.name))),(f._id===e.owner||f._id===g.owner||h)&&r.a.createElement(Ue.a,{onClick:function(){m(e._id)}},t("g.remove")))},withAdd:Boolean(f._id),addTitle:t("reward.addReward"),onAdd:function(){return l(!0)}}),r.a.createElement(ma,{open:i,close:function(){return l(!1)},title:t("reward.addRewardToGoal")},r.a.createElement(Jn,{owner:f,openInDialog:!0,additionalButton:function(e){return r.a.createElement(Ue.a,{color:"primary",onClick:function(){var t,a,n;y?y([].concat(Object(k.a)(E),[e._id])):(t=f._id,a=g._id,n=e._id,ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"addRewardToProgress",accountId:t,progressId:a,rewardId:n}))),l(!1)}},t("g.choose"))}})),r.a.createElement(Et.a,{open:Boolean(d),onClose:function(){return m(!1)}},r.a.createElement(bt.a,null,t("reward.confirmRemove")),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){return m(!1)},color:"primary"},t("g.cancel")),r.a.createElement(Ue.a,{onClick:function(){if(y){var e=Object(k.a)(E);e.splice(e.indexOf(d),1),y(e)}else t=f._id,a=g._id,n=d,ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"deleteRewardFromProgress",accountId:t,progressId:a,rewardId:n}));var t,a,n;m(!1)},color:"primary"},t("g.confirm"))))):null})),qn=a(972),Qn=a(969),Zn=(a(288),a(255)),Kn=(a(289),a(169)),$n=a(427),er=a.n($n),tr=(a(797),a(957)),ar=function(e){function t(){return Object(G.a)(this,t),Object(X.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.leaflet.map,t=new er.a({position:"topleft",strings:{title:this.props.t("explore.myLocation")},onActivate:function(){},drawCircle:!1,keepCurrentZoomLevel:!0});t.addTo(e),t.start()}},{key:"render",value:function(){return null}}]),t}(n.Component),nr=Object(Kn.b)(Object(tr.a)()(ar)),rr=a(256),or=(a(290),["animals","building","cars","diy","design","education","entertainment","food","gardening","health","sport","home","kids","fashion","nature","travel","other"]),ir=function(e){var t=Object(it.a)().t;return r.a.createElement(r.a.Fragment,null,or.map(function(a){return r.a.createElement(Me.a,{label:t("g."+a),onClick:function(){return function(t){var a=e.value?Object(k.a)(e.value):[];if(a.includes(t))e.onChange(a.filter(function(e){return e!==t}));else{if(!e.nolim)for(;a.length>4;)a.pop();e.onChange([].concat(Object(k.a)(a),[t]))}}(a)},color:e.value&&e.value.includes(a)?"primary":"default",style:{margin:"5px"}})}))},cr=Ga.a.Option,lr=Object(Ke.a)(function(e){return Object($e.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),sr=function(e){var t=Object(it.a)().t,o=Object(n.useRef)(null);Object(n.useEffect)(function(){o&&o.current&&o.current.leafletElement&&((new Zn.Geosearch).addTo(o.current.leafletElement),new rr.GestureHandling(o.current.leafletElement))},[]);var i=e.progress,c=Object(n.useState)(i&&i.position&&i.position.coordinates?[i.position.coordinates[1],i.position.coordinates[0]]:[40.689078,-74.044526]),l=Object(j.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(10),m=Object(j.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(i&&i.descriptionText),h=Object(j.a)(g,2),y=h[0],E=h[1],v=b.a.useForm(),w=Object(j.a)(v,1)[0],O=function(e){f(e.target._zoom),u([e.target.getCenter().lat,e.target.getCenter().lng]),w.setFieldsValue({nomap:!1})},A=lr();return!e.goalId||i?r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.a,{className:A.appBar,color:"primary"},r.a.createElement(jt.a,null,r.a.createElement(wt.a,{edge:"start",color:"inherit",onClick:e.cancel,"aria-label":"close"},r.a.createElement(St.a,null)),r.a.createElement(Se.a,{variant:"h6",className:A.title,color:"inherit"},t("progress."+(i?"editGoal":"addNewGoal"))),r.a.createElement(Ue.a,{autoFocus:!0,color:"inherit",onClick:function(){return w.submit()}},t("g.save")))),r.a.createElement(jt.a,null),r.a.createElement(b.a,Object.assign({style:{maxWidth:"1200px",margin:"0 auto",padding:"15px",width:"100%"},form:w,name:"dynamic_form_nest_item",onFinish:function(t){e.onFinish(Object(x.a)({},t,{descriptionText:y,position:{type:"Point",coordinates:[s[1],s[0]]}}))},autoComplete:"off",initialValues:i||{name:t("progress.newGoal"),repeat:"no",days:["0"],nomap:!1}},{labelCol:{span:4},wrapperCol:{span:20}},{onValuesChange:function(e,t){t.days&&w.setFieldsValue({days:Object(k.a)(t.days).sort()})}}),r.a.createElement(b.a.Item,{name:"images",label:t("g.images"),valuePropName:"images",trigger:"onValueChange"},r.a.createElement(Lt,null)),r.a.createElement(b.a.Item,{label:t("g.name"),name:"name",rules:Ht,getValueFromEvent:function(e){return e.target.value}},r.a.createElement(At.a,{fullWidth:!0})),r.a.createElement(b.a.Item,{label:t("g.desc"),name:"description",trigger:"onEditorChange"},r.a.createElement(Ut,{onEditorChangePlain:function(e){return E(e)}})),r.a.createElement(b.a.Item,{label:t("g.categories"),name:"category"},r.a.createElement(ir,null)),r.a.createElement(b.a.Item,{label:t("progress.achievers"),name:"users"},r.a.createElement(Va,null)),r.a.createElement(b.a.Item,{label:t("g.repeats"),name:"repeat"},r.a.createElement(Ga.a,{getPopupContainer:function(e){return e.parentNode}},r.a.createElement(cr,{value:"no"},t("g.noRepeat")),r.a.createElement(cr,{value:"day"},t("g.everyDay")),r.a.createElement(cr,{value:"weekday"},t("g.everyDayOfWeek")),r.a.createElement(cr,{value:"week"},t("g.everyWeek")),r.a.createElement(cr,{value:"month"},t("g.everyMonth")),r.a.createElement(cr,{value:"year"},t("g.everyYear")))),r.a.createElement(b.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.repeat!==t.repeat}},function(e){return"weekday"===(0,e.getFieldValue)("repeat")?r.a.createElement(b.a.Item,{label:"Days of week",name:"days"},r.a.createElement(Ga.a,{mode:"tags",getPopupContainer:function(e){return e.parentNode}},r.a.createElement(cr,{value:"0"},t("g.sunday")),r.a.createElement(cr,{value:"1"},t("g.monday")),r.a.createElement(cr,{value:"2"},t("g.tuesday")),r.a.createElement(cr,{value:"3"},t("g.wednesday")),r.a.createElement(cr,{value:"4"},t("g.thursday")),r.a.createElement(cr,{value:"5"},t("g.friday")),r.a.createElement(cr,{value:"6"},t("g.saturday")))):null}),r.a.createElement(b.a.Item,{name:"rewards",label:t("g.rewards"),valuePropName:"rewards",trigger:"onValueChange"},r.a.createElement(Hn,null)),r.a.createElement(b.a.Item,{label:t("g.place")},r.a.createElement("div",{style:{position:"relative",height:"300px"}},r.a.createElement(qn.a,{ref:o,center:s,zoom:p,ondragend:O,onmoveend:O,style:{width:"100%",height:"100%",position:"relative",zIndex:1},gestureHandling:!0},r.a.createElement(Qn.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(nr,null)),r.a.createElement("div",{style:{backgroundImage:"url(".concat(a(379),")"),width:"20px",height:"35px",position:"absolute",zIndex:2,left:"calc(50% - 10px)",top:"calc(50% - 35px)",pointerEvents:"none",touchAction:"none"}}))),r.a.createElement("div",{style:{textAlign:"right",marginTop:"50px"}},r.a.createElement(Ue.a,{size:"large",onClick:function(){return e.cancel(!1)}},t("g.cancel")),r.a.createElement(Ue.a,{color:"primary",variant:"contained",type:"submit",size:"large",style:{marginLeft:"10px",marginRight:"50px"}},t("g.save"))))):null},ur=function(e){var t=e.progress,a=e.account,n=e.state,o=e.setState,i=e.friendData;return t?r.a.createElement(sr,{progress:t,onFinish:function(t){!function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"editProgress",progressId:e.progress._id,accountId:e.account._id,value:t}))}(e,t),o(Object(x.a)({},n,{editProgressOpen:!1})),document.body.removeAttribute("style")},account:a,friendData:i,cancel:e.cancel}):null},dr=a(428),mr=a.n(dr),pr=function(e){return r.a.createElement(kt.a,Object.assign({direction:"up"},e))},fr=Object(Ke.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15)},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),gr=Object(y.g)(function(e){var t=Object(it.a)().t,a=fr(),o=e.account,i=e.progress,c=e.state,l=e.setState,s=e.friendData,u=Object(n.useState)(""),d=Object(j.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(null),g=Object(j.a)(f,2),h=g[0],y=g[1],E=o._id?function(){var a=[];return o._id===i.owner&&a.push(r.a.createElement(Re.a,{onClick:function(){l(Object(x.a)({},c,{editProgressOpen:!0})),y(null)}},t("g.edit"))),o.followProgresses.includes(i._id)&&a.push(r.a.createElement(Re.a,{onClick:function(){Ee(o._id,i._id),y(null)}},t("g.unfollow"))),i.likes.includes(o._id)&&a.push(r.a.createElement(Re.a,{onClick:function(){fe(o._id,i._id,!1),y(null)}},t("g.unlike"))),o.progresses&&o.progresses.includes(i._id.toString())&&a.push(r.a.createElement(Re.a,{onClick:function(){var t;t=e,ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"leaveProgress",progressId:t.progress._id,accountId:t.account._id})),y(null)}},t("g.leave"))),a.length>0&&a}():null;return i?r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn.a,null,r.a.createElement("title",null,"".concat(i.name," ").concat(t("g.by")).concat(i.owner," - Addspire")),r.a.createElement("meta",{name:"description",content:i.descriptionText})),r.a.createElement(et.a,{style:{padding:"15px"}},i.images.length>0&&r.a.createElement(ca,{images:i.images}),r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},r.a.createElement(Se.a,{variant:"h4"},i.name),i.category.map(function(e){return r.a.createElement(Me.a,{label:t("g."+e),variant:"outlined",style:{margin:"5px"}})}),r.a.createElement(nt.a,{style:{margin:"5px 0px"}},r.a.createElement(Ue.a,{onClick:function(){return p("followers")},style:{marginRight:"20px"}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(i.followingAccounts.length," ").concat(t("g.followers")))),r.a.createElement(Ue.a,{onClick:function(){return p("likes")}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(i.likes.length," ").concat(t("g.likes")))),r.a.createElement(Xa,{title:i.name+t("g.shareText"),media:i.images&&i.images[0],item:{progressId:i._id,progressName:i.name}}),E&&o&&o._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{onClick:function(e){return y(e.currentTarget)}},r.a.createElement(fa.a,null)),r.a.createElement(la.a,{anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:function(){return y(null)}},E))),r.a.createElement(nt.a,{style:{margin:"0px 0px 20px"}},o&&o._id&&!o.followProgresses.includes(i._id)&&r.a.createElement(Ue.a,{color:"primary",onClick:function(){return ye(o._id,i._id)},style:{marginRight:"20px"},variant:"contained"},t("g.follow")),o&&o._id&&!i.likes.includes(o._id)&&r.a.createElement(Ue.a,{color:"primary",variant:"contained",onClick:function(){return fe(o._id,i._id,!0)}},t("g.like"))))),r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("progress.tracking")),r.a.createElement(et.a,{style:{padding:"15px"}},r.a.createElement(yt,{progress:i,account:o,state:c,setState:l})),r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.desc")),r.a.createElement(et.a,{style:{padding:"15px"}},"no"!==i.repeat&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement(mr.a,null)," ".concat(t("g.repeats")," \n                            ").concat(function(e){switch(e){case"day":return t("g.everyDay");case"weekday":return t("g.everyDayOfWeek");case"week":return t("g.everyWeek");case"month":return t("g.everyMonth");case"year":return t("g.everyYear");default:return""}}(i.repeat)+("weekday"===i.repeat?" ("+i.days.reduce(function(e,a,n){return e+(n>0?", ":"")+function(e){switch(e){case"0":return t("g.sunday");case"1":return t("g.monday");case"2":return t("g.tuesday");case"3":return t("g.wednesday");case"4":return t("g.thursday");case"5":return t("g.friday");case"6":return t("g.saturday");default:return""}}(a)},"")+").":"."))),r.a.createElement(wa.a,{light:!0,variant:"middle",style:{marginBottom:"15px"}})),r.a.createElement(ha,{initialHeight:200,contentEditor:i.description})),r.a.createElement(Hn,{progress:i}),r.a.createElement(Se.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.postsAndComments")),r.a.createElement(Et.a,{fullScreen:!0,open:c.editProgressOpen,onClose:function(){return l(Object(x.a)({},c,{editProgressOpen:!1}))},TransitionComponent:pr},r.a.createElement(ur,{progress:i,account:o,state:c,setState:l,friendData:s,cancel:function(){return l(Object(x.a)({},c,{editProgressOpen:!1}))}})),r.a.createElement(Et.a,{open:Boolean(m),onClose:function(){return p("")},title:t("likes"===m?"progress.goalLikes":"progress.goalFollowers"),fullWidth:!0,maxWidth:"md"},r.a.createElement(bt.a,null,t("likes"===m?"progress.goalLikes":"progress.goalFollowers")),r.a.createElement(Ot.a,null,i["likes"===m?"likes":"followingAccounts"].map(function(e){return r.a.createElement(dt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(pa,{account:o,id:e}),body:r.a.createElement(Ce,{span:!0,id:e,size:50})})})),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){return p("")},color:"primary"},t("g.close"))))):null}),hr=Object(y.g)(function(e){var t=Object(it.a)().t,a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],c=o[1],l=e.parent,s=e.account,u=e.parentType,d=function(){c(!1)};return s._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{elevation:3},r.a.createElement(Ge.a,null,r.a.createElement(nt.a,{style:{display:"flex",width:"100%"}},r.a.createElement(nt.a,{style:{marginRight:"20px"}},r.a.createElement(Ce,{noName:!0,id:s._id,span:!0,size:36})),r.a.createElement(nt.a,{style:{flex:1}},r.a.createElement(nt.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px",color:"#7d7d7d",cursor:"pointer"},onClick:function(){return c(!0)}},t("post.postNew")))),r.a.createElement(Ea,{open:i,cancel:d,title:t("post.createNewPost"),save:function(t,a){!function(e,t,a,n,r){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"addPost",accountId:e,parentId:t,parentType:a,messageValue:n,images:r}))}(s._id,l,u,a,t),e.onSend&&e.onSend(),d()}})))):null});function yr(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Er(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Er(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var br=Object(Ke.a)(function(e){return Object($e.a)({title:{marginLeft:e.spacing(2),flex:1}})}),vr=Object(y.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,posts:e.post,progress:e.progress,friendData:e.friendData}},function(e){return{setData:function(t){e(L(t))}}})(function(e){var t=Object(it.a)().t,a=br(),o=Object(n.useState)({}),i=Object(j.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)([]),m=Object(j.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(!1),h=Object(j.a)(g,2),y=h[0],E=h[1],b=Object(n.useState)({}),v=Object(j.a)(b,2),w=v[0],O=v[1],A=e.history.location.pathname.split("/"),S=A.length>2?A[2]:"";if(!S)return null;Object(n.useEffect)(function(){e.isAuthed?(e.setData({currentProgress:S}),e.account._id&&function(e,t){ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"addRecentProgress",accountId:e,progressId:t}))}(e.account._id,S)):Za(e,0,O,0,function(t){var a,n={},r=yr(t.friendData);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o._id]=o}}catch(u){r.e(u)}finally{r.f()}var i,c={},l=yr(t.posts);try{for(l.s();!(i=l.n()).done;){var s=i.value;c[s._id]=s}}catch(u){l.e(u)}finally{l.f()}e.setData({friendData:n,post:c,account:{},progress:t.progress})})},[e.isAuthed,e.history.location.pathname]);var _=e.isAuthed?e:Object(x.a)({},w,{posts:e.posts,account:{}}),C=_.progress,D=_.account,T=_.friendData,N=_.posts;return Object(n.useEffect)(function(){C&&C._id&&!y&&(E(!0),s.a.post("/api/goals/similar",{search:{categories:C.category||[],position:C.position,currentId:C._id}}).then(function(e){e.data.success&&f(e.data.progresses)}).catch(function(e){}))},[C&&C._id]),C&&C._id?(e.setData({currentPosts:C.posts}),T?r.a.createElement(Bn,{header:r.a.createElement(Se.a,{variant:"h6",className:a.title,color:"inherit",noWrap:!0},C.name)},r.a.createElement("div",{className:"contentDiv"},r.a.createElement(gr,{state:l,setState:u,progress:C,account:D,friendData:T}),p.length>0&&r.a.createElement(lt,{title:t("g.similarGoals"),items:p,content:function(e){return r.a.createElement(at.a,null,r.a.createElement(c.b,{to:"/goals/"+e._id},r.a.createElement(Ve.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:st[ut(e._id)],title:e.name}),r.a.createElement(Ge.a,{style:{padding:"5px"}},r.a.createElement(Se.a,{variant:"body2",noWrap:!0},e.name))))}}),D._id&&r.a.createElement(hr,{parent:S,account:D,parentType:"progress"}),N&&Object(k.a)(C.posts).sort(function(t,a){return e.history.location.pathname.indexOf(t)>-1?1:e.history.location.pathname.indexOf(a)>-1?-1:0}).map(function(e){if(N[e]){var t=N[e];return r.a.createElement("div",{key:e,style:{paddingTop:"10px"}},r.a.createElement(Qa,{friendData:T,account:D,post:t}))}return null}).reverse(),r.a.createElement(xe.a,{visible:l.previewImage,footer:null,onCancel:function(){u(Object(x.a)({},l,{previewImage:""})),document.body.removeAttribute("style")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:l.previewImage})))):null):null})),wr=a(958),Or=a(108),kr=Object(u.b)(function(e){return{account:e.account}})(function(e){var t=Object(it.a)().t,a=Object(n.useState)(!1),o=Object(j.a)(a,2),i=o[0],c=o[1];return r.a.createElement(pn.a,null,r.a.createElement(nt.a,null,r.a.createElement("header",{className:Or.header},r.a.createElement("h1",{className:Or.header__title},r.a.createElement("div",null,r.a.createElement("span",null,t("welcome.title"))),r.a.createElement("div",{className:Or.slider},r.a.createElement("ul",{className:Or.slider__words},r.a.createElement("li",{className:Or.slider__word},t("welcome.phrase1")),r.a.createElement("li",{className:Or.slider__word},t("welcome.phrase2")),r.a.createElement("li",{className:Or.slider__word},t("welcome.phrase3")),r.a.createElement("li",{className:Or.slider__word},t("welcome.phrase4")),r.a.createElement("li",{className:Or.slider__word},t("welcome.phrase1"))))))),r.a.createElement("span",{className:Or.subheader},t("welcome.subheader")),r.a.createElement("div",{className:Or.videoWrapper},r.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/"+t("welcome.videoLink"),frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})),!e.account._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{style:{margin:"40px auto 10px",textAlign:"center"}},r.a.createElement(Ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return c(!0)}},t("welcome.button"))),r.a.createElement(cn,{loginVisible:i,setLoginVisible:c})))});a(380);Ne()().format();var xr=Object(Ke.a)(function(e){return Object($e.a)({title:{marginLeft:e.spacing(2),flex:1},root:{flexGrow:1,marginTop:"20px"},media:{height:0,paddingTop:"56.25%",backgroundSize:"contain"}})}),jr=Object(y.g)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(z(t))}}})(function(e){var t=Object(it.a)().t,a=xr(),o=Object(n.useState)([]),i=Object(j.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(""),d=Object(j.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(j.a)(f,2),h=g[0],y=g[1];return Object(n.useEffect)(function(){fetch("https://addspire-blog.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n             query {\n   posts (\n       ".concat(h?"":'where: { language:"'.concat(0===e.history.location.pathname.indexOf("/ru")?"ru":"en",'" },'),' \n   sort:"published_at:desc"){\n    url\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}')})}).then(function(e){return e.json()}).then(function(e){s(e.data.posts),p(t("blog.title"))})},[e.history.location.pathname,h]),r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(Yn.a,null,r.a.createElement("title",null,m)),r.a.createElement(Bn,{white:!0},r.a.createElement(kr,null),r.a.createElement(Ue.a,{onClick:function(){return y(!h)},color:"primary"},t(h?"blog.hide":"blog.show")),r.a.createElement("div",{className:a.root},r.a.createElement(wr.a,{container:!0,spacing:3},l.map(function(t){return r.a.createElement(wr.a,{item:!0,xs:12,md:6,xl:4},r.a.createElement(tt.a,null,r.a.createElement(c.b,{to:e.history.location.pathname+"/"+t.url.split(".")[0]},r.a.createElement(at.a,null,r.a.createElement(Ve.a,{className:a.media,image:t.previewImage&&t.previewImage.url,title:t.title}),r.a.createElement(Ge.a,null,r.a.createElement(Se.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title),r.a.createElement(Se.a,{gutterBottom:!0,variant:"subtitle1"},t.subtitle),r.a.createElement(Se.a,{align:"right",variant:"button",color:"textSecondary",component:"p"},Ne()(t.published_at).format("MMMM D[,] YYYY")))))))})))))})),Ar=a(430),Sr=a.n(Ar),_r={default:4,1600:3,1100:2,600:1},Cr={default:4,1100:3,700:2,310:1},Dr=function(e){return r.a.createElement("div",{style:Object(x.a)({},e.style)},r.a.createElement(Sr.a,Object(U.a)({breakpointCols:3,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},"breakpointCols",e.friends?_r:Cr),e.children))},Tr=Object(y.g)(Object(u.b)(function(e){return{progressData:e.progressData}})(function(e){var t=e.id;if(!e.progressData[t])return null;return r.a.createElement("span",{style:Object(x.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(t){var a;t.stopPropagation(),e.history.push("/goals/"+(a||e.id))}},function(t){return e.progressData[t].name}(t))})),Nr=(a(68),a(431)),Ir=a(446),Fr=a(961),Pr=a(432),Rr=a.n(Pr),Mr=a(960),Lr=a(959),zr=a(980),Wr=function(e){return r.a.createElement(kt.a,Object.assign({direction:"up"},e))},Br=Object(Ke.a)(function(e){return Object($e.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),Yr=function(e){var t=Object(it.a)().t,o=e.mapVisible,i=e.setMapVisible,c=e.onSearch,l=e.setSearch,s=e.search,u=Object(n.useRef)(null),d=Object(n.useState)(!1),m=Object(j.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(!1),h=Object(j.a)(g,2),y=h[0],E=h[1];Object(n.useEffect)(function(){u&&u.current&&u.current.leafletElement&&((new Zn.Geosearch).addTo(u.current.leafletElement),new rr.GestureHandling(u.current.leafletElement))},[]);var b=function(e){l(Object(x.a)({},s,{zoom:e.target._zoom,position:[e.target.getCenter().lat,e.target.getCenter().lng],withMap:!0}))};Object(n.useEffect)(function(){v()},[e.search]),Object(n.useEffect)(function(){return E(!1)},[o]);var v=function(){if(u&&u.current&&u.current.leafletElement){var e=40075016.686*Math.abs(Math.cos(u.current.leafletElement.getCenter().lat*Math.PI/180))/Math.pow(2,u.current.leafletElement.getZoom()+8);f("mi"===s.units?1609*s.distance/e:1e3*s.distance/e)}},w=Br();return r.a.createElement(Et.a,{fullScreen:!0,open:o,onClose:function(){i(!1),y&&c(s)},TransitionComponent:Wr},r.a.createElement(xt.a,{className:w.appBar,color:"primary"},r.a.createElement(jt.a,null,r.a.createElement(wt.a,{edge:"start",color:"inherit",onClick:function(){i(!1),y&&c(s)},"aria-label":"close"},r.a.createElement(St.a,null)),r.a.createElement(Se.a,{variant:"h6",className:w.title,color:"inherit"},t("explore.searchWithLocation")),r.a.createElement(Ue.a,{autoFocus:!0,color:"inherit",onClick:function(){i(!1),y&&c(s)}},t("g.done")))),r.a.createElement(jt.a,null),r.a.createElement(wr.a,{container:!0,style:{padding:"15px",maxWidth:"800px"},alignItems:"center"},r.a.createElement(wr.a,{item:!0,xs:4,sm:4},t("explore.searchWithLocation")),r.a.createElement(wr.a,{item:!0,xs:8,sm:8},r.a.createElement(Lr.a,{checked:s.withMap,color:"primary",onChange:function(e){l(Object(x.a)({},s,{withMap:e.target.checked})),E(!0)}})),r.a.createElement(wr.a,{item:!0,xs:4},t("g.distance")),r.a.createElement(wr.a,{item:!0,xs:8},r.a.createElement(zr.a,{valueLabelDisplay:"auto",min:1,max:500,onChange:function(e,t){l(Object(x.a)({},s,{distance:t})),E(!0)},value:s.distance})),r.a.createElement(wr.a,{item:!0,xs:4},t("g.units")),r.a.createElement(wr.a,{item:!0,xs:8},r.a.createElement(Pe.a,{value:s.units,onChange:function(e){l(Object(x.a)({},s,{units:e.target.value})),E(!0)}},r.a.createElement(Re.a,{value:"mi"},t("g.miles")),r.a.createElement(Re.a,{value:"km"},t("g.km"))))),r.a.createElement("div",{style:{position:"relative",minHeight:"300px",flex:1,marginTop:"30px",overflow:"hidden"}},r.a.createElement(qn.a,{whenReady:function(){v()},ref:u,center:s.position,zoom:s.zoom,style:{width:"100%",height:"100%",position:"relative",zIndex:1},ondragend:b,onmoveend:b,gestureHandling:!0},r.a.createElement(Qn.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(nr,null)),r.a.createElement("div",{style:{backgroundImage:"url(".concat(a(379),")"),width:"20px",height:"35px",position:"absolute",zIndex:3,left:"calc(50% - 10px)",top:"calc(50% - 35px)",pointerEvents:"none",touchAction:"none"}}),r.a.createElement("div",{style:{background:"rgba(82, 95, 165, .15)",width:2*p+"px",height:2*p+"px",position:"absolute",zIndex:"2",left:"calc(50% - "+p+"px)",top:"calc(50% - "+p+"px)",pointerEvents:"none",touchAction:"none",borderRadius:p+"px",border:"1px rgba(82, 95, 165, .5) solid"}})))};function Ur(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Gr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Gr(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Vr=Object(Ke.a)(function(e){return Object($e.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"relative"},title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}})}),Xr=function(e,t){return(e.views||0)>(t.views||0)?-1:1},Jr=Object(u.b)(function(e){return{account:e.account,progressData:e.progressData}})(function(e){var t=Object(it.a)().t,a=e.account,o=e.progressData,i=Object(n.useState)(!1),l=Object(j.a)(i,2),u=l[0],d=l[1],m=Object(n.useState)([]),p=Object(j.a)(m,2),f=p[0],g=p[1],h=Object(n.useState)(!1),y=Object(j.a)(h,2),E=y[0],b=y[1],v=Object(n.useState)(!1),w=Object(j.a)(v,2),O=w[0],A=w[1],_=Object(n.useState)({value:"",withMap:!1,distance:20,zoom:7,position:[40.689078,-74.044526],units:"mi",categories:[]}),C=Object(j.a)(_,2),D=C[0],T=C[1],N=function(e){var a=Object(k.a)(f);e&&(T(e),b(!1),g([]),a=[]),E&&!e||(b(!0),s.a.post("/api/explore/search",{value:e||D,skip:e?0:a.length}).then(function(e){if(e.data.success){b(e.data.noMore),g([].concat(Object(k.a)(a),Object(k.a)(e.data.progresses))),0===e.data.progresses.length&&S.b.warning(t("explore.noGoals"));var n,r={},o=Ur(e.data.friends);try{for(o.s();!(n=o.n()).done;){var i=n.value;r[i._id]=i}}catch(c){o.e(c)}finally{o.f()}}else e.data.errorCode&&S.b.error(t("explore.wrongData"))}).catch(function(e){}))},I=Vr(),F=[];return a._id&&a.recentProgresses&&(F=a.recentProgresses.filter(function(e){return o[e]}).map(function(e){return o[e]})),r.a.createElement(Bn,{white:!0},r.a.createElement("div",null,r.a.createElement(Yn.a,null,r.a.createElement("title",null,t("explore.title")),r.a.createElement("meta",{name:"description",content:t("explore.desc")})),r.a.createElement(Yr,{mapVisible:u,setMapVisible:d,setFoundProgresses:g,onSearch:N,setSearch:T,search:D}),r.a.createElement(kr,null),r.a.createElement(lt,{title:t("explore.recentViewedGoals"),items:F,content:function(e){return r.a.createElement(at.a,null,r.a.createElement(c.b,{to:"/goals/"+e._id},r.a.createElement(Ve.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:st[ut(e._id)],title:e.name}),r.a.createElement(Ge.a,{style:{padding:"5px"}},r.a.createElement(Se.a,{variant:"body2",noWrap:!0},e.name))))}}),r.a.createElement(Se.a,{className:I.title,color:"textSecondary",gutterBottom:!0},t("explore.topGoalsTitle")),r.a.createElement(et.a,{className:I.root,variant:"outlined"},r.a.createElement(jn.a,{className:I.input,placeholder:t("explore.mapPH"),onChange:function(e){e.target.value||D.withMap||T(Object(x.a)({},D,{value:""})),A(e.target.value||"")}}),r.a.createElement(wt.a,{className:I.iconButton,onClick:function(){O&&O!==D.value&&N(Object(x.a)({},D,{value:O}))}},r.a.createElement(An.a,null)),r.a.createElement(wa.a,{className:I.divider,orientation:"vertical"}),r.a.createElement(wt.a,{className:I.iconButton,onClick:function(){d(!0),T(Object(x.a)({},D,{withMap:!0}))},color:D.withMap?"primary":"default"},r.a.createElement(Mr.a,null))),r.a.createElement(nt.a,{margin:"10px 0px 50px"},r.a.createElement(ha,{initialHeight:135,addTitle:t("g.spaceCategories")},r.a.createElement(ir,{nolim:!0,value:D.categories,onChange:function(e){return N(Object(x.a)({},D,{categories:e}))}}))),r.a.createElement(Rr.a,{pageStart:0,loadMore:function(){return N()},hasMore:!E,loader:r.a.createElement("div",{className:"loader",key:0},r.a.createElement("span",null,t("explore.loading")))},r.a.createElement(Dr,null,f.sort(Xr).map(function(e,a){return r.a.createElement(dt,{id:e._id,key:a,onClickLink:"/goals/"+e._id,images:e.images,body:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold"}},e.name)),actions:r.a.createElement(Xa,{link:"https://addspire.com/goals/"+e._id,title:e.name+t("explore.shareText"),media:e.images&&e.images[0],item:{progressId:e._id,progressName:e.name}})})})))))});function Hr(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return qr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qr(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}Ne()().format();var Qr=function(e){return r.a.createElement(kt.a,Object.assign({direction:"up"},e))},Zr=Object(Ke.a)(function(e){return Object($e.a)({title:{marginLeft:e.spacing(2),flex:1},sectionTitle:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}})}),Kr=Object(y.g)(Object(u.b)(function(e){return{account:e.account,profile:e.profile,isAuthed:e.isAuthed,friendData:e.friendData,progressData:e.progressData,transactionData:e.transactionData,rewardData:e.rewardData,onlineUsers:e.onlineUsers}},function(e){return{setData:function(t){return e(L(t))},setPageTitle:function(t){return e(z(t))},tryAuth:function(t,a){return e(P(t))},increaseAvatarV:function(){return e({type:"INCREASE_AVATAR_V"})}}})(function(e){var t=Object(it.a)().t,a=Object(n.useState)("accounts"),o=Object(j.a)(a,2),i=o[0],l=o[1],s=Zr(),u=Object(n.useState)({}),d=Object(j.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(""),g=Object(j.a)(f,2),h=g[0],y=g[1],E=e.isAuthed?e:m,b=E.profile,v=E.account,w=E.progressData,O=E.transactionData,k=E.rewardData,A=Object(n.useState)(),_=Object(j.a)(A,2),C=_[0],D=_[1],T=Object(n.useState)(""),N=Object(j.a)(T,2),I=N[0],F=N[1],P=Object(n.useState)(!1),R=Object(j.a)(P,2),M=R[0],L=R[1],z=Object(n.useState)(!1),W=Object(j.a)(z,2),B=W[0],Y=W[1];if(Object(n.useEffect)(function(){var t=e.history.location.pathname.split("/");if(t.length>2){var a=t[2];e.isAuthed?e.setData({currentProfile:a}):Za(e,0,p,0,function(t){var a,n={},r=Hr(t.friendData);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o._id]=o}}catch(f){r.e(f)}finally{r.f()}var i,c={},l=Hr(t.progressData);try{for(l.s();!(i=l.n()).done;){var s=i.value;c[s._id]=s}}catch(f){l.e(f)}finally{l.f()}var u,d={},m=Hr(t.rewardData);try{for(m.s();!(u=m.n()).done;){var p=u.value;d[p._id]=p}}catch(f){m.e(f)}finally{m.f()}e.setData({profile:t.profile,friendData:n,progressData:c,rewardData:d,account:{}})})}else e.isAuthed&&e.setData({currentProfile:v._id})},[e.isAuthed,e.history.location.pathname,e.account._id]),!b||!b._id)return null;var U=v&&v._id&&v._id===b._id;e.setPageTitle({main:b.name,sub:""});var G=[],V=[],X=[];if(b&&b.friends&&v&&v._id){var J,H=Hr(v.friends);try{for(H.s();!(J=H.n()).done;){var q=J.value;"friend"===q.status?G.push(q):"invited"===q.status?V.push(q):"inviting"===q.status&&X.push(q)}}catch($){H.e($)}finally{H.f()}}var Q,Z=b.progresses,K=b.transactions;return Z&&(Q=Z.filter(function(e){return w[e]}).map(function(e){return w[e]})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn.a,null,r.a.createElement("title",null,b.name," ",t("g.shareText")),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),r.a.createElement(Bn,{header:r.a.createElement(Se.a,{variant:"h6",className:s.title,color:"inherit",noWrap:!0},b.name)},r.a.createElement(et.a,{style:{padding:"15px"}},r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},U?r.a.createElement(Ct.a,{name:"avatar",accept:"image/*",listType:"picture-card",className:Nr.Avatar,showUploadList:!1,customRequest:function(t){var a=t.file;Nt(a,800,"avatar",function(t){t&&e.increaseAvatarV()})}},r.a.createElement("div",{style:{flex:1,display:"flex",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},onClick:function(t){window.isRNWebView&&(t.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(t){e.increaseAvatarV()})}},v.image?r.a.createElement(je.a,{src:Ae(v._id,v.image),size:150,style:{margin:"25px"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt.a,null),r.a.createElement("div",{className:"ant-upload-text"},t("g.upload"))))):r.a.createElement(je.a,{src:Ae(b._id,b.image),size:200}),r.a.createElement(nt.a,{style:{padding:"0 15px"}},e.onlineUsers.includes(v._id)&&r.a.createElement(_e.a,{color:"green",text:"online"}),r.a.createElement(Ir.a.Title,{level:2,editable:!!U&&{onChange:function(e){return t={name:e},a=v._id,void(ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"editAccount",name:t.name,accountId:a})));var t,a},icon:r.a.createElement(wt.a,{color:"primary"},r.a.createElement(Fr.a,null)),maxLength:Gt,autoSize:{minRows:1,maxRows:1}}},b.name)),r.a.createElement(Se.a,{variant:"h5"},"(",b._id,")"),r.a.createElement(nt.a,{style:{margin:"5px 0px"}},r.a.createElement(Ue.a,{onClick:function(){return y("followers")},style:{marginRight:"20px"}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(b.followingAccounts.length," ").concat(t("g.followers")))),r.a.createElement(Ue.a,{onClick:function(){return y("following")}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(b.followProgresses.length+b.followAccounts.length," \n                                    ").concat(t("g.following"))))),r.a.createElement("div",null,r.a.createElement(Xa,{link:"https://addspire.com/profile/"+b._id,media:b.image&&Ae(b._id,b.image),title:b.name+t("profile.shareText"),item:{profileId:b._id,profileName:b.name}}),v&&v._id!==b._id&&r.a.createElement("span",{style:{marginRight:"10px"}},G.find(function(e){return e.friend===b._id})?r.a.createElement(Me.a,{color:"primary",label:"Friends"}):null,v.followAccounts&&!v.followAccounts.includes(b._id)&&r.a.createElement(Ue.a,{color:"primary",onClick:function(){return be(v._id,b._id)},style:{marginRight:"20px"},variant:"contained"},t("g.follow"))),r.a.createElement(kn,{account:v,realFriends:G,invitedFriends:V,invitingFriends:X,_id:b._id,additionalButtons:U?[{onClick:function(){return e.history.push("/logout")},title:t("g.logout")}]:null,asText:!0})),r.a.createElement(nt.a,null))),r.a.createElement(lt,{title:t("g.goals"),items:Q.sort(Xr),content:function(e){return r.a.createElement(at.a,null,r.a.createElement(c.b,{to:"/goals/"+e._id},r.a.createElement(Ve.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:st[ut(e._id)],title:e.name}),r.a.createElement(Ge.a,{style:{padding:"5px"}},r.a.createElement(Se.a,{variant:"body2",noWrap:!0},e.name))))},withAdd:U,addTitle:t("g.addgoal"),onAdd:function(){return L(!0)}}),U&&V.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:t("profile.pendingFriendships"),items:V,content:function(e){return r.a.createElement(Ge.a,{style:{textAlign:"center",padding:"5px"}},r.a.createElement(nt.a,null,r.a.createElement(Ce,{noName:!0,id:e.friend,size:80})),r.a.createElement(Ce,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(nt.a,{style:{margin:"5px 0"}},r.a.createElement(Ue.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return Oe(v._id,e.friend)}},t("g.accept"))),r.a.createElement(nt.a,null,r.a.createElement(Ue.a,{size:"small",onClick:function(){return ke(v._id,e.friend)}},t("g.decline"))))}})),U&&X.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:t("profile.awaitingApproval"),items:X,content:function(e){return r.a.createElement(Ge.a,{style:{textAlign:"center",padding:"5px"}},r.a.createElement(nt.a,null,r.a.createElement(Ce,{noName:!0,id:e.friend,size:80})),r.a.createElement(Ce,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(nt.a,null,r.a.createElement(Ue.a,{size:"small",onClick:function(){return ke(v._id,e.friend)}},t("g.decline"))))}})),r.a.createElement(lt,{title:t("g.friends"),items:G,content:function(e){return r.a.createElement(Ge.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(nt.a,null,r.a.createElement(Ce,{noName:!0,id:e.friend,size:80})),r.a.createElement(Ce,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(kn,{account:v,realFriends:G,invitedFriends:V,invitingFriends:X,_id:e.friend,asIcons:!0,minimized:!0}))},withAdd:U,addTitle:t("g.addFriend"),onAdd:function(){return Y(!0)}}),r.a.createElement(lt,{title:t("profile.receivedAndGivenRewards"),items:K.map(function(e){return O[e]}).filter(function(e){return e}).filter(function(e){return k[e.reward]}).map(function(e){return Object(x.a)({},e,{rewardObject:k[e.reward]})}).sort(function(e,t){if("Confirmed"===e.status&&"Confirmed"!==t.status)return 1;if("Confirmed"!==e.status&&"Confirmed"===t.status)return-1;if("Confirmed"!==e.status&&"Confirmed"!==t.status){if(e.to===b._id&&t.to!==b._id)return 1;if(e.to!==b._id&&t.to===b._id)return-1}return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1}),content:function(e){return r.a.createElement(Ge.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(c.b,{to:"/rewards/"+e.rewardObject._id},r.a.createElement(Ve.a,{style:{height:"150px",backgroundSize:"contain"},image:e.rewardObject.images.length>0?e.rewardObject.images[0]:st[ut(e._id)],title:e.rewardObject.name}),r.a.createElement(Ge.a,{style:{padding:"5px"}},r.a.createElement(Se.a,{variant:"body2",noWrap:!0},e.rewardObject.name),r.a.createElement("span",{style:ba},Ne()(e.date).fromNow()))),r.a.createElement(Ce,{noName:!0,id:e.rewardObject.from,size:25}),">",r.a.createElement(Ce,{noName:!0,id:e.rewardObject.to,size:25}),"Confirmed"!==e.status&&r.a.createElement(Ue.a,{color:"primary",variant:"contained",onClick:function(){return t=v._id,a=e._id,void(t&&a&&ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"confirmTransaction",id:a,accountId:t})));var t,a}},e.to===b._id?t("g.received"):t("g.gave")))}}),r.a.createElement(Jn,{owner:b}),r.a.createElement(Jn,{owner:b,wish:!0}),U&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{className:s.sectionTitle,color:"textSecondary",gutterBottom:!0},t("profile.settings")),r.a.createElement(et.a,{style:{padding:"15px"}},r.a.createElement(nt.a,null,r.a.createElement(Rn,{settings:!0})),r.a.createElement(nt.a,{style:{margin:"20px auto"}},r.a.createElement(Ue.a,{onClick:function(){return e.history.push("/logout")},color:"secondary"},t("g.logout"))),r.a.createElement(Ue.a,{onClick:function(){return D(!0)},color:"secondary"},t("profile.deleteAccount"))),r.a.createElement(Et.a,{open:Boolean(C)},r.a.createElement(bt.a,null,t("profile.deleteAccount")),r.a.createElement(Ot.a,null,r.a.createElement(tn.a,null,r.a.createElement("p",null,t("profile.pleaseEnterNickname"),v._id,t("profile.andPressOk")),r.a.createElement(ea.a,{onChange:function(e){return F(e.target.value)}}))),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){return D(!1)}},t("g.cancel")),r.a.createElement(Ue.a,{onClick:function(){var e;I!==v._id?S.b.warning("The nickmanme is not correct."):(e=v._id,ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"deleteAccount",accountId:e})))},color:"primary"},t("g.delete")))))),r.a.createElement(Et.a,{open:Boolean(h),onClose:function(){return y("")},title:t("following"===h?"g.following":"g.followers"),fullWidth:!0,maxWidth:"md"},r.a.createElement(bt.a,null,"following"!==h&&"Followers","following"===h&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{style:{margin:"0px 20px 0px 0px"},color:"accounts"===i?"primary":"default",onClick:function(){return l("accounts")},variant:"contained"},t("g.users")),r.a.createElement(Ue.a,{color:"goals"===i?"primary":"default",onClick:function(){return l("goals")},variant:"contained"},t("g.goals")))),r.a.createElement(Ot.a,null,"following"===h?"accounts"===i?b.followAccounts.map(function(e){return r.a.createElement(dt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(pa,{account:v,id:e}),body:r.a.createElement(Ce,{span:!0,id:e,size:50})})}):r.a.createElement(Dr,null,b.followProgresses.map(function(e){return r.a.createElement(dt,{id:e,onClickLink:"/goals/"+e,key:e,actions:r.a.createElement(pa,{type:"progress",account:v,id:e}),body:r.a.createElement(Tr,{span:!0,id:e,size:50}),style:{marginTop:"20px"}})})):b.followingAccounts.map(function(e){return r.a.createElement(dt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(pa,{account:v,id:e}),body:r.a.createElement(Ce,{span:!0,id:e,size:50})})})),r.a.createElement(vt.a,null,r.a.createElement(Ue.a,{onClick:function(){return y("")},color:"primary"},t("g.close")))),U&&r.a.createElement(Et.a,{fullScreen:!0,open:M,onClose:function(){L(!1)},TransitionComponent:Qr},r.a.createElement(sn,{setStartProgressVisible:L,account:v,friendData:e.friendData,cancel:function(){return L(!1)}})),U&&r.a.createElement(ma,{open:B,close:function(){Y(!1)},title:t("g.addFriend")},r.a.createElement(Dn,{close:function(){return Y(!1)},open:B,account:v,friendData:e.friendData})))})),$r=a(966),eo=Object(Ke.a)(function(e){return Object($e.a)({title:{marginLeft:e.spacing(2),flex:1}})}),to=Object(y.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,user:e.user,account:e.account,accountNotActive:e.accountNotActive}},function(e){return{setPageTitle:function(t){return e(z(t))},setAccountActivated:function(t){return e(function(e){return{type:"SET_ACCOUNT_ACTIVATED",value:e}}(t))}}})(function(e){var t=Object(it.a)().t,a=eo();e.isAuthed||e.history.push("/logout"),Object(n.useEffect)(function(){e.accountNotActive||e.history.push("/settings")},[e.accountNotActive]);return r.a.createElement($r.a,{header:r.a.createElement(Se.a,{variant:"h6",className:a.title,color:"inherit",noWrap:!0},t("activate.activateAccount"))},r.a.createElement(b.a,Object.assign({name:"dynamic_form_nest_item",onFinish:function(t){s.a.post("/api/activate-account",Object(x.a)({},t)).then(function(t){t.data.success?(S.b.success("Your account has been activated!"),e.setAccountActivated(!1)):(t.data.nicknameNotUnique&&S.b.warning("The nickname is taken. Choose another nickname please."),t.data.errorCode&&S.b.error("Something is wrong with the data. Please try one more time with new data."))}).catch(function(e){})},autoComplete:"off"},{labelCol:{span:8},wrapperCol:{span:16}},{style:{marginTop:"50px"}}),r.a.createElement(b.a.Item,{label:t("g.name"),name:"name",rules:qt},r.a.createElement(v.a,{placeholder:t("activate.minLength")})),r.a.createElement(b.a.Item,{label:t("activate.nickname"),name:"nickname",rules:Jt},r.a.createElement(v.a,{placeholder:t("activate.minLenght")})),r.a.createElement(b.a.Item,{wrapperCol:{offset:8,span:16}},r.a.createElement(w.a,{type:"primary",htmlType:"submit",size:"large"},t("g.save")))))})),ao=a(258),no=a.n(ao);function ro(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return oo(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return oo(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var io=Object(y.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,statePosts:e.post,progress:e.progress,friendData:e.friendData,progressData:e.progressData,lastNotifications:e.lastNotifications}},function(e){return{setData:function(t){e(L(t))},setPageTitle:function(t){return e(z(t))}}})(function(e){var t=e.account,a=e.friendData,n=e.progressData,o=function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1};if(!t._id)return null;var i,c=[],l=ro(t.followProgresses);try{for(l.s();!(i=l.n()).done;){var s=i.value;n[s]&&(c=[].concat(Object(k.a)(c),Object(k.a)(n[s].notifications)))}}catch(f){l.e(f)}finally{l.f()}var u,d=ro(t.friends);try{for(d.s();!(u=d.n()).done;){var m=u.value;a[m.friend]&&"friend"===m.status&&a[m.friend].notifications&&(c=[].concat(Object(k.a)(c),Object(k.a)(a[m.friend].notifications)))}}catch(f){d.e(f)}finally{d.f()}var p=function(e,t,a,n){return e.find(function(e){return e.notId===t.notId})||e.push(t),e};return c=(c=c.reduce(p,[])).sort(o).slice(0,100),c=(c=(c=[].concat(Object(k.a)(c),Object(k.a)(t.myNotifications)).filter(function(e){return"add post"!==e.code})).reduce(p,[])).sort(o),no()(c,e.lastNotifications)||e.setData({lastNotifications:c}),r.a.createElement("span",null)})),co=Object(y.g)(Object(u.b)(null,function(e){return{tryAuth:function(t){return e(P(t))}}})(function(e){return window.addEventListener("message",function(t){try{var a=JSON.parse(t.data);switch(a.message){case"token":var n=a.token;e.tryAuth(n);break;case"callback":window.callback(a.url);break;case"back":e.history.location.key?e.history.goBack():window.isRNWebView&&window.ReactNativeWebView.postMessage("exit");break;default:return}}catch(r){return void console.error("failed to parse message from react-native "+r)}}),r.a.createElement(r.a.Fragment,null)})),lo=a(438),so=a(437);Ne()().format();var uo=Object(y.g)(Object(u.b)(function(e){return{lastNotifications:e.lastNotifications}})(function(e){var t=Object(it.a)().t,a=e.lastNotifications,o=function(e){return r.a.createElement("span",{style:{fontWeight:"bold"}},e.details.reward.money?"$"+e.details.reward.money:e.details.reward.simple||e.details.reward.itemName)};return Object(n.useEffect)(function(){var t,n;t=e.account._id,n=a.reduce(function(e,t){return e>(t=parseInt(t.notId))?e:t},0),ae&&1===ae.readyState&&ae.send(JSON.stringify({messageCode:"setLastSeenNot",accountId:t,notId:n}))},[a]),r.a.createElement(tt.a,null,r.a.createElement(Ge.a,null,a.map(function(a,n){var i,c=null;switch(a.code){case"change name":c=r.a.createElement("span",null," ",r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.changedName"));break;case"delete account":c=r.a.createElement("span",null,a.user,t("dash.deletedAccount"));break;case"friend request":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.wantsToBecomeFriends"));break;case"friend add":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.and"),r.a.createElement(Ce,{span:!0,noAva:!0,id:a.details.friend}),t("dash.becameFriends"));break;case"unfriend":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.and"),r.a.createElement(Ce,{span:!0,noAva:!0,id:a.details.friend}),t("dash.stoppedFriends")," stopped being friends.");break;case"add wishlist item":case"edit wishlist item":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user})," ","add wishlist item"===a.code?t("dash.addedToWish"):t("dash.editedWish")," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/wishlist/".concat(a.user,"/").concat(a.details.itemId))}},a.details.itemName),".");break;case"delete wishlist item":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.deleted"),a.details.itemName," ",t("dash.fromWish"));break;case"add goal":case"edit goal":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user})," ","add goal"===a.code?t("dash.addedGoal"):t("dash.editedGoalND")," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.user,"/").concat(a.details.itemId))}},a.details.itemName),".");break;case"delete goal":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.deleted"),a.details.itemName," ",t("dash.fromGoals"));break;case"cancel transaction":case"confirm transaction":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user})," ","cancel transaction"===a.code?t("dash.cancelled"):t("dash.confirmed")," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/shop/".concat(a.user,"/").concat(a.details.itemId))}},a.details.itemName," ($",a.details.price,")"),t("dash.by"),r.a.createElement(Ce,{span:!0,noAva:!0,id:a.details.buyer}),".");break;case"start progress":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.startedParticipating"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.itemId))}},a.details.itemName),t("dash.as"),a.details.as,".");break;case"stage approve":case"stage progress":case"stage fail":case"stage dismiss":i=function(e){var a;return e.day?(a=Ne()().year(e.year).dayOfYear(e.day)).format("dddd D MMM YYYY"):e.week?(a=Ne()().year(e.year).week(e.week)).startOf("week").format("wo ["+t("g.week")+"] D MMM YYYY - ")+a.endOf("week").format("D MMM YYYY"):e.month?(a=Ne()().year(e.year).month(e.month)).format("MMMM YYYY"):e.year?(a=Ne()().year(e.year)).format("YYYY"):void 0}(a.details),c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),"stage approve"===a.code?t("dash.approved"):"stage progress"===a.code?t("dash.putToProgress"):"stage fail"===a.code?t("dash.markedFailed"):t("dash.dismissed"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),i&&r.a.createElement(r.a.Fragment,null,t("dash.for"),r.a.createElement("span",{style:{fontWeight:"bold"}},i)),".");break;case"stage complete":c=r.a.createElement("span",null,t("dash.goal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),i&&r.a.createElement(r.a.Fragment,null,t("dash.for"),r.a.createElement("span",{style:{fontWeight:"bold"}},i)),t("dash.wasApprovedAndFinished"));break;case"get reward":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.received"),o(a),t("dash.asReward"),r.a.createElement(Ce,{span:!0,noAva:!0,id:a.details.from}),t("dash.inGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"leave progress":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.leftGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"edit progress":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user})," ",t("dash.editedGoalND")," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),a.details.addedAccounts.length>0?r.a.createElement(r.a.Fragment,null,t("dash.andAdded"),a.details.addedAccounts.map(function(e){return r.a.createElement(Ce,{span:!0,noAva:!0,id:e})})," "):"",a.details.droppedAccounts.length>0?r.a.createElement(r.a.Fragment,null,t("dash.andRemoved"),a.details.droppedAccounts.map(function(e){return r.a.createElement(Ce,{span:!0,noAva:!0,id:e})}),"."):".");break;case"remove from progress":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.removed"),r.a.createElement(Ce,{span:!0,noAva:!0,id:a.details.account}),t("dash.fromGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"add to progress":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user}),t("dash.added"),r.a.createElement(Ce,{span:!0,noAva:!0,id:a.details.account}),t("dash.toGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"add reward":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user})," ",t("dash.added")," ",o(a)," ",t("dash.asRewardFor"),a.details.for&&0!==a.details.for.length?a.details.for.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{noAva:!0,span:!0,id:e}),",")}):t("dash.all"),t("dash.inGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"delete reward":c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user})," ",t("dash.removed"),o(a)," as a reward for ",a.details.for&&0!==a.details.for.length?a.details.for.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{span:!0,noAva:!0,id:e}),",")}):t("dash.all"),t("dash.inGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"shared":var l=function(){return e.history.push(a.details.url.split("https://addspire.com").length>0?a.details.url.split("https://addspire.com")[1]:a.details.url)},s=t("dash.somethingOnAddspire");a.details.progressName&&a.details.progressId?(l=function(){return e.history.push("/goals/".concat(a.details.progressId))},s=a.details.progressName):a.details.profileId&&a.details.profileName?(l=function(){return e.history.push("/profile/".concat(a.details.profileId))},s=a.details.profileName):a.details.rewardId&&a.details.rewardName&&(l=function(){return e.history.push("/rewards/".concat(a.details.rewardId))},s=a.details.rewardName),c=r.a.createElement("span",null,r.a.createElement(Ce,{span:!0,noAva:!0,id:a.user})," ",t("dash.sharedAndInvitedYouTo")," ",r.a.createElement("span",{style:{fontWeight:"bold",cursor:"pointer"},onClick:function(){return l()}},s));break;default:c=t("dash.newEvent")}return r.a.createElement("div",{key:n},0!==n&&r.a.createElement(so.a,{style:{margin:"5px 0px"}}),r.a.createElement(lo.a,{avatar:r.a.createElement(Ce,{noName:!0,id:a.user,span:!0}),content:c}))})," "))}));function mo(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return po(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return po(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var fo=Object(Ke.a)(function(e){return Object($e.a)({title:{fontSize:13,margin:"30px 15px 10px",fontWeight:600}})}),go=Object(y.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,statePosts:e.post,progress:e.progress,friendData:e.friendData,progressData:e.progressData,currentPosts:e.currentPosts,lastNotifications:e.lastNotifications}},function(e){return{setData:function(t){e(L(t))},setPageTitle:function(t){return e(z(t))}}})(function(e){var t,a=Object(it.a)().t,o=fo(),i=e.account,c=e.friendData,l=e.statePosts,s=e.progressData,u=e.currentPosts,d=Object(n.useState)([]),m=Object(j.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)("posts"),h=Object(j.a)(g,2),y=h[0],E=h[1],b=Object(n.useState)((new Date).getTime()),v=Object(j.a)(b,1)[0],w=function(e,t){var a=e.notifications.filter(function(e){return e.user!==i._id}),n=t.notifications.filter(function(e){return e.user!==i._id});return 0===a.length&&n.length>0?1:a.length>0&&0===n.length?-1:0===a.length&&0===n.length?0:new Date(a[0].date).getTime()<new Date(n[0].date).getTime()?1:-1},O=0,x=mo(e.lastNotifications);try{for(x.s();!(t=x.n()).done;){var A=t.value;parseInt(A.notId)>parseInt(i.lastSeenNot||0)&&O++}}catch(N){x.e(N)}finally{x.f()}if(Object(n.useEffect)(function(){if(u){var e,t=u.filter(function(e){return l[e]}).map(function(e){return l[e]}),a=[],n=[],r=Object(k.a)(p),o=mo(t);try{var i=function(){var t=e.value,o=r.findIndex(function(e){return e._id.toString()===t._id.toString()});-1===o?t.notifications&&t.notifications.length>0&&new Date(t.notifications[0].date).getTime()>v?a.push(t):n.push(t):r[o]=t};for(o.s();!(e=o.n()).done;)i()}catch(N){o.e(N)}finally{o.f()}for(var c=function(){var e=d[s],t=r.findIndex(function(t){return!!(t&&t.notifications&&t.notifications.length>0)&&new Date(t.notifications[0]).getTime()>new Date(e.notifications[0]).getTime()});-1===t?r.push(e):r.splice(t,0,e)},s=0,d=n;s<d.length;s++)c();var m=[].concat(a,Object(k.a)(r));0===p.length&&(m=m.sort(w)),f(m)}},[u,l]),!i._id)return null;var S,_=[],C=mo(i.followProgresses);try{for(C.s();!(S=C.n()).done;){var D=S.value;s[D]&&(_=[].concat(Object(k.a)(_),Object(k.a)(s[D].notifications.filter(function(e){return"add post"===e.code&&e.user!==i._id}))))}}catch(N){C.e(N)}finally{C.f()}_=_.sort(function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1}).map(function(e){return e.details.postId}).slice(0,10);var T=Object(k.a)(new Set([].concat(Object(k.a)(i.followPosts),Object(k.a)(i.myPosts),Object(k.a)(p.map(function(e){return e._id})),Object(k.a)(_))));return no()(u,T)||e.setData({currentPosts:T}),e.setPageTitle({main:"Dashboard",sub:""}),r.a.createElement(Bn,{header:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{style:{margin:"0px 20px"},color:"posts"===y?"primary":"default",onClick:function(){return E("posts")},variant:"contained"},a("g.posts")),r.a.createElement(sa.a,{badgeContent:O,color:"secondary"},r.a.createElement(Ue.a,{color:"events"===y?"primary":"default",onClick:function(){return E("events")},variant:"contained"},a("g.events"))))},"posts"===y?p.map(function(e,t){var n=null,l=e.notifications.filter(function(e){return e.user!==i._id}),u=l.length>0?l[0]:null;if(u)switch(u.code){case"edit wishlist item":n=a("dash.editedItem");break;case"edit goal":n=a("dash.editedGoal");break;case"comment":n=a("dash.addedComment");break;case"edit comment":n=a("dash.editedComment");break;case"like":n=a("dash.addedLike");break;case"dislike":n=a("dash.removedLike");break;default:n=null}return r.a.createElement("div",{key:t,style:{paddingTop:"10px"}},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{className:o.title,color:"textSecondary",gutterBottom:!0},r.a.createElement("span",null,r.a.createElement(Ce,{id:u.user,noAva:!0,span:!0,style:{fontWeight:"bold"}})," ",n))),r.a.createElement(Qa,{friendData:c,account:i,post:e,progressData:s}))}):r.a.createElement(uo,{account:i}))})),ho=a(439),yo=a.n(ho);Ne()().format();var Eo=Object(Ke.a)(function(e){return Object($e.a)({title:{marginLeft:e.spacing(2),flex:1},root:{flexGrow:1,marginTop:"20px"},media:{height:0,paddingTop:"56.25%",backgroundSize:"contain"},backToBlog:{left:"16px",bottom:"88px",position:"fixed",zIndex:1}})}),bo=Object(y.g)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(z(t))}}})(function(e){var t=Object(it.a)().t,a=Eo(),o=Object(n.useState)(null),i=Object(j.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(""),u=Object(j.a)(s,2),d=u[0],m=u[1];return Object(n.useEffect)(function(){fetch("https://addspire-blog.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'\n            query {\n  posts (where: { language:"'.concat(0===e.history.location.pathname.indexOf("/ru")?"ru":"en",'",\n  _or: [\n      {url: "').concat(e.history.location.pathname.split("/")[e.history.location.pathname.split("/").length-1],'"},\n      {url: "').concat(e.history.location.pathname.split("/")[e.history.location.pathname.split("/").length-1],'.ru"}\n  ] }){\n    id\n    url\n    content\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}')})}).then(function(e){return e.json()}).then(function(e){e.data.posts.length>0&&(l(e.data.posts[0]),m(e.data.posts[0].title+t("g.shareText")))})},[e.history.location.pathname]),Object(n.useEffect)(function(){window.fbAsyncInit=function(){window.FB.init({appId:"115517331888071",cookie:!0,xfbml:!0,version:"v2.5"})},function(e,t,a){var n,r=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk")},[]),Object(n.useEffect)(function(){window.FB&&window.FB.XFBML.parse()}),c?r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(Yn.a,null,r.a.createElement("title",null,d)),r.a.createElement(Bn,{white:!0},r.a.createElement(kr,null),r.a.createElement(tt.a,{style:{margin:"50px auto",maxWidth:"1000px",boxShadow:"none"}},r.a.createElement(Ve.a,{className:a.media,image:c.previewImage&&c.previewImage.url,title:c.title}),r.a.createElement(Ge.a,{style:{paddingLeft:0,paddingRight:0}},r.a.createElement(Se.a,{align:"right",variant:"button",color:"textSecondary",component:"p",gutterBottom:!0},Ne()(c.published_at).format("MMMM Do[,] YYYY")),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(Xa,{post:!0,title:c.title+t("g.shareText"),media:c.previewImage&&c.previewImage.url})),r.a.createElement(Se.a,{gutterBottom:!0,variant:"h2",component:"h1"},c.title),r.a.createElement(Se.a,{gutterBottom:!0,variant:"h5"},c.subtitle),r.a.createElement(Se.a,{variant:"body1",className:"blogArticle"},yo()(c.content)),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(Xa,{post:!0,title:c.title+t("g.shareText"),media:c.previewImage&&c.previewImage.url})),r.a.createElement("div",{className:"fb-comments","data-href":"https://addspire.com"+e.history.location.pathname,"data-numposts":"5","data-width":""}))))):null})),vo=Object(y.g)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,accountNotActive:e.accountNotActive}},function(e){return{tryAuth:function(){return e(P())},logout:function(){return e(M())},setLanguage:function(t){return e(function(e){return{type:"SET_LANGUAGE",language:e}}(t))}}})(function(e){var t=Object(n.useRef)(!0),a=Object(it.a)().i18n,o=e.isAuthed,i=Object(n.useCallback)(Object(h.a)(g.a.mark(function a(){return g.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t.current){a.next=3;break}return a.abrupt("return",null);case 3:e.tryAuth(),a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:case"end":return a.stop()}},a,null,[[0,6]])})),[t]);Object(n.useEffect)(function(){return o||i(),function(){t.current=!1}},[o]),Object(n.useEffect)(function(){var e;e="UA-45758937-4",E.a.initialize(e)},[]),Object(n.useEffect)(function(){-1===e.history.location.pathname.indexOf("/post/")&&window.scrollTo(0,0),E.a.pageview(window.location.pathname+window.location.search)},[e.history.location.pathname]),Object(n.useEffect)(function(){var t=a.language?a.language.split("-")[0]:"en";e.setLanguage(t),Ne.a.locale(t)},[a.language]);var c=function(){return e.logout(),window.isRNWebView&&window.ReactNativeWebView.postMessage("logout"),r.a.createElement(y.a,{to:"/explore"})},l=r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/",exact:!0,component:Jr}),null!==o&&r.a.createElement(y.b,{path:"/posts",exact:!0,component:go}),r.a.createElement(y.b,{path:"/goals",component:vr}),r.a.createElement(y.b,{path:"/rewards",component:Xn}),r.a.createElement(y.b,{path:"/wishlist",component:Xn}),r.a.createElement(y.b,{path:"/profile",component:Kr}),r.a.createElement(y.b,{path:"/logout",exact:!0,component:c}),r.a.createElement(y.b,{path:"/ru/blog",exact:!0,component:jr}),r.a.createElement(y.b,{path:"/blog",exact:!0,component:jr}),r.a.createElement(y.b,{path:"/ru/blog",component:bo}),r.a.createElement(y.b,{path:"/blog",component:bo}),r.a.createElement(y.b,{path:"/activate-account",exact:!0,component:to}),!1,r.a.createElement(y.a,{to:"/"}));return e.accountNotActive&&(l=r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/logout",exact:!0,component:c}),r.a.createElement(y.b,{path:"/activate-account",exact:!0,component:to}),!1,o?r.a.createElement(y.a,{to:"/activate-account"}):r.a.createElement(y.a,{to:"/"}))),r.a.createElement(r.a.Fragment,null,l,o&&r.a.createElement(ie,null),o&&r.a.createElement(io,null),r.a.createElement(co,null))})),wo=a(448);function Oo(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ko(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ko(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var xo=Object(wo.a)({isAuthed:!1,user:null,currentAccount:"",account:{},friendData:{},transactionData:{},progressData:{},currentProfile:"",profile:{},currentProgress:"",currentPosts:[],progress:{},post:{},postData:{},reward:{},currentReward:"",rewardData:{},pageTitle:{},friendSearchResult:[],accountNotActive:!1,lastNotifications:[],isConnectingWS:!1,onlineUsers:[],language:"en"},{SET_DATA:function(e,t){if(t.data){for(var a=0,n=["user","account","isAuthed","currentAccount","currentProfile","currentPosts","currentReward","profile","currentProgress","progress","reward","lastNotifications","onlineUsers"];a<n.length;a++){var r=n[a];"undefined"!==typeof t.data[r]&&(e[r]=t.data[r])}for(var o=0,i=["friendData","progressData","post","postData","rewardData","transactionData"];o<i.length;o++){var c=i[o];if("undefined"!==typeof t.data[c])for(var l in t.data[c])t.data[c][l]&&(e[c][l]=t.data[c][l])}t.data.newOnlineUsers&&(e.onlineUsers=[].concat(Object(k.a)(e.onlineUsers),Object(k.a)(t.data.newOnlineUsers)))}e.user&&(e.user.currentAccount?(e.currentAccount=e.user.currentAccount,e.accountNotActive=!1):e.user.myAccount?(e.currentAccount=e.user.myAccount,e.accountNotActive=!1):e.accountNotActive=!0)},REMOVE_DATA:function(e,t){if(t.data){for(var a=0,n=["user","account","profile","progress","reward"];a<n.length;a++){var r,o=n[a],i=Oo(t.data[o]);try{for(i.s();!(r=i.n()).done;){var c=r.value;e[o]._id===c&&(e[o]={})}}catch(f){i.e(f)}finally{i.f()}}for(var l=0,s=["post","friendData","progressData","postData","rewardData","transactionData"];l<s.length;l++){var u,d=s[l],m=Oo(t.data[d]);try{for(m.s();!(u=m.n()).done;){var p=u.value;delete e[d][p]}}catch(f){m.e(f)}finally{m.f()}}}},SET_FRIEND_SEARCH_RESULT:function(e,t){e.friendSearchResult=t.data},SET_FRIENDS_DATA:function(e,t){t.data&&(e.account.friendsData=t.data),t.data.perk&&(e.perk=t.data.perk)},SET_AVATAR_V:function(e,t){e.account.image=t.v},SET_LANGUAGE:function(e,t){e.language=t.language},INCREASE_AVATAR_V:function(e){e.account.image=e.account.image+1},SET_IS_AUTHED:function(e,t){e.isAuthed=t.id},SET_PAGE_TITLE:function(e,t){e.pageTitle=t.title},SET_ACCOUNT_ACTIVATED:function(e,t){e.accountNotActive=t.value},SET_CONNECTING_WS:function(e,t){e.isConnectingWS=t.data}}),jo=a(440),Ao=a.n(jo),So=a(441),_o=a.n(So),Co=a(442),Do=a.n(Co);Ne.a.extend(Do.a),Ne.a.extend(_o.a),Ne.a.extend(Ao.a),Ne.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s",s:"now",ss:"now",m:"1 min",mm:"%d mins",h:"1 hr",hh:"%d hrs",d:"1 day",dd:"%d days",w:"1 wk",ww:"%d wks",M:"1 mth",MM:"%d mths",y:"1 year",yy:"%d years"}}),Ne.a.updateLocale("ru",{relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s",s:"\u0441\u0435\u0439\u0447\u0430\u0441",ss:"\u0441\u0435\u0439\u0447\u0430\u0441",m:"1 \u043c\u0438\u043d",mm:"%d \u043c\u0438\u043d",h:"1 \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u043e\u0432",d:"1 \u0434\u0435\u043d\u044c",dd:"%d \u0434\u043d\u0435\u0439",w:"1 \u043d\u0435\u0434",ww:"%d \u043d\u0435\u0434",M:"1 \u043c\u0435\u0441",MM:"%d \u043c\u0435\u0441",y:"1 \u0433\u043e\u0434",yy:"%d \u043b\u0435\u0442"}}),a.d(t,"store",function(){return No});var To=Object(Ie.a)({palette:{primary:{main:Qe.a[500]}},typography:{fontSize:13},overrides:{MuiAppBar:{colorSecondary:{backgroundColor:"white",color:"#333"}}}});s.a.defaults.baseURL="https://addspire.com";var No=Object(d.createStore)(xo,Object(p.composeWithDevTools)(Object(d.applyMiddleware)(m.a))),Io=r.a.createElement(u.a,{store:No},r.a.createElement(c.a,null,r.a.createElement(Fe.a,{theme:To},r.a.createElement(vo,null)))),Fo=document.getElementById("root");i.a.render(Io,Fo)}},[[468,1,2]]]);
//# sourceMappingURL=main.4f1bcc60.chunk.js.map