{"version":3,"sources":["components/Welcome/Welcome.module.scss","components/Layout/LoginModal.module.css","components/Layout/Layout.module.css","components/UI/ImageCarousel/imageCarousel.module.css","containers/Profile/Profile.module.css","containers/Auth/AuthTest.tsx","components/UI/TinyEditor.tsx","components/UI/ReadMore.tsx","components/UI/HorizontalScrollList.tsx","translations/languages/index.tsx","translations/i18n.tsx","utils/processRes.js","store/actions/auth.tsx","store/actions/saveResources.tsx","containers/ConnectWebsocket/methods/getListOfNeededResources.js","containers/ConnectWebsocket/methods/compareVersionsAndRerequest.js","containers/ConnectWebsocket/methods/getResourcesToMonitor.js","containers/ConnectWebsocket/ConnectWebsocket.tsx","containers/ConnectWebsocket/methods/requestResource.tsx","store/actions/updateResource.tsx","websocketActions/posts.tsx","websocketActions/account.tsx","websocketActions/friends.tsx","components/MasonryCard.tsx","components/UI/DialogFullscreen.tsx","utils/getAvatar.js","components/UserButton/UserButton.tsx","utils/pullData.js","components/Layout/LoginModal.tsx","components/FriendActionButton.tsx","components/FriendCard.tsx","containers/Friends/AddFriends.tsx","components/LanguageSwitcher/LanguageSwitcher.tsx","constants/fieldLength.js","constants/fieldRules.js","components/EditResource/ConnectionsSelect.tsx","containers/Explore/LocateControl.tsx","utils/uploadFile.js","components/UI/ImagePickerMulti.tsx","constants/goalCategories.tsx","components/EditResource/GoalCategories.tsx","components/EditResource/EditResource.tsx","websocketActions/resources.tsx","components/Layout/Layout.tsx","components/Post/EditPost.tsx","components/Post/AddPost.tsx","components/Post/AddMessage.tsx","components/UI/ImageCarousel/ImageCarousel.tsx","components/FollowButton.tsx","components/UI/ConfirmAction.tsx","components/Post/Message.tsx","components/UI/ShareButton.tsx","components/Post/Post.tsx","components/Post/ResourcePosts.tsx","components/SimilarResources.tsx","components/ResourceHeader.tsx","components/ResourceCore.tsx","components/MapPosition/MapPosition.tsx","containers/Reward/Reward.tsx","components/ProfileRewards/ProfileRewards.tsx","components/ProfileActivities/ProfileActivities.tsx","components/Rewards/EditProgressReward.tsx","websocketActions/goals.tsx","components/Rewards/Rewards.tsx","websocketActions/progresses.tsx","utils/getNowStageId.ts","containers/Goal/ActivityTable.tsx","websocketActions/activities.tsx","components/Activities/Activities.tsx","containers/Goal/Goal.tsx","containers/Activity/Activity.tsx","containers/Blog/Blog.tsx","utils/masonryBreakPoints.js","components/MasonryGrid.tsx","components/ProgressButton.tsx","containers/Explore/MapSettings.tsx","components/Welcome/index.tsx","containers/Explore/Explore.tsx","components/Transactions/Transactions.tsx","websocketActions/transactions.tsx","containers/Profile/Profile.tsx","containers/ActivateAccount/ActivateAccount.tsx","containers/Dashboard/NotificationsTracker.tsx","RNBridge.tsx","containers/Dashboard/DashboardEvents.tsx","websocketActions/dashboard.tsx","containers/Dashboard/DashboardPosts.tsx","containers/Blog/BlogArticle.tsx","App.tsx","components/TrackingGA/index.tsx","store/reducer/reducer.tsx","setupDayjs.tsx","index.tsx"],"names":["module","exports","header__title","subheader","slider","slider__word","slider__words","wordSlider","videoWrapper","Container","socialButtons","Background","Layout","Header","Footer","HideHeader","FooterButton","TopHeader","BottomHeader","Main","MenuButtonContiner","QuickButtonContiner","PageTitle","bottomMenu","Dots","Avatar","Cookies","TinyEditor","props","contentState","t","useTranslation","value","blocksFromHtml","htmlToDraft","contentBlocks","entityMap","ContentState","createFromBlockArray","convertToRaw","react_default","a","createElement","react_draft_wysiwyg","Object","assign","placeholder","readOnly","wrapperClassName","editorClassName","defaultContentState","onContentStateChange","onEditorChange","onEditorChangePlain","convertFromRaw","getPlainText","toolbar","inline","inDropdown","list","textAlign","link","history","toolbarHidden","options","ReadMore","_useState","useState","_useState2","slicedToArray","overflow","setOverflow","_useState3","_useState4","open","setOpen","descRef","useRef","useEffect","current","offsetHeight","initialHeight","content","contentEditor","children","style","maxHeight","position","paddingBottom","ref","dangerouslySetInnerHTML","__html","bottom","width","transition","opacity","backgroundImage","height","left","Button","color","onClick","addTitle","useStyles","makeStyles","theme","createStyles","title","fontSize","margin","textTransform","fontWeight","addBox","palette","primary","main","display","alignItems","HorizontalScrollList","classes","items","length","empty","customEmpty","withAdd","Fragment","Typography","className","gutterBottom","Paper","padding","Box","overflowX","Card","borderRadius","cursor","flexShrink","marginRight","minHeight","CardActionArea","justifyContent","onAdd","CardContent","flex","flexDirection","AddCircle","map","item","index","marginTop","bottomContent","languages","en","translation","ru","i18n","use","LanguageDetector","initReactI18next","init","resources","fallbackLng","keySeparator","interpolation","escapeValue","nonExplicitSupportedLngs","processRes","res","data","logout","push","home","success","errorCode","message","warning","error","successCode","status","cookies","tryAuth","token","dispatch","sessionStorage","setItem","get","rememberMe","remove","path","userId","jwt_decode","axios","defaults","headers","post","put","delete","common","Accept","setIsAuthed","_id","id","type","setData","setPageTitle","setFriendSearchResult","getListOfNeededResources","notFoundResources","store","requestedResources","user","account","progress","reward","activity","progressData","friendData","postData","transactionData","rewardData","activityData","neededResources","isAuthed","currentAccount","_i","_arr","concat","toConsumableArray","progresses","followProgresses","recent","filter","resourceType","resourceId","_step","_iterator","getListOfNeededResources_createForOfIteratorHelper","followPosts","s","n","done","err","e","f","_step2","_iterator2","myPosts","_step3","_iterator3","transactions","transaction","_step4","_iterator4","friends","friend","_i2","_arr2","rewards","_i3","_arr3","activities","_i4","_arr4","followingAccounts","followAccounts","currentProfile","profile","_i5","_arr5","_step5","_iterator5","rewardId","_step6","_iterator6","_step7","_iterator7","_step8","_iterator8","_i6","_arr6","currentGoal","participants","owner","users","likes","_step9","_iterator9","_step10","_iterator10","posts","_i7","_arr7","oldRewards","_i8","_arr8","oldActivities","currentPosts","_step11","_iterator11","postEl","_step12","_iterator12","parent","parentType","parentId","currentReward","_i9","_arr9","_step13","_iterator13","currentActivity","_i10","_arr10","_step14","_iterator14","friendSearchResult","_step15","_iterator15","reduce","obj","attr","Array","from","Set","includes","notNeededExist","notNeededResources","check1","key","mode","check2","removeData","compareVersionsAndRerequest","versions","state","webSocket","checkData","__v","requestResource","check","getResourcesToMonitor","addData","listOfGroups","ConnectWebsocket","markNotFoundResource","ids","newNotFound","_this","setState","start","pingTimeout","WebSocket","heartbeat","clearTimeout","setTimeout","close","readyState","send","JSON","stringify","messageCode","onopen","event","resourcesToMonitor","initializeRequestResources","onmessage","news","parse","onlineUsers","messageText","setFriendsData","friendsData","saveResource","newOnlineUsers","updateResource","code","update","set","expires","Date","getTime","onclose","checkInterval","clearInterval","setInterval","reRequestResourcesInterval","reRequestResources","ConnectWebsocket_createForOfIteratorHelper","group","nextProps","newRequestedResources","_loop","this","setConnectingToWS","prevProps","prevState","_loop2","Component","withRouter","connect","pulledFrom","actions","getState","myAccount","find","_createForOfIteratorHelper","notRequestedIds","applyDelta","source","delta","watchFields","result","cloneDeep","del","applyWithDot","keys","shift","split","applyUpdateToPart","updatedFields","applyDeleteToPart","splice","updateResource_createForOfIteratorHelper","removedFields","field","indexOf","parState","element","defineProperty","updateData","changeLikesMessage","messageId","accountId","postId","followResource","unfollowResource","changeLikesResource","add","followAccount","accountFollow","unfollowAccount","addFriend","friendId","acceptFriend","unfriend","placeholderImages","getPH","matches","match","imagePH","parseInt","Math","abs","round","x","makeRand","images","picture","objectSpread","maxWidth","boxShadow","src","noLink","wordBreak","body","marginLeft","react_router_dom","to","onClickLink","TransitionComponent","Slide","direction","appBar","spacing","DialogFullscreen","Dialog","fullScreen","onClose","AppBar","Toolbar","IconButton","edge","aria-label","Close","variant","save","autoFocus","saveText","getAvatar","nickname","version","friendDataExp","getUserData","userName","text","name","typography","noWrap","userAvatar","ava","avatar","image","size","noClick","noName","badge","onlyName","stopPropagation","Group","noAva","span","es_button","pullData","callback","location","pathname","then","catch","cookieConsent","setCookieConsent","checkCookieConsent","remeberMeParam","basicURL","loginVisible","setLoginVisible","lineHeight","marginBottom","dist","window","FormControlLabel","control","Checkbox","checked","onChange","label","Divider","DialogTitle","DialogContent","DialogContentText","DialogActions","maxAge","FriendActionButton","anchorEl","setAnchorEl","invitingFriends","invitedFriends","realFriends","handleClose","handleClick","currentTarget","additionalButtons","MoreVertOutlined","Menu","keepMounted","Boolean","button","MenuItem","minimized","asText","preventDefault","wsActions","noFollow","forceAuth","MasonryCard","components_FriendActionButton","asIcons","components_UserButton_UserButton","root","input","iconButton","searchResult","setSearchField","searchField","AddFriends_createForOfIteratorHelper","fullFriend","paddingTop","align","InputBase","target","search","SearchOutlined","components_FriendCard","language","languageText","breakpoints","up","languageIcon","currentLanguage","_useTranslation","languageMenu","setLanguageMenu","handleLanguageMenuClose","changeLanguage","LANGUAGES_LABEL","Tooltip","enterDelay","aria-owns","undefined","aria-haspopup","data-ga-event-category","data-ga-event-action","Language_default","settings","join","ExpandMore_default","component","data-no-link","selected","fieldLength","nicknameRules","required","whitespace","min","max","pattern","nameRules","accountNameRules","es_select","getPopupContainer","trigger","parentNode","Option","LocateControl","leaflet","lc","Locate","strings","drawCircle","drawMarker","keepCurrentZoomLevel","setView","flyTo","addTo","navigator","geolocation","getCurrentPosition","withLeaflet","withTranslation","uploadFile","file","filename","alert","reader","FileReader","onload","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","resizeImageToSpecificSize","urltoFile","getSignedRequest","stop","_x","apply","arguments","readAsArrayBuffer","url","mimeType","fetch","arrayBuffer","buf","File","cb","resizeImageFromSrcToSpecificSize","readAsDataURL","img","Image","widthCoef","heightCoef","oc","document","octx","getContext","drawImage","toDataURL","onerror","_unused","fileName","response","doUploadFile","signedRequest","Content-Type","ImagePickerMulti","setImages","previewImage","setPreviewImage","onValueChange","upload","accept","listType","fileList","uid","onPreview","customRequest","_ref2","isRNWebView","ReactNativeWebView","postMessage","PlusOutlined_default","dividers","goalCategories","GoalCategories","category","Chip","nolim","pop","Select","divider","EditResource","leafletElement","ELG","useMapBounds","GestureHandling","resource","positionIsProvided","coordinates","setPosition","initialPosition","setInitialPosition","_useState5","_useState6","positionRead","setPositionRead","_useState7","descriptionText","_useState8","descriptionPlain","setDescriptionPlain","_Form$useForm","Form","useForm","form","mapClick","latlng","lat","lng","setFieldsValue","nomap","goalId","cancel","charAt","toUpperCase","slice","submit","es_form","onFinish","goToResource","autoComplete","initialValues","repeat","days","labelCol","wrapperCol","onValuesChange","changedFields","allValues","sort","Item","valuePropName","UI_ImagePickerMulti","rules","getValueFromEvent","Input","fullWidth","EditResource_GoalCategories","EditResource_ConnectionsSelect","noStyle","shouldUpdate","prevValues","currentValues","getFieldValue","Map","center","zoom","onclick","zIndex","gestureHandling","onlocationfound","Explore_LocateControl","TileLayer","attribution","Marker","draggable","ondragend","getLatLng","react_leaflet_fullscreen_dist_default","speedDial","right","login","border","blogLabel","blogIcon","lastNotifications","isConnectingWS","recentShown","markRecentShown","domRef","useMediaQuery","startResourceVisible","setStartResourceVisible","addFriendOpen","setAddFriendOpen","speedDialOpen","setSpeedDialOpen","_useState9","_useState10","recentVisible","setRecentVisible","_useState11","_useState12","hideRecentTimeout","setHideRecentTimeout","openLink","isActivating","numberOfUnseenNots","Layout_createForOfIteratorHelper","not","notId","lastSeenNot","logedIn","scrollTrigger","useScrollTrigger","timeout","removeGutters","paths","checkPagePath","hide","cll","white","background","appear","in","elevation","LinearProgress","top","tabIndex","header","Link","components_LanguageSwitcher_LanguageSwitcher","Book","disableGutters","SpeedDial","ariaLabel","icon","SpeedDialIcon","reason","focus","onOpen","SpeedDialAction","Person","tooltipTitle","whiteSpace","tooltipOpen","Star","Launch","onMouseDown","onScroll","onTouchStart","urlDir","CardMedia","backgroundSize","HomeRounded","Badge","badgeContent","Notifications","History","Layout_LoginModal","Friends_AddFriends","components_EditResource_EditResource","EditPost","setMessageText","handleSave","handleCancel","postOpen","setPostOpen","Post_EditPost","messageValue","onSend","&>div::after","&>div::before","& textarea","setImageLoading","replyToUser","isTop","TextField","multiline","replyToMessage","editedMessage","replyTo","editingMessage","spanStyle","showUploadList","ImageCarousel","carousel","dots","autoplay","backgroundPosition","backgroundRepeat","Modal","visible","footer","onCancel","alt","FollowButton","ConfirmAction","confirm","dayjs","format","Message","replies","isStart","replyVisible","setReplyVisible","deleteMessageOpen","setDeleteMessageOpen","setLikes","setReplyToUser","setEditingMessage","showReplies","setShowReplies","_useState13","_useState14","_useState15","_useState16","editMessageOpen","setEditMessageOpen","handleEditPostCancel","author","Post_AddMessage","date","fromNow","startMessage","messageType","anchorOrigin","vertical","horizontal","overlap","ThumbUp","UI_ImageCarousel_ImageCarousel","reply","details","itemId","UI_ReadMore","components_FollowButton","alertVisible","setAlertVisible","setFriends","basicProps","href","media","leaveDelay","startIcon","Share","FacebookShareButton","quote","FacebookIcon","TwitterShareButton","TwitterIcon","TelegramShareButton","TelegramIcon","PinterestShareButton","PinterestIcon","LinkedinShareButton","LinkedinIcon","VKShareButton","VKIcon","EmailShareButton","subject","EmailIcon","lib","onCopy","FileCopy","Snackbar","autoHideDuration","Alert","severity","isPostPage","postRef","scrollTo","offsetTop","behavior","noStartMessage","Post_Message","noPostControls","ThumbUpOutlined","AddCommentOutlined","UI_ShareButton","messages","Post_createForOfIteratorHelper","getNumberOfMessages","Post_AddPost","b","components_Post_Post","reverse","similarResources","setSimilarResources","similarIsRequested","setSimilarIsRequested","categories","currentId","ResourceHeader","followersVisible","setFollowersVisible","editResourceOpen","setEditResourceOpen","deleteResourceOpen","setDeleteResourceOpen","leaveResourceOpen","setLeaveResourceOpen","accountProp","followProp","dropDownMeuItems","toString","getDropDownMeuItems","progressId","progressName","ownProps","pathParts","ResourceCore_createForOfIteratorHelper","setResource","Helmet","components_ResourceHeader","components_SimilarResources","Post_ResourcePosts","DefaultIcon","L","iconUrl","shadowUrl","iconShadow","iconSize","iconAnchor","prototype","MapPosition","setReward","components_ResourceCore","description","components_MapPosition_MapPosition","addRewardOpen","setAddRewardOpen","rewardPreview","setRewardPreview","wish","additionalButton","isSelect","multiple","isOwner","isSelected","openInDialog","containers_Reward_Reward","addActivityOpen","setAddActivityOpen","activityPreview","setActivityPreview","activityId","EditProgressReward","initialValue","rewardObj","components_ProfileRewards_ProfileRewards","ProfileActivities","EditProgressReward_Option","editRewardOpen","setEditRewardOpen","selectedReward","setSelectedReward","deleteRewardVisible","setDeleteRewardVisible","selectedRewardObj","Rewards_EditProgressReward","redTheme","createMuiTheme","red","overrides","MuiSelect","selectMenu","select","&:focus","backgroundColor","fade","blueTheme","blue","greenTheme","green","orangeTheme","orange","customTheme","purple","MuiListItem","secondaryAction","paddingRight","paddingLeft","showEarnedRewards","setShowEarnedRewards","activityObj","nowStageId","lastStages","stages","aS","aF","bS","bF","old","day","year","dayOfYear","startOf","endOf","week","month","now","diff","stageId","getNowStageId","ThemeProvider","tabs","defaultActiveKey","findIndex","stage","stageDate","getStatus","dismissed","failBy","approvedBy","getStatusText","myStatus","stageStatus","getTag","labelId","userStatus","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","tabTitle","TabPane","tab","List","dense","paid","selectedActivity","setSelectedActivity","deleteActivityVisible","setDeleteActivityVisible","activitiesIds","Goal_ActivityTable","setProgress","components_Activities_Activities","components_Rewards_Rewards","setActivity","RetweetOutlined_default","getRepeatType","acc","val","getDay","light","flexGrow","setPosts","setTitle","all","setAll","method","query","json","Grid","container","xs","md","xl","subtitle","published_at","friendsBreakPoints","default","1600","1100","600","cardBreakPoints","700","310","MasonryGrid","react_masonry_css_es5_default","breakpointCols","columnClassName","dataProp","MapSettings","mapVisible","setMapVisible","onSearch","setSearch","positionChanged","setPositionChanged","radius","setRadius","changed","setChanged","withMap","getRadius","metresPerPixel","cos","getCenter","PI","pow","getZoom","units","distance","sm","Switch","Slider","valueLabelDisplay","whenReady","onzoomend","CircleMarker","frameBorder","allowFullScreen","allow","sortProgresses","views","foundProgresses","setFoundProgresses","noMore","setNoMore","setValue","liveFoundProcesses","skip","newFriendData","Explore_createForOfIteratorHelper","Explore_MapSettings","components_Welcome","Tabs","indicatorColor","textColor","Tab","orientation","LocationOn","react_infinite_scroller_default","pageStart","loadMore","hasMore","loader","selectedTransaction","setSelectedTransaction","deleteTransactionVisible","setDeleteTransactionVisible","transactionObj","rewardObject","sectionTitle","increaseAvatarV","currentTab","setCurrentTab","classesM","deleteVisible","setDeleteVisible","deleteField","setDeleteField","startProgressVisible","setStartProgressVisible","profileId","Profile_createForOfIteratorHelper","sub","loadedProgresses","Title","level","editable","Edit","maxLength","autoSize","minRows","maxRows","profileName","components_Transactions_Transactions","newValue","scrollButtons","components_ProgressButton","accountNotActive","setAccountActivated","nicknameNotUnique","offset","htmlType","statePosts","sortNotifiacations","NotificationsTracker_createForOfIteratorHelper","notifications","filterSameNot","arr","myNotifications","isEqual","addEventListener","goBack","console","p","v","stageName","itemName","price","buyer","as","getStageName","addedAccounts","ac","droppedAccounts","for","action","rewardName","activityName","comment","startTime","sortPosts","aN","bN","DashboardPosts_createForOfIteratorHelper","newPosts","newUnseenPosts","newOldPosts","oldPosts","oldPostIndex","_newOldPosts","resultPosts","neededPosts","nots","Dashboard_DashboardEvents","backToBlog","setPost","fbAsyncInit","FB","appId","cookie","xfbml","d","js","fjs","getElementsByTagName","getElementById","insertBefore","XFBML","ReactHtmlParser","data-href","data-numposts","data-width","setLanguage","mountedRef","auth","useCallback","abrupt","t0","trackingID","ReactGA","initialize","pageview","locale","Logout","react_router","routes","exact","Explore","DashboardPosts","Goal","Reward","Activity","Profile","Blog","BlogArticle","ActivateAccount","process","containers_ConnectWebsocket_ConnectWebsocket","Dashboard_NotificationsTracker","src_RNBridge","reducer","createReducer","pageTitle","SET_DATA","REMOVE_DATA","reducer_createForOfIteratorHelper","SET_FRIEND_SEARCH_RESULT","SET_FRIENDS_DATA","perk","SET_AVATAR_V","SET_LANGUAGE","INCREASE_AVATAR_V","SET_IS_AUTHED","SET_PAGE_TITLE","SET_ACCOUNT_ACTIVATED","SET_CONNECTING_WS","SET_RECENT_SHOWN","extend","weekOfYear","relativeTime","updateLocale","future","past","ss","m","mm","h","hh","dd","w","ww","M","MM","y","yy","__webpack_require__","__webpack_exports__","src_store","outerTheme","MuiAppBar","colorSecondary","baseURL","createStore","composeWithDevTools","applyMiddleware","thunk","app","es","src_App","ReactDOM","render"],"mappings":"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","file":"static/js/main.1612e6f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__title\":\"Welcome_header__title__2PVWK\",\"subheader\":\"Welcome_subheader__8NTpe\",\"slider\":\"Welcome_slider__1C5Wk\",\"slider__word\":\"Welcome_slider__word__2M0ri\",\"slider__words\":\"Welcome_slider__words__2RsMS\",\"wordSlider\":\"Welcome_wordSlider__3DU7B\",\"videoWrapper\":\"Welcome_videoWrapper__203j_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LoginModal_Container__1PdGZ\",\"socialButtons\":\"LoginModal_socialButtons__1H9u7\",\"Background\":\"LoginModal_Background__2foqr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3q-xb\",\"Header\":\"Layout_Header__J8BzQ\",\"Footer\":\"Layout_Footer__1UfUY\",\"HideHeader\":\"Layout_HideHeader__2uuFO\",\"FooterButton\":\"Layout_FooterButton__VhJUa\",\"TopHeader\":\"Layout_TopHeader__277Y8\",\"BottomHeader\":\"Layout_BottomHeader__3YPE5\",\"Main\":\"Layout_Main__Py9vL\",\"MenuButtonContiner\":\"Layout_MenuButtonContiner__2imT-\",\"QuickButtonContiner\":\"Layout_QuickButtonContiner__3mw1U\",\"PageTitle\":\"Layout_PageTitle__1_EDr\",\"bottomMenu\":\"Layout_bottomMenu__p7MZh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dots\":\"imageCarousel_Dots__3XuKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Profile_Avatar__3n37F\"};","import React from 'react'\n\nimport Form from 'antd/es/form'\nimport Input from 'antd/es/input'\nimport Button from 'antd/es/button'\nimport axios from 'axios'\nimport Cookies from 'universal-cookie'\n\nconst cookies = new Cookies()\n\nconst Auth = props => {\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n    const onFinish = value => {\n        axios\n            .post('/api/authtest/' + value.id)\n            .then(res => {\n                cookies.set('auth_token', res.data.cookie)\n                props.onTryAutoSignup()\n            })\n            .catch(err => {})\n    }\n    return (\n        <Form\n            name=\"dynamic_form_nest_item\"\n            onFinish={onFinish}\n            autoComplete=\"off\"\n            {...layout}\n        >\n            <Form.Item\n                label=\"Id\"\n                name=\"id\"\n                rules={[\n                    { required: true, message: 'Please input the goal name.' },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                    Save\n                </Button>\n            </Form.Item>\n        </Form>\n    )\n}\n\nexport default Auth\n","import React from 'react'\n// import { Editor } from '@tinymce/tinymce-react'\nimport { Editor } from 'react-draft-wysiwyg'\nimport { convertFromRaw, ContentState, convertToRaw } from 'draft-js'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\nimport htmlToDraft from 'html-to-draftjs'\nimport { useTranslation } from 'react-i18next'\n\nexport default props => {\n    const { t } = useTranslation()\n    let contentState\n    if (typeof props.value === 'string') {\n        const blocksFromHtml = htmlToDraft(props.value)\n        const { contentBlocks, entityMap } = blocksFromHtml\n        contentState = ContentState.createFromBlockArray(\n            contentBlocks,\n            entityMap\n        )\n        contentState = convertToRaw(contentState)\n    } else contentState = props.value\n    return (\n        // <Editor\n        //     apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n        //     // initialValue={form.getFieldValue('description')}\n        //     init={{\n        //         inline: true,\n        //     }}\n        //     onEditorChange={props.onEditorChange}\n        //     value={props.value}\n        // />\n        <Editor\n            placeholder={t('g.addSomeText')}\n            readOnly={props.readOnly}\n            // toolbarClassName=\"demo-toolbar-absolute\"\n            wrapperClassName=\"demo-wrapper\"\n            {...(!props.readOnly\n                ? { editorClassName: 'demo-editor' }\n                : { contentState: contentState })}\n            defaultContentState={contentState}\n            onContentStateChange={value => {\n                props.onEditorChange && props.onEditorChange(value)\n                props.onEditorChangePlain &&\n                    props.onEditorChangePlain(\n                        convertFromRaw(value).getPlainText(' ')\n                    )\n            }}\n            toolbar={{\n                inline: { inDropdown: true },\n                list: { inDropdown: true },\n                textAlign: { inDropdown: true },\n                link: { inDropdown: true },\n                history: { inDropdown: true },\n            }}\n            toolbarHidden={props.readOnly}\n            options={\n                !props.readOnly && [\n                    'inline',\n                    'blockType',\n                    'fontSize',\n                    'fontFamily',\n                    'list',\n                    'textAlign',\n                    'colorPicker',\n                    'link',\n                    'emoji',\n                    'remove',\n                    'history',\n                ]\n            }\n        />\n    )\n}\n","import { Button } from '@material-ui/core'\nimport React, { useEffect, useRef, useState } from 'react'\nimport TinyEditor from './TinyEditor'\nimport { useTranslation } from 'react-i18next'\n\nconst ReadMore = props => {\n    const { t } = useTranslation()\n    const [overflow, setOverflow] = useState(false)\n    const [open, setOpen] = useState(false)\n    const descRef = useRef(null)\n\n    useEffect(() => {\n        if (\n            descRef.current &&\n            descRef.current.offsetHeight > props.initialHeight\n        ) {\n            setOverflow(true)\n        }\n    }, [\n        descRef.current && descRef.current.offsetHeight,\n        props.content,\n        props.contentEditor,\n        props.children,\n    ])\n    return (\n        <div\n            style={{\n                maxHeight: open ? 'initial' : props.initialHeight + 'px',\n                overflow: 'hidden',\n                position: 'relative',\n                paddingBottom: overflow && open ? '50px' : '0px',\n            }}\n        >\n            {props.content && (\n                <div\n                    ref={descRef}\n                    dangerouslySetInnerHTML={{ __html: props.content }}\n                />\n            )}\n            {props.contentEditor && (\n                <div ref={descRef}>\n                    <TinyEditor readOnly value={props.contentEditor} />\n                </div>\n            )}\n            {props.children && <div ref={descRef}>{props.children}</div>}\n            {overflow && (\n                <div\n                    style={{\n                        position: 'absolute',\n                        bottom: 0,\n                        width: '100%',\n                        // zIndex: 1,\n                    }}\n                >\n                    <div\n                        style={{\n                            transition: 'opacity 0.25s',\n                            opacity: open ? 0 : 1,\n                            backgroundImage:\n                                'linear-gradient(to bottom, rgba(255, 255, 255, 1), #ffffff )',\n                            content: '',\n                            height: '50px',\n                            width: '100%',\n\n                            bottom: '0',\n                            left: '0',\n                            position: 'absolute',\n                        }}\n                    />\n\n                    <Button color=\"primary\" onClick={() => setOpen(!open)}>\n                        {open\n                            ? t('g.readLess')\n                            : t('g.readMore') + (props.addTitle || '')}\n                    </Button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default ReadMore\n","import {\n    Box,\n    Card,\n    CardActionArea,\n    CardContent,\n    createStyles,\n    makeStyles,\n    Paper,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { AddCircle } from '@material-ui/icons'\nimport Empty from 'antd/es/empty'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n        addBox: {\n            color: theme.palette.primary.main,\n            display: 'flex',\n            alignItems: 'center',\n        },\n    })\n)\nexport default props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    return props.items.length > 0 ||\n        props.empty ||\n        props.customEmpty ||\n        props.withAdd ? (\n        <>\n            {props.title && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {props.title}\n                </Typography>\n            )}\n            <Paper\n                style={{\n                    padding: '15px',\n                    paddingBottom: '10px',\n                }}\n            >\n                <Box\n                    style={{\n                        display: 'flex',\n                        overflowX: 'auto',\n                        padding: '3px',\n                    }}\n                >\n                    {props.items.length === 0 && props.empty ? (\n                        props.customEmpty || <Empty />\n                    ) : (\n                        <>\n                            {props.withAdd && (\n                                <Card\n                                    style={{\n                                        borderRadius: '15px',\n                                        cursor: 'pointer',\n                                        flexShrink: 0,\n                                        width: '100px',\n                                        marginRight: '10px',\n                                        position: 'relative',\n                                        minHeight: '160px',\n                                    }}\n                                >\n                                    <CardActionArea\n                                        style={{\n                                            height: '100%',\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                        }}\n                                        onClick={() => props.onAdd()}\n                                    >\n                                        <CardContent\n                                            style={{\n                                                flex: 1,\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                justifyContent: 'center',\n                                                padding: '5px',\n                                            }}\n                                        >\n                                            <Box\n                                                style={{\n                                                    flexDirection: 'column',\n                                                }}\n                                                className={classes.addBox}\n                                            >\n                                                <AddCircle />\n                                                <Box\n                                                    style={{\n                                                        textAlign: 'center',\n                                                    }}\n                                                >\n                                                    {props.addTitle ||\n                                                        t('g.add')}\n                                                </Box>\n                                            </Box>\n                                        </CardContent>\n                                    </CardActionArea>\n                                </Card>\n                            )}\n                            {props.items.map((item, index) => (\n                                <Card\n                                    style={{\n                                        borderRadius: '15px',\n                                        cursor: 'pointer',\n                                        flexShrink: 0,\n                                        width: '100px',\n                                        marginRight: '10px',\n                                        position: 'relative',\n                                    }}\n                                >\n                                    {props.content(item, index)}\n                                </Card>\n                            ))}\n                            <Box style={{ width: '10px', flexShrink: 0 }} />\n                        </>\n                    )}\n                </Box>\n                <Box style={{ marginTop: '20px' }}>\n                    {props.bottomContent || null}\n                </Box>\n            </Paper>\n        </>\n    ) : null\n}\n","import en from './en.json'\nimport ru from './ru.json'\n\nexport default {\n    en: {\n        translation: en,\n    },\n    ru: {\n        translation: ru,\n    },\n}\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport resources from './languages'\n\n// the translations\n// (tip move them in a JSON file and import them)\n\ni18n.use(LanguageDetector)\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n        resources,\n        fallbackLng: 'en',\n        keySeparator: '.', // we do not use keys in form messages.welcome\n        interpolation: {\n            escapeValue: false, // react already safes from xss\n        },\n        nonExplicitSupportedLngs: true,\n    })\n\nexport default i18n\n","import message from 'antd/es/message'\nimport i18n from '../translations/i18n'\n\nexport default (res, props) => {\n    const { t } = i18n\n    if (res.data.logout) props.history.push('/logout')\n    if (res.data.home) props.history.push('/')\n    if (res.data.success === false) {\n        if (res.data.errorCode) {\n            switch (res.data.errorCode) {\n                case 'no account':\n                    message.warning(t('processRes.accountNotFound'))\n                    break\n                case 'bad data':\n                    message.error(t('processRes.error'))\n                    break\n                default:\n                    message.warning(t('processRes.generalError'))\n                    break\n            }\n        } else {\n            message.error(t('processRes.generalError'))\n        }\n    } else {\n        if (res.data.successCode) {\n            switch (res.data.successCode) {\n                case 'avatar saved':\n                    message.success(t('processRes.avaSaved'))\n                    break\n                case 'success':\n                    message.success(t('processRes.success'))\n                    break\n                case 'item saved':\n                    message.success(t('processRes.saved'))\n                    break\n                case 'progress created':\n                    message.success(t('processRes.goalStarted'))\n                    break\n                case 'reward created':\n                    message.success(t('processRes.rewardStarted'))\n                    break\n                case 'activity created':\n                    message.success(t('processRes.activityStarted'))\n                    break\n                default:\n                    message.success(t('processRes.success'))\n                    break\n            }\n        }\n    }\n    if (res.data.status && res.data.status === 'no account')\n        props.history.push('/activate-account')\n}\n","import Cookies from 'universal-cookie'\nimport jwt_decode from 'jwt-decode'\n\nimport processRes from '../../utils/processRes'\nimport axios from 'axios'\n\nconst cookies = new Cookies()\n\nexport const tryAuth = token => (dispatch: Object) => {\n    sessionStorage.setItem('systemRefresh', '0')\n    if (!token) {\n        token = cookies.get('auth_token')\n        const rememberMe = cookies.get('rememberme')\n        if (rememberMe) {\n            cookies.remove('rememberme', {\n                path: '/',\n            })\n            if (rememberMe === 'false') {\n                cookies.remove('auth_token', {\n                    path: '/',\n                })\n            }\n        }\n    }\n\n    const userId = jwt_decode(token)\n    axios.defaults.headers.post['Content-Type'] = 'application/json'\n    axios.defaults.headers.put['Content-Type'] = 'application/json'\n    axios.defaults.headers.delete['Content-Type'] = 'application/json'\n    axios.defaults.headers.common.Accept = 'application/json'\n    if (token && userId) {\n        axios.defaults.headers.common['x-auth-token'] = token\n        axios.defaults.headers.post['x-auth-token'] = token\n        axios.defaults.headers.get['x-auth-token'] = token\n        axios.defaults.headers.delete['x-auth-token'] = token\n        axios.defaults.headers.put['x-auth-token'] = token\n        dispatch(setIsAuthed(userId._id))\n    } else {\n        dispatch(setIsAuthed(null))\n    }\n}\n\nconst setIsAuthed = id => ({\n    type: 'SET_IS_AUTHED',\n    id,\n})\n\nexport const setLanguage = language => ({\n    type: 'SET_LANGUAGE',\n    language,\n})\n\nexport const markRecentShown = () => ({\n    type: 'SET_RECENT_SHOWN',\n})\n\nexport const logout = () => dispatch => {\n    cookies.remove('rememberme', {\n        path: '/',\n    })\n    cookies.remove('auth_token', {\n        path: '/',\n    })\n    delete axios.defaults.headers.common['x-auth-token']\n    delete axios.defaults.headers.post['x-auth-token']\n    delete axios.defaults.headers.get['x-auth-token']\n    delete axios.defaults.headers.delete['x-auth-token']\n    delete axios.defaults.headers.put['x-auth-token']\n    dispatch(setIsAuthed(false))\n}\n\nexport const setData = data => ({\n    type: 'SET_DATA',\n    data,\n})\n\nexport const setConnectingToWS = data => ({\n    type: 'SET_CONNECTING_WS',\n    data,\n})\n\nexport const removeData = data => ({\n    type: 'REMOVE_DATA',\n    data,\n})\n\nexport const setFriendsData = data => ({\n    type: 'SET_FRIENDS_DATA',\n    data,\n})\n\nexport const setAvatarV = v => ({\n    type: 'SET_AVATAR_V',\n    v,\n})\n\nexport const increaseAvatarV = () => ({\n    type: 'INCREASE_AVATAR_V',\n})\n\nexport const setPageTitle = title => ({\n    type: 'SET_PAGE_TITLE',\n    title,\n})\n\nexport const buyPerk = (account, perk, owner, props) => dispatch => {\n    const currency = account.wallet.find(item => item.user === owner._id)\n    if (currency && currency.amount >= perk.price) {\n        axios\n            .post('/api/shop/buy', {\n                perkId: perk.perkId,\n                ownerId: owner._id,\n            })\n            .then(res => {\n                processRes(res)\n                if (res.data.success) {\n                    dispatch(setData(res.data, props.history.location.pathname))\n                }\n            })\n            .catch(err => {})\n    } else {\n        alert(\n            'You cannot buy this item as you do not have enough money from this user.'\n        )\n    }\n}\n\nexport const confirmTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/confirm', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const cancelTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/cancel', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const setFriendSearchResult = data => ({\n    type: 'SET_FRIEND_SEARCH_RESULT',\n    data,\n})\n\nexport const setAccountActivated = value => ({\n    type: 'SET_ACCOUNT_ACTIVATED',\n    value,\n})\n","import { setData } from './auth'\n\nexport const saveResource = (data, type, newOnlineUsers) => (\n    dispatch,\n    getState\n) => {\n    if (data.length > 0) {\n        const state = getState()\n        switch (type) {\n            case 'user':\n                const user = data[0]\n                let currentAccount = user.currentAccount\n                if (!currentAccount) currentAccount = user.myAccount\n                // if(!currentAccount)\n                //activate-account\n                dispatch(setData({ user, currentAccount }))\n                break\n            case 'account':\n                const account = data.find(\n                    item => item._id === state.currentAccount\n                )\n                if (account) {\n                    dispatch(setData({ account, newOnlineUsers }))\n                }\n\n                const profile = data.find(\n                    item => item._id === state.currentProfile\n                )\n                if (profile) {\n                    dispatch(setData({ profile, newOnlineUsers }))\n                }\n\n                break\n            case 'progress':\n                const progress = data.find(\n                    item => item._id === state.currentGoal\n                )\n                if (progress) {\n                    dispatch(setData({ progress }))\n                }\n                break\n\n            case 'post':\n                let post = {}\n                for (let item of data) {\n                    post[item._id] = item\n                }\n                dispatch(setData({ post }))\n                break\n\n            case 'reward':\n                const reward = data.find(\n                    item => item._id === state.currentReward\n                )\n                if (reward) {\n                    dispatch(setData({ reward }))\n                }\n                break\n            case 'activity':\n                const activity = data.find(\n                    item => item._id === state.currentActivity\n                )\n                if (activity) {\n                    dispatch(setData({ activity }))\n                }\n                break\n\n            case 'friendData':\n                let friendData = {}\n                for (let item of data) {\n                    friendData[item._id] = item\n                }\n                dispatch(setData({ friendData, newOnlineUsers }))\n                break\n            case 'progressData':\n                let progressData = {}\n                for (let item of data) {\n                    progressData[item._id] = item\n                }\n                dispatch(setData({ progressData }))\n                break\n            case 'transactionData':\n                let transactionData = {}\n                for (let item of data) {\n                    transactionData[item._id] = item\n                }\n                dispatch(setData({ transactionData }))\n                break\n            case 'postData':\n                let postData = {}\n                for (let item of data) {\n                    postData[item._id] = item\n                }\n                dispatch(setData({ postData }))\n                break\n            case 'rewardData':\n                let rewardData = {}\n                for (let item of data) {\n                    rewardData[item._id] = item\n                }\n                dispatch(setData({ rewardData }))\n                break\n            case 'activityData':\n                let activityData = {}\n                for (let item of data) {\n                    activityData[item._id] = item\n                }\n                dispatch(setData({ activityData }))\n                break\n\n            default:\n                break\n        }\n    }\n}\n","export default (props, notFoundResources) => {\n    const createEmptyObj = () => ({\n        user: [],\n        account: [],\n        progress: [],\n        reward: [],\n        activity: [],\n        post: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n        activityData: [],\n    })\n    const { store } = props\n    const requestedResources = createEmptyObj()\n    const neededResources = createEmptyObj()\n    if (store.isAuthed) {\n        if (!store.user) {\n            requestedResources.user.push(store.isAuthed)\n        } else {\n            neededResources.user.push(store.user._id)\n            if (store.currentAccount) {\n                if (store.account._id !== store.currentAccount) {\n                    requestedResources.account.push(store.currentAccount)\n                } else {\n                    neededResources.account.push(store.account._id)\n                    for (let progress of [\n                        ...store.account.progresses,\n                        ...store.account.followProgresses,\n                        ...store.account.recent\n                            .filter(item => item.resourceType === 'goal')\n                            .map(item => item.resourceId),\n                        ,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let post of store.account.followPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let post of store.account.myPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let transaction of store.account.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n                    for (let friend of store.account.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let reward of [\n                        ...store.account.rewards,\n                        ...store.account.recent\n                            .filter(item => item.resourceType === 'reward')\n                            .map(item => item.resourceId),\n                        ,\n                    ]) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                    for (let activity of [\n                        ...store.account.activities,\n                        ...store.account.recent\n                            .filter(item => item.resourceType === 'activity')\n                            .map(item => item.resourceId),\n                    ]) {\n                        if (!store.activityData[activity]) {\n                            requestedResources.activityData.push(activity)\n                        }\n                        neededResources.activityData.push(activity)\n                    }\n                    for (let item of [\n                        ...store.account.followingAccounts,\n                        ...store.account.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n            if (store.currentProfile) {\n                if (store.profile._id !== store.currentProfile) {\n                    requestedResources.account.push(store.currentProfile)\n                } else {\n                    neededResources.account.push(store.profile._id)\n                    for (let progress of [\n                        ...store.profile.progresses,\n                        ...store.profile.followProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let transaction of store.profile.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        } else {\n                            const rewardId =\n                                store.transactionData[transaction].reward\n                            if (!store.rewardData[rewardId]) {\n                                requestedResources.rewardData.push(rewardId)\n                            }\n                            neededResources.rewardData.push(rewardId)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n\n                    for (let friend of store.profile.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let reward of store.profile.rewards) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                    for (let activity of store.profile.activities) {\n                        if (!store.activityData[activity]) {\n                            requestedResources.activityData.push(activity)\n                        }\n                        neededResources.activityData.push(activity)\n                    }\n                    for (let item of [\n                        ...store.profile.followingAccounts,\n                        ...store.profile.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n\n            if (store.currentGoal) {\n                if (store.progress._id !== store.currentGoal) {\n                    requestedResources.progress.push(store.currentGoal)\n                } else {\n                    neededResources.progress.push(store.progress._id)\n                    let participants = []\n                    if (store.progress.owner)\n                        participants.push(store.progress.owner)\n                    if (store.progress.users)\n                        participants = participants.concat(store.progress.users)\n                    if (store.progress.likes)\n                        participants = participants.concat(store.progress.likes)\n                    if (store.progress.followingAccounts)\n                        participants = participants.concat(\n                            store.progress.followingAccounts\n                        )\n\n                    for (let friend of participants) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n                    for (let post of store.progress.posts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n\n                    for (let reward of [\n                        ...store.progress.rewards,\n                        ...store.progress.oldRewards,\n                    ]) {\n                        if (!store.rewardData[reward.reward]) {\n                            requestedResources.rewardData.push(reward.reward)\n                        }\n                        neededResources.rewardData.push(reward.reward)\n                    }\n                    for (let activity of [\n                        ...store.progress.activities,\n                        ...store.progress.oldActivities,\n                    ]) {\n                        if (!store.activityData[activity]) {\n                            requestedResources.activityData.push(activity)\n                        }\n                        neededResources.activityData.push(activity)\n                    }\n                }\n            }\n            if (store.currentPosts) {\n                for (let post of store.currentPosts) {\n                    const postEl = store.post[post]\n                    if (!postEl) {\n                        requestedResources.post.push(post)\n                    } else {\n                        neededResources.post.push(post)\n                        for (let friend of postEl.users) {\n                            if (!store.friendData[friend]) {\n                                requestedResources.friendData.push(friend)\n                            }\n                            neededResources.friendData.push(friend)\n                        }\n                        if (post.parent) {\n                            if (post.parent.parentType === 'progress')\n                                neededResources.progressData.push(\n                                    post.parent.parentId\n                                )\n                            if (post.parent.parentType === 'reward')\n                                neededResources.rewardData.push(\n                                    post.parent.parentId\n                                )\n                            if (post.parent.parentType === 'activity')\n                                neededResources.activityData.push(\n                                    post.parent.parentId\n                                )\n                        }\n                    }\n                }\n            }\n            if (store.currentReward) {\n                if (store.reward._id !== store.currentReward) {\n                    requestedResources.reward.push(store.currentReward)\n                } else {\n                    neededResources.reward.push(store.reward._id)\n                    for (let friend of [\n                        ...store.reward.likes,\n                        ...store.reward.followingAccounts,\n                    ]) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n\n                    for (let post of store.reward.posts) {\n                        if (!store.post[post]) {\n                            requestedResources.post.push(post)\n                        }\n                        neededResources.post.push(post)\n                    }\n                }\n            }\n            if (store.currentActivity) {\n                if (store.activity._id !== store.currentActivity) {\n                    requestedResources.activity.push(store.currentActivity)\n                } else {\n                    neededResources.activity.push(store.activity._id)\n                    for (let friend of [\n                        ...store.activity.likes,\n                        ...store.activity.followingAccounts,\n                    ]) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n\n                    for (let post of store.activity.posts) {\n                        if (!store.post[post]) {\n                            requestedResources.post.push(post)\n                        }\n                        neededResources.post.push(post)\n                    }\n                }\n            }\n            if (store.friendSearchResult && store.friendSearchResult.length > 0)\n                for (let friend of store.friendSearchResult) {\n                    if (!store.friendData[friend._id]) {\n                        requestedResources.friendData.push(friend._id)\n                    }\n                    neededResources.friendData.push(friend._id)\n                }\n        }\n    }\n\n    const reduce = obj => {\n        for (let attr in obj) {\n            if (obj[attr]) {\n                obj[attr] = Array.from(\n                    new Set(\n                        obj[attr].filter(\n                            item => !notFoundResources.includes(item)\n                        )\n                    )\n                )\n            }\n        }\n    }\n\n    reduce(neededResources)\n    const notNeededResources = createEmptyObj()\n    notNeededResources.profile = []\n    let notNeededExist\n    const check1 = (key, mode) => {\n        if (\n            store[mode]._id &&\n            !neededResources[key].includes(store[mode]._id)\n        ) {\n            notNeededResources[mode].push(store[mode]._id)\n            notNeededExist = true\n        }\n    }\n    const check2 = key => {\n        for (let attr in store[key]) {\n            if (!neededResources[key].includes(attr)) {\n                notNeededResources[key].push(attr)\n                notNeededExist = true\n            }\n        }\n    }\n    check1('account', 'account')\n    check1('account', 'profile')\n    check1('progress', 'progress')\n    check1('reward', 'reward')\n    check1('activity', 'activity')\n    check2('post')\n    check2('friendData')\n    check2('rewardData')\n    check2('activityData')\n    check2('progressData')\n    check2('transactionData')\n    check2('postData')\n\n    if (notNeededExist) {\n        props.removeData(notNeededResources)\n    }\n\n    reduce(requestedResources)\n    return requestedResources\n}\n","import requestResource from './requestResource'\n\nexport default (versions, state, store, webSocket) => {\n    const notNeededResources = {\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        reward: [],\n        activity: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n        activityData: [],\n    }\n\n    const checkData = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key][attr]) {\n                    if (store[key][attr].__v !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    const check = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key]._id === attr) {\n                    if (store[key].__v !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                    if (!store[key]._id) notNeededResources[key].push(attr)\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    for (let attr in versions.user) {\n        if (typeof versions.user[attr] !== 'undefined') {\n            if (store.user._id === attr) {\n                if (store.user.__v !== versions.user[attr]) {\n                    requestResource('user', [attr], state)\n                }\n            } else notNeededResources.user.push(attr)\n        }\n    }\n\n    for (let attr in versions.account) {\n        if (typeof versions.account[attr] !== 'undefined') {\n            if (store.account._id === attr) {\n                if (store.account.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n            }\n            if (store.profile._id === attr) {\n                if (store.profile.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n                if (!store.account._id) notNeededResources.account.push(attr)\n            }\n        }\n        if (store.account._id !== attr && store.profile._id !== attr)\n            notNeededResources.account.push(attr)\n    }\n\n    check('progress')\n    check('reward')\n    check('activity')\n\n    checkData('post')\n    checkData('friendData')\n    checkData('progressData')\n    checkData('rewardData')\n    checkData('activityData')\n    checkData('postData')\n    checkData('transactionData')\n\n    if (\n        notNeededResources.user.length > 0 ||\n        notNeededResources.account.length > 0 ||\n        notNeededResources.progress.length > 0 ||\n        notNeededResources.post.length > 0 ||\n        notNeededResources.friendData.length > 0 ||\n        notNeededResources.reward.length > 0 ||\n        notNeededResources.rewardData.length > 0 ||\n        notNeededResources.activity.length > 0 ||\n        notNeededResources.activityData.length > 0 ||\n        notNeededResources.progressData.length > 0 ||\n        notNeededResources.postData.length > 0 ||\n        notNeededResources.transactionData.length > 0\n    ) {\n        return notNeededResources\n    }\n}\n","export default props => {\n    const { store } = props\n    const resources = {\n        user: {},\n        account: {},\n        progress: {},\n        post: {},\n        reward: {},\n        activity: {},\n        transactionData: {},\n        friendData: {},\n        progressData: {},\n        postData: {},\n        rewardData: {},\n        activityData: {},\n    }\n\n    if (store.user && store.user._id) {\n        resources.user[store.user._id] = store.user.__v\n    }\n\n    if (store.account._id) {\n        resources.account[store.account._id] = store.account.__v\n    }\n    if (store.profile._id) {\n        resources.account[store.profile._id] = store.profile.__v\n    }\n    if (store.progress._id) {\n        resources.progress[store.progress._id] = store.progress.__v\n    }\n    if (store.activity._id) {\n        resources.activity[store.activity._id] = store.activity.__v\n    }\n    if (store.activity._id) {\n        resources.activity[store.activity._id] = store.activity.__v\n    }\n\n    const addData = key => {\n        for (let item in store[key]) {\n            if (typeof store[key][item] !== 'undefined') {\n                if (store[key][item]._id) {\n                    resources[key][store[key][item]._id] = store[key][item].__v\n                }\n            }\n        }\n    }\n\n    addData('post')\n    addData('friendData')\n    addData('postData')\n    addData('progressData')\n    addData('rewardData')\n    addData('activityData')\n    addData('TransactionData')\n\n    return resources\n}\n","import React, { Component } from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport message from 'antd/es/message'\nimport getListOfNeededResources from './methods/getListOfNeededResources'\nimport compareVersionsAndRerequest from './methods/compareVersionsAndRerequest'\nimport getResourcesToMonitor from './methods/getResourcesToMonitor'\nimport Cookies from 'universal-cookie'\nimport axios from 'axios'\nimport i18n from '../../translations/i18n'\n\nexport let webSocket = false\nconst cookies = new Cookies()\nconst listOfGroups = [\n    'user',\n    'account',\n    'progress',\n    'reward',\n    'activity',\n    'post',\n    'postData',\n    'progressData',\n    'friendData',\n    'transactionData',\n    'rewardData',\n    'activityData',\n]\nclass ConnectWebsocket extends Component {\n    state = {\n        user: [],\n        account: [],\n        progress: [],\n        reward: [],\n        activity: [],\n        post: [],\n        friendData: [],\n        progressData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n        activityData: [],\n        notFoundResources: [],\n    }\n    markNotFoundResource = ids => {\n        const newNotFound = [...this.state.notFoundResources, ...ids]\n        this.setState({ notFoundResources: newNotFound })\n    }\n    start = () => {\n        let url\n        if (process.env.NODE_ENV === 'development') {\n            url = 'ws://my.websiter.test:5000'\n        } else {\n            url = 'wss://addspire.com'\n        }\n        let pingTimeout\n        webSocket = new WebSocket(url)\n\n        const heartbeat = versions => {\n            let notNeededResources\n            if (versions) {\n                notNeededResources = compareVersionsAndRerequest(\n                    versions,\n                    this.state,\n                    this.props.store,\n                    webSocket\n                )\n            }\n            clearTimeout(pingTimeout)\n\n            pingTimeout = setTimeout(() => {\n                webSocket.close()\n            }, 30000 + 1000)\n            if (webSocket && webSocket.readyState === 1) {\n                webSocket.send(\n                    JSON.stringify({\n                        messageCode: 'heartbeat',\n                        notNeededResources,\n                    })\n                )\n            }\n        }\n\n        webSocket.onopen = event => {\n            const resourcesToMonitor = getResourcesToMonitor(this.props)\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'auth',\n                    user: axios.defaults.headers.common['x-auth-token'],\n                    resourcesToMonitor,\n                    // progressId: this.props.progress._id,\n                })\n            )\n            this.initializeRequestResources(this.props)\n            heartbeat()\n        }\n\n        webSocket.onmessage = event => {\n            const news = JSON.parse(event.data)\n\n            switch (news.messageCode) {\n                case 'heartbeat':\n                    heartbeat(news.versions)\n                    this.props.setData({\n                        onlineUsers: news.onlineUsers,\n                    })\n                    break\n                case 'logout':\n                    this.props.logout()\n                    this.props.history.push('/logout')\n                    break\n\n                case 'successMessage':\n                    message.success(i18n.t('processRes.success'))\n                    break\n                case 'errorMessage':\n                    message.error(news.messageText)\n                    break\n                case 'friendsData':\n                    this.props.setFriendsData(news.friendsData)\n                    break\n                case 'redirectToAccount':\n                    this.props.history.push(\n                        '/profile/' + this.props.store.account._id\n                    )\n                    break\n                case 'addResource':\n                    this.props.saveResource(\n                        news.resources,\n                        news.type,\n                        news.newOnlineUsers\n                    )\n                    break\n                case 'updateResource':\n                    this.props.updateResource(\n                        news.code,\n                        news.id,\n                        news.update,\n                        this.state\n                    )\n                    break\n                case 'friendSearchResult':\n                    this.props.setFriendSearchResult(news.data)\n                    break\n                case 'goTo':\n                    this.props.history.push(news.messageText || '/')\n                    break\n                case '404':\n                    message.error(i18n.t('processRes.404'))\n                    this.props.history.push(news.messageText || '/')\n                    break\n\n                // case 'update':\n                //     let newProgress\n                //     let oldProgress = cloneDeep(this.props.progress)\n                //     if (oldProgress.__v === news.progress.__v - 1) {\n                //         newProgress = diffpatcher.patch(\n                //             oldProgress,\n                //             news.progress.patch\n                //         )\n                //         newProgress.__v = news.progress.__v\n                //         this.props.setData(\n                //             {\n                //                 progress: newProgress,\n                //             },\n                //             this.props.history.location.pathname\n                //         )\n                //     }\n                //     wsActions.getFriendsData(\n                //         newProgress || this.props.progress,\n                //         this.props.account.friends\n                //     )\n                //     break\n                case 'authSuccess':\n                    axios.defaults.headers.common['x-auth-token'] &&\n                        cookies.set(\n                            'auth_token',\n                            axios.defaults.headers.common['x-auth-token'],\n                            {\n                                path: '/',\n                                expires: new Date(\n                                    new Date().getTime() +\n                                        6 * 24 * 60 * 60 * 1000\n                                ),\n                            }\n                        )\n                    break\n                case 'error':\n                    message.error(i18n.t('processRes.error'))\n                    break\n                case 'notFoundResource':\n                    this.markNotFoundResource(news._id)\n                    break\n                default:\n                    break\n            }\n        }\n        webSocket.onclose = event => {\n            clearTimeout(pingTimeout)\n        }\n    }\n\n    checkInterval = null\n\n    check = () => {\n        if (!webSocket || webSocket.readyState === 3) {\n            clearInterval(this.checkInterval)\n            this.checkInterval = setInterval(this.check, 5000)\n            this.start()\n        }\n    }\n    // componentWillMount() {\n    //     this.checkInterval = setInterval(this.check, 50)\n    // }\n\n    reRequestResourcesInterval = null\n    reRequestResources = () => {\n        for (let group of listOfGroups) {\n            if (this.state[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: this.state[group],\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.checkInterval)\n        if (webSocket) {\n            webSocket.close()\n        }\n        this.props.setConnectingToWS(false)\n    }\n    componentDidMount() {\n        this.checkInterval = setInterval(this.check, 50)\n        this.props.setConnectingToWS(true)\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.store.currentAccount !== this.props.store.currentAccount)\n            if (webSocket && webSocket.readyState === 1) {\n                webSocket.send(\n                    JSON.stringify({\n                        messageCode: 'currentAccount',\n                        id: this.props.store.currentAccount,\n                    })\n                )\n            }\n    }\n    // componentWillReceiveProps(nextProps) {\n    //     this.initializeRequestResources(nextProps)\n    // }\n    // componentDidUpdate() {\n    //     this.initializeRequestResources(this.props)\n    // }\n    initializeRequestResources = nextProps => {\n        const newRequestedResources = getListOfNeededResources(\n            nextProps,\n            this.state.notFoundResources\n        )\n        for (let group of listOfGroups) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !this.state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        this.setState(() => newRequestedResources)\n        clearInterval(this.reRequestResourcesInterval)\n        this.reRequestResourcesInterval = setInterval(\n            this.reRequestResources,\n            3000\n        )\n    }\n\n    static getDerivedStateFromProps(nextProps, state) {\n        const newRequestedResources = getListOfNeededResources(\n            nextProps,\n            state.notFoundResources\n        )\n        for (let group of listOfGroups) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        // clearInterval(this.reRequestResourcesInterval)\n        // this.reRequestResourcesInterval = setInterval(\n        //     this.reRequestResources,\n        //     3000\n        // )\n        return newRequestedResources\n    }\n    render() {\n        return null\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        store: state,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        removeData: data => dispatch(actions.removeData(data)),\n        saveResource: (data, type, newOnlineUsers) =>\n            dispatch(actions.saveResource(data, type, newOnlineUsers)),\n        setFriendsData: data => dispatch(actions.setFriendsData(data)),\n\n        updateResource: (code, id, update, state) =>\n            dispatch(actions.updateResource(code, id, update, state)),\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n        setConnectingToWS: data => dispatch(actions.setConnectingToWS(data)),\n\n        logout: () => dispatch(actions.logout()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ConnectWebsocket)\n)\n","import { webSocket } from '../ConnectWebsocket'\n\nexport default (type, ids, state) => {\n    const notRequestedIds = ids.filter(id => !state[type].includes(id))\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'requestResource',\n                ids: notRequestedIds,\n                type,\n            })\n        )\n    }\n}\n","import requestResource from '../../containers/ConnectWebsocket/methods/requestResource'\nimport * as actions from './index'\nimport cloneDeep from 'lodash.clonedeep'\n\nconst applyDelta = (source, delta, watchFields) => {\n    // console.log('---------------------------APLY DELTA------------------------')\n    // console.log('----------------source----------------')\n    // console.log(source)\n    // console.log('----------------delta-------------------')\n    // console.log(delta)\n    const result = cloneDeep(source)\n\n    const applyUpdateToPart = (res, del, watchFields) => {\n        const applyWithDot = (res, keys, del) => {\n            if (keys.length > 1) {\n                const key = keys.shift()\n                applyWithDot(res[key], keys, del)\n            } else {\n                if (typeof res === 'array') {\n                    res.push(del)\n                } else {\n                    res[keys[0]] = del\n                }\n            }\n        }\n        for (let attr in del) {\n            const keys = attr.split('.')\n            if (!watchFields || watchFields.includes(keys[0])) {\n                if (typeof del[attr] !== 'undefined') {\n                    applyWithDot(res, keys, del[attr])\n                }\n            }\n        }\n    }\n\n    applyUpdateToPart(result, delta.updatedFields, watchFields)\n\n    const applyDeleteToPart = (result, keys) => {\n        if (keys.length > 1) {\n            const key = keys.shift()\n            applyDeleteToPart(result[key], keys)\n        } else {\n            if (typeof result === 'object') {\n                delete result[keys[0]]\n            } else if (typeof result === 'array') {\n                result.splice(keys[0], 1)\n            }\n        }\n    }\n\n    for (let field of delta.removedFields) {\n        if (field.indexOf('.') > -1) {\n            const keys = field.split('.')\n            if (!watchFields || watchFields.includes(keys[0]))\n                applyDeleteToPart(result, keys)\n        } else {\n            delete result[field]\n        }\n    }\n    // console.log('--------------------------------result----------------')\n    // console.log(result)\n    return result\n}\n\nexport const updateResource = (code, id, update, parState) => (\n    dispatch,\n    getState\n) => {\n    if (update && id && code) {\n        const state = getState()\n        const check = key => {\n            if (state[key]._id === id) {\n                if (state[key].__v === update.updatedFields.__v - 1) {\n                    const element = applyDelta(state[key], update)\n                    dispatch(actions.setData({ [key]: element }))\n                } else {\n                    if (state[key].id) requestResource(code, [id], parState)\n                }\n            }\n        }\n        const check2 = (key, watchFields) => {\n            let updateData = {\n                [key]: cloneDeep(state[key]),\n            }\n            const friend = updateData[key][id]\n            if (friend) {\n                if (friend.__v === update.updatedFields.__v - 1) {\n                    updateData[key][id] = applyDelta(\n                        friend,\n                        update,\n                        watchFields\n                    )\n                    dispatch(actions.setData(updateData))\n                } else {\n                    requestResource(code, [id], parState)\n                }\n            }\n        }\n        switch (code) {\n            case 'user':\n                check('user')\n                break\n            case 'account':\n                check('account')\n                check('profile')\n                break\n            case 'progress':\n                check('progress')\n                break\n            case 'reward':\n                check('reward')\n                break\n            case 'activity':\n                check('activity')\n                break\n            case 'post':\n                dispatch(actions.setData(check2(code)))\n                break\n            case 'friendData':\n                dispatch(\n                    actions.setData(\n                        check2(code, ['name', 'image', 'notifications', '__v'])\n                    )\n                )\n                break\n            case 'progressData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'owner',\n                            'worker',\n                            'goal',\n                            'name',\n                            'notifications',\n                            'likes',\n                            'followingAccounts',\n                            'activities',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'rewardData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'name',\n                            'owner',\n                            'images',\n                            'likes',\n                            'followingAccounts',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'activityData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'name',\n                            'owner',\n                            'images',\n                            'likes',\n                            'stages',\n                            'followingAccounts',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'postData':\n                dispatch(\n                    actions.setData(check2(code, ['notifications', '__v']))\n                )\n                break\n\n            case 'transactionData':\n                dispatch(actions.setData(check2(code)))\n                break\n            default:\n                break\n        }\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const sendMessage = (\n    accountId,\n    postId,\n    messageValue,\n    image,\n    replyToMessage,\n    editedMessage\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'sendMessage',\n                messageValue,\n                image,\n                postId,\n                accountId,\n                replyToMessage,\n                editedMessage,\n            })\n        )\n    }\n}\n\nexport const changeLikesMessage = (\n    messageCode,\n    messageId,\n    accountId,\n    postId\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode,\n                messageId,\n                accountId,\n                postId,\n            })\n        )\n    }\n}\n\nexport const addPost = (\n    accountId,\n    parentId,\n    parentType,\n    messageValue,\n    images\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addPost',\n                accountId,\n                parentId,\n                parentType,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n\nexport const editPost = (accountId, postId, messageValue, images) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editPost',\n                accountId,\n                postId,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n\nexport const deletePost = (accountId, postId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deletePost',\n                accountId,\n                postId,\n            })\n        )\n    }\n}\n\nexport const deleteMessage = (accountId, postId, messageId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteMessage',\n                accountId,\n                postId,\n                messageId,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const deleteAccount = id => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteAccount',\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const editAccount = (value, id) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editAccount',\n                name: value.name,\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const followResource = (accountId, resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followResource',\n                accountId,\n                resourceId,\n                type,\n            })\n        )\n    }\n}\nexport const unfollowResource = (accountId, resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowResource',\n                accountId,\n                resourceId,\n                type,\n            })\n        )\n    }\n}\nexport const changeLikesResource = (accountId, resourceId, add, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesResource',\n                accountId,\n                resourceId,\n                add,\n                type,\n            })\n        )\n    }\n}\n\nexport const followAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\nexport const unfollowAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\n\nexport const addRecent = (accountId, resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRecent',\n                accountId,\n                resourceId,\n                type,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const searchFriends = search => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'searchFriends',\n                search,\n            })\n        )\n    }\n}\n\nexport const addFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const acceptFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'acceptFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const unfriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const shareWithFriends = (accountId, url, friends, item) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'shareWithFriends',\n                accountId,\n                url,\n                friends,\n                item,\n            })\n        )\n    }\n}\n","import { Box } from '@material-ui/core'\nimport React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nexport const placeholderImages = [\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg',\n]\nexport const getPH = id => {\n    if (!id) return 0\n    const makeRand = x => {\n        x = Math.abs(x)\n        while (x > 1) x = x / 10\n        return x\n    }\n    const matches = id.match(/\\d+$/)\n    const imagePH = matches && matches.length > 0 ? parseInt(matches[0]) : 0\n    return Math.abs(\n        Math.round(makeRand(imagePH) * (placeholderImages.length - 1))\n    )\n}\nexport default withRouter(props => {\n    const images = props.images || []\n\n    const picture = !props.friends ? (\n        <img\n            style={{\n                maxWidth: '100%',\n                margin: 'auto',\n                display: 'block',\n                borderRadius: '15px',\n                boxShadow:\n                    '0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)',\n                ...props.style,\n            }}\n            src={\n                images.length > 0\n                    ? images[0]\n                    : placeholderImages[getPH(props.id)]\n            }\n        />\n    ) : null\n\n    return props.noLink ? (\n        <>\n            {picture}\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Box style={{ flex: 1 }}>{props.body}</Box>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    ) : (\n        <>\n            <Link to={props.onClickLink} style={{ cursor: 'pointer' }}>\n                {picture}\n            </Link>\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Link\n                    to={props.onClickLink}\n                    style={{ cursor: 'pointer', flex: 1 }}\n                >\n                    {props.body}\n                </Link>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    )\n})\n","import {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nexport default props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={props.open}\n            onClose={props.close}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.close}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {props.title}\n                    </Typography>\n                    {props.save && (\n                        <Button autoFocus color=\"inherit\" onClick={props.save}>\n                            {props.saveText || t('g.save')}\n                        </Button>\n                    )}\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n            {props.children}\n        </Dialog>\n    )\n}\n","export default (nickname, version) => {\n    if (!nickname) return ''\n    else {\n        return (\n            'https://websiter.s3.us-east-2.amazonaws.com/' +\n            nickname +\n            '/avatar?v=' +\n            (version || 0)\n        )\n    }\n}\n","import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport Avatar from 'antd/es/avatar'\nimport getAvatar from '../../utils/getAvatar'\nimport { Typography } from '@material-ui/core'\nimport Badge from 'antd/es/badge'\n\nconst UserButton = props => {\n    const { account, profile, id, friendSearchResult, onlineUsers } = props\n    const friendData = props.friendDataExp || props.friendData\n    const getUserData = id =>\n        id === account._id\n            ? account\n            : id === profile._id\n            ? profile\n            : id === friendSearchResult._id\n            ? friendSearchResult\n            : friendData[id]\n    const userName = id => {\n        const text = getUserData(id) ? getUserData(id).name : id\n        return props.typography ? <Typography noWrap>{text}</Typography> : text\n    }\n    const userAvatar = id => {\n        const ava = getUserData(id) ? (\n            <Avatar\n                src={getAvatar(id, getUserData(id).image)}\n                size={props.size || (props.noClick ? 20 : 40)}\n                style={props.group || props.noName ? {} : { margin: ' 0 5px' }}\n            />\n        ) : null\n        return getUserData(id) ? (\n            onlineUsers.includes(id) ? (\n                <span key={id}>\n                    <Badge color=\"green\">{ava}</Badge>\n                </span>\n            ) : (\n                <span key={id}>{ava}</span>\n            )\n        ) : null\n    }\n\n    return props.onlyName ? (\n        userName(id)\n    ) : props.group ? (\n        <span onClick={e => e.stopPropagation()}>\n            <Avatar.Group style={{ margin: ' 0 5px' }}>\n                {props.ids.map(id => userAvatar(id))}\n            </Avatar.Group>\n        </span>\n    ) : props.noClick ? (\n        <>\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </>\n    ) : props.span ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n                // display: 'flex',\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : props.inline ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : (\n        <Link\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            <Button\n                type=\"link\"\n                style={{ padding: '0px 5px', height: 'auto', ...props.style }}\n            >\n                {!props.noAva && userAvatar(id)}\n\n                {!props.noName && userName(id)}\n            </Button>\n        </Link>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        profile: state.profile,\n        friendData: state.friendData,\n        friendSearchResult: state.friendSearchResult,\n        onlineUsers: state.onlineUsers,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(UserButton))\n","import axios from 'axios'\nimport processRes from './processRes'\nexport default (props, data, setData, options, callback) => {\n    // if (typeof props.isAuthed === 'undefined') return\n    // options = {\n    //     forceAuth: true,\n    //     forceActivate: true,\n    //     pullData: true,\n    //     ...(options || {}),\n    // }\n\n    // if (!props.isAuthed) {\n    //     props.tryAuth(props, options.forceAuth)\n    // }\n\n    // if (options.pullData) {\n    axios\n        .get('/api' + props.history.location.pathname)\n        .then(res => {\n            processRes(res, props)\n            // if (options.forceActivate) {\n            //     if (props.isAuthed && res.data.status === 'no account') {\n            //         props.history.push('/activate-account')\n            //     }\n            // }\n\n            setData(res.data)\n            callback(res.data)\n        })\n        .catch(err => {})\n    // }\n}\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Cookies from 'universal-cookie'\nimport classes from './LoginModal.module.css'\nimport {\n    FacebookLoginButton,\n    GithubLoginButton,\n    GoogleLoginButton,\n    InstagramLoginButton,\n} from 'react-social-login-buttons'\nimport {\n    Button,\n    Checkbox,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Divider,\n    FormControlLabel,\n    Slide,\n} from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst cookies = new Cookies()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst LoginModal = props => {\n    const { t } = useTranslation()\n    const [state, setState] = useState(false)\n    const [cookieConsent, setCookieConsent] = useState(false)\n\n    useEffect(() => {\n        checkCookieConsent()\n    })\n\n    let remeberMeParam = '?rememberme=false'\n    if (state) {\n        remeberMeParam = '?rememberme=true'\n    }\n\n    const checkCookieConsent = () => {\n        const cookiesConsent = cookies.get('cookies_consent')\n        if (cookiesConsent) {\n            setCookieConsent(true)\n        }\n    }\n\n    const agreeWithCookies = () => {\n        cookies.set('cookies_consent', 'true', {\n            path: '/',\n            maxAge: 31530000,\n        })\n        checkCookieConsent()\n    }\n    const basicURL =\n        process.env.NODE_ENV !== 'development'\n            ? 'https://addspire.com/api/auth/'\n            : 'http://my.websiter.test:5000/api/auth/'\n    return props.loginVisible ? (\n        !cookieConsent ? (\n            <Dialog open={!cookieConsent}>\n                <DialogTitle>{'Cookies consent'}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {t('login.cookieText')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => {\n                            props.setLoginVisible(false)\n                            setCookieConsent(false)\n                        }}\n                    >\n                        {t('g.disagree')}\n                    </Button>\n                    <Button\n                        onClick={agreeWithCookies}\n                        color=\"primary\"\n                        autoFocus\n                    >\n                        {t('g.agree')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        ) : (\n            <Dialog\n                fullScreen\n                open={props.loginVisible}\n                onClose={() => props.setLoginVisible(false)}\n                TransitionComponent={TransitionComponent}\n            >\n                <div className=\"contentDiv\">\n                    <div\n                        className={classes.Container}\n                        style={{\n                            maxWidth: '500px',\n                            margin: '0 auto',\n                        }}\n                    >\n                        <h1\n                            style={{\n                                fontWeight: 'bold',\n                                lineHeight: '1.3em',\n                                marginBottom: 0,\n                                fontSize: '2.5em',\n                            }}\n                        >\n                            {t('login.welcome')}\n                        </h1>\n                        <div\n                            className={classes.socialButtons}\n                            style={{ marginBottom: '30px' }}\n                        >\n                            <FacebookLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `facebook/start${remeberMeParam}`)\n                                }\n                            />\n                            <GoogleLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `google/start${remeberMeParam}`)\n                                }\n                            />\n                            <InstagramLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `instagram/start${remeberMeParam}`)\n                                }\n                            />\n                            <GithubLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `github/start${remeberMeParam}`)\n                                }\n                            />\n                        </div>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={state}\n                                    onChange={() => setState(!state)}\n                                    color=\"primary\"\n                                />\n                            }\n                            label={t('login.rememberMe')}\n                        />\n\n                        <Divider style={{ margin: '20px' }} />\n\n                        <Button\n                            onClick={() => props.setLoginVisible(false)}\n                            color=\"secondary\"\n                        >\n                            {t('login.loginLater')}\n                        </Button>\n                    </div>\n                    <div className={classes.Background} />\n                </div>\n            </Dialog>\n        )\n    ) : null\n}\n\nexport default withRouter(LoginModal)\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../websocketActions'\n\nimport { IconButton, Menu, MenuItem, Button, Box } from '@material-ui/core'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst FriendActionButton = props => {\n    const { t } = useTranslation()\n    const [anchorEl, setAnchorEl] = useState(null)\n    const { invitingFriends, invitedFriends, realFriends, _id, account } = props\n    const accountId = account ? account._id : ''\n    if (!accountId) return null\n    const handleClose = () => {\n        setAnchorEl(null)\n    }\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    if (accountId === _id)\n        return props.additionalButtons ? (\n            <>\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n                <Menu\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={handleClose}\n                >\n                    {props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick()\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                </Menu>\n            </>\n        ) : null\n\n    return (\n        <>\n            {props.minimized ? (\n                props.asText ? (\n                    <Button\n                        onClick={e => handleClick(e)}\n                        variant=\"contained\"\n                        color=\"primary\"\n                    >\n                        {t('g.actions')}\n                    </Button>\n                ) : (\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                )\n            ) : invitingFriends.find(item => item.friend === _id) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.acceptFriend(accountId, _id)\n                        }}\n                    >\n                        {t('g.acceptFriendship')}\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : ![...realFriends, ...invitingFriends, ...invitedFriends].find(\n                  item => item.friend === _id\n              ) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.addFriend(accountId, _id)\n                        }}\n                    >\n                        {t('g.becomeFriends')}\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : props.asText ? (\n                <Button\n                    onClick={e => handleClick(e)}\n                    variant=\"contained\"\n                    color=\"primary\"\n                >\n                    {t('g.actions')}\n                </Button>\n            ) : (\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n            )}\n            <Menu\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                {props.minimized &&\n                    invitingFriends.find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.acceptFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            {t('g.acceptFriendship')}\n                        </MenuItem>\n                    )}\n                {props.minimized &&\n                    ![\n                        ...realFriends,\n                        ...invitingFriends,\n                        ...invitedFriends,\n                    ].find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.addFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            {t('g.becomeFriends')}\n                        </MenuItem>\n                    )}\n                {props.additionalButtons &&\n                    props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                {invitingFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"2\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.decline')}\n                    </MenuItem>\n                ) : invitedFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"3\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.cancelInvitation')}\n                    </MenuItem>\n                ) : realFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"4\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.unfriend')}\n                    </MenuItem>\n                ) : null}\n                {props.noFollow ? null : account.followAccounts.includes(\n                      _id\n                  ) ? (\n                    <MenuItem\n                        key=\"5\"\n                        onClick={() => {\n                            wsActions.unfollowAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.unfollow')}\n                    </MenuItem>\n                ) : (\n                    <MenuItem\n                        key=\"6\"\n                        onClick={() => {\n                            wsActions.followAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        {t('g.follow')}\n                    </MenuItem>\n                )}\n            </Menu>\n        </>\n    )\n}\n\nexport default FriendActionButton\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../store/actions'\nimport { withRouter } from 'react-router-dom'\n\nimport FriendActionButton from './FriendActionButton'\nimport UserButton from './UserButton/UserButton'\nimport MasonryCard from './MasonryCard'\nimport { useTranslation } from 'react-i18next'\n\nconst FriendCard = props => {\n    const { t } = useTranslation()\n    return (\n        <MasonryCard\n            friends={true}\n            noLink={true}\n            actions={\n                <FriendActionButton\n                    account={props.account}\n                    realFriends={props.realFriends}\n                    invitedFriends={props.invitedFriends}\n                    invitingFriends={props.invitingFriends}\n                    _id={props.friend._id}\n                    additionalButtons={[\n                        {\n                            title: t('g.seeProfile'),\n                            onClick: () =>\n                                props.history.push(\n                                    '/profile/' + props.friend._id\n                                ),\n                        },\n                    ]}\n                    asIcons={true}\n                />\n            }\n            body={<UserButton span={true} id={props.friend._id} size={50} />}\n        />\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(FriendCard)\n)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport FriendCard from '../../components/FriendCard'\nimport {\n    Container,\n    createStyles,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Typography,\n} from '@material-ui/core'\nimport { SearchOutlined } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n            margin: '30px auto',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n            margin: 'auto',\n        },\n        iconButton: {\n            padding: 10,\n        },\n    })\n)\nconst AddFriends = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    useEffect(() => {\n        props.setFriendSearchResult({})\n        setSearchField('')\n    }, [props.open])\n    const [searchField, setSearchField] = useState('')\n    const { account, friendData, searchResult } = props\n\n    if (!account._id) return null\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n\n    if (account.friends) {\n        for (let friend of account.friends) {\n            const fullFriend = { ...friendData[friend.friend], ...friend }\n            if (fullFriend) {\n                if (fullFriend.status === 'friend') realFriends.push(fullFriend)\n                else if (fullFriend.status === 'invited')\n                    invitedFriends.push(fullFriend)\n                else if (fullFriend.status === 'inviting')\n                    invitingFriends.push(fullFriend)\n            }\n        }\n    }\n\n    return (\n        <Container style={{ paddingTop: '20px', maxWidth: '800px' }}>\n            <Typography variant=\"body2\" align=\"center\">\n                {t('friends.instructions')}\n            </Typography>\n            <Paper className={classes.root}>\n                <InputBase\n                    className={classes.input}\n                    placeholder={t('friends.searchFriends')}\n                    onChange={e => setSearchField(e.target.value)}\n                />\n                <IconButton\n                    className={classes.iconButton}\n                    onClick={() => wsActions.searchFriends(searchField)}\n                >\n                    <SearchOutlined />\n                </IconButton>\n            </Paper>\n            {searchResult.length > 0 &&\n                searchResult.map(friend => (\n                    <FriendCard\n                        {...props}\n                        friend={friend}\n                        realFriends={realFriends}\n                        invitingFriends={invitingFriends}\n                        invitedFriends={invitedFriends}\n                    />\n                ))}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        searchResult: state.friendSearchResult,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AddFriends)\n","import { Menu, MenuItem, Tooltip, Button } from '@material-ui/core'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport LanguageIcon from '@material-ui/icons/Language'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { connect } from 'react-redux'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        language: {\n            margin: theme.spacing(0, 0.5, 0, 1),\n        },\n        languageText: {\n            display: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'block',\n            },\n        },\n        languageIcon: {\n            display: 'block',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n    })\n)\nconst LanguageSwitcher = props => {\n    const { currentLanguage } = props\n    const { i18n, t } = useTranslation()\n    const classes = useStyles()\n\n    const [languageMenu, setLanguageMenu] = useState(null)\n    const handleLanguageIconClick = event => {\n        setLanguageMenu(event.currentTarget)\n    }\n    const handleLanguageMenuClose = code => {\n        if (code) i18n.changeLanguage(code)\n        setLanguageMenu(null)\n    }\n    const LANGUAGES_LABEL = [\n        { code: 'en', text: 'English' },\n        { code: 'ru', text: 'Русский' },\n    ]\n\n    return (\n        <>\n            <Tooltip title={t('changeLanguage')} enterDelay={300}>\n                <Button\n                    color=\"inherit\"\n                    aria-owns={languageMenu ? 'language-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={handleLanguageIconClick}\n                    data-ga-event-category=\"header\"\n                    data-ga-event-action=\"language\"\n                >\n                    <LanguageIcon className={classes.languageIcon} />\n                    <span\n                        className={\n                            props.settings\n                                ? classes.language\n                                : [classes.language, classes.languageText].join(\n                                      ' '\n                                  )\n                        }\n                    >\n                        {LANGUAGES_LABEL.filter(\n                            language => language.code === currentLanguage\n                        ).length > 0\n                            ? LANGUAGES_LABEL.filter(\n                                  language => language.code === currentLanguage\n                              )[0].text\n                            : LANGUAGES_LABEL[0].text}\n                    </span>\n                    <ExpandMoreIcon fontSize=\"small\" />\n                </Button>\n            </Tooltip>\n\n            <Menu\n                id=\"language-menu\"\n                anchorEl={languageMenu}\n                open={Boolean(languageMenu)}\n                onClose={() => handleLanguageMenuClose()}\n            >\n                {LANGUAGES_LABEL.map(language => (\n                    <MenuItem\n                        component=\"a\"\n                        data-no-link=\"true\"\n                        key={language.code}\n                        selected={i18n.language === language.code}\n                        onClick={() => handleLanguageMenuClose(language.code)}\n                    >\n                        {language.text}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentLanguage: state.language,\n    }\n}\n\nexport default connect(mapStateToProps)(LanguageSwitcher)\n","export default {\n    name: 200,\n    description: 10000,\n    message: 10000,\n}\n","import fieldLength from './fieldLength'\nimport i18n from '../translations/i18n'\n\nexport const nicknameRules = [\n    {\n        required: true,\n        message: i18n.t('rules.nicknameShort'),\n        whitespace: true,\n        min: 2,\n    },\n    {\n        message: `${i18n.t('rules.nicknameLong')} ${fieldLength.name}.`,\n        whitespace: true,\n        max: fieldLength.name,\n    },\n    {\n        pattern: /^[a-zA-Z0-9_-]*$/,\n        message: i18n.t('rules.nicknameType'),\n    },\n]\n\nexport const nameRules = [\n    {\n        required: true,\n        min: 1,\n        whitespace: true,\n        message: i18n.t('rules.nameShort'),\n    },\n    {\n        max: fieldLength.name,\n        message: `${i18n.t('rules.nameLong')} ${fieldLength.name}.`,\n    },\n]\n\nexport const accountNameRules = [\n    {\n        required: true,\n        min: 2,\n        whitespace: true,\n        message: i18n.t('rules.accNameShort'),\n    },\n    {\n        max: fieldLength.name,\n        message: `${i18n.t('rules.accNameLong')} ${fieldLength.name}.`,\n    },\n]\n\nexport const descriptionRules = [\n    {\n        max: fieldLength.description,\n        message: `${i18n.t('rules.descLong')} ${fieldLength.description}.`,\n    },\n]\n\nexport const messageRules = [\n    {\n        min: 1,\n        whitespace: true,\n        message: i18n.t('rules.messageShort'),\n    },\n    {\n        max: fieldLength.message,\n        message: `${i18n.t('rules.messageLong')} ${fieldLength.message}.`,\n    },\n]\n","import React from 'react'\n\nimport Select from 'antd/es/select'\nimport UserButton from '../UserButton/UserButton'\nimport { useTranslation } from 'react-i18next'\nimport { connect } from 'react-redux'\n\nconst ConnectionsSelect = props => {\n    const { t } = useTranslation()\n    const { account, friendData } = props\n    return account._id && friendData ? (\n        <Select\n            mode=\"multiple\"\n            style={{ width: '100%' }}\n            placeholder={t('g.pleaseSelect')}\n            value={props.value}\n            onChange={props.onChange}\n            getPopupContainer={trigger => trigger.parentNode}\n        >\n            {[\n                props.account,\n                ...props.account.friends\n                    .filter(friend => friend.status === 'friend')\n                    .map(friend => props.friendData[friend.friend]),\n            ].map(\n                item =>\n                    item &&\n                    item._id && (\n                        <Select.Option key={item._id}>\n                            <UserButton id={item._id} noClick={true} />\n                        </Select.Option>\n                    )\n            )}\n        </Select>\n    ) : (\n        <span>Please login to share with your Addspire friends.</span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n    }\n}\n\nexport default connect(mapStateToProps)(ConnectionsSelect)\n","import React, { Component } from 'react'\nimport { withLeaflet } from 'react-leaflet'\nimport Locate from 'leaflet.locatecontrol'\nimport 'leaflet.locatecontrol/dist/L.Control.Locate.min.css'\nimport { withTranslation } from 'react-i18next'\n\nclass LocateControl extends Component {\n    componentDidMount() {\n        const { map } = this.props.leaflet\n\n        const lc = new Locate({\n            position: 'topleft',\n            strings: {\n                title: this.props.t('explore.myLocation'),\n            },\n\n            drawCircle: false,\n            drawMarker: false,\n            keepCurrentZoomLevel: true,\n            setView: this.props.setView === 'no' ? false : 'untilPanOrZoom',\n            flyTo: true,\n        })\n        lc.addTo(map)\n        navigator.geolocation.getCurrentPosition(() => lc.start())\n    }\n\n    render() {\n        return null\n    }\n}\n\nexport default withLeaflet(withTranslation()(LocateControl))\n","import message from 'antd/es/message'\nimport axios from 'axios'\n\nexport const uploadFile = (file, size, filename, callback) => {\n    if (file == null) {\n        return alert('No file selected.')\n    }\n\n    const reader = new FileReader()\n    reader.onload = async event => {\n        resizeImageToSpecificSize(file, { width: size, height: size }, data => {\n            if (!data) {\n                callback()\n            } else {\n                urltoFile(data, '/120').then(function(file) {\n                    getSignedRequest(file, filename, callback)\n                })\n            }\n        })\n    }\n\n    reader.readAsArrayBuffer(file)\n}\n\nconst urltoFile = (url, filename, mimeType) => {\n    mimeType = mimeType || (url.match(/^data:([^;]+);/) || '')[1]\n    return fetch(url)\n        .then(function(res) {\n            return res.arrayBuffer()\n        })\n        .then(function(buf) {\n            return new File([buf], filename, { type: 'image/jpeg' })\n        })\n}\n\nconst resizeImageToSpecificSize = (file, size, cb) => {\n    if (file) {\n        var reader = new FileReader()\n        reader.onload = function(event) {\n            resizeImageFromSrcToSpecificSize(event.target.result, size, cb)\n        }\n        reader.readAsDataURL(file)\n    }\n}\n\nconst resizeImageFromSrcToSpecificSize = (src, size, cb) => {\n    try {\n        var data\n        var img = new Image()\n        img.onload = function() {\n            const widthCoef = img.width / size.width\n            const heightCoef = img.height / size.height\n            var oc = document.createElement('canvas'),\n                octx = oc.getContext('2d')\n            oc.width = img.width\n            oc.height = img.height\n            octx.drawImage(img, 0, 0)\n            if (widthCoef > 1 || heightCoef > 1) {\n                if (img.width > img.height) {\n                    oc.height = (img.height / img.width) * size.width\n                    oc.width = size.width\n                } else {\n                    oc.width = (img.width / img.height) * size.width\n                    oc.height = size.width\n                }\n            }\n            octx.drawImage(oc, 0, 0, oc.width, oc.height)\n            octx.drawImage(img, 0, 0, oc.width, oc.height)\n            data = oc.toDataURL('image/jpeg', 0.6)\n            cb(data)\n        }\n        img.onerror = () => {\n            cb()\n        }\n        img.src = src\n    } catch {}\n}\n\nconst getSignedRequest = (file, fileName, callback) => {\n    return axios\n        .post('/api/sign-s3', {\n            fileName,\n        })\n        .then(response => {\n            doUploadFile(file, response.data, callback)\n        })\n        .catch(err => {})\n}\n\nconst doUploadFile = (file, data, callback) => {\n    return axios\n        .put(data.signedRequest, file, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        })\n        .then(response => {\n            callback(data.url)\n            message.success('The image has been saved.')\n        })\n        .catch(err => {})\n}\n","import Upload from 'antd/es/upload'\nimport React, { useState, useEffect } from 'react'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport { uploadFile } from '../../utils/uploadFile'\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst ImagePickerMulti = props => {\n    const { t } = useTranslation()\n    const [images, setImages] = useState(props.images || [])\n    const [previewImage, setPreviewImage] = useState()\n\n    useEffect(() => {\n        props.onValueChange(images)\n    }, [images])\n\n    return (\n        <>\n            <Upload\n                accept=\"image/*\"\n                listType=\"picture-card\"\n                fileList={images.map((image, index) => ({\n                    url: image,\n                    uid: index,\n                }))}\n                onPreview={file => {\n                    setPreviewImage(file.url)\n                }}\n                onChange={({ fileList }) =>\n                    setImages(fileList.map(item => item.url))\n                }\n                customRequest={({ file }) => {\n                    uploadFile(file, 800, undefined, url => {\n                        if (!url) {\n                            setImages([...images])\n                        } else {\n                            setImages([...images, url])\n                        }\n                    })\n                }}\n            >\n                {images.length >= 8 ? null : (\n                    <div\n                        style={{\n                            flex: 1,\n                            display: 'flex',\n                            height: '100%',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            flexDirection: 'column',\n                        }}\n                        onClick={e => {\n                            if (window.isRNWebView) {\n                                e.stopPropagation()\n                                window.ReactNativeWebView.postMessage(\n                                    'uploadFile'\n                                )\n                                window.callback = url => {\n                                    setImages([...images, url])\n                                }\n                            }\n                        }}\n                    >\n                        <PlusOutlined />\n                        <div className=\"ant-upload-text\">{t('g.upload')}</div>\n                    </div>\n                )}\n            </Upload>\n            <Dialog\n                open={Boolean(previewImage)}\n                onClose={() => setPreviewImage()}\n            >\n                <DialogTitle id=\"scroll-dialog-title\">\n                    {t('g.previewImage')}\n                </DialogTitle>\n                <DialogContent dividers={true}>\n                    <img src={previewImage} style={{ width: '100%' }} />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setPreviewImage()} color=\"primary\">\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n\nexport default ImagePickerMulti\n","export default [\n    'animals',\n    'building',\n    'cars',\n    'diy',\n    'design',\n    'education',\n    'entertainment',\n    'food',\n    'gardening',\n    'health',\n    'sport',\n    'home',\n    'kids',\n    'fashion',\n    'nature',\n    'travel',\n    'other',\n]\n","import { Chip } from '@material-ui/core'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport goalCategories from '../../constants/goalCategories'\nconst GoalCategories = props => {\n    const { t } = useTranslation()\n    const handleClick = category => {\n        let value = props.value ? [...props.value] : []\n        if (value.includes(category))\n            props.onChange(value.filter(item => item !== category))\n        else {\n            if (!props.nolim) while (value.length > 4) value.pop()\n            props.onChange([...value, category])\n        }\n    }\n    return (\n        <>\n            {goalCategories.map(category => (\n                <Chip\n                    label={t('g.' + category)}\n                    onClick={() => handleClick(category)}\n                    color={\n                        props.value && props.value.includes(category)\n                            ? 'primary'\n                            : 'default'\n                    }\n                    style={{ margin: '5px' }}\n                />\n            ))}\n        </>\n    )\n}\n\nexport default GoalCategories\n","import React, { useRef, useState, useEffect } from 'react'\n\nimport Form from 'antd/es/form'\n\nimport { nameRules } from '../../constants/fieldRules'\nimport ConnectionsSelect from './ConnectionsSelect'\nimport Select from 'antd/es/select'\nimport { Map, Marker, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport * as wsActions from '../../websocketActions'\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from '../../containers/Explore/LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport {\n    AppBar,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Input,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport TinyEditor from '../UI/TinyEditor'\nimport 'react-leaflet-fullscreen/dist/styles.css'\nimport FullscreenControl from 'react-leaflet-fullscreen'\nimport { useTranslation } from 'react-i18next'\nimport GoalCategories from './GoalCategories'\nconst { Option } = Select\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst EditResource = props => {\n    const { t } = useTranslation()\n    const map = useRef(null)\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch({\n                useMapBounds: false,\n                placeholder: t('g.mapPlaceholder'),\n                title: t('g.mapTitle'),\n            }).addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    const { resource, account, type } = props\n\n    const defPos = [40.689078, -74.044526]\n    const positionIsProvided =\n        resource && resource.position && resource.position.coordinates\n    const [position, setPosition] = useState(\n        positionIsProvided\n            ? [\n                  resource.position.coordinates[1],\n                  resource.position.coordinates[0],\n              ]\n            : defPos\n    )\n    const [initialPosition, setInitialPosition] = useState(position)\n    const [positionRead, setPositionRead] = useState(false)\n\n    const [descriptionPlain, setDescriptionPlain] = useState(\n        resource && resource.descriptionText\n    )\n\n    const onFinish = value => {\n        wsActions.saveResource(\n            account._id,\n            {\n                ...value,\n                descriptionText: descriptionPlain,\n                position: {\n                    type: 'Point',\n                    coordinates: [position[1], position[0]],\n                },\n                _id: resource && resource._id,\n            },\n            type,\n            props.goToResource\n        )\n\n        props.cancel()\n    }\n\n    const layout = {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 20 },\n    }\n\n    const [form] = Form.useForm()\n\n    const mapDragEnd = e => {\n        const latlng = e.target.getLatLng()\n        setPosition([latlng.lat, latlng.lng])\n        form.setFieldsValue({ nomap: false })\n    }\n    const mapClick = e => {\n        setPosition([e.latlng.lat, e.latlng.lng])\n        form.setFieldsValue({ nomap: false })\n    }\n    const classes = useStyles()\n\n    return !props.goalId || resource ? (\n        <>\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.cancel}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {t(\n                            'g.' +\n                                (resource ? 'edit' : 'add') +\n                                type.charAt(0).toUpperCase() +\n                                type.slice(1)\n                        )}\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => form.submit()}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Form\n                style={{\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    padding: '15px',\n                    width: '100%',\n                }}\n                form={form}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={\n                    resource || {\n                        name: t(\n                            'g.new' +\n                                type.charAt(0).toUpperCase() +\n                                type.slice(1)\n                        ),\n                        repeat: 'no',\n                        days: ['0'],\n                        nomap: false,\n                        users: [account._id],\n                    }\n                }\n                {...layout}\n                onValuesChange={(changedFields, allValues) => {\n                    allValues.days &&\n                        form.setFieldsValue({\n                            days: [...allValues.days].sort(),\n                        })\n                }}\n            >\n                <Form.Item\n                    name=\"images\"\n                    label={t('g.images')}\n                    valuePropName=\"images\"\n                    trigger=\"onValueChange\"\n                >\n                    <ImagePickerMulti />\n                </Form.Item>\n                <Form.Item\n                    label={t('g.name')}\n                    name=\"name\"\n                    rules={nameRules}\n                    getValueFromEvent={event => event.target.value}\n                >\n                    <Input fullWidth={true} />\n                </Form.Item>\n                <Form.Item\n                    label={t('g.desc')}\n                    name=\"description\"\n                    // rules={descriptionRules}\n                    trigger=\"onEditorChange\"\n                >\n                    <TinyEditor\n                        onEditorChangePlain={value =>\n                            setDescriptionPlain(value)\n                        }\n                    />\n                </Form.Item>\n                <Form.Item label={t('g.categories')} name=\"category\">\n                    <GoalCategories />\n                </Form.Item>\n\n                {type === 'activity' && (\n                    <>\n                        <Form.Item\n                            label={t('progress.achievers')}\n                            name=\"users\"\n                        >\n                            <ConnectionsSelect />\n                        </Form.Item>\n                        <Form.Item label={t('g.repeats')} name=\"repeat\">\n                            <Select\n                                getPopupContainer={trigger =>\n                                    trigger.parentNode\n                                }\n                            >\n                                <Option value=\"no\">\n                                    {t('g.noRepeat')}\n                                </Option>\n                                <Option value=\"day\">\n                                    {t('g.everyDay')}\n                                </Option>\n                                <Option value=\"weekday\">\n                                    {t('g.everyDayOfWeek')}\n                                </Option>\n                                <Option value=\"week\">\n                                    {t('g.everyWeek')}\n                                </Option>\n                                <Option value=\"month\">\n                                    {t('g.everyMonth')}\n                                </Option>\n                                <Option value=\"year\">\n                                    {t('g.everyYear')}\n                                </Option>\n                            </Select>\n                        </Form.Item>\n                        <Form.Item\n                            noStyle\n                            shouldUpdate={(prevValues, currentValues) =>\n                                prevValues.repeat !== currentValues.repeat\n                            }\n                        >\n                            {({ getFieldValue }) => {\n                                return getFieldValue('repeat') ===\n                                    'weekday' ? (\n                                    <Form.Item\n                                        label=\"Days of week\"\n                                        name=\"days\"\n                                    >\n                                        <Select\n                                            mode=\"tags\"\n                                            getPopupContainer={trigger =>\n                                                trigger.parentNode\n                                            }\n                                        >\n                                            <Option value=\"0\">\n                                                {t('g.sunday')}\n                                            </Option>\n                                            <Option value=\"1\">\n                                                {t('g.monday')}\n                                            </Option>\n                                            <Option value=\"2\">\n                                                {t('g.tuesday')}\n                                            </Option>\n                                            <Option value=\"3\">\n                                                {t('g.wednesday')}\n                                            </Option>\n                                            <Option value=\"4\">\n                                                {t('g.thursday')}\n                                            </Option>\n                                            <Option value=\"5\">\n                                                {t('g.friday')}\n                                            </Option>\n                                            <Option value=\"6\">\n                                                {t('g.saturday')}\n                                            </Option>\n                                        </Select>\n                                    </Form.Item>\n                                ) : null\n                            }}\n                        </Form.Item>\n                    </>\n                )}\n\n                <Form.Item label={t('g.place')}>\n                    <div\n                        style={{\n                            position: 'relative',\n                            height: '300px',\n                        }}\n                    >\n                        <Map\n                            ref={map}\n                            center={initialPosition}\n                            zoom={11}\n                            onclick={mapClick}\n                            style={{\n                                width: '100%',\n                                height: '100%',\n                                position: 'relative',\n                                zIndex: 1,\n                            }}\n                            gestureHandling={true}\n                            onlocationfound={e => {\n                                if (!positionIsProvided && !positionRead) {\n                                    mapClick(e)\n                                    setInitialPosition([\n                                        e.latlng.lat,\n                                        e.latlng.lng,\n                                    ])\n                                    setPositionRead(true)\n                                }\n                            }}\n                        >\n                            <LocateControl\n                                setView={\n                                    resource &&\n                                    resource.position &&\n                                    resource.position.coordinates\n                                        ? 'no'\n                                        : true\n                                }\n                            />\n                            <TileLayer\n                                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                            />\n                            <Marker\n                                position={position}\n                                draggable\n                                ondragend={mapDragEnd}\n                            />\n                            <FullscreenControl position=\"topright\" />\n                        </Map>\n                    </div>\n                </Form.Item>\n                <div style={{ textAlign: 'right', marginTop: '50px' }}>\n                    <Button\n                        size=\"large\"\n                        onClick={() => props.cancel(false)}\n                    >\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </div>\n            </Form>\n        </>\n    ) : null\n}\nexport default EditResource\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const leaveProgress = data => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'leaveProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n            })\n        )\n    }\n}\n\nexport const saveResource = (accountId, value, type, goToResource) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveResource',\n                accountId,\n                value,\n                type,\n                goToResource,\n            })\n        )\n    }\n}\n\nexport const leaveResource = (resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'leaveResource',\n                resourceId,\n                type,\n            })\n        )\n    }\n}\nexport const deleteResource = (resourceId, type) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteResource',\n                resourceId,\n                type,\n            })\n        )\n    }\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport getAvatar from '../../utils/getAvatar'\nimport LoginModal from './LoginModal'\nimport * as cll from './Layout.module.css'\nimport * as actions from '../../store/actions'\n\nimport {\n    AppBar,\n    IconButton,\n    Slide,\n    Toolbar,\n    useScrollTrigger,\n    createStyles,\n    makeStyles,\n    Theme,\n    Container,\n    Badge,\n    Avatar,\n    LinearProgress,\n    Dialog,\n    useMediaQuery,\n    Box,\n    Paper,\n    Typography,\n    Button,\n    CardActionArea,\n    CardMedia,\n    CardContent,\n    Card,\n} from '@material-ui/core'\nimport SpeedDial from '@material-ui/lab/SpeedDial'\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon'\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction'\nimport {\n    Book,\n    GifTwoTone,\n    History,\n    HomeRounded,\n    Launch,\n    Notifications,\n    Person,\n    Repeat,\n    Star,\n} from '@material-ui/icons'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport AddFriends from '../../containers/Friends/AddFriends'\nimport LanguageSwitcher from '../LanguageSwitcher/LanguageSwitcher'\nimport { useTranslation } from 'react-i18next'\nimport EditResource from '../EditResource/EditResource'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport { getPH, placeholderImages } from '../MasonryCard'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        speedDial: {\n            right: '12px',\n            // bottom: theme.spacing(2),\n            bottom: '16px',\n            position: 'fixed',\n        },\n        logout: {\n            left: theme.spacing(2),\n            bottom: theme.spacing(2),\n            position: 'fixed',\n        },\n        login: {\n            right: '16px',\n            bottom: '16px',\n            position: 'fixed',\n        },\n        home: {\n            right: '16px',\n            bottom: '88px',\n            position: 'fixed',\n        },\n        avatar: {\n            border: '1px solid ' + theme.palette.primary.main,\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        blogLabel: {\n            margin: theme.spacing(0, 0.5, 0, 1),\n            display: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'inline',\n            },\n        },\n        blogIcon: {\n            display: 'inline',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n    })\n)\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst AccountLayout = props => {\n    const { t } = useTranslation()\n    const domRef = useRef()\n    const matches = useMediaQuery(theme => theme.breakpoints.up('sm'))\n    const { account, language, progressData, rewardData, activityData } = props\n\n    const [loginVisible, setLoginVisible] = useState(false)\n    const [startResourceVisible, setStartResourceVisible] = useState('')\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n    const [speedDialOpen, setSpeedDialOpen] = useState(false)\n    const [recentVisible, setRecentVisible] = useState(!props.recentShown)\n    const [hideRecentTimeout, setHideRecentTimeout] = useState()\n\n    const openLink = url => props.history.push(url)\n\n    const isActivating = props.history.location.pathname === '/activate-account'\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n    const logedIn = props.isAuthed && account._id\n\n    const classes = useStyles()\n    const scrollTrigger = !useScrollTrigger()\n    useEffect(() => {\n        if (!scrollTrigger) setRecentVisible(false)\n    }, [scrollTrigger])\n\n    useEffect(() => {\n        if (Boolean(logedIn && !isActivating && !props.recentShown)) {\n            const timeout = setTimeout(() => setRecentVisible(false), 6000)\n            setHideRecentTimeout(timeout)\n            props.markRecentShown()\n        }\n    }, [Boolean(logedIn && !isActivating)])\n\n    const checkPagePath = paths => {\n        for (let path of paths)\n            if (props.history.location.pathname.indexOf(path) === 0) return true\n    }\n    const removeGutters =\n        !matches && checkPagePath(['/goals', '/posts', '/profile', '/account'])\n    return props.hide ? (\n        props.children\n    ) : (\n        <>\n            <div\n                className={cll.Layout}\n                style={props.white ? { background: '#fff' } : {}}\n            >\n                <Slide appear={false} direction=\"down\" in={scrollTrigger}>\n                    <AppBar elevation={1} color=\"secondary\">\n                        {props.isConnectingWS && !logedIn && (\n                            <LinearProgress\n                                style={{\n                                    width: '100%',\n                                    position: 'absolute',\n                                    top: 0,\n                                    left: 0,\n                                }}\n                            />\n                        )}\n\n                        <Toolbar>\n                            <div\n                                tabIndex={0}\n                                ref={domRef}\n                                style={{ width: 0, height: 0 }}\n                            />\n                            {/* <div className={classes.MenuButtonContiner}>\n                                <IconButton\n                                    onClick={() => props.history.goBack()}\n                                >\n                                    <ArrowBack color=\"primary\" />\n                                </IconButton>\n                            </div> */}\n                            {(account._id && props.header) || (\n                                <Box style={{ display: 'flex', flex: 1 }}>\n                                    <Box style={{ display: 'flex', flex: 1 }}>\n                                        <Button\n                                            component={Link}\n                                            to={'/'}\n                                            style={{ padding: '3px 8px' }}\n                                        >\n                                            <img\n                                                style={{\n                                                    height: '28px',\n                                                }}\n                                                src=\"/logo-addspire.png\"\n                                            />\n                                        </Button>\n                                    </Box>\n                                    <Box style={{ display: 'flex' }}>\n                                        <LanguageSwitcher />\n\n                                        <Button\n                                            component={Link}\n                                            to={`/${\n                                                language !== 'en'\n                                                    ? language + '/'\n                                                    : ''\n                                            }blog`}\n                                            style={{ marginRight: '20px' }}\n                                        >\n                                            <Book\n                                                className={classes.blogIcon}\n                                            />\n                                            <span className={classes.blogLabel}>\n                                                {t('layout.blog')}\n                                            </span>\n                                        </Button>\n\n                                        {(logedIn && isActivating) ||\n                                        (!logedIn && props.isConnectingWS) ? (\n                                            <Button\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/logout'\n                                                    )\n                                                }\n                                            >\n                                                {t('g.logout')}\n                                            </Button>\n                                        ) : (\n                                            !account._id && (\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"primary\"\n                                                    // startIcon={<Person />}\n                                                    onClick={() =>\n                                                        setLoginVisible(true)\n                                                    }\n                                                >\n                                                    {t('layout.login')}\n                                                </Button>\n                                            )\n                                        )}\n                                    </Box>\n                                </Box>\n                            )}\n                        </Toolbar>\n                    </AppBar>\n                </Slide>\n                <Toolbar id=\"back-to-top-anchor\" />\n                <Container\n                    style={{ paddingTop: '20px', paddingBottom: '20px' }}\n                    disableGutters={Boolean(removeGutters)}\n                >\n                    {props.children}\n                </Container>\n\n                {/* <Toolbar\n                    style={{\n                        marginTop: '50px',\n                        background: '#eee',\n                        paddingTop: '22px',\n                        paddingBottom: '22px',\n                    }}\n                >\n                    <Box style={{ display: 'flex', flex: 1 }}>\n                        <Box\n                            style={{\n                                display: 'flex',\n                                flex: 1,\n                                justifyContent: 'center',\n                            }}\n                        >\n                            <Link\n                                to=\"/\"\n                                style={{\n                                    display: 'flex',\n                                    alignItems: 'baseline',\n                                }}\n                            >\n                                <img\n                                    style={{\n                                        height: '23px',\n                                    }}\n                                    src=\"/android-icon-36x36.png\"\n                                />\n                                <Typography variant=\"button\">\n                                    Addspire\n                                </Typography>\n                            </Link>\n                        </Box>\n                    </Box>\n                </Toolbar> */}\n\n                {logedIn && !isActivating && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial\"\n                        className={classes.speedDial}\n                        icon={<SpeedDialIcon />}\n                        onClose={(event, reason) => {\n                            if (reason !== 'mouseLeave') {\n                                domRef.current.focus()\n                                setSpeedDialOpen(false)\n                            }\n                        }}\n                        onOpen={(event, reason) =>\n                            reason === 'toggle' && setSpeedDialOpen(true)\n                        }\n                        open={speedDialOpen}\n                    >\n                        <SpeedDialAction\n                            icon={<Person />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addFriend')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setAddFriendOpen(true)\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Star />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addGoal')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartResourceVisible('goal')\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Launch />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addActivity')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartResourceVisible('activity')\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Star />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    {t('g.addReward')}\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartResourceVisible('reward')\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                    </SpeedDial>\n                )}\n                {(logedIn || !props.isConnectingWS) &&\n                    (isActivating && 'Activate your account')}\n\n                <Slide appear={false} direction=\"up\" in={scrollTrigger}>\n                    <Box\n                        style={{\n                            position: 'fixed',\n                            bottom: '12px',\n                            width: '100%',\n                            zIndex: 1,\n                        }}\n                    >\n                        {logedIn && !isActivating && (\n                            <>\n                                <Slide\n                                    appear={false}\n                                    direction=\"left\"\n                                    in={recentVisible}\n                                >\n                                    <Box style={{ margin: '6px 10px' }}>\n                                        <Paper\n                                            style={{\n                                                overflowX: 'auto',\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                justifyContent: 'space-between',\n                                                position: 'relative',\n                                                maxWidth: '400px',\n                                                padding: '5px',\n                                                margin: 'auto',\n                                            }}\n                                            onMouseDown={() => {\n                                                clearTimeout(hideRecentTimeout)\n                                            }}\n                                            onScroll={() =>\n                                                clearTimeout(hideRecentTimeout)\n                                            }\n                                            onTouchStart={() =>\n                                                clearTimeout(hideRecentTimeout)\n                                            }\n                                        >\n                                            {account.recent.map(\n                                                (item, index) => {\n                                                    const urlDir =\n                                                        item.resourceType ===\n                                                        'goal'\n                                                            ? 'goals'\n                                                            : item.resourceType ===\n                                                              'reward'\n                                                            ? 'rewards'\n                                                            : 'activities'\n                                                    const dataType =\n                                                        item.resourceType ===\n                                                        'goal'\n                                                            ? progressData\n                                                            : item.resourceType ===\n                                                              'reward'\n                                                            ? rewardData\n                                                            : activityData\n\n                                                    const data =\n                                                        dataType[\n                                                            item.resourceId\n                                                        ]\n\n                                                    return data ? (\n                                                        <Card\n                                                            style={{\n                                                                overflow:\n                                                                    'hidden',\n                                                            }}\n                                                        >\n                                                            <CardActionArea>\n                                                                <Link\n                                                                    to={\n                                                                        '/' +\n                                                                        urlDir +\n                                                                        '/' +\n                                                                        data._id\n                                                                    }\n                                                                    onClick={() =>\n                                                                        setRecentVisible(\n                                                                            false\n                                                                        )\n                                                                    }\n                                                                >\n                                                                    <CardMedia\n                                                                        style={{\n                                                                            height:\n                                                                                '56px',\n                                                                            width:\n                                                                                '56px',\n                                                                            backgroundSize:\n                                                                                'cover',\n                                                                            borderRadius:\n                                                                                '28',\n                                                                        }}\n                                                                        image={\n                                                                            data\n                                                                                .images\n                                                                                .length >\n                                                                            0\n                                                                                ? data\n                                                                                      .images[0]\n                                                                                : placeholderImages[\n                                                                                      getPH(\n                                                                                          data._id\n                                                                                      )\n                                                                                  ]\n                                                                        }\n                                                                        title={\n                                                                            data.name\n                                                                        }\n                                                                    />\n                                                                    <CardContent\n                                                                        style={{\n                                                                            padding:\n                                                                                '0px',\n                                                                            position:\n                                                                                'absolute',\n                                                                            bottom:\n                                                                                '0px',\n                                                                            background:\n                                                                                'white',\n                                                                            width:\n                                                                                '100%',\n                                                                        }}\n                                                                    >\n                                                                        <Typography\n                                                                            variant=\"body2\"\n                                                                            noWrap\n                                                                            align=\"center\"\n                                                                        >\n                                                                            {\n                                                                                data.name\n                                                                            }\n                                                                        </Typography>\n                                                                    </CardContent>\n                                                                </Link>\n                                                            </CardActionArea>\n                                                        </Card>\n                                                    ) : null\n                                                }\n                                            )}\n                                        </Paper>\n                                    </Box>\n                                </Slide>\n                                <Box className={cll.bottomMenu}>\n                                    <Paper\n                                        elevation={3}\n                                        style={{ borderRadius: '37px' }}\n                                    >\n                                        <IconButton\n                                            onClick={() => openLink('/')}\n                                            color={\n                                                props.history.location\n                                                    .pathname === '/'\n                                                    ? 'primary'\n                                                    : 'default'\n                                            }\n                                        >\n                                            <HomeRounded fontSize=\"large\" />\n                                        </IconButton>\n                                        <IconButton\n                                            onClick={() => openLink('/posts')}\n                                            color={\n                                                props.history.location\n                                                    .pathname === '/posts'\n                                                    ? 'primary'\n                                                    : 'default'\n                                            }\n                                        >\n                                            <Badge\n                                                badgeContent={\n                                                    numberOfUnseenNots\n                                                }\n                                                color=\"secondary\"\n                                            >\n                                                <Notifications fontSize=\"large\" />\n                                            </Badge>\n                                        </IconButton>\n                                        <IconButton\n                                            onClick={() =>\n                                                openLink(\n                                                    '/profile/' + account._id\n                                                )\n                                            }\n                                        >\n                                            <Badge\n                                                badgeContent={\n                                                    account.friends.filter(\n                                                        item =>\n                                                            item.status ===\n                                                            'inviting'\n                                                    ).length\n                                                }\n                                                color=\"secondary\"\n                                            >\n                                                <Avatar\n                                                    classes={\n                                                        props.history.location\n                                                            .pathname ===\n                                                        '/profile/' +\n                                                            account._id\n                                                            ? {\n                                                                  root:\n                                                                      classes.avatar,\n                                                              }\n                                                            : {}\n                                                    }\n                                                    src={getAvatar(\n                                                        account._id,\n                                                        account.image\n                                                    )}\n                                                />\n                                            </Badge>\n                                        </IconButton>\n                                        <IconButton\n                                            color={\n                                                recentVisible\n                                                    ? 'primary'\n                                                    : 'default'\n                                            }\n                                            onClick={() =>\n                                                setRecentVisible(!recentVisible)\n                                            }\n                                        >\n                                            <History fontSize=\"large\" />\n                                        </IconButton>\n                                    </Paper>\n                                </Box>\n                            </>\n                        )}\n                    </Box>\n                </Slide>\n            </div>\n            <LoginModal\n                loginVisible={loginVisible}\n                setLoginVisible={setLoginVisible}\n            />\n            {(logedIn || !props.isConnectingWS) && (!isActivating && <></>)}\n\n            {account._id && (\n                <>\n                    <DialogFullscreen\n                        open={addFriendOpen}\n                        close={() => {\n                            setAddFriendOpen(false)\n                        }}\n                        title={t('g.addFriend')}\n                    >\n                        <AddFriends\n                            close={() => setAddFriendOpen(false)}\n                            open={addFriendOpen}\n                            account={account}\n                            friendData={props.friendData}\n                        />\n                    </DialogFullscreen>\n\n                    <Dialog\n                        fullScreen\n                        open={Boolean(startResourceVisible)}\n                        onClose={() => {\n                            setStartResourceVisible('')\n                        }}\n                        TransitionComponent={TransitionComponent}\n                    >\n                        <EditResource\n                            account={account}\n                            friendData={props.friendData}\n                            cancel={() => setStartResourceVisible('')}\n                            type={startResourceVisible}\n                            goToResource\n                        />\n                    </Dialog>\n                </>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n        lastNotifications: state.lastNotifications,\n        isConnectingWS: state.isConnectingWS,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n        language: state.language,\n        recentShown: state.recentShown,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        markRecentShown: () => {\n            dispatch(actions.markRecentShown())\n        },\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(AccountLayout)\n)\n","import React, { useEffect, useState } from 'react'\nimport { Box, Button, makeStyles, Typography } from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport TinyEditor from '../UI/TinyEditor'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst EditPost = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    const [images, setImages] = useState(props.images || [])\n\n    const [messageText, setMessageText] = useState(props.content || '')\n\n    useEffect(() => {\n        setImages(props.images || [])\n        setMessageText(props.content || '')\n    }, [props.open])\n\n    const handleSave = () => {\n        props.save(images, messageText)\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setImages([])\n        setMessageText('')\n        props.cancel()\n    }\n\n    return (\n        <DialogFullscreen\n            open={props.open}\n            close={handleCancel}\n            title={props.title}\n            save={handleSave}\n        >\n            <Box\n                style={{\n                    padding: '0 16px',\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    width: '100%',\n                }}\n            >\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('g.desc')}\n                </Typography>\n                <Box>\n                    <TinyEditor\n                        value={messageText}\n                        onEditorChange={value => setMessageText(value)}\n                    />\n                </Box>\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('g.images')}\n                </Typography>\n                <ImagePickerMulti\n                    images={images}\n                    onValueChange={value => setImages(value)}\n                />\n                <Box\n                    style={{\n                        textAlign: 'right',\n                        marginTop: '50px',\n                    }}\n                >\n                    <Button size=\"large\" onClick={handleCancel}>\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                        onClick={handleSave}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </Box>\n            </Box>\n        </DialogFullscreen>\n    )\n}\n\nexport default EditPost\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport { Box, Card, CardContent } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\n\nimport EditPost from './EditPost'\nimport { useTranslation } from 'react-i18next'\n\nconst AddPost = props => {\n    const { t } = useTranslation()\n    const [postOpen, setPostOpen] = useState(false)\n\n    const { parent, account, parentType } = props\n\n    const handleSave = (images, messageText) => {\n        wsActions.addPost(account._id, parent, parentType, messageText, images)\n        if (props.onSend) props.onSend()\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setPostOpen(false)\n    }\n\n    return account._id ? (\n        <>\n            <Card elevation={3}>\n                <CardContent>\n                    <Box style={{ display: 'flex', width: '100%' }}>\n                        <Box style={{ marginRight: '20px' }}>\n                            <UserButton\n                                noName={true}\n                                id={account._id}\n                                span={true}\n                                size={36}\n                            />\n                        </Box>\n                        <Box style={{ flex: 1 }}>\n                            <Box\n                                style={{\n                                    background: '#efefef',\n                                    padding: '5px 15px',\n                                    borderRadius: '15px',\n                                    color: '#7d7d7d',\n                                    cursor: 'pointer',\n                                }}\n                                onClick={() => setPostOpen(true)}\n                            >\n                                {t('post.postNew')}\n                            </Box>\n                        </Box>\n                    </Box>\n                    <EditPost\n                        open={postOpen}\n                        cancel={handleCancel}\n                        title={t('post.createNewPost')}\n                        save={handleSave}\n                    />\n                </CardContent>\n            </Card>\n        </>\n    ) : null\n}\n\nexport default withRouter(AddPost)\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport * as wsActions from '../../websocketActions'\nimport { Box, TextField, Button, makeStyles } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport { spanStyle } from './Message'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles({\n    text: {\n        '&>div::after': { border: 'none' },\n        '&>div::before': { border: 'none !important' },\n        '& textarea': {\n            fontSize: '14px',\n        },\n    },\n})\nconst AddMessage = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [previewImage, setPreviewImage] = useState('')\n    const [imageLoading, setImageLoading] = useState(false)\n    const [images, setImages] = useState(props.images || [])\n    const { post, account } = props\n\n    const [messageText, setMessageText] = useState(\n        props.content ||\n            (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n    )\n\n    useEffect(() => {\n        setMessageText(\n            props.content ||\n                (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n        )\n    }, [props.replyToUser, props.content])\n\n    const uploadImage = file => {\n        uploadFile(file, 800, undefined, url => {\n            setImages([...images, url])\n        })\n    }\n\n    return post && account._id ? (\n        <Box style={{ display: 'flex', width: '100%', margin: '10px 0px' }}>\n            <Box style={{ marginRight: '10px' }}>\n                <UserButton\n                    noName={true}\n                    id={account._id}\n                    span={true}\n                    size={props.isTop ? 36 : 25}\n                />\n            </Box>\n            <Box style={{ flex: 1 }}>\n                <Box\n                    style={{\n                        background: '#efefef',\n                        padding: '5px 15px',\n                        borderRadius: '15px',\n                    }}\n                >\n                    <TextField\n                        multiline\n                        value={messageText}\n                        onChange={e => setMessageText(e.target.value)}\n                        margin=\"dense\"\n                        placeholder={t('post.addComment')}\n                        className={classes.text}\n                        fullWidth\n                    />\n                    {images.length > 0 && (\n                        <ImagePickerMulti\n                            images={images}\n                            onValueChange={value => setImages(value)}\n                        />\n                    )}\n                    <Button\n                        onClick={() => {\n                            wsActions.sendMessage(\n                                account._id,\n                                post._id,\n                                messageText,\n                                images,\n                                props.replyTo,\n                                props.editingMessage\n                            )\n                            setMessageText('')\n                            setImages([])\n                            if (props.onSend) props.onSend()\n                        }}\n                    >\n                        <span style={spanStyle}>{t('g.send')}</span>\n                    </Button>\n                    <Upload\n                        accept=\"image/*\"\n                        showUploadList={false}\n                        customRequest={({ file }) => {\n                            if (images.length > 8) {\n                                message.warning(t('post.imageLimit'))\n                                return\n                            }\n                            setImageLoading(true)\n                            uploadFile(file, 800, undefined, url => {\n                                setImageLoading(false)\n                                if (!url) {\n                                    setImages([...images])\n                                } else {\n                                    setImages([...images, url])\n                                }\n                            })\n                        }}\n                    >\n                        <Button\n                            onClick={e => {\n                                if (window.isRNWebView) {\n                                    e.stopPropagation()\n                                    window.ReactNativeWebView.postMessage(\n                                        'uploadFile'\n                                    )\n                                    window.callback = url => {\n                                        setImageLoading(false)\n                                        setImages([...images, url])\n                                    }\n                                }\n                            }}\n                        >\n                            <span style={spanStyle}>{t('g.image')}</span>\n                        </Button>\n                    </Upload>\n                    {props.cancel && (\n                        <Button onClick={props.cancel}>\n                            <span style={spanStyle}>{t('g.cancel')}</span>\n                        </Button>\n                    )}\n                </Box>\n            </Box>\n        </Box>\n    ) : (\n        <Box style={{ height: '10px' }} />\n    )\n}\n\nexport default withRouter(AddMessage)\n","import React, { useState } from 'react'\nimport Carousel from 'antd/es/carousel'\nimport classes from './imageCarousel.module.css'\nimport Modal from 'antd/es/modal/Modal'\n\nconst ImageCarousel = props => {\n    const [previewImage, setPreviewImage] = useState(false)\n\n    return props.images && props.images.length > 0 ? (\n        <>\n            <Carousel\n                style={{ width: props.size || 'auto', margin: '10px 0' }}\n                dots={{ className: classes.Dots }}\n                autoplay\n            >\n                {props.images.map(\n                    (image, index) =>\n                        image && (\n                            <div\n                                key={index}\n                                onClick={() => setPreviewImage(image)}\n                            >\n                                <div\n                                    style={{\n                                        backgroundImage: 'url(\"' + image + '\")',\n                                        backgroundSize: props.type || 'contain',\n                                        backgroundPosition: 'center',\n                                        width: props.size || '100%',\n                                        height:\n                                            props.height ||\n                                            props.size ||\n                                            '300px',\n                                        maxWidth: '800px',\n                                        backgroundRepeat: 'no-repeat',\n                                        borderRadius: '20px',\n                                        margin: 'auto',\n                                    }}\n                                />\n                            </div>\n                        )\n                )}\n            </Carousel>\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => setPreviewImage('')}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </>\n    ) : null\n}\n\nexport default ImageCarousel\n","import React from 'react'\nimport * as wsActions from '../websocketActions'\nimport { Button } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nconst FollowButton = props => {\n    const { t } = useTranslation()\n    const { account, type, id } = props\n    if (account && account._id && account._id !== id) {\n        if (type !== 'account') {\n            return account[\n                type === 'goal'\n                    ? 'followProgresses'\n                    : type === 'reward'\n                    ? 'followRewards'\n                    : 'followActivities'\n            ].includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowResource(account._id, id, type)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followResource(account._id, id, type)\n                    }}\n                >\n                    {t('g.follow')}\n                </Button>\n            )\n        } else {\n            return account.followAccounts.includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowAccount(account._id, id)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followAccount(account._id, id)\n                    }}\n                >\n                    {t('g.follow')}\n                </Button>\n            )\n        }\n    }\n    return null\n}\n\nexport default FollowButton\n","import { Button, Dialog, DialogActions, DialogTitle } from '@material-ui/core'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nexport default props => {\n    const { t } = useTranslation()\n\n    return (\n        <Dialog open={Boolean(props.open)} onClose={props.cancel}>\n            <DialogTitle>{props.title}</DialogTitle>\n\n            <DialogActions>\n                <Button onClick={props.cancel} color=\"primary\">\n                    {t('g.cancel')}\n                </Button>\n                <Button\n                    onClick={() => {\n                        props.confirm()\n                        props.cancel()\n                    }}\n                    color=\"primary\"\n                >\n                    {t('g.confirm')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport * as wsActions from '../../websocketActions'\nimport AddMessage from './AddMessage'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    Badge,\n    Box,\n    Button,\n    Chip,\n    IconButton,\n    Menu,\n    MenuItem,\n} from '@material-ui/core'\nimport dayjs from 'dayjs'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport { MoreVertOutlined, ThumbUp } from '@material-ui/icons'\nimport ReadMore from '../UI/ReadMore'\nimport EditPost from './EditPost'\nimport { useTranslation } from 'react-i18next'\nimport ConfirmAction from '../UI/ConfirmAction'\nimport message from 'antd/es/message'\n\ndayjs().format()\n\nexport const spanStyle = {\n    fontSize: '12px',\n    color: '#666',\n    textTransform: 'none',\n}\nconst Message = props => {\n    const { t } = useTranslation()\n    const { account, message, friendData, post, replies, isStart } = props\n    const [replyVisible, setReplyVisible] = useState(false)\n    const [deleteMessageOpen, setDeleteMessageOpen] = useState(false)\n    const [likes, setLikes] = useState(null)\n    const [replyToUser, setReplyToUser] = useState('')\n    const [editingMessage, setEditingMessage] = useState('')\n    const [showReplies, setShowReplies] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [editMessageOpen, setEditMessageOpen] = useState(false)\n\n    const handleEditPostSave = (images, messageText) => {\n        wsActions.editPost(account._id, post._id, messageText, images)\n        if (props.onSend) props.onSend()\n        handleEditPostCancel()\n    }\n\n    const handleEditPostCancel = () => {\n        setEditMessageOpen(false)\n    }\n\n    return account && friendData ? (\n        <>\n            {account._id !== message.author || !editingMessage ? (\n                <>\n                    {props.isStart ? (\n                        <Box\n                            style={{\n                                display: 'flex',\n                                width: '100%',\n                                margin: '10px 0px',\n                            }}\n                        >\n                            <Box style={{ marginRight: '10px' }}>\n                                <UserButton\n                                    noName={true}\n                                    id={message.author}\n                                    span={true}\n                                />\n                            </Box>\n                            <Box style={{ flex: 1 }}>\n                                <span\n                                    style={{\n                                        color: '#333',\n                                        fontWeight: 'bold',\n                                        fontSize: '14px',\n                                    }}\n                                >\n                                    <UserButton\n                                        id={message.author}\n                                        span={true}\n                                        noAva={true}\n                                    />{' '}\n                                    <div\n                                        style={spanStyle}\n                                        onClick={() =>\n                                            props.history.push(\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                    '/goals/' +\n                                                        post.parent.parentId +\n                                                        '/post/' +\n                                                        post._id\n                                            )\n                                        }\n                                    >\n                                        {dayjs(message.date).fromNow()}\n                                    </div>\n                                    {/* <span style={{ fontWeight: 'normal' }}>in</span>{' '}\n                {post.parent &&\n                    progressData &&\n                    progressData[post.parent.parentId] && (\n                        <span\n                            style={{ cursor: 'pointer' }}\n                            onClick={() =>\n                                props.history.push(\n                                    '/goals/' + post.parent.parentId\n                                )\n                            }\n                        >\n                            {progressData[post.parent.parentId].goal.name}\n                        </span>\n                    )} */}\n                                    {post.startMessage &&\n                                        ['wishlist', 'perk', 'goal'].includes(\n                                            post.startMessage.messageType\n                                        ) && (\n                                            <span\n                                                style={{\n                                                    cursor: 'pointer',\n                                                }}\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/profile/' +\n                                                            message.author\n                                                    )\n                                                }\n                                            >\n                                                {post.startMessage\n                                                    .messageType === 'wishlist'\n                                                    ? t('g.wishlist')\n                                                    : post.startMessage\n                                                          .messageType ===\n                                                      'goals'\n                                                    ? t('g.goals')\n                                                    : t('g.rewards')}\n                                            </span>\n                                        )}\n                                </span>\n                            </Box>\n                            {account._id === message.author && (\n                                <Box>\n                                    <IconButton\n                                        onClick={event =>\n                                            setAnchorEl(event.currentTarget)\n                                        }\n                                    >\n                                        <MoreVertOutlined />\n                                    </IconButton>\n                                    <Menu\n                                        id=\"simple-menu\"\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={() => setAnchorEl(null)}\n                                    >\n                                        <MenuItem\n                                            onClick={() => {\n                                                setEditMessageOpen(true)\n                                                setAnchorEl(null)\n                                            }}\n                                        >\n                                            {t('g.edit')}\n                                        </MenuItem>\n                                        <MenuItem\n                                            onClick={() => {\n                                                setDeleteMessageOpen(true)\n                                                setAnchorEl(null)\n                                            }}\n                                        >\n                                            {t('g.delete')}\n                                        </MenuItem>\n                                    </Menu>\n                                    <EditPost\n                                        open={editMessageOpen}\n                                        cancel={handleEditPostCancel}\n                                        title={t('post.editPost')}\n                                        save={handleEditPostSave}\n                                        images={message.image}\n                                        content={message.text}\n                                    />\n                                    <ConfirmAction\n                                        open={deleteMessageOpen}\n                                        cancel={() =>\n                                            setDeleteMessageOpen(false)\n                                        }\n                                        title={t('post.confirmDelete')}\n                                        confirm={() =>\n                                            wsActions.deletePost(\n                                                account._id,\n                                                post._id\n                                            )\n                                        }\n                                    />\n                                </Box>\n                            )}\n                        </Box>\n                    ) : (\n                        <>\n                            <Box style={{ display: 'flex', width: '100%' }}>\n                                <Box style={{ marginRight: '10px' }}>\n                                    <UserButton\n                                        noName={true}\n                                        id={message.author}\n                                        span={true}\n                                        size={props.isTop ? 36 : 25}\n                                    />\n                                </Box>\n                                <Box style={{ flex: 1 }}>\n                                    <Badge\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'right',\n                                        }}\n                                        overlap=\"circle\"\n                                        badgeContent={\n                                            message.likes.length ? (\n                                                <Chip\n                                                    icon={<ThumbUp />}\n                                                    color=\"primary\"\n                                                    label={message.likes.length}\n                                                    size=\"small\"\n                                                    onClick={() =>\n                                                        setLikes(message.likes)\n                                                    }\n                                                />\n                                            ) : (\n                                                0\n                                            )\n                                        }\n                                    >\n                                        <Box\n                                            style={{\n                                                background: '#efefef',\n                                                padding: '5px 15px',\n                                                borderRadius: '15px',\n                                            }}\n                                        >\n                                            <UserButton\n                                                id={message.author}\n                                                span={true}\n                                                noAva={true}\n                                            />\n                                            {message.image &&\n                                                message.image.length > 0 && (\n                                                    <ImageCarousel\n                                                        images={message.image}\n                                                        height=\"60vmin\"\n                                                        type=\"contain\"\n                                                    />\n                                                )}\n                                            {message.text && (\n                                                <p\n                                                    style={{\n                                                        wordBreak: 'break-word',\n                                                    }}\n                                                >\n                                                    {message.text}\n                                                </p>\n                                            )}\n                                        </Box>\n                                    </Badge>\n                                    <Box>\n                                        <span\n                                            style={{\n                                                ...spanStyle,\n                                                marginRight: '15px',\n                                            }}\n                                        >\n                                            {dayjs(message.date).fromNow()}\n                                        </span>\n\n                                        <Button\n                                            onClick={() => {\n                                                if (account._id)\n                                                    wsActions.changeLikesMessage(\n                                                        message.likes.includes(\n                                                            account._id\n                                                        )\n                                                            ? 'dislikeMessage'\n                                                            : 'likeMessage',\n                                                        message.messageId,\n                                                        account._id,\n                                                        post._id\n                                                    )\n                                                else\n                                                    message.warning(\n                                                        t('g.needLogin')\n                                                    )\n                                            }}\n                                        >\n                                            <span style={spanStyle}>\n                                                {message.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? t('g.unlike')\n                                                    : t('g.like')}\n                                            </span>\n                                        </Button>\n\n                                        {message.author !== account._id && (\n                                            <Button\n                                                onClick={() => {\n                                                    if (!account._id)\n                                                        message.warning(\n                                                            t('g.needLogin')\n                                                        )\n                                                    if (account._id)\n                                                        if (\n                                                            props.setReplyVisible\n                                                        ) {\n                                                            props.setReplyVisible(\n                                                                true\n                                                            )\n                                                            props.setReplyToUser(\n                                                                props.message\n                                                                    .author\n                                                            )\n                                                        } else {\n                                                            setReplyVisible(\n                                                                true\n                                                            )\n                                                            setReplyToUser('')\n                                                        }\n                                                    setShowReplies(true)\n                                                }}\n                                            >\n                                                <span style={spanStyle}>\n                                                    {t('post.reply')}\n                                                </span>\n                                            </Button>\n                                        )}\n                                        {message.author === account._id && (\n                                            <Button\n                                                onClick={() =>\n                                                    setEditingMessage(\n                                                        message.messageId\n                                                    )\n                                                }\n                                            >\n                                                <span style={spanStyle}>\n                                                    {t('g.edit')}\n                                                </span>\n                                            </Button>\n                                        )}\n                                    </Box>\n                                    {props.isTop &&\n                                    replies &&\n                                    replies.length > 0 ? (\n                                        showReplies ? (\n                                            replies.map((reply, index) => (\n                                                <Message\n                                                    key={index}\n                                                    message={reply}\n                                                    post={post}\n                                                    account={account}\n                                                    friendData={friendData}\n                                                    setReplyVisible={\n                                                        setReplyVisible\n                                                    }\n                                                    setReplyToUser={\n                                                        setReplyToUser\n                                                    }\n                                                />\n                                            ))\n                                        ) : (\n                                            <Button\n                                                onClick={() =>\n                                                    setShowReplies(true)\n                                                }\n                                            >\n                                                <span\n                                                    style={{\n                                                        ...spanStyle,\n                                                        fontSize: '15px',\n                                                    }}\n                                                >\n                                                    {`${t('g.show')} ${\n                                                        replies.length\n                                                    } ${t('post.replies')}`}\n                                                </span>\n                                            </Button>\n                                        )\n                                    ) : null}\n\n                                    {props.isTop && replyVisible ? (\n                                        <AddMessage\n                                            post={post}\n                                            account={account}\n                                            replyTo={message.messageId}\n                                            replyToUser={replyToUser}\n                                            cancel={() =>\n                                                setReplyVisible(false)\n                                            }\n                                        />\n                                    ) : null}\n                                </Box>\n                            </Box>\n                        </>\n                    )}\n\n                    {isStart ? (\n                        <>\n                            {message.messageType === 'wishlist' && (\n                                <>\n                                    {' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                            cursor: 'pointer',\n                                            margin: '10px 0px 0px ',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${\n                                                    message.details.owner\n                                                }/${message.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {message.details.name}\n                                    </span>\n                                </>\n                            )}\n                            {message.text && (\n                                <ReadMore\n                                    initialHeight={700}\n                                    contentEditor={message.text}\n                                />\n                            )}\n                            {message.image && message.image.length > 0 && (\n                                <ImageCarousel\n                                    images={message.image}\n                                    height=\"60vmin\"\n                                    type=\"contain\"\n                                />\n                            )}\n                        </>\n                    ) : (\n                        <></>\n                    )}\n                </>\n            ) : (\n                <AddMessage\n                    post={post}\n                    account={account}\n                    replyTo={message.messageId}\n                    editingMessage={editingMessage}\n                    content={message.text}\n                    images={message.image}\n                    onSend={() => setEditingMessage('')}\n                    cancel={() => setEditingMessage('')}\n                />\n            )}\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title=\"Message likes\"\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton\n                                    account={account}\n                                    id={item}\n                                    type=\"account\"\n                                />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n        </>\n    ) : null\n}\n\nexport default withRouter(Message)\n","import React, { useState } from 'react'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Box,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    Paper,\n    Snackbar,\n    Tooltip,\n    Typography,\n} from '@material-ui/core'\nimport { withRouter } from 'react-router-dom'\nimport { FileCopy, Share } from '@material-ui/icons'\nimport {\n    EmailShareButton,\n    FacebookShareButton,\n    // WeiboShareButton,\n    // HatenaShareButton,\n    // InstapaperShareButton,\n    // LineShareButton,\n    LinkedinShareButton,\n    // LivejournalShareButton,\n    // MailruShareButton,\n    // OKShareButton,\n    PinterestShareButton,\n    // PocketShareButton,\n    // RedditShareButton,\n    TelegramShareButton,\n    // TumblrShareButton,\n    TwitterShareButton,\n    // ViberShareButton,\n    VKShareButton,\n    // WhatsappShareButton,     ,\n    FacebookIcon,\n    TwitterIcon,\n    LinkedinIcon,\n    PinterestIcon,\n    VKIcon,\n    // OKIcon,\n    TelegramIcon,\n    // WhatsappIcon,\n    // RedditIcon,\n    // TumblrIcon,\n    // MailruIcon,\n    EmailIcon,\n    // LivejournalIcon,\n    // ViberIcon,\n    // WorkplaceIcon,\n    // LineIcon,\n    // PocketIcon,\n    // InstapaperIcon,\n    // WeiboIcon,\n    // HatenaIcon,\n    // FacebookMessengerIcon,\n    // FacebookMessengerShareButton,\n} from 'react-share'\nimport { spanStyle } from '../Post/Message'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { Alert } from '@material-ui/lab'\nimport { useTranslation } from 'react-i18next'\nimport ConnectionsSelect from '../EditResource/ConnectionsSelect'\nimport { connect } from 'react-redux'\n\nconst ShareButton = props => {\n    const { t } = useTranslation()\n    const [alertVisible, setAlertVisible] = useState(false)\n    const [open, setOpen] = useState(false)\n    const [friends, setFriends] = useState([])\n    const { account } = props\n    const basicProps = {\n        url: props.link || window.location.href,\n        title: props.title,\n        media: props.media || 'https://addspire.com/logo-addspire.png',\n        style: {\n            margin: '10px',\n            display: 'inline-block',\n            textAlign: 'center',\n            cursor: 'pointer',\n        },\n    }\n    return (\n        <>\n            <Tooltip title={t('g.share')} enterDelay={500} leaveDelay={200}>\n                {props.post ? (\n                    <Button onClick={() => setOpen(true)} startIcon={<Share />}>\n                        <span style={spanStyle}>{t('g.share')}</span>\n                    </Button>\n                ) : (\n                    <IconButton\n                        // color=\"primary\"\n                        style={props.style}\n                        onClick={() => setOpen(true)}\n                    >\n                        <Share />\n                    </IconButton>\n                )}\n            </Tooltip>\n            <Dialog open={open} onClose={() => setOpen(false)}>\n                <DialogTitle>{t('g.shareTo')}</DialogTitle>\n                <DialogContent>\n                    <Box style={{ margin: '10px auto 30px' }}>\n                        <Typography variant=\"subtitle1\">\n                            {t('g.addspireFriends')}:\n                        </Typography>\n                        <Box style={{ marginTop: '15px', padding: '10px' }}>\n                            <ConnectionsSelect\n                                value={friends}\n                                onChange={value => setFriends(value)}\n                            />\n                            {account && account._id && (\n                                <Button\n                                    color=\"primary\"\n                                    style={{ marginTop: '10px' }}\n                                    onClick={() =>\n                                        friends.length > 0 &&\n                                        wsActions.shareWithFriends(\n                                            account._id,\n                                            basicProps.url,\n                                            friends,\n                                            props.item\n                                        )\n                                    }\n                                >\n                                    {t('g.send')}\n                                </Button>\n                            )}\n                        </Box>\n                    </Box>\n                    <Box>\n                        <Typography variant=\"subtitle1\">\n                            {t('g.otherFriends')}:\n                        </Typography>\n                    </Box>\n                    <Box style={{ marginTop: '15px', padding: '10px' }}>\n                        <FacebookShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <FacebookIcon size={32} round />\n                            <Box>Facebook</Box>\n                        </FacebookShareButton>\n                        {/* <FacebookMessengerShareButton\n                            {...basicProps}\n                            appId=\"521270401588372\"\n                        >\n                            <FacebookMessengerIcon size={32} round />\n                        </FacebookMessengerShareButton> */}\n                        <TwitterShareButton {...basicProps}>\n                            <TwitterIcon size={32} round />\n                            <Box>Twitter</Box>\n                        </TwitterShareButton>\n                        <TelegramShareButton {...basicProps}>\n                            <TelegramIcon size={32} round />\n                            <Box>Telegram</Box>\n                        </TelegramShareButton>\n                        <PinterestShareButton {...basicProps}>\n                            <PinterestIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </PinterestShareButton>\n\n                        {/* <InstapaperShareButton {...basicProps}>\n                            <InstapaperIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </InstapaperShareButton>\n                        <PocketShareButton {...basicProps}>\n                            <PocketIcon size={32} round />\n                            <Box>Pocket</Box>\n                        </PocketShareButton> */}\n                        <LinkedinShareButton {...basicProps}>\n                            <LinkedinIcon size={32} round />\n                            <Box>LinkedIn</Box>\n                        </LinkedinShareButton>\n                        {/* <ViberShareButton {...basicProps}>\n                            <ViberIcon size={32} round />\n                        </ViberShareButton>\n                        <LineShareButton {...basicProps}>\n                            <LineIcon size={32} round />\n                        </LineShareButton> */}\n                        {/* <LivejournalShareButton {...basicProps}>\n                            <LivejournalIcon size={32} round />\n                        </LivejournalShareButton> */}\n                        {/* <MailruShareButton {...basicProps}>\n                            <MailruIcon size={32} round />\n                        </MailruShareButton> */}\n                        {/* <OKShareButton {...basicProps} image={props.media}>\n                            <OKIcon size={32} round />\n                        </OKShareButton>\n                        <RedditShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <RedditIcon size={32} round />\n                        </RedditShareButton>\n                        <TumblrShareButton {...basicProps}>\n                            <TumblrIcon size={32} round />\n                        </TumblrShareButton> */}\n                        <VKShareButton {...basicProps} image={props.media}>\n                            <VKIcon size={32} round />\n                            <Box>VK</Box>\n                        </VKShareButton>\n                        {/* <WhatsappShareButton {...basicProps} separator=\":: \">\n                            <WhatsappIcon size={32} round />\n                        </WhatsappShareButton> */}\n                        {/* <WorkplaceShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <WorkplaceIcon size={32} round />\n                        </WorkplaceShareButton> */}\n                        {/* <WeiboShareButton {...basicProps} image={props.media}>\n                            <WeiboIcon size={32} round />\n                        </WeiboShareButton> */}\n                        {/* <HatenaShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <HatenaIcon size={32} round />\n                        </HatenaShareButton> */}\n                        <EmailShareButton\n                            {...basicProps}\n                            subject={props.title}\n                            body=\"body\"\n                        >\n                            <EmailIcon size={32} round />\n                            <Box>{t('g.email')}</Box>\n                        </EmailShareButton>\n\n                        <CopyToClipboard\n                            text={basicProps.url}\n                            {...basicProps}\n                            onCopy={() => setAlertVisible(true)}\n                            style={{\n                                border: 'none',\n                                background: 'none',\n                                cursor: 'pointer',\n                            }}\n                        >\n                            <button>\n                                <FileCopy style={{ fontSize: 32 }} />\n                                <Box>{t('g.copyUrl')}</Box>\n                            </button>\n                        </CopyToClipboard>\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setOpen(false)}>\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Snackbar\n                open={alertVisible}\n                autoHideDuration={2000}\n                onClose={() => setAlertVisible(false)}\n            >\n                <Alert\n                    onClose={() => setAlertVisible(false)}\n                    severity=\"success\"\n                >\n                    {t('g.urlCopied')}\n                </Alert>\n            </Snackbar>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n    }\n}\nexport default withRouter(connect(mapStateToProps)(ShareButton))\n","import React, { useEffect, useRef, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport Message, { spanStyle } from './Message'\nimport AddMessage from './AddMessage'\nimport {\n    Button,\n    Card,\n    CardContent,\n    Chip,\n    Divider,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    AddCommentOutlined,\n    ThumbUp,\n    ThumbUpOutlined,\n} from '@material-ui/icons'\nimport ShareButton from '../UI/ShareButton'\nimport { useTranslation } from 'react-i18next'\nimport message from 'antd/es/message'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Post = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const { post, account, friendData, progressData } = props\n    const isPostPage = props.history.location.pathname.indexOf(post._id) > -1\n    const [postOpen, setPostOpen] = useState(props.showReplies || isPostPage)\n    const [likes, setLikes] = useState(null)\n    const getNumberOfMessages = messages => {\n        let result = 0\n        for (let item of messages) {\n            result = result + 1 + item.replies.length\n        }\n        return result\n    }\n    const postRef = useRef(null)\n\n    useEffect(() => {\n        if (isPostPage && postRef.current) {\n            window.scrollTo({\n                top: postRef.current.offsetTop - 70,\n                behavior: 'smooth',\n            })\n            setPostOpen(true)\n        }\n    }, [isPostPage])\n    return post ? (\n        <>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('post.mainPost')}\n                </Typography>\n            )}\n            <Card elevation={isPostPage && 3}>\n                <CardContent ref={postRef}>\n                    {!props.noStartMessage && (\n                        <>\n                            <Message\n                                message={post.startMessage}\n                                post={post}\n                                account={account}\n                                friendData={friendData}\n                                progressData={progressData}\n                                replies={[]}\n                                isStart={true}\n                            />\n\n                            {post.startMessage.likes.length > 0 && (\n                                <Chip\n                                    icon={<ThumbUp />}\n                                    color=\"primary\"\n                                    label={post.startMessage.likes.length}\n                                    size=\"small\"\n                                    onClick={() =>\n                                        setLikes(post.startMessage.likes)\n                                    }\n                                    style={{ marginBottom: '10px' }}\n                                />\n                            )}\n                            <Divider />\n                        </>\n                    )}\n\n                    <div\n                        style={{\n                            textAlign: 'left',\n                            // marginBottom: '200px',\n                            position: 'relative',\n                        }}\n                    >\n                        {!props.noPostControls && (\n                            <>\n                                <div\n                                    style={{\n                                        display: 'flex',\n                                        justifyContent: 'space-around',\n                                    }}\n                                >\n                                    <span key=\"comment-basic-like\">\n                                        <Button\n                                            onClick={() => {\n                                                if (account._id)\n                                                    wsActions.changeLikesMessage(\n                                                        post.startMessage.likes.includes(\n                                                            account._id\n                                                        )\n                                                            ? 'dislikeMessage'\n                                                            : 'likeMessage',\n                                                        post.startMessage\n                                                            .messageId,\n                                                        account._id,\n                                                        post._id\n                                                    )\n                                                else\n                                                    message.warning(\n                                                        t('g.needLogin')\n                                                    )\n                                            }}\n                                            startIcon={<ThumbUpOutlined />}\n                                        >\n                                            <span style={spanStyle}>\n                                                {post.startMessage.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? t('g.unlike')\n                                                    : t('g.like')}\n                                            </span>\n                                        </Button>\n                                    </span>\n                                    <span>\n                                        <Button\n                                            onClick={() => setPostOpen(true)}\n                                            startIcon={<AddCommentOutlined />}\n                                        >\n                                            <span style={spanStyle}>\n                                                {t('post.comment')}\n                                            </span>\n                                        </Button>\n                                    </span>\n                                    <span key=\"comment-basic-like\">\n                                        <ShareButton\n                                            post\n                                            link={\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                'https://addspire.com/goals/' +\n                                                    post.parent.parentId +\n                                                    '/post/' +\n                                                    post._id\n                                            }\n                                            media={\n                                                post.startMessage.image &&\n                                                post.startMessage.image.length >\n                                                    0 &&\n                                                post.startMessage.image[0]\n                                            }\n                                            title={t('post.shareText')}\n                                            item={{\n                                                postId: post._id,\n                                            }}\n                                        />\n                                    </span>\n                                </div>\n                                <Divider />\n                            </>\n                        )}\n                        {!postOpen ? (\n                            post.messages.length > 0 && (\n                                <Button onClick={() => setPostOpen(true)}>\n                                    <span\n                                        style={{\n                                            ...spanStyle,\n                                            fontSize: '15px',\n                                        }}\n                                    >\n                                        {`${t('g.show')} \n                                        ${getNumberOfMessages(post.messages)} \n                                        ${t('post.comments')}`}\n                                    </span>\n                                </Button>\n                            )\n                        ) : (\n                            <>\n                                <AddMessage\n                                    post={post}\n                                    account={account}\n                                    isTop={true}\n                                />\n                                {post.messages && post.messages.length\n                                    ? post.messages.map((message, index) => (\n                                          <Message\n                                              key={index}\n                                              message={message}\n                                              post={post}\n                                              account={account}\n                                              friendData={friendData}\n                                              replies={message.replies}\n                                              isTop={true}\n                                          />\n                                      ))\n                                    : null}\n                            </>\n                        )}\n                    </div>\n                </CardContent>\n            </Card>\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title={t('post.messageLikes')}\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton\n                                    account={account}\n                                    id={item}\n                                    type=\"account\"\n                                />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('post.otherPosts')}\n                </Typography>\n            )}\n        </>\n    ) : null\n}\n\nexport default withRouter(Post)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport AddPost from './AddPost'\nimport Post from './Post'\nimport { useTranslation } from 'react-i18next'\nimport { makeStyles, Typography } from '@material-ui/core'\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\nconst ResourcePosts = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const { resource, account, posts, friendData, type } = props\n\n    return (\n        <>\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                {t('g.postsAndComments')}\n            </Typography>\n            {account._id && (\n                <AddPost\n                    parent={resource._id}\n                    account={account}\n                    parentType={type}\n                    // onSend={() => setEditingMessage('')}\n                />\n            )}\n            {posts &&\n                [...resource.posts]\n                    .sort((a, b) =>\n                        props.history.location.pathname.indexOf(a) > -1\n                            ? 1\n                            : props.history.location.pathname.indexOf(b) > -1\n                            ? -1\n                            : 0\n                    )\n                    .map(postId => {\n                        if (posts[postId]) {\n                            const post = posts[postId]\n                            return (\n                                <div\n                                    key={postId}\n                                    style={{ paddingTop: '10px' }}\n                                >\n                                    <Post\n                                        friendData={friendData}\n                                        account={account}\n                                        post={post}\n                                    />\n                                </div>\n                            )\n                        } else return null\n                    })\n                    .reverse()}\n        </>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ResourcePosts))\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport HorizontalScrollList from './UI/HorizontalScrollList'\nimport { useTranslation } from 'react-i18next'\nimport {\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from './MasonryCard'\n\nconst SimilarResources = props => {\n    const { t } = useTranslation()\n    const { resource, type } = props\n    const [similarResources, setSimilarResources] = useState([])\n    const [similarIsRequested, setSimilarIsRequested] = useState(false)\n    const title =\n        type === 'goal'\n            ? t('g.similarGoals')\n            : type === 'reward'\n            ? t('g.similarRewards')\n            : t('g.similarActivities')\n    const urlDir =\n        type === 'goal' ? 'goals' : type === 'reward' ? 'rewards' : 'activitie'\n    useEffect(() => {\n        if (resource && resource._id && !similarIsRequested) {\n            setSimilarIsRequested(true)\n            axios\n                .post('/api/similar', {\n                    search: {\n                        categories: resource.category || [],\n                        position: resource.position,\n                        currentId: resource._id,\n                        type: type,\n                    },\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setSimilarResources(res.data.resources)\n                    }\n                })\n                .catch(err => {})\n        }\n    }, [resource && resource._id])\n    return similarResources.length > 0 ? (\n        <HorizontalScrollList\n            title={title}\n            items={similarResources}\n            content={item => (\n                <CardActionArea>\n                    <Link to={'/' + urlDir + '/' + item._id}>\n                        <CardMedia\n                            style={{\n                                height: '150px',\n                                backgroundSize: 'contain',\n                            }}\n                            image={\n                                item.images.length > 0\n                                    ? item.images[0]\n                                    : placeholderImages[getPH(item._id)]\n                            }\n                            title={item.name}\n                        />\n                        <CardContent style={{ padding: '5px' }}>\n                            <Typography variant=\"body2\" noWrap>\n                                {item.name}\n                            </Typography>\n                        </CardContent>\n                    </Link>\n                </CardActionArea>\n            )}\n        />\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(SimilarResources))\n","import React, { useState } from 'react'\nimport {\n    Box,\n    Button,\n    Chip,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    Menu,\n    MenuItem,\n    Paper,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport ImageCarousel from './UI/ImageCarousel/ImageCarousel'\nimport ShareButton from './UI/ShareButton'\nimport * as wsActions from '../websocketActions'\nimport { useTranslation } from 'react-i18next'\nimport EditResource from '../components/EditResource/EditResource'\nimport MasonryCard from './MasonryCard'\nimport FollowButton from './FollowButton'\nimport UserButton from './UserButton/UserButton'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport ConfirmAction from './UI/ConfirmAction'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst ResourceHeader = props => {\n    const { t } = useTranslation()\n    const { resource, account, friendData, type } = props\n    const [followersVisible, setFollowersVisible] = useState('')\n    const [editResourceOpen, setEditResourceOpen] = useState(false)\n    const [deleteResourceOpen, setDeleteResourceOpen] = useState(false)\n    const [leaveResourceOpen, setLeaveResourceOpen] = useState(false)\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const accountProp =\n        type === 'goal'\n            ? 'progresses'\n            : type === 'reward'\n            ? 'rewards'\n            : 'activities'\n    const followProp =\n        type === 'goal'\n            ? 'followProgresses'\n            : type === 'reward'\n            ? 'followRewards'\n            : 'followActivities'\n    const getDropDownMeuItems = () => {\n        const items = []\n        if (account._id === resource.owner)\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setEditResourceOpen(true)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.edit')}\n                </MenuItem>\n            )\n\n        if (account[followProp].includes(resource._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.unfollowResource(\n                            account._id,\n                            resource._id,\n                            type\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.unfollow')}\n                </MenuItem>\n            )\n\n        if (resource.likes.includes(account._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.changeLikesResource(\n                            account._id,\n                            resource._id,\n                            false,\n                            type\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.unlike')}\n                </MenuItem>\n            )\n        if (\n            type !== 'reward' &&\n            account[accountProp] &&\n            account[accountProp].includes(resource._id.toString())\n        )\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setLeaveResourceOpen(true)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.leave')}\n                </MenuItem>\n            )\n        if (\n            account[accountProp] &&\n            account[accountProp].includes(resource._id.toString())\n        )\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setDeleteResourceOpen(true)\n                        setAnchorEl(null)\n                    }}\n                >\n                    {t('g.delete')}\n                </MenuItem>\n            )\n        return items.length > 0 && items\n    }\n\n    const dropDownMeuItems = account._id ? getDropDownMeuItems() : null\n    return (\n        <>\n            <Paper style={{ padding: '15px' }}>\n                {resource.images.length > 0 && (\n                    <ImageCarousel images={resource.images} />\n                )}\n                <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                    <Typography variant=\"h4\" gutterBottom>\n                        {resource.name}\n                    </Typography>\n                    <Typography variant=\"body1\" gutterBottom>\n                        {t('g.' + type) + ' ' + t('g.by')}\n                        <UserButton id={resource.owner} />\n                    </Typography>\n                    {resource.category.map(category => (\n                        <Chip\n                            label={t('g.' + category)}\n                            variant=\"outlined\"\n                            style={{ margin: '5px' }}\n                        />\n                    ))}\n                    <Box\n                        style={{\n                            margin: '5px 0px',\n                        }}\n                    >\n                        <Button\n                            onClick={() => setFollowersVisible('followers')}\n                            style={{ marginRight: '20px' }}\n                        >\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {`${resource.followingAccounts.length} ${t(\n                                    'g.followers'\n                                )}`}\n                            </span>\n                        </Button>\n                        <Button onClick={() => setFollowersVisible('likes')}>\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {`${resource.likes.length} ${t('g.likes')}`}\n                            </span>\n                        </Button>\n                        <ShareButton\n                            title={resource.name + t('g.shareText')}\n                            media={resource.images && resource.images[0]}\n                            item={{\n                                progressId: resource._id,\n                                progressName: resource.name,\n                                type,\n                            }}\n                        />\n                        {dropDownMeuItems && account && account._id && (\n                            <>\n                                <IconButton\n                                    onClick={event =>\n                                        setAnchorEl(event.currentTarget)\n                                    }\n                                >\n                                    <MoreVertOutlined />\n                                </IconButton>\n                                <Menu\n                                    anchorEl={anchorEl}\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    onClose={() => setAnchorEl(null)}\n                                >\n                                    {dropDownMeuItems}\n                                </Menu>\n                            </>\n                        )}\n                    </Box>\n                    <Box\n                        style={{\n                            margin: '0px 0px 20px',\n                        }}\n                    >\n                        {account &&\n                            account._id &&\n                            !account[followProp].includes(resource._id) && (\n                                <Button\n                                    color=\"primary\"\n                                    onClick={() =>\n                                        wsActions.followResource(\n                                            account._id,\n                                            resource._id,\n                                            type\n                                        )\n                                    }\n                                    style={{ marginRight: '20px' }}\n                                    variant=\"contained\"\n                                >\n                                    {t('g.follow')}\n                                </Button>\n                            )}\n\n                        {account &&\n                            account._id &&\n                            !resource.likes.includes(account._id) && (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={() =>\n                                        wsActions.changeLikesResource(\n                                            account._id,\n                                            resource._id,\n                                            true,\n                                            type\n                                        )\n                                    }\n                                >\n                                    {t('g.like')}\n                                </Button>\n                            )}\n                    </Box>\n                </div>\n            </Paper>\n            <Dialog\n                fullScreen\n                open={editResourceOpen}\n                onClose={() => setEditResourceOpen(false)}\n                TransitionComponent={TransitionComponent}\n            >\n                <EditResource\n                    type={type}\n                    account={account}\n                    friendData={friendData}\n                    cancel={() => setEditResourceOpen(false)}\n                    resource={resource}\n                />\n            </Dialog>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'likes'\n                        ? t('g.' + type + 'Likes')\n                        : t('g.' + type + 'Followers')\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible === 'likes'\n                        ? t('g.' + type + 'Likes')\n                        : t('g.' + type + 'Followers')}\n                </DialogTitle>\n                <DialogContent>\n                    {resource[\n                        followersVisible === 'likes'\n                            ? 'likes'\n                            : 'followingAccounts'\n                    ].map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton\n                                    account={account}\n                                    id={item}\n                                    type=\"account\"\n                                />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <ConfirmAction\n                open={deleteResourceOpen}\n                cancel={() => setDeleteResourceOpen(false)}\n                title={t('resource.confirmDelete')}\n                confirm={() => wsActions.deleteResource(resource._id, type)}\n            />\n            <ConfirmAction\n                open={leaveResourceOpen}\n                cancel={() => setLeaveResourceOpen(false)}\n                title={t('resource.confirmLeave')}\n                confirm={() => wsActions.leaveResource(resource._id, type)}\n            />\n        </>\n    )\n}\n\nexport default ResourceHeader\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../store/actions'\nimport * as wsActions from '../websocketActions'\n\nimport pullData from '../utils/pullData'\nimport Layout from './Layout/Layout'\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\nimport ResourcePosts from './Post/ResourcePosts'\nimport SimilarResources from './SimilarResources'\nimport Helmet from 'react-helmet'\nimport ResourceHeader from './ResourceHeader'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst ResourceCore = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    const [data, setData] = useState({})\n    const pathParts = props.history.location.pathname.split('/')\n    const resourceId = pathParts.length > 2 ? pathParts[2] : ''\n    if (!resourceId) return null\n    const { type } = props\n    useEffect(() => {\n        if (props.isAuthed) {\n            props.setData({\n                [type === 'goal'\n                    ? 'currentGoal'\n                    : type === 'reward'\n                    ? 'currentReward'\n                    : 'currentActivity']: resourceId,\n            })\n            if (props.account._id)\n                wsActions.addRecent(props.account._id, resourceId, props.type)\n        } else {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n                const activityData = {}\n                if (data.activityData)\n                    for (let activity of data.activityData)\n                        activityData[activity._id] = activity\n                const rewardData = {}\n                if (data.rewardData)\n                    for (let reward of data.rewardData)\n                        rewardData[reward._id] = reward\n                const post = {}\n                if (data.posts)\n                    for (let item of data.posts) post[item._id] = item\n\n                props.setData({\n                    friendData,\n                    post,\n                    account: {},\n                    activityData,\n                    rewardData,\n                    onlineUsers: data.onlineUsers,\n                    [type === 'goal' ? 'progress' : type]: data.resource,\n                })\n            })\n        }\n    }, [props.isAuthed, props.history.location.pathname])\n\n    const { resource, account, friendData, posts } = props.isAuthed\n        ? props\n        : { ...data, posts: props.posts, account: {} }\n    useEffect(() => {\n        props.setResource(resource)\n    }, [resource])\n\n    if (!resource || !resource._id) return null\n\n    props.setData({ currentPosts: resource.posts })\n\n    return friendData ? (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {resource.name}\n                </Typography>\n            }\n        >\n            <div className=\"contentDiv\">\n                <Helmet>\n                    <title>\n                        {`${resource.name} ${t('g.by')}${\n                            resource.owner\n                        } - Addspire`}\n                    </title>\n                    <meta\n                        name=\"description\"\n                        content={resource.descriptionText}\n                    />\n                </Helmet>\n                <ResourceHeader\n                    account={account}\n                    resource={resource}\n                    friendData={friendData}\n                    type={type}\n                />\n\n                {props.children}\n\n                <SimilarResources resource={resource} type={type} />\n\n                <ResourcePosts\n                    resource={resource}\n                    posts={posts}\n                    friendData={friendData}\n                    type={type}\n                />\n            </div>\n        </Layout>\n    ) : null\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        posts: state.post,\n        resource: state[ownProps.type === 'goal' ? 'progress' : ownProps.type],\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ResourceCore)\n)\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport { Map, Marker, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\n\nimport { useTranslation } from 'react-i18next'\nimport LocateControl from '../../containers/Explore/LocateControl'\n\nimport icon from 'leaflet/dist/images/marker-icon.png'\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png'\nimport L from 'leaflet'\nimport 'react-leaflet-fullscreen/dist/styles.css'\nimport FullscreenControl from 'react-leaflet-fullscreen'\n\nlet DefaultIcon = L.icon({\n    iconUrl: icon,\n    shadowUrl: iconShadow,\n    iconSize: [25, 41],\n    iconAnchor: [10, 41],\n})\n\nL.Marker.prototype.options.icon = DefaultIcon\n\nconst MapPosition = props => {\n    const { t } = useTranslation()\n    const map = useRef(null)\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch({\n                useMapBounds: false,\n                placeholder: t('g.mapPlaceholder'),\n                title: t('g.mapTitle'),\n            }).addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    return props.position ? (\n        <Map\n            ref={map}\n            style={{\n                width: '100%',\n                // maxWidth: '400px',\n                height: '200px',\n                position: 'relative',\n                zIndex: 1,\n            }}\n            gestureHandling={true}\n            center={[...props.position.coordinates].reverse()}\n            zoom={11}\n        >\n            <TileLayer\n                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            <LocateControl setView=\"no\" />\n            <Marker position={[...props.position.coordinates].reverse()} />\n            <FullscreenControl position=\"topright\" />\n        </Map>\n    ) : null\n}\n\nexport default MapPosition\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport ReadMore from '../../components/UI/ReadMore'\nimport { makeStyles, Paper, Typography } from '@material-ui/core'\n\nimport { useTranslation } from 'react-i18next'\nimport ResourceCore from '../../components/ResourceCore'\nimport MapPosition from '../../components/MapPosition/MapPosition'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Reward = () => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [reward, setReward] = useState(null)\n\n    return (\n        <ResourceCore type=\"reward\" setResource={setReward}>\n            {reward && (\n                <>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.desc')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <ReadMore\n                            initialHeight={200}\n                            contentEditor={reward.description}\n                        />\n                    </Paper>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.position')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <MapPosition position={reward.position} />\n                    </Paper>\n                    {/* Used in goals\n                    Associated rewards */}\n                </>\n            )}\n        </ResourceCore>\n    )\n}\n\nexport default withRouter(Reward)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport {\n    Box,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    IconButton,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport Reward from '../../containers/Reward/Reward'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\nimport EditResource from '../EditResource/EditResource'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst ProfileRewards = props => {\n    const { t } = useTranslation()\n    const [addRewardOpen, setAddRewardOpen] = useState(false)\n    const [rewardPreview, setRewardPreview] = useState('')\n\n    const {\n        account,\n        owner,\n        rewardData,\n        wish,\n        additionalButton,\n        isSelect,\n        value,\n        onChange,\n        multiple,\n    } = props\n    const isOwner = account && account._id && account._id === owner._id\n\n    const handleSelect = id => {\n        if (multiple)\n            if (value.includes(id)) {\n                onChange(value.filter(item => item !== id))\n            } else {\n                onChange([...value, id])\n            }\n        else onChange([id])\n    }\n\n    return (\n        <>\n            <HorizontalScrollList\n                title={\n                    isSelect\n                        ? 'I want to give these rewards:'\n                        : wish\n                        ? t('g.wishlist')\n                        : t('g.rewards')\n                }\n                items={owner.rewards\n                    .map(item => rewardData[item])\n                    .filter(item => item)}\n                content={item => {\n                    const isSelected = isSelect && value.includes(item._id)\n                    const content = (\n                        <>\n                            {' '}\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={isSelected ? 'primary' : undefined}\n                                    style={{\n                                        fontWeight: isSelected\n                                            ? 600\n                                            : 'initial',\n                                    }}\n                                >\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </>\n                    )\n                    return (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <CardActionArea\n                                onClick={() =>\n                                    isSelect && handleSelect(item._id)\n                                }\n                            >\n                                {isSelect ? (\n                                    content\n                                ) : props.openInDialog ? (\n                                    <Box\n                                        onClick={() =>\n                                            setRewardPreview(item._id)\n                                        }\n                                    >\n                                        {content}\n                                    </Box>\n                                ) : (\n                                    <Link\n                                        to={\n                                            (wish\n                                                ? '/wishlist/'\n                                                : '/rewards/') + item._id\n                                        }\n                                    >\n                                        {content}\n                                    </Link>\n                                )}\n                            </CardActionArea>\n                            {additionalButton && additionalButton(item)}\n                        </CardContent>\n                    )\n                }}\n                withAdd={isOwner}\n                addTitle={t('g.addReward')}\n                onAdd={() => setAddRewardOpen(true)}\n            />\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={addRewardOpen}\n                    onClose={() => setAddRewardOpen(false)}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <EditResource\n                        type=\"reward\"\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setAddRewardOpen(false)}\n                    />\n                </Dialog>\n            )}\n            {props.openInDialog && (\n                <Dialog\n                    open={Boolean(rewardPreview)}\n                    onClose={() => setRewardPreview('')}\n                    fullWidth\n                    maxWidth=\"md\"\n                >\n                    <DialogActions>\n                        <IconButton onClick={() => setRewardPreview('')}>\n                            <Close />\n                        </IconButton>\n                    </DialogActions>\n                    <DialogContent>\n                        {rewardPreview && <Reward rewardId={rewardPreview} />}\n                    </DialogContent>\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        rewardData: state.rewardData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProfileRewards))\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as wsActions from '../../websocketActions'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport {\n    Box,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    IconButton,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport AddEditActivity from './AddEditActivity'\nimport Reward from '../../containers/Reward/Reward'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\nimport EditResource from '../EditResource/EditResource'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst ProfileRewards = props => {\n    const { t } = useTranslation()\n    const [addActivityOpen, setAddActivityOpen] = useState(false)\n    const [activityPreview, setActivityPreview] = useState('')\n\n    const {\n        account,\n        owner,\n        activityData,\n        wish,\n        additionalButton,\n        isSelect,\n        value,\n        onChange,\n        activities,\n        multiple,\n    } = props\n    const isOwner = account && account._id && account._id === owner._id\n    const handleSelect = id => {\n        if (multiple)\n            if (value.includes(id)) {\n                onChange(value.filter(item => item !== id))\n            } else {\n                onChange([...value, id])\n            }\n        else onChange([id])\n    }\n    return (\n        <>\n            <HorizontalScrollList\n                title={isSelect ? 'For these activities:' : t('g.activities')}\n                items={(activities || owner.activities)\n                    .map(item => activityData[item])\n                    .filter(\n                        item => item && Boolean(wish) === Boolean(item.wish)\n                    )}\n                content={item => {\n                    const isSelected = isSelect && value.includes(item._id)\n                    const content = (\n                        <>\n                            {' '}\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={isSelected ? 'primary' : undefined}\n                                    style={{\n                                        fontWeight: isSelected\n                                            ? 600\n                                            : 'initial',\n                                    }}\n                                >\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </>\n                    )\n                    return (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <CardActionArea\n                                onClick={() =>\n                                    isSelect && handleSelect(item._id)\n                                }\n                            >\n                                {isSelect ? (\n                                    content\n                                ) : props.openInDialog ? (\n                                    <Box\n                                        onClick={() =>\n                                            setActivityPreview(item._id)\n                                        }\n                                    >\n                                        {content}\n                                    </Box>\n                                ) : (\n                                    <Link to={'/activities/' + item._id}>\n                                        {content}\n                                    </Link>\n                                )}\n                            </CardActionArea>\n                            {additionalButton && additionalButton(item)}\n                        </CardContent>\n                    )\n                }}\n                withAdd={isOwner}\n                addTitle={t('g.addItem')}\n                onAdd={() => setAddActivityOpen(true)}\n            />\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={addActivityOpen}\n                    onClose={() => setAddActivityOpen(false)}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <EditResource\n                        type=\"activity\"\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setAddActivityOpen(false)}\n                    />\n                </Dialog>\n            )}\n            {props.openInDialog && (\n                <Dialog\n                    open={Boolean(activityPreview)}\n                    onClose={() => setActivityPreview('')}\n                    fullWidth\n                    maxWidth=\"md\"\n                >\n                    <DialogActions>\n                        <IconButton onClick={() => setActivityPreview('')}>\n                            <Close />\n                        </IconButton>\n                    </DialogActions>\n                    <DialogContent>\n                        {activityPreview && (\n                            <Reward activityId={activityPreview} />\n                        )}\n                    </DialogContent>\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        activityData: state.activityData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProfileRewards))\n","import React from 'react'\n\nimport Form from 'antd/es/form'\n\nimport Select from 'antd/es/select'\nimport 'leaflet/dist/leaflet.css'\nimport * as wsActions from '../../websocketActions'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    AppBar,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Box,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\nimport ProfileRewards from '../ProfileRewards/ProfileRewards'\nimport ProfileActivities from '../ProfileActivities/ProfileActivities'\nconst { Option } = Select\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst EditProgressReward = props => {\n    const { t } = useTranslation()\n    const [form] = Form.useForm()\n\n    const { account, rewardId, progress } = props\n\n    const onFinish = value => {\n        wsActions.saveRewardInProgress(\n            account._id,\n            progress._id,\n            rewardId,\n            value\n        )\n\n        props.cancel()\n    }\n\n    const classes = useStyles()\n    let initialValue = {\n        rewards: [],\n        activities: [],\n        repeat: 'time',\n    }\n    if (rewardId !== 'new') {\n        const rewardObj = progress.rewards.find(\n            item => item.rewardId === rewardId\n        )\n        initialValue = {\n            rewards: [rewardObj.reward],\n            activities: rewardObj.activities,\n            repeat: rewardObj.repeat,\n        }\n    }\n\n    return (\n        <>\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.cancel}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {t(\n                            'progress.' +\n                                (rewardId !== 'new' ? 'editGoal' : 'addNewGoal')\n                        )}\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => form.submit()}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Form\n                form={form}\n                style={{\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    padding: '15px',\n                    width: '100%',\n                }}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={initialValue}\n            >\n                <Form.Item name=\"rewards\">\n                    <ProfileRewards owner={account} isSelect multiple />\n                </Form.Item>\n\n                <Form.Item name=\"activities\">\n                    <ProfileActivities\n                        owner={account}\n                        isSelect\n                        activities={progress.activities}\n                    />\n                </Form.Item>\n                <Form.Item name=\"repeat\">\n                    <Select getPopupContainer={trigger => trigger.parentNode}>\n                        <Option value=\"once\">{t('g.once')}</Option>\n                        <Option value=\"time\">{t('g.everyTime')}</Option>\n                        <Option value=\"manual\">{t('g.manual')}</Option>\n                        {/* \n                        <Option value=\"day\">{t('g.everyDay')}</Option>\n                        <Option value=\"week\">{t('g.everyWeek')}</Option>\n                        <Option value=\"month\">{t('g.everyMonth')}</Option>\n                        <Option value=\"year\">{t('g.everyYear')}</Option> */}\n                    </Select>\n                </Form.Item>\n\n                <div style={{ textAlign: 'right', marginTop: '50px' }}>\n                    <Button size=\"large\" onClick={() => props.cancel(false)}>\n                        {t('g.cancel')}\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                    >\n                        {t('g.save')}\n                    </Button>\n                </div>\n            </Form>\n        </>\n    )\n}\nexport default EditProgressReward\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const saveGoal = (accountId, goalId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveGoal',\n                accountId,\n                goalId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteGoal = (accountId, goalId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteGoal',\n                accountId,\n                goalId,\n            })\n        )\n    }\n}\n\nexport const saveRewardInProgress = (accountId, goalId, rewardId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveRewardInProgress',\n                accountId,\n                goalId,\n                rewardId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteRewardInProgress = (accountId, goalId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteRewardInProgress',\n                accountId,\n                goalId,\n                rewardId,\n            })\n        )\n    }\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Button,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogTitle,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport ProfileActivities from '../ProfileActivities/ProfileActivities'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport { useTranslation } from 'react-i18next'\nimport UserButton from '../UserButton/UserButton'\nimport EditProgressReward from './EditProgressReward'\nimport ConfirmAction from '../UI/ConfirmAction'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst Rewards = props => {\n    const { t } = useTranslation()\n    // const [anchorEl, setAnchorEl] = useState(null)\n    const [editRewardOpen, setEditRewardOpen] = useState('')\n    const [selectedReward, setSelectedReward] = useState('')\n    const [deleteRewardVisible, setDeleteRewardVisible] = useState('')\n\n    const { account, progress, rewardData, activityData } = props\n\n    // const handleClose = () => {\n    //     setAnchorEl(null)\n    // }\n    // const handleClick = event => {\n    //     setAnchorEl(event.currentTarget)\n    // }\n    const rewardObj =\n        progress &&\n        progress.rewards.find(item => item.rewardId === selectedReward)\n    const selectedRewardObj =\n        progress && rewardObj && rewardData[rewardObj.reward]\n\n    return (\n        <>\n            <HorizontalScrollList\n                title={t('g.rewards')}\n                items={progress.rewards.filter(item => rewardData[item.reward])}\n                content={item => (\n                    <CardContent\n                        style={{\n                            textAlign: 'center',\n                            position: 'relative',\n                            padding: '5px',\n                        }}\n                    >\n                        <CardActionArea\n                            onClick={() => setSelectedReward(item.rewardId)}\n                        >\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    rewardData[item.reward].images.length > 0\n                                        ? rewardData[item.reward].images[0]\n                                        : placeholderImages[\n                                              getPH(item.rewardId)\n                                          ]\n                                }\n                                title={rewardData[item.reward].name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={\n                                        selectedReward === item.rewardId\n                                            ? 'primary'\n                                            : undefined\n                                    }\n                                    style={{\n                                        fontWeight:\n                                            selectedReward === item.rewardId\n                                                ? 600\n                                                : 'initial',\n                                    }}\n                                >\n                                    {rewardData[item.reward].name}\n                                </Typography>\n                            </CardContent>\n                        </CardActionArea>\n                    </CardContent>\n                )}\n                withAdd={Boolean(account._id)}\n                addTitle={t('g.addReward')}\n                onAdd={() => setEditRewardOpen('new')}\n                bottomContent={\n                    selectedReward && selectedRewardObj ? (\n                        <>\n                            <Typography gutterBottom>\n                                {selectedRewardObj.name}\n                            </Typography>\n                            <Button\n                                onClick={() =>\n                                    props.history.push(\n                                        '/rewards/' + selectedRewardObj._id\n                                    )\n                                }\n                                color=\"primary\"\n                            >\n                                Go to reward item\n                            </Button>\n                            {selectedRewardObj &&\n                                account._id &&\n                                rewardObj.owner === account._id && (\n                                    <>\n                                        <Button\n                                            onClick={() =>\n                                                wsActions.sendReward(\n                                                    account._id,\n                                                    progress._id,\n                                                    selectedReward\n                                                )\n                                            }\n                                            color=\"primary\"\n                                        >\n                                            Send reward manually\n                                        </Button>\n                                        <Button\n                                            onClick={() =>\n                                                setEditRewardOpen(\n                                                    selectedReward\n                                                )\n                                            }\n                                        >\n                                            Edit reward\n                                        </Button>\n                                        <Button\n                                            onClick={() =>\n                                                setDeleteRewardVisible(\n                                                    selectedReward\n                                                )\n                                            }\n                                        >\n                                            Remove reward\n                                        </Button>\n                                    </>\n                                )}\n\n                            <Typography gutterBottom>\n                                {selectedRewardObj.name}\n                                {' details'}\n                            </Typography>\n                            <UserButton id={rewardObj.owner} />\n                            <span>\n                                {t(\n                                    'g.' +\n                                        (rewardObj.repeat === 'manual'\n                                            ? 'manual'\n                                            : rewardObj.repeat === 'once'\n                                            ? 'once'\n                                            : rewardObj.repeat === 'time'\n                                            ? 'everyTime'\n                                            : '')\n                                )}\n                                {t('reward.forActivities')}\n                                {rewardObj.activities.map(activity => {\n                                    if (activityData[activity]) {\n                                        return (\n                                            <Link\n                                                to={\n                                                    '/activities/' +\n                                                    activityData[activity]._id\n                                                }\n                                            >\n                                                {activityData[activity].name}\n                                            </Link>\n                                        )\n                                    }\n                                    return ''\n                                })}\n                            </span>\n                        </>\n                    ) : null\n                }\n            />\n            {progress && (\n                <>\n                    <DialogFullscreen\n                        open={Boolean(editRewardOpen)}\n                        close={() => setEditRewardOpen('')}\n                        title={t('activity.addActivityToGoal')}\n                    >\n                        {editRewardOpen && (\n                            <EditProgressReward\n                                account={account}\n                                rewardId={editRewardOpen}\n                                rewardData={rewardData}\n                                activityData={activityData}\n                                progress={progress}\n                                cancel={() => setEditRewardOpen('')}\n                            />\n                        )}\n                    </DialogFullscreen>\n                    <ConfirmAction\n                        open={Boolean(deleteRewardVisible)}\n                        title={t('activity.confirmRemove')}\n                        cancel={() => setDeleteRewardVisible('')}\n                        confirm={() => {\n                            wsActions.deleteRewardInProgress(\n                                account._id,\n                                progress._id,\n                                deleteRewardVisible\n                            )\n                            setSelectedReward('')\n                        }}\n                    />\n                </>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Rewards)\n)\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const getFriendsData = (progress, accountFriends) => {\n    if (webSocket && webSocket.readyState === 1) {\n        if (progress) {\n            let accountIds = [\n                progress.owner,\n                progress.worker,\n                ...accountFriends,\n            ]\n\n            accountIds = [...new Set(accountIds)]\n\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'getFriendsData',\n                    accountIds,\n                })\n            )\n        }\n    }\n}\n\nexport const editGoalInProgress = (data, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n                value,\n            })\n        )\n    }\n}\n\nexport const startProgress = (accountId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'startProgress',\n                accountId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteRewardFromProgress = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteRewardFromProgress',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\nexport const addRewardToProgress = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRewardToProgress',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n\nexport const deleteActivityFromProgress = (\n    accountId,\n    progressId,\n    activityId\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteActivityFromProgress',\n                accountId,\n                progressId,\n                activityId,\n            })\n        )\n    }\n}\nexport const addActivityToProgress = (accountId, progressId, activityId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addActivityToProgress',\n                accountId,\n                progressId,\n                activityId,\n            })\n        )\n    }\n}\n\nexport const sendReward = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'sendReward',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n","import dayjs from 'dayjs'\ndayjs().format()\nexport default activityObj => {\n    let lastStages = activityObj.stages\n        .slice(Math.max(activityObj.stages.length - 7, 0))\n        .sort((a, b) => {\n            let aS, aF, bS, bF\n            // return -1\n            if (a.old && !b.old) return 1\n            else if (b.old && !a.old) return -1\n            else {\n                if (a.day) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .startOf('day')\n                    aF = dayjs()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .endOf('day')\n                    bS = dayjs()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .startOf('day')\n                    bF = dayjs()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .endOf('day')\n                } else if (a.week) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .week(a.week)\n                        .startOf('week')\n                    aF = dayjs()\n                        .year(a.year)\n                        .week(a.week)\n                        .endOf('week')\n                    bS = dayjs()\n                        .year(b.year)\n                        .week(b.week)\n                        .startOf('week')\n                    bF = dayjs()\n                        .year(b.year)\n                        .week(b.week)\n                        .endOf('week')\n                } else if (a.month) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .month(a.month)\n                        .startOf('month')\n                    aF = dayjs()\n                        .year(a.year)\n                        .month(a.month)\n                        .endOf('month')\n                    bS = dayjs()\n                        .year(b.year)\n                        .month(b.month)\n                        .startOf('month')\n                    bF = dayjs()\n                        .year(b.year)\n                        .month(b.month)\n                        .endOf('month')\n                } else if (a.year) {\n                    aS = dayjs()\n                        .year(a.year)\n                        .startOf('year')\n                    aF = dayjs()\n                        .year(a.year)\n                        .endOf('year')\n                    bS = dayjs()\n                        .year(b.year)\n                        .startOf('year')\n                    bF = dayjs()\n                        .year(b.year)\n                        .endOf('year')\n                }\n                if (aS) {\n                    const now = dayjs()\n\n                    if (\n                        Math.min(\n                            Math.abs(now.diff(aS)),\n                            Math.abs(now.diff(aF))\n                        ) <=\n                        Math.min(Math.abs(now.diff(bS)), Math.abs(now.diff(bF)))\n                    )\n                        return -1\n                    else return 1\n                }\n            }\n            return 0\n        })\n\n    return lastStages.length > 0 ? lastStages[0].stageId : 0\n}\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Tabs from 'antd/es/tabs'\nimport Badge from 'antd/es/badge'\nimport dayjs from 'dayjs'\nimport {\n    Button,\n    CardContent,\n    CardMedia,\n    Chip,\n    createMuiTheme,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemSecondaryAction,\n    ListItemText,\n    MenuItem,\n    MuiThemeProvider,\n    Select,\n    Typography,\n} from '@material-ui/core'\nimport { blue, green, orange, purple, red } from '@material-ui/core/colors'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport { getPH, placeholderImages } from '../../components/MasonryCard'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\nimport getNowStageId from '../../utils/getNowStageId'\n\ndayjs().format()\n\nconst redTheme = createMuiTheme({\n    palette: { primary: { main: red[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: red[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(red[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst blueTheme = createMuiTheme({\n    palette: { primary: { main: blue[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: blue[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(blue[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst greenTheme = createMuiTheme({\n    palette: { primary: { main: green[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: green[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(green[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst orangeTheme = createMuiTheme({\n    palette: { primary: { main: orange[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: orange[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(orange[600], 0.05),\n                },\n            },\n        },\n    },\n})\n\nconst customTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    overrides: {\n        MuiListItem: {\n            secondaryAction: {\n                paddingRight: '133px',\n                paddingLeft: 0,\n            },\n        },\n    },\n})\n\nconst ActivityTable = props => {\n    const { t } = useTranslation()\n    const [showEarnedRewards, setShowEarnedRewards] = useState(false)\n    const { account, rewardData, activityData, activityId, activity } = props\n\n    if (!activityId) return null\n    const activityObj =\n        activityId === activity._id ? activity : activityData[activityId]\n    if (!activityObj) return null\n\n    const isOwner = account && account._id === activityObj.owner\n\n    const nowStageId = getNowStageId(activityObj)\n    const stages = activityObj.stages\n\n    return stages.length === 0 ? null : (\n        <MuiThemeProvider theme={customTheme}>\n            <Tabs\n                // activeKey={activeTab}\n                type=\"card\"\n                defaultActiveKey={\n                    nowStageId\n                        ? stages\n                              .findIndex(item => item.stageId === nowStageId)\n                              .toString()\n                        : '2'\n                }\n                // onTabClick={key => setActiveTab(key === activeTab ? -1 : key)}\n            >\n                {stages.map((stage, index) => {\n                    const getStatus = id => {\n                        if (isOwner && stage.dismissed) return 'dismissed'\n                        if (stage.failBy.find(item => item.accountId === id))\n                            return 'fail'\n                        if (\n                            stage.approvedBy.find(item => item.accountId === id)\n                        )\n                            return 'complete'\n                        return 'process'\n                    }\n\n                    const getStatusText = id => {\n                        const status = getStatus(id)\n                        switch (status) {\n                            case 'fail':\n                                return t('progress.failed')\n                            case 'complete':\n                                return t('progress.completed')\n                            case 'dismissed':\n                                return t('progress.dismissed')\n                            default:\n                                return t('progress.inProcess')\n                        }\n                    }\n                    const myStatus =\n                        account && account._id && getStatus(account._id)\n\n                    const stageStatus = getStatus(activityObj.owner)\n\n                    const getTag = id => {\n                        return id === account._id ? (\n                            <Select\n                                labelId=\"demo-simple-select-label\"\n                                id=\"demo-simple-select\"\n                                value={myStatus}\n                                onChange={e =>\n                                    wsActions.changeStage(\n                                        e.target.value,\n                                        account._id,\n                                        activityObj._id,\n                                        stage.stageId\n                                    )\n                                }\n                            >\n                                <MenuItem value=\"complete\">\n                                    {t('progress.complete')}\n                                </MenuItem>\n                                <MenuItem value=\"process\">\n                                    {t('progress.inProcess')}\n                                </MenuItem>\n                                <MenuItem value=\"fail\">\n                                    {t('progress.fail')}\n                                </MenuItem>\n                                <MenuItem value=\"dismissed\">\n                                    {t('progress.dismiss')}\n                                </MenuItem>\n                            </Select>\n                        ) : (\n                            <Chip color=\"primary\" label={getStatusText(id)} />\n                        )\n                    }\n\n                    const users = activityObj.users\n                        .filter(item => item !== activityObj.owner)\n                        .map(user => {\n                            const userStatus = getStatus(user)\n                            return (\n                                <ListItem>\n                                    <ListItemAvatar>\n                                        <UserButton noName={true} id={user} />\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={\n                                            <UserButton\n                                                id={user}\n                                                noAva={true}\n                                                span={true}\n                                                onlyName={true}\n                                            />\n                                        }\n                                    />\n                                    <ListItemSecondaryAction>\n                                        <MuiThemeProvider\n                                            theme={\n                                                userStatus === 'process'\n                                                    ? blueTheme\n                                                    : userStatus === 'complete'\n                                                    ? greenTheme\n                                                    : userStatus === 'fail'\n                                                    ? redTheme\n                                                    : orangeTheme\n                                            }\n                                        >\n                                            {getTag(user)}\n                                        </MuiThemeProvider>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            )\n                        })\n\n                    const owner = [\n                        <ListItem>\n                            <ListItemAvatar>\n                                <UserButton\n                                    noName={true}\n                                    id={activityObj.owner}\n                                />\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Typography noWrap variant=\"body2\">\n                                        <UserButton\n                                            id={activityObj.owner}\n                                            noAva={true}\n                                            span={true}\n                                            onlyName={true}\n                                        />\n                                    </Typography>\n                                }\n                            />\n                            <ListItemSecondaryAction>\n                                <MuiThemeProvider\n                                    theme={\n                                        stageStatus === 'process'\n                                            ? blueTheme\n                                            : stageStatus === 'complete'\n                                            ? greenTheme\n                                            : stageStatus === 'fail'\n                                            ? redTheme\n                                            : orangeTheme\n                                    }\n                                >\n                                    {getTag(activityObj.owner)}\n                                </MuiThemeProvider>\n                            </ListItemSecondaryAction>\n                        </ListItem>,\n                    ]\n                    let stageDate\n                    let tabTitle = <div>One time goal</div>\n                    if (stage.day) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .dayOfYear(stage.day)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('dddd')}</span>\n                                </div>\n                                <div>\n                                    <span>{stageDate.format('D MMM YY')}</span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.week) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .week(stage.week)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('wo')} week</span>\n                                </div>\n                                <div>\n                                    <span>\n                                        {stageDate\n                                            .startOf('week')\n                                            .format('D MMM YY')}\n                                    </span>\n                                </div>\n                                <div>\n                                    <span>\n                                        {stageDate\n                                            .endOf('week')\n                                            .format('D MMM YY')}\n                                    </span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.month) {\n                        stageDate = dayjs()\n                            .year(stage.year)\n                            .month(stage.month)\n                        tabTitle = (\n                            <>\n                                <div>\n                                    <span>{stageDate.format('MMMM')}</span>\n                                </div>\n                                <div>\n                                    <span>{stageDate.format('YYYY')}</span>\n                                </div>\n                            </>\n                        )\n                    } else if (stage.year) {\n                        stageDate = dayjs().year(stage.year)\n\n                        tabTitle = (\n                            <div>\n                                <span>{stageDate.format('YYYY')}</span>\n                            </div>\n                        )\n                    }\n\n                    return (\n                        <Tabs.TabPane\n                            tab={\n                                <Badge\n                                    color={\n                                        stageStatus === 'complete'\n                                            ? 'green'\n                                            : stageStatus === 'dismissed'\n                                            ? 'orange'\n                                            : stageStatus === 'fail'\n                                            ? 'volcano'\n                                            : 'blue'\n                                    }\n                                >\n                                    <span\n                                        style={{\n                                            fontSize: '12px',\n                                            textTransform: 'uppercase',\n                                            textAlign: 'center',\n                                        }}\n                                    >\n                                        {tabTitle}\n                                    </span>\n                                </Badge>\n                            }\n                            key={index}\n                        >\n                            <List dense={true}>\n                                {owner}\n                                {users}\n                            </List>\n\n                            {stage.paid.length > 0 && (\n                                <>\n                                    {/* {showEarnedRewards && (\n                                        // <Rewards\n                                        //     rewards={stage.paid}\n                                        //     readOnly\n                                        // />\n                                    )} */}\n                                    <Button\n                                        onClick={() =>\n                                            setShowEarnedRewards(\n                                                !showEarnedRewards\n                                            )\n                                        }\n                                        color=\"primary\"\n                                        style={{}}\n                                    >\n                                        {(showEarnedRewards\n                                            ? t('g.hide')\n                                            : t('g.show')) +\n                                            t('progress.earnedRewards')}\n                                    </Button>\n                                    {showEarnedRewards && (\n                                        <HorizontalScrollList\n                                            items={stage.paid\n                                                .map(item => rewardData[item])\n                                                .filter(item => item)}\n                                            content={item => (\n                                                <CardContent\n                                                    style={{\n                                                        textAlign: 'center',\n                                                        position: 'relative',\n                                                        padding: '5px',\n                                                    }}\n                                                >\n                                                    <Link\n                                                        to={\n                                                            '/rewards/' +\n                                                            item._id\n                                                        }\n                                                    >\n                                                        <CardMedia\n                                                            style={{\n                                                                height: '150px',\n                                                                backgroundSize:\n                                                                    'contain',\n                                                            }}\n                                                            image={\n                                                                item.images\n                                                                    .length > 0\n                                                                    ? item\n                                                                          .images[0]\n                                                                    : placeholderImages[\n                                                                          getPH(\n                                                                              item._id\n                                                                          )\n                                                                      ]\n                                                            }\n                                                            title={item.name}\n                                                        />\n                                                        <CardContent\n                                                            style={{\n                                                                padding: '5px',\n                                                            }}\n                                                        >\n                                                            <Typography\n                                                                variant=\"body2\"\n                                                                noWrap\n                                                            >\n                                                                {item.name}\n                                                            </Typography>\n                                                        </CardContent>\n                                                    </Link>\n                                                </CardContent>\n                                            )}\n                                        />\n                                    )}\n                                </>\n                            )}\n                        </Tabs.TabPane>\n                    )\n                })}\n            </Tabs>\n        </MuiThemeProvider>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n        activity: state.activity,\n        account: state.account,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ActivityTable))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const saveActivity = (accountId, activity) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveActivity',\n                accountId,\n                activity,\n            })\n        )\n    }\n}\n\nexport const changeLikesActivity = (accountId, activityId, add) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesActivity',\n                accountId,\n                activityId,\n                add,\n            })\n        )\n    }\n}\n\nexport const deleteActivity = (accountId, activityId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteActivity',\n                accountId,\n                activityId,\n            })\n        )\n    }\n}\n\nexport const changeStage = (value, accountId, activityId, stageId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeStage',\n                value,\n                activityId,\n                accountId,\n                stageId,\n            })\n        )\n    }\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Button,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogTitle,\n    Slide,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport ProfileActivities from '../ProfileActivities/ProfileActivities'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport { useTranslation } from 'react-i18next'\nimport ActivityTable from '../../containers/Goal/ActivityTable'\nimport EditResource from '../EditResource/EditResource'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst Activities = props => {\n    const { t } = useTranslation()\n    // const [anchorEl, setAnchorEl] = useState(null)\n    const [addActivityOpen, setAddActivityOpen] = useState(false)\n    const [selectedActivity, setSelectedActivity] = useState('')\n    const [deleteActivityVisible, setDeleteActivityVisible] = useState(false)\n\n    const { activityData, account, progress, activities } = props\n\n    // const handleClose = () => {\n    //     setAnchorEl(null)\n    // }\n    // const handleClick = event => {\n    //     setAnchorEl(event.currentTarget)\n    // }\n\n    const isOwner =\n        account && account._id && progress && account._id === progress.owner\n\n    const activitiesIds = (progress ? progress.activities : activities) || []\n    return (\n        <>\n            <HorizontalScrollList\n                title={t('g.activities')}\n                items={activitiesIds\n                    .map(item => activityData[item])\n                    .filter(item => item)}\n                content={item => (\n                    <CardContent\n                        style={{\n                            textAlign: 'center',\n                            position: 'relative',\n                            padding: '5px',\n                        }}\n                    >\n                        <CardActionArea\n                            onClick={() => setSelectedActivity(item._id)}\n                        >\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={\n                                        selectedActivity === item._id\n                                            ? 'primary'\n                                            : undefined\n                                    }\n                                    style={{\n                                        fontWeight:\n                                            selectedActivity === item._id\n                                                ? 600\n                                                : 'initial',\n                                    }}\n                                >\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </CardActionArea>\n                    </CardContent>\n                )}\n                withAdd={Boolean(\n                    account &&\n                        (props.isOwner ||\n                            (progress && progress.owner === account._id))\n                )}\n                addTitle={t('g.addActivity')}\n                onAdd={() => setAddActivityOpen(true)}\n                bottomContent={\n                    selectedActivity && activityData[selectedActivity] ? (\n                        <>\n                            <Typography gutterBottom>\n                                {activityData[selectedActivity]\n                                    ? activityData[selectedActivity].name\n                                    : 'Selected activity'}\n                            </Typography>\n                            <Button\n                                onClick={() =>\n                                    props.history.push(\n                                        '/activities/' + selectedActivity\n                                    )\n                                }\n                                color=\"primary\"\n                            >\n                                {t('g.goToActivity')}\n                            </Button>\n                            {isOwner && (\n                                <Button\n                                    onClick={() =>\n                                        setDeleteActivityVisible(\n                                            selectedActivity\n                                        )\n                                    }\n                                >\n                                    {t('g.removeActivity')}\n                                </Button>\n                            )}\n                            <Typography gutterBottom>\n                                {activityData[selectedActivity]\n                                    ? activityData[selectedActivity].name\n                                    : 'Selected activity'}\n                                {' tracking'}\n                            </Typography>\n                            <ActivityTable activityId={selectedActivity} />\n                        </>\n                    ) : null\n                }\n            />\n            {progress && (\n                <>\n                    <DialogFullscreen\n                        open={addActivityOpen}\n                        close={() => setAddActivityOpen(false)}\n                        title={t('activity.addActivityToGoal')}\n                    >\n                        <ProfileActivities\n                            owner={account}\n                            isSelect\n                            value={[]}\n                            onChange={value => {\n                                if (value.length > 0)\n                                    wsActions.addActivityToProgress(\n                                        account._id,\n                                        progress._id,\n                                        value[0]\n                                    )\n                                setAddActivityOpen(false)\n                            }}\n                            // openInDialog\n                            // additionalButton={item => (\n                            //     <Button\n                            //         color=\"primary\"\n                            //         onClick={() => {\n                            //             wsActions.addActivityToProgress(\n                            //                 account._id,\n                            //                 progress._id,\n                            //                 item._id\n                            //             )\n                            //             setAddActivityOpen(false)\n                            //         }}\n                            //     >\n                            //         {t('g.choose')}\n                            //     </Button>\n                            // )}\n                        />\n                    </DialogFullscreen>\n                    <Dialog\n                        open={Boolean(deleteActivityVisible)}\n                        onClose={() => setDeleteActivityVisible(false)}\n                    >\n                        <DialogTitle>{t('activity.confirmRemove')}</DialogTitle>\n\n                        <DialogActions>\n                            <Button\n                                onClick={() => setDeleteActivityVisible(false)}\n                                color=\"primary\"\n                            >\n                                {t('g.cancel')}\n                            </Button>\n                            <Button\n                                onClick={() => {\n                                    wsActions.deleteActivityFromProgress(\n                                        account._id,\n                                        progress._id,\n                                        deleteActivityVisible\n                                    )\n                                    setDeleteActivityVisible(false)\n                                    setSelectedActivity('')\n                                }}\n                                color=\"primary\"\n                            >\n                                {t('g.confirm')}\n                            </Button>\n                        </DialogActions>\n                    </Dialog>\n                </>\n            )}\n            {props.isOwner && (\n                <Dialog\n                    fullScreen\n                    open={addActivityOpen}\n                    onClose={() => setAddActivityOpen(false)}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <EditResource\n                        type=\"activity\"\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setAddActivityOpen(false)}\n                    />\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        activityData: state.activityData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Activities)\n)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport ReadMore from '../../components/UI/ReadMore'\nimport { makeStyles, Paper, Typography } from '@material-ui/core'\n\nimport Rewards from '../../components/Rewards/Rewards'\nimport Activities from '../../components/Activities/Activities'\nimport { useTranslation } from 'react-i18next'\nimport ResourceCore from '../../components/ResourceCore'\nimport MapPosition from '../../components/MapPosition/MapPosition'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Goal = () => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [progress, setProgress] = useState(null)\n    return (\n        <ResourceCore type=\"goal\" setResource={setProgress}>\n            {progress && progress._id && (\n                <>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.desc')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <ReadMore\n                            initialHeight={200}\n                            contentEditor={progress.description}\n                        />\n                    </Paper>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.position')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <MapPosition position={progress.position} />\n                    </Paper>\n                    <Activities progress={progress} />\n                    <Rewards progress={progress} />\n                </>\n            )}\n        </ResourceCore>\n    )\n}\n\nexport default withRouter(Goal)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport RetweetOutlined from '@ant-design/icons/RetweetOutlined'\nimport ReadMore from '../../components/UI/ReadMore'\nimport { Divider, makeStyles, Paper, Typography } from '@material-ui/core'\n\nimport { useTranslation } from 'react-i18next'\nimport ResourceCore from '../../components/ResourceCore'\nimport ActivityTable from '../Goal/ActivityTable'\nimport MapPosition from '../../components/MapPosition/MapPosition'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Activity = () => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [activity, setActivity] = useState(null)\n\n    const getDay = day => {\n        switch (day) {\n            case '0':\n                return t('g.sunday')\n            case '1':\n                return t('g.monday')\n            case '2':\n                return t('g.tuesday')\n            case '3':\n                return t('g.wednesday')\n            case '4':\n                return t('g.thursday')\n            case '5':\n                return t('g.friday')\n            case '6':\n                return t('g.saturday')\n\n            default:\n                return ''\n        }\n    }\n\n    const getRepeatType = repeat => {\n        switch (repeat) {\n            case 'day':\n                return t('g.everyDay')\n            case 'weekday':\n                return t('g.everyDayOfWeek')\n            case 'week':\n                return t('g.everyWeek')\n            case 'month':\n                return t('g.everyMonth')\n            case 'year':\n                return t('g.everyYear')\n            default:\n                return ''\n        }\n    }\n    return (\n        <ResourceCore type=\"activity\" setResource={setActivity}>\n            {activity && (\n                <>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.tracking')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <ActivityTable activityId={activity._id} />\n                    </Paper>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.desc')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        {activity.repeat !== 'no' && (\n                            <>\n                                <p>\n                                    <RetweetOutlined />\n                                    {` ${t('g.repeats')} \n                            ${getRepeatType(activity.repeat) +\n                                (activity.repeat === 'weekday'\n                                    ? ' (' +\n                                      activity.days.reduce(\n                                          (acc, val, index) =>\n                                              acc +\n                                              (index > 0 ? ', ' : '') +\n                                              getDay(val),\n                                          ''\n                                      ) +\n                                      ').'\n                                    : '.')}`}\n                                </p>\n                                <Divider\n                                    light\n                                    variant=\"middle\"\n                                    style={{ marginBottom: '15px' }}\n                                />\n                            </>\n                        )}\n\n                        <ReadMore\n                            initialHeight={200}\n                            contentEditor={activity.description}\n                        />\n                    </Paper>\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        {t('g.position')}\n                    </Typography>\n                    <Paper style={{ padding: '15px' }}>\n                        <MapPosition position={activity.position} />\n                    </Paper>\n                    {/* Used in goals\n                    Associated rewards */}\n                </>\n            )}\n        </ResourceCore>\n    )\n}\n\nexport default withRouter(Activity)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\n\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Grid,\n    makeStyles,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport dayjs from 'dayjs'\nimport 'dayjs/locale/ru'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        root: {\n            flexGrow: 1,\n            marginTop: '20px',\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%', // 16:9\\\n            backgroundSize: 'contain',\n        },\n    })\n)\n\nconst Blog = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [posts, setPosts] = useState([])\n    const [title, setTitle] = useState('')\n    const [all, setAll] = useState(false)\n    useEffect(() => {\n        fetch('https://addspire-blog.herokuapp.com/graphql', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                query: `\n             query {\n   posts (\n       ${\n           !all\n               ? `where: { language:\"${\n                     props.history.location.pathname.indexOf('/ru') === 0\n                         ? 'ru'\n                         : 'en'\n                 }\" },`\n               : ''\n       } \n   sort:\"published_at:desc\"){\n    url\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}`,\n            }),\n        })\n            .then(res => res.json())\n            .then(data => {\n                setPosts(data.data.posts)\n                setTitle(t('blog.title'))\n            })\n    }, [props.history.location.pathname, all])\n    return (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n            <Layout white>\n                {/* <Welcome /> */}\n                <Button onClick={() => setAll(!all)} color=\"primary\">\n                    {all ? t('blog.hide') : t('blog.show')}\n                </Button>\n                <div className={classes.root}>\n                    <Grid container spacing={3}>\n                        {posts.map(post => (\n                            <Grid item xs={12} md={6} xl={4}>\n                                <Card>\n                                    <Link\n                                        to={\n                                            props.history.location.pathname +\n                                            '/' +\n                                            post.url.split('.')[0]\n                                        }\n                                    >\n                                        <CardActionArea>\n                                            <CardMedia\n                                                className={classes.media}\n                                                image={\n                                                    post.previewImage &&\n                                                    post.previewImage.url\n                                                }\n                                                title={post.title}\n                                            />\n                                            <CardContent>\n                                                <Typography\n                                                    gutterBottom\n                                                    variant=\"h5\"\n                                                    component=\"h2\"\n                                                >\n                                                    {post.title}\n                                                </Typography>\n                                                <Typography\n                                                    gutterBottom\n                                                    variant=\"subtitle1\"\n                                                >\n                                                    {post.subtitle}\n                                                </Typography>\n\n                                                <Typography\n                                                    align=\"right\"\n                                                    variant=\"button\"\n                                                    color=\"textSecondary\"\n                                                    component=\"p\"\n                                                >\n                                                    {dayjs(\n                                                        post.published_at\n                                                    ).format('MMMM D[,] YYYY')}\n                                                </Typography>\n                                            </CardContent>\n                                        </CardActionArea>\n                                    </Link>\n                                </Card>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </div>\n            </Layout>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","export const friendsBreakPoints = {\n    default: 4,\n    1600: 3,\n    1100: 2,\n    600: 1,\n}\n\nexport const cardBreakPoints = {\n    default: 4,\n    1100: 3,\n    700: 2,\n    310: 1,\n}\n","import React from 'react'\nimport Masonry from 'react-masonry-css'\nimport {\n    cardBreakPoints,\n    friendsBreakPoints,\n} from '../utils/masonryBreakPoints'\n\nexport default props => (\n    <div style={{ ...props.style }}>\n        <Masonry\n            breakpointCols={3}\n            className=\"my-masonry-grid\"\n            columnClassName=\"my-masonry-grid_column\"\n            breakpointCols={\n                props.friends ? friendsBreakPoints : cardBreakPoints\n            }\n        >\n            {props.children}\n        </Masonry>\n    </div>\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nconst ProgressButton = props => {\n    const { id, type } = props\n    const dataProp =\n        type === 'goals'\n            ? 'progressData'\n            : type === 'rewards'\n            ? 'rewardData'\n            : 'activityData'\n    if (!props[dataProp][id]) return null\n\n    const handleClick = () => props.history.push('/' + type + '/' + id)\n    return (\n        <span\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n            }}\n            onClick={e => {\n                e.stopPropagation()\n                handleClick()\n            }}\n        >\n            {props[dataProp][id].name}\n        </span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        progressData: state.progressData,\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProgressButton))\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport { CircleMarker, Map, Marker, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from './LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Grid,\n    Slider,\n    MenuItem,\n    Select,\n    Switch,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport 'react-leaflet-fullscreen/dist/styles.css'\nimport FullscreenControl from 'react-leaflet-fullscreen'\nimport { useTranslation } from 'react-i18next'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\n\nconst MapSettings = props => {\n    const { t } = useTranslation()\n    const {\n        mapVisible,\n        setMapVisible,\n        onSearch,\n        setSearch,\n        search,\n        positionChanged,\n        setPositionChanged,\n    } = props\n    const map = useRef(null)\n    const [radius, setRadius] = useState(false)\n    const [changed, setChanged] = useState(false)\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch({\n                useMapBounds: false,\n                placeholder: t('g.mapPlaceholder'),\n                title: t('g.mapTitle'),\n            }).addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    const [initialPosition, setInitialPosition] = useState(search.position)\n\n    const mapClick = e => {\n        setSearch({\n            ...search,\n            position: [e.latlng.lat, e.latlng.lng],\n            withMap: true,\n        })\n        setPositionChanged(true)\n    }\n    const mapDragEnd = e => {\n        const latlng = e.target.getLatLng()\n        setSearch({\n            ...search,\n            position: [latlng.lat, latlng.lng],\n            withMap: true,\n        })\n        setPositionChanged(true)\n    }\n\n    useEffect(() => {\n        getRadius()\n    }, [props.search])\n\n    useEffect(() => setChanged(false), [mapVisible])\n\n    const getRadius = () => {\n        if (map && map.current && map.current.leafletElement) {\n            const metresPerPixel =\n                (40075016.686 *\n                    Math.abs(\n                        Math.cos(\n                            (map.current.leafletElement.getCenter().lat *\n                                Math.PI) /\n                                180\n                        )\n                    )) /\n                Math.pow(2, map.current.leafletElement.getZoom() + 8)\n\n            setRadius(\n                search.units === 'mi'\n                    ? (search.distance * 1609) / metresPerPixel\n                    : (search.distance * 1000) / metresPerPixel\n            )\n        }\n    }\n\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={mapVisible}\n            onClose={() => {\n                setMapVisible(false)\n                if (changed) onSearch(search)\n            }}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (changed) onSearch(search)\n                        }}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {t('explore.searchWithLocation')}\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (changed) onSearch(search)\n                        }}\n                    >\n                        {t('g.done')}\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Grid\n                container\n                style={{ padding: '15px', maxWidth: '800px' }}\n                alignItems=\"center\"\n            >\n                <Grid item xs={4} sm={4}>\n                    {t('explore.searchWithLocation')}\n                </Grid>\n                <Grid item xs={8} sm={8}>\n                    <Switch\n                        checked={search.withMap}\n                        color=\"primary\"\n                        onChange={e => {\n                            setSearch({\n                                ...search,\n                                withMap: e.target.checked,\n                            })\n                            setChanged(true)\n                        }}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    {t('g.distance')}\n                </Grid>\n                <Grid item xs={8}>\n                    <Slider\n                        valueLabelDisplay=\"auto\"\n                        min={1}\n                        max={200}\n                        onChange={(e, distance) => {\n                            setSearch({ ...search, distance })\n                            setChanged(true)\n                        }}\n                        value={search.distance}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    {t('g.units')}\n                </Grid>\n                <Grid item xs={8}>\n                    <Select\n                        value={search.units}\n                        onChange={event => {\n                            setSearch({\n                                ...search,\n                                units: event.target.value,\n                            })\n                            setChanged(true)\n                        }}\n                    >\n                        <MenuItem value=\"mi\">{t('g.miles')}</MenuItem>\n                        <MenuItem value=\"km\">{t('g.km')}</MenuItem>\n                    </Select>\n                </Grid>\n            </Grid>\n\n            <div\n                style={{\n                    position: 'relative',\n                    minHeight: '300px',\n                    flex: 1,\n                    marginTop: '30px',\n                    overflow: 'hidden',\n                }}\n            >\n                <Map\n                    whenReady={() => getRadius()}\n                    ref={map}\n                    center={initialPosition}\n                    zoom={8}\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        position: 'relative',\n                        zIndex: 1,\n                    }}\n                    onClick={mapClick}\n                    gestureHandling={true}\n                    onzoomend={() => getRadius()}\n                    onlocationfound={e => {\n                        if (!positionChanged) {\n                            mapClick(e)\n                            setInitialPosition([e.latlng.lat, e.latlng.lng])\n                        }\n                    }}\n                >\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <LocateControl />\n                    <CircleMarker center={search.position} radius={radius} />\n                    <Marker\n                        position={search.position}\n                        draggable\n                        ondragend={mapDragEnd}\n                    />\n                    <FullscreenControl position=\"topright\" />\n                </Map>\n            </div>\n        </Dialog>\n    )\n}\n\nexport default MapSettings\n","import { Box, Button, Container } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport LoginModal from '../Layout/LoginModal'\nimport * as classes from './Welcome.module.scss'\nimport { useTranslation } from 'react-i18next'\n\nconst Welcome = props => {\n    const { t } = useTranslation()\n    const [loginVisible, setLoginVisible] = useState(false)\n\n    return props.account._id ? null : (\n        <Container>\n            <Box style={{ margin: '10% 0px 4%' }}>\n                <header className={classes.header}>\n                    <h1 className={classes.header__title}>\n                        <div>\n                            <span>{t('welcome.title')}</span>\n                        </div>\n                        <div className={classes.slider}>\n                            <ul className={classes.slider__words}>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase1')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase2')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase3')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase4')}\n                                </li>\n                                <li className={classes.slider__word}>\n                                    {t('welcome.phrase1')}\n                                </li>\n                            </ul>\n                        </div>\n                    </h1>\n                </header>\n            </Box>\n            <span className={classes.subheader}>{t('welcome.subheader')}</span>\n            <div className={classes.videoWrapper}>\n                <iframe\n                    width=\"560\"\n                    height=\"315\"\n                    src={\n                        'https://www.youtube.com/embed/' +\n                        t('welcome.videoLink')\n                    }\n                    frameBorder=\"0\"\n                    allowFullScreen\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                />\n            </div>\n            {!props.account._id && (\n                <>\n                    <Box\n                        style={{\n                            margin: '40px auto 10px',\n                            textAlign: 'center',\n                        }}\n                    >\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"large\"\n                            onClick={() => setLoginVisible(true)}\n                        >\n                            {t('welcome.button')}\n                        </Button>\n                    </Box>\n                    <LoginModal\n                        loginVisible={loginVisible}\n                        setLoginVisible={setLoginVisible}\n                    />\n                </>\n            )}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default connect(mapStateToProps)(Welcome)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport InfiniteScroll from 'react-infinite-scroller'\nimport message from 'antd/es/message'\n\nimport MasonryGrid from '../../components/MasonryGrid'\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport Helmet from 'react-helmet'\n\nimport 'leaflet/dist/leaflet.css'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    Box,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Divider,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Tab,\n    Tabs,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { LocationOn, SearchOutlined } from '@material-ui/icons'\nimport MapSettings from './MapSettings'\nimport Layout from '../../components/Layout/Layout'\nimport { Link } from 'react-router-dom'\nimport ShareButton from '../../components/UI/ShareButton'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport Welcome from '../../components/Welcome'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next'\nimport GoalCategories from '../../components/EditResource/GoalCategories'\nimport ReadMore from '../../components/UI/ReadMore'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'relative',\n        },\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\n\nexport const sortProgresses = (a, b) => {\n    const valA = a.views || 0\n    const valB = b.views || 0\n    return valA > valB ? -1 : 1\n}\nconst Explore = props => {\n    const { t } = useTranslation()\n\n    const [mapVisible, setMapVisible] = useState(false)\n    const [foundProgresses, setFoundProgresses] = useState([])\n\n    const [noMore, setNoMore] = useState(false)\n    const [value, setValue] = useState(false)\n    const [positionChanged, setPositionChanged] = useState(false)\n\n    const [search, setSearch] = useState({\n        value: '',\n        withMap: false,\n        distance: 20,\n        zoom: 7,\n        position: [40.689078, -74.044526],\n        units: 'mi',\n        categories: [],\n        type: 'goal',\n    })\n\n    const onSearch = value => {\n        let liveFoundProcesses = [...foundProgresses]\n        if (value) {\n            setSearch(value)\n            setNoMore(false)\n            setFoundProgresses([])\n            liveFoundProcesses = []\n        }\n        if (!noMore || value) {\n            setNoMore(true)\n            axios\n                .post('/api/explore/search', {\n                    value: value || search,\n                    skip: value ? 0 : liveFoundProcesses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMore(res.data.noMore)\n                        setFoundProgresses([\n                            ...liveFoundProcesses,\n                            ...res.data.progresses,\n                        ])\n                        if (res.data.progresses.length === 0)\n                            message.warning(t('explore.noGoals'))\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(t('explore.wrongData'))\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n\n    const classes = useStyles()\n\n    const urlDir =\n        search.type === 'goal'\n            ? 'goals'\n            : search.type === 'activity'\n            ? 'activities'\n            : 'rewards'\n    return (\n        <Layout white>\n            <div>\n                <Helmet>\n                    <title>{t('explore.title')}</title>\n                    <meta name=\"description\" content={t('explore.desc')} />\n                </Helmet>\n\n                <MapSettings\n                    mapVisible={mapVisible}\n                    setMapVisible={setMapVisible}\n                    setFoundProgresses={setFoundProgresses}\n                    onSearch={onSearch}\n                    setSearch={setSearch}\n                    search={search}\n                    positionChanged={positionChanged}\n                    setPositionChanged={setPositionChanged}\n                />\n                <Welcome />\n\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {t('explore.topGoalsTitle')}\n                </Typography>\n\n                <Tabs\n                    value={search.type}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    onChange={(event, type) => onSearch({ ...search, type })}\n                    style={{ marginBottom: '15px' }}\n                >\n                    <Tab label={t('g.goals')} value=\"goal\" />\n                    <Tab label={t('g.activities')} value=\"activity\" />\n                    <Tab label={t('g.rewards')} value=\"reward\" />\n                </Tabs>\n\n                <Paper className={classes.root} variant=\"outlined\">\n                    <InputBase\n                        className={classes.input}\n                        placeholder={t(\n                            'explore.' +\n                                (search.type === 'goal'\n                                    ? 'mapPHGoals'\n                                    : search.type === 'activity'\n                                    ? 'mapPHActivities'\n                                    : 'mapPHRewards')\n                        )}\n                        onChange={e => {\n                            if (!e.target.value && !search.withMap) {\n                                setSearch({ ...search, value: '' })\n                            }\n                            setValue(e.target.value || '')\n                        }}\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => {\n                            if (value && value !== search.value) {\n                                onSearch({\n                                    ...search,\n                                    value,\n                                })\n                            }\n                        }}\n                    >\n                        <SearchOutlined />\n                    </IconButton>\n                    <Divider\n                        className={classes.divider}\n                        orientation=\"vertical\"\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => {\n                            setMapVisible(true)\n                            setSearch({ ...search, withMap: true })\n                        }}\n                        color={search.withMap ? 'primary' : 'default'}\n                    >\n                        <LocationOn />\n                    </IconButton>\n                </Paper>\n                <Box margin=\"10px 0px 50px\">\n                    <ReadMore\n                        initialHeight={135}\n                        addTitle={t('g.spaceCategories')}\n                    >\n                        <GoalCategories\n                            nolim\n                            value={search.categories}\n                            onChange={categories =>\n                                onSearch({ ...search, categories })\n                            }\n                        />\n                    </ReadMore>\n                </Box>\n\n                {/* {loadedProgresses.length > 0 ? ( */}\n                {/* ) : null} */}\n\n                <InfiniteScroll\n                    pageStart={0}\n                    loadMore={() => onSearch()}\n                    hasMore={!noMore}\n                    loader={\n                        <div className=\"loader\" key={0}>\n                            <span>{t('explore.loading')}</span>\n                        </div>\n                    }\n                >\n                    <MasonryGrid>\n                        {foundProgresses\n                            .sort(sortProgresses)\n                            .map((item, index) => (\n                                <MasonryCard\n                                    id={item._id}\n                                    key={index}\n                                    onClickLink={'/' + urlDir + '/' + item._id}\n                                    images={item.images}\n                                    body={\n                                        <>\n                                            {/* <UserButton\n                                                noName={true}\n                                                id={item.owner}\n                                                friendDataExp={friendData}\n                                            /> */}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {item.name}\n                                            </span>\n                                        </>\n                                    }\n                                    actions={\n                                        <ShareButton\n                                            link={\n                                                'https://addspire.com/' +\n                                                urlDir +\n                                                '/' +\n                                                item._id\n                                            }\n                                            title={\n                                                item.name +\n                                                t('explore.shareText')\n                                            }\n                                            media={\n                                                item.images && item.images[0]\n                                            }\n                                            item={{\n                                                progressId: item._id,\n                                                progressName: item.name,\n                                            }}\n                                        />\n                                    }\n                                />\n                            ))}\n                    </MasonryGrid>\n                </InfiniteScroll>\n            </div>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        progressData: state.progressData,\n    }\n}\n\nexport default connect(mapStateToProps)(Explore)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Badge,\n    Box,\n    Button,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    MenuItem,\n    Select,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport { useTranslation } from 'react-i18next'\nimport ActivityTable from '../../containers/Goal/ActivityTable'\nimport dayjs from 'dayjs'\nimport { spanStyle } from '../Post/Message'\nimport ConfirmAction from '../UI/ConfirmAction'\nimport UserButton from '../UserButton/UserButton'\ndayjs().format()\n\nconst Transactions = props => {\n    const { t } = useTranslation()\n    // const [anchorEl, setAnchorEl] = useState(null)\n\n    const [selectedTransaction, setSelectedTransaction] = useState('')\n    const [deleteTransactionVisible, setDeleteTransactionVisible] = useState(\n        false\n    )\n\n    const { transactionData, rewardData, account, transactions, owner } = props\n\n    // const handleClose = () => {\n    //     setAnchorEl(null)\n    // }\n    // const handleClick = event => {\n    //     setAnchorEl(event.currentTarget)\n    // }\n\n    const transactionObj =\n        selectedTransaction && transactionData[selectedTransaction]\n    const rewardObj = transactionObj && rewardData[transactionObj.reward]\n    return (\n        <>\n            <HorizontalScrollList\n                title={t('profile.receivedAndGivenRewards')}\n                items={transactions\n                    .map(item => transactionData[item])\n                    .filter(item => item)\n                    .filter(item => rewardData[item.reward])\n                    .map(item => ({\n                        ...item,\n                        rewardObject: rewardData[item.reward],\n                    }))\n                    .sort((a, b) => {\n                        if (\n                            a.status === 'confirmed' &&\n                            b.status !== 'confirmed'\n                        )\n                            return 1\n                        if (\n                            a.status !== 'confirmed' &&\n                            b.status === 'confirmed'\n                        )\n                            return -1\n                        if (a.status === 'process' && b.status !== 'process')\n                            return 1\n                        if (a.status !== 'process' && b.status === 'process')\n                            return -1\n                        // if (\n                        //     a.status !== 'confirmed' &&\n                        //     b.status !== 'confirmed'\n                        // ) {\n                        //     if (a.to === owner._id && b.to !== owner._id)\n                        //         return 1\n                        //     if (a.to !== owner._id && b.to === owner._id)\n                        //         return -1\n                        // }\n                        return new Date(a.date).getTime() <\n                            new Date(b.date).getTime()\n                            ? 1\n                            : -1\n                    })}\n                content={item => (\n                    <CardContent\n                        style={{\n                            textAlign: 'center',\n                            position: 'relative',\n                            padding: '5px',\n                        }}\n                    >\n                        <CardActionArea\n                            onClick={() => setSelectedTransaction(item._id)}\n                        >\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.rewardObject.images.length > 0\n                                        ? item.rewardObject.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.rewardObject.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography\n                                    variant=\"body2\"\n                                    noWrap\n                                    color={\n                                        selectedTransaction === item._id\n                                            ? 'primary'\n                                            : undefined\n                                    }\n                                    style={{\n                                        fontWeight:\n                                            selectedTransaction === item._id\n                                                ? 600\n                                                : 'initial',\n                                    }}\n                                >\n                                    {item.rewardObject.name}\n                                </Typography>\n                                <span style={spanStyle}>\n                                    {dayjs(item.date).fromNow()}\n                                </span>\n                                <Box />\n                            </CardContent>\n                        </CardActionArea>\n                        <Box\n                            style={{\n                                position: 'absolute',\n                                top: '5px',\n                                right: '5px',\n                            }}\n                        >\n                            <Box\n                                style={{\n                                    width: '10px',\n                                    height: '10px',\n                                    borderRadius: '10px',\n                                    background:\n                                        item.status === 'confirmed'\n                                            ? 'green'\n                                            : item.status === 'cancelled'\n                                            ? 'red'\n                                            : 'blue',\n                                }}\n                            />\n                        </Box>\n                    </CardContent>\n                )}\n                bottomContent={\n                    transactionObj && rewardObj ? (\n                        <>\n                            <Typography variant=\"h4\" gutterBottom>\n                                <Link to={'/rewards/' + rewardObj._id}>\n                                    {rewardObj.name || 'Selected activity'}\n                                </Link>\n                            </Typography>\n                            <Box style={{ ...spanStyle, margin: '10px' }}>\n                                {dayjs(transactionObj.date).format(\n                                    'DD/MM/YYYY'\n                                )}\n                            </Box>\n                            <Typography gutterBottom>\n                                {t('trans.from')}\n                                <UserButton\n                                    size={20}\n                                    id={transactionObj.from}\n                                />\n                                {t('trans.to')}\n                                <UserButton size={20} id={transactionObj.to} />\n                                {t('trans.inGoal')}\n                                <Link\n                                    to={'/goals/' + transactionObj.progressId}\n                                >\n                                    <span style={{ fontWeight: 500 }}>\n                                        {transactionObj.progress}\n                                    </span>\n                                </Link>\n                                {t('trans.inActivity')}\n                                <Link\n                                    to={\n                                        '/activities/' +\n                                        transactionObj.activityId\n                                    }\n                                >\n                                    <span style={{ fontWeight: 500 }}>\n                                        {transactionObj.activity}\n                                    </span>\n                                </Link>\n                            </Typography>\n                            {t('trans.status')}\n\n                            {account._id === transactionObj.to ||\n                            account._id === transactionObj.from ? (\n                                <>\n                                    <Select\n                                        value={transactionObj.status}\n                                        onChange={e =>\n                                            wsActions.confirmTransaction(\n                                                account._id,\n                                                transactionObj._id,\n                                                e.target.value\n                                            )\n                                        }\n                                        style={{ margin: '15px 0px' }}\n                                    >\n                                        <MenuItem value=\"confirmed\">\n                                            {t('trans.confirmed')}\n                                        </MenuItem>\n                                        <MenuItem value=\"pending\">\n                                            {t('trans.pending')}\n                                        </MenuItem>\n                                        <MenuItem value=\"cancelled\">\n                                            {t('trans.cancelled')}\n                                        </MenuItem>\n                                    </Select>\n                                    <Box>\n                                        <Button\n                                            onClick={() =>\n                                                setDeleteTransactionVisible(\n                                                    true\n                                                )\n                                            }\n                                        >\n                                            {t('trans.deleteItem')}\n                                        </Button>\n                                    </Box>\n                                </>\n                            ) : (\n                                transactionObj.status\n                            )}\n                        </>\n                    ) : null\n                }\n            />\n\n            <ConfirmAction\n                open={deleteTransactionVisible}\n                title={t('trans.confirmDelete')}\n                cancel={() => setDeleteTransactionVisible(false)}\n                confirm={() =>\n                    wsActions.deleteTransaction(\n                        account._id,\n                        selectedTransaction\n                    )\n                }\n            />\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        transactionData: state.transactionData,\n        rewardData: state.rewardData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Transactions)\n)\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const cancelTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'cancelTransaction',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n\nexport const confirmTransaction = (accountId, id, status) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'confirmTransaction',\n                id,\n                accountId,\n                status,\n            })\n        )\n    }\n}\n\nexport const deleteTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteTransaction',\n                accountId,\n                id,\n            })\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Avatar from 'antd/es/avatar'\n\nimport FriendActionButton from '../../components/FriendActionButton'\n\nimport getAvatar from '../../utils/getAvatar'\nimport pullData from '../../utils/pullData'\nimport UserButton from '../../components/UserButton/UserButton'\nimport MasonryGrid from '../../components/MasonryGrid'\n\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport ProgressButton from '../../components/ProgressButton'\nimport FollowButton from '../../components/FollowButton'\n\nimport * as wsActions from '../../websocketActions'\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport * as classes from './Profile.module.css'\nimport TypographyA from 'antd/es/typography'\n\nimport message from 'antd/es/message'\n\nimport Helmet from 'react-helmet'\n\nimport {\n    Box,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Paper,\n    Typography,\n    Button,\n    Chip,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    CardActionArea,\n    CardMedia,\n    CardContent,\n    DialogContentText,\n    TextField,\n    Slide,\n    Tabs,\n    Tab,\n} from '@material-ui/core'\nimport Layout from '../../components/Layout/Layout'\nimport { Edit } from '@material-ui/icons'\nimport fieldLength from '../../constants/fieldLength'\nimport dayjs from 'dayjs'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport AddFriends from '../Friends/AddFriends'\nimport DialogFullscreen from '../../components/UI/DialogFullscreen'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { sortProgresses } from '../Explore/Explore'\nimport ProfileRewards from '../../components/ProfileRewards/ProfileRewards'\n\nimport Badge from 'antd/es/badge'\nimport LanguageSwitcher from '../../components/LanguageSwitcher/LanguageSwitcher'\nimport { useTranslation } from 'react-i18next'\nimport Activities from '../../components/Activities/Activities'\nimport EditResource from '../../components/EditResource/EditResource'\nimport Transactions from '../../components/Transactions/Transactions'\n\ndayjs().format()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        sectionTitle: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\nconst Profile = props => {\n    const { t } = useTranslation()\n    const [currentTab, setCurrentTab] = useState('accounts')\n    const classesM = useStyles()\n    const [data, setData] = useState({})\n    const [followersVisible, setFollowersVisible] = useState('')\n\n    const { profile, account, progressData } = props\n    const [deleteVisible, setDeleteVisible] = useState()\n    const [deleteField, setDeleteField] = useState('')\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n\n    useEffect(() => {\n        const pathParts = props.history.location.pathname.split('/')\n        if (pathParts.length > 2) {\n            const profileId = pathParts[2]\n            if (props.isAuthed) {\n                props.setData({ currentProfile: profileId })\n            } else {\n                pullData(props, data, setData, { forceAuth: false }, data => {\n                    const friendData = {}\n                    for (let friend of data.friendData)\n                        friendData[friend._id] = friend\n\n                    const progressData = {}\n                    if (data.progressData)\n                        for (let progress of data.progressData)\n                            progressData[progress._id] = progress\n\n                    const activityData = {}\n                    if (data.activityData)\n                        for (let activity of data.activityData)\n                            activityData[activity._id] = activity\n                    const rewardData = {}\n                    if (data.rewardData)\n                        for (let reward of data.rewardData)\n                            rewardData[reward._id] = reward\n                    const post = {}\n                    if (data.posts)\n                        for (let item of data.posts) post[item._id] = item\n\n                    props.setData({\n                        profile: data.profile,\n                        friendData,\n                        post,\n                        account: {},\n                        progressData,\n                        activityData,\n                        rewardData,\n                        onlineUsers: data.onlineUsers,\n                    })\n                })\n            }\n        } else {\n            if (props.isAuthed) {\n                props.setData({ currentProfile: account._id })\n            }\n        }\n    }, [props.isAuthed, props.history.location.pathname, props.account._id])\n\n    if (!profile || !profile._id) return null\n\n    const isOwner = account && account._id && account._id === profile._id\n    props.setPageTitle({ main: profile.name, sub: '' })\n\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n    if (profile && profile.friends && account && account._id) {\n        for (let friend of account.friends) {\n            if (friend.status === 'friend') realFriends.push(friend)\n            else if (friend.status === 'invited') invitedFriends.push(friend)\n            else if (friend.status === 'inviting') invitingFriends.push(friend)\n        }\n    }\n\n    const loading = false\n\n    const { progresses } = profile\n    let loadedProgresses\n    if (progresses) {\n        loadedProgresses = progresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n\n    // const newTransactions =\n    //     (transactions &&\n    //         transactions\n    //             .filter(item => transactionData[item])\n    //             .map(item => transactionData[item])\n    //             .filter(item => item.status !== 'Confirmed')) ||\n    //     []\n\n    // const recievedTransactions =\n    //     (transactions &&\n    //         transactions\n    //             .filter(item => transactionData[item])\n    //             .map(item => transactionData[item])\n    //             .filter(item => item.status === 'Confirmed')) ||\n    //     []\n\n    return (\n        <>\n            <Helmet>\n                <title>\n                    {profile.name} {t('g.shareText')}\n                </title>\n                <meta\n                    name=\"description\"\n                    content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                />\n            </Helmet>\n            <Layout\n                header={\n                    <Typography\n                        variant=\"h6\"\n                        className={classesM.title}\n                        color=\"inherit\"\n                        noWrap\n                    >\n                        {profile.name}\n                    </Typography>\n                }\n            >\n                <Paper style={{ padding: '15px' }}>\n                    <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                        {isOwner ? (\n                            <Upload\n                                name=\"avatar\"\n                                accept=\"image/*\"\n                                listType=\"picture-card\"\n                                className={classes.Avatar}\n                                showUploadList={false}\n                                customRequest={({ file }) => {\n                                    uploadFile(file, 800, 'avatar', url => {\n                                        if (url) props.increaseAvatarV()\n                                    })\n                                }}\n                            >\n                                <div\n                                    style={{\n                                        flex: 1,\n                                        display: 'flex',\n                                        height: '100%',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        flexDirection: 'column',\n                                    }}\n                                    onClick={e => {\n                                        if (window.isRNWebView) {\n                                            e.stopPropagation()\n                                            window.ReactNativeWebView.postMessage(\n                                                'uploadFile'\n                                            )\n                                            window.callback = url => {\n                                                props.increaseAvatarV()\n                                            }\n                                        }\n                                    }}\n                                >\n                                    {account.image ? (\n                                        <Avatar\n                                            src={getAvatar(\n                                                account._id,\n                                                account.image\n                                            )}\n                                            size={150}\n                                            style={{ margin: '25px' }}\n                                        />\n                                    ) : (\n                                        <>\n                                            {loading ? (\n                                                <LoadingOutlined />\n                                            ) : (\n                                                <PlusOutlined />\n                                            )}\n                                            <div className=\"ant-upload-text\">\n                                                {t('g.upload')}\n                                            </div>\n                                        </>\n                                    )}\n                                </div>\n                            </Upload>\n                        ) : (\n                            <Avatar\n                                src={getAvatar(profile._id, profile.image)}\n                                size={200}\n                            />\n                        )}\n\n                        <Box style={{ padding: '0 15px' }}>\n                            {props.onlineUsers.includes(profile._id) && (\n                                <Badge color=\"green\" text=\"online\" />\n                            )}\n                            <TypographyA.Title\n                                level={2}\n                                editable={\n                                    isOwner\n                                        ? {\n                                              onChange: res =>\n                                                  wsActions.editAccount(\n                                                      { name: res },\n                                                      account._id\n                                                  ),\n                                              icon: (\n                                                  <IconButton color=\"primary\">\n                                                      <Edit />\n                                                  </IconButton>\n                                              ),\n                                              maxLength: fieldLength.name,\n                                              autoSize: {\n                                                  minRows: 1,\n                                                  maxRows: 1,\n                                              },\n                                          }\n                                        : false\n                                }\n                            >\n                                {profile.name}\n                            </TypographyA.Title>\n                        </Box>\n                        <Typography variant=\"h5\">({profile._id})</Typography>\n                        <Box\n                            style={{\n                                margin: '5px 0px',\n                            }}\n                        >\n                            <Button\n                                onClick={() => setFollowersVisible('followers')}\n                                style={{ marginRight: '20px' }}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {`${profile.followingAccounts.length} ${t(\n                                        'g.followers'\n                                    )}`}\n                                </span>\n                            </Button>\n                            <Button\n                                onClick={() => setFollowersVisible('following')}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {`${profile.followProgresses.length +\n                                        profile.followAccounts.length} \n                                    ${t('g.following')}`}\n                                </span>\n                            </Button>\n                        </Box>\n\n                        <div>\n                            <ShareButton\n                                link={\n                                    'https://addspire.com/profile/' +\n                                    profile._id\n                                }\n                                media={\n                                    profile.image &&\n                                    getAvatar(profile._id, profile.image)\n                                }\n                                title={profile.name + t('profile.shareText')}\n                                item={{\n                                    profileId: profile._id,\n                                    profileName: profile.name,\n                                }}\n                            />\n                            {account && account._id !== profile._id && (\n                                <span style={{ marginRight: '10px' }}>\n                                    {realFriends.find(\n                                        item => item.friend === profile._id\n                                    ) ? (\n                                        <Chip color=\"primary\" label=\"Friends\" />\n                                    ) : null}\n                                    {account.followAccounts &&\n                                        !account.followAccounts.includes(\n                                            profile._id\n                                        ) && (\n                                            <Button\n                                                color=\"primary\"\n                                                onClick={() =>\n                                                    wsActions.followAccount(\n                                                        account._id,\n                                                        profile._id\n                                                    )\n                                                }\n                                                style={{\n                                                    marginRight: '20px',\n                                                }}\n                                                variant=\"contained\"\n                                            >\n                                                {t('g.follow')}\n                                            </Button>\n                                        )}\n                                </span>\n                            )}\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={profile._id}\n                                additionalButtons={\n                                    isOwner\n                                        ? [\n                                              {\n                                                  onClick: () =>\n                                                      props.history.push(\n                                                          '/logout'\n                                                      ),\n                                                  title: t('g.logout'),\n                                              },\n                                          ]\n                                        : null\n                                }\n                                asText={true}\n                            />\n                        </div>\n                        <Box />\n                    </div>\n                </Paper>\n\n                <HorizontalScrollList\n                    title={t('g.goals')}\n                    items={loadedProgresses.sort(sortProgresses)}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.images.length > 0\n                                            ? item.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography\n                                        variant=\"body2\"\n                                        noWrap\n                                        align=\"center\"\n                                    >\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                    withAdd={isOwner}\n                    addTitle={t('g.addGoal')}\n                    onAdd={() => setStartProgressVisible(true)}\n                />\n\n                <Activities activities={profile.activities} isOwner />\n                <ProfileRewards owner={profile} />\n                <Transactions\n                    transactions={profile.transactions}\n                    isOwner\n                    owner={profile}\n                />\n                {/* <ProfileRewards owner={profile} wish /> */}\n                {isOwner && invitedFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title={t('profile.pendingFriendships')}\n                            items={invitedFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.decline')}\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                {isOwner && invitingFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title={t('profile.awaitingApproval')}\n                            items={invitingFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box style={{ margin: '5px 0' }}>\n                                        <Button\n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.acceptFriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.accept')}\n                                        </Button>\n                                    </Box>\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            {t('g.decline')}\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                <HorizontalScrollList\n                    title={t('g.friends')}\n                    items={realFriends}\n                    content={item => (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <Box>\n                                <UserButton noName id={item.friend} size={80} />\n                            </Box>\n                            <UserButton\n                                noAva\n                                typography\n                                style={{\n                                    width: '100%',\n                                    margin: '3px 0 7px',\n                                }}\n                                id={item.friend}\n                            />\n\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={item.friend}\n                                asIcons={true}\n                                minimized\n                            />\n                        </CardContent>\n                    )}\n                    withAdd={isOwner}\n                    addTitle={t('g.addFriend')}\n                    onAdd={() => setAddFriendOpen(true)}\n                />\n\n                {isOwner && (\n                    <>\n                        <Typography\n                            className={classesM.sectionTitle}\n                            color=\"textSecondary\"\n                            gutterBottom\n                        >\n                            {t('profile.settings')}\n                        </Typography>\n                        <Paper\n                            style={{\n                                padding: '15px',\n                            }}\n                        >\n                            <Box>\n                                <LanguageSwitcher settings />\n                            </Box>\n                            <Box style={{ margin: '20px auto' }}>\n                                <Button\n                                    onClick={() =>\n                                        props.history.push('/logout')\n                                    }\n                                    color=\"secondary\"\n                                >\n                                    {t('g.logout')}\n                                </Button>\n                            </Box>\n                            <Button\n                                onClick={() => setDeleteVisible(true)}\n                                color=\"secondary\"\n                            >\n                                {t('profile.deleteAccount')}\n                            </Button>\n                        </Paper>\n\n                        <Dialog open={Boolean(deleteVisible)}>\n                            <DialogTitle>\n                                {t('profile.deleteAccount')}\n                            </DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    <p>\n                                        {t('profile.pleaseEnterNickname')}\n                                        {account._id}\n                                        {t('profile.andPressOk')}\n                                    </p>\n                                    <TextField\n                                        onChange={e =>\n                                            setDeleteField(e.target.value)\n                                        }\n                                    />\n                                </DialogContentText>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button onClick={() => setDeleteVisible(false)}>\n                                    {t('g.cancel')}\n                                </Button>\n                                <Button\n                                    onClick={() => {\n                                        if (deleteField !== account._id) {\n                                            message.warning(\n                                                'The nickmanme is not correct.'\n                                            )\n                                        } else {\n                                            wsActions.deleteAccount(account._id)\n                                        }\n                                    }}\n                                    color=\"primary\"\n                                >\n                                    {t('g.delete')}\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n                    </>\n                )}\n            </Layout>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'following'\n                        ? t('g.following')\n                        : t('g.followers')\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible !== 'following'\n                        ? t('g.followers')\n                        : t('g.following')}\n                    {followersVisible === 'following' && (\n                        <Tabs\n                            value={currentTab}\n                            onChange={(event, newValue) =>\n                                setCurrentTab(newValue)\n                            }\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            variant=\"scrollable\"\n                            scrollButtons=\"auto\"\n                        >\n                            <Tab label={t('g.users')} value=\"accounts\" />\n                            <Tab label={t('g.goals')} value=\"goals\" />\n                            <Tab label={t('g.activities')} value=\"activities\" />\n                            <Tab label={t('g.rewards')} value=\"rewards\" />\n                        </Tabs>\n                    )}\n                </DialogTitle>\n                <DialogContent>\n                    {followersVisible === 'following' ? (\n                        currentTab === 'accounts' ? (\n                            profile.followAccounts.map(item => (\n                                <MasonryCard\n                                    friends={true}\n                                    noLink={true}\n                                    key={item}\n                                    actions={\n                                        <FollowButton\n                                            account={account}\n                                            id={item}\n                                            type=\"account\"\n                                        />\n                                    }\n                                    body={\n                                        <UserButton\n                                            span={true}\n                                            id={item}\n                                            size={50}\n                                        />\n                                    }\n                                />\n                            ))\n                        ) : (\n                            <MasonryGrid>\n                                {profile[\n                                    currentTab === 'goals'\n                                        ? 'followProgresses'\n                                        : currentTab === 'rewards'\n                                        ? 'followRewards'\n                                        : 'followActivities'\n                                ].map(item => (\n                                    <MasonryCard\n                                        id={item}\n                                        onClickLink={\n                                            '/' + currentTab + '/' + item\n                                        }\n                                        // noLink\n                                        key={item}\n                                        actions={\n                                            <FollowButton\n                                                type={\n                                                    currentTab === 'goals'\n                                                        ? 'progress'\n                                                        : currentTab ===\n                                                          'rewards'\n                                                        ? 'reward'\n                                                        : 'activity'\n                                                }\n                                                account={account}\n                                                id={item}\n                                            />\n                                        }\n                                        body={\n                                            <ProgressButton\n                                                span={true}\n                                                id={item}\n                                                size={50}\n                                                type={currentTab}\n                                            />\n                                        }\n                                        style={{\n                                            // maxHeight: '170px',\n                                            marginTop: '20px',\n                                        }}\n                                        images={\n                                            props[\n                                                currentTab === 'goals'\n                                                    ? 'progressData'\n                                                    : currentTab === 'rewards'\n                                                    ? 'rewardData'\n                                                    : 'activityData'\n                                            ][item] &&\n                                            props[\n                                                currentTab === 'goals'\n                                                    ? 'progressData'\n                                                    : currentTab === 'rewards'\n                                                    ? 'rewardData'\n                                                    : 'activityData'\n                                            ][item].images\n                                        }\n                                    />\n                                ))}\n                            </MasonryGrid>\n                        )\n                    ) : (\n                        profile.followingAccounts.map(item => (\n                            <MasonryCard\n                                friends={true}\n                                noLink={true}\n                                key={item}\n                                actions={\n                                    <FollowButton\n                                        account={account}\n                                        id={item}\n                                        type=\"account\"\n                                    />\n                                }\n                                body={\n                                    <UserButton\n                                        span={true}\n                                        id={item}\n                                        size={50}\n                                    />\n                                }\n                            />\n                        ))\n                    )}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        {t('g.close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={startProgressVisible}\n                    onClose={() => {\n                        setStartProgressVisible(false)\n                    }}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <EditResource\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setStartProgressVisible(false)}\n                        type=\"goal\"\n                    />\n                </Dialog>\n            )}\n            {isOwner && (\n                <DialogFullscreen\n                    open={addFriendOpen}\n                    close={() => {\n                        setAddFriendOpen(false)\n                    }}\n                    title={t('g.addFriend')}\n                >\n                    <AddFriends\n                        close={() => setAddFriendOpen(false)}\n                        open={addFriendOpen}\n                        account={account}\n                        friendData={props.friendData}\n                    />\n                </DialogFullscreen>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        profile: state.profile,\n        isAuthed: state.isAuthed,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        transactionData: state.transactionData,\n        rewardData: state.rewardData,\n        activityData: state.activityData,\n        onlineUsers: state.onlineUsers,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n        increaseAvatarV: () => dispatch(actions.increaseAvatarV()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Profile)\n)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport message from 'antd/es/message'\n\nimport Input from 'antd/es/input'\nimport Form from 'antd/es/form'\nimport { withRouter } from 'react-router-dom'\n\nimport { nicknameRules, accountNameRules } from '../../constants/fieldRules'\nimport * as actions from '../../store/actions'\n\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next'\nimport Layout from '../../components/Layout/Layout'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst ActivateAccount = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    if (!props.isAuthed) props.history.push('/logout')\n    useEffect(() => {\n        if (!props.accountNotActive) props.history.push('/settings')\n    }, [props.accountNotActive])\n    const onFinish = value => {\n        axios\n            .post('/api/activate-account', {\n                ...value,\n            })\n            .then(res => {\n                if (res.data.success) {\n                    message.success('Your account has been activated!')\n                    props.setAccountActivated(false)\n                } else {\n                    if (res.data.nicknameNotUnique) {\n                        message.warning(\n                            'The nickname is taken. Choose another nickname please.'\n                        )\n                    }\n                    if (res.data.errorCode) {\n                        message.error(\n                            'Something is wrong with the data. Please try one more time with new data.'\n                        )\n                    }\n                }\n            })\n            .catch(err => {})\n    }\n\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n\n    return (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {t('activate.activateAccount')}\n                </Typography>\n            }\n        >\n            <Typography variant=\"h4\" align=\"center\">\n                Addspire\n            </Typography>\n            <Typography variant=\"h4\" align=\"center\">\n                Account activation\n            </Typography>\n            <Form\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                {...layout}\n                style={{\n                    maxWidth: '1200px',\n                    margin: '50px auto 0px',\n                    padding: '15px',\n                    width: '90%',\n                }}\n            >\n                <Form.Item\n                    label={t('g.name')}\n                    name=\"name\"\n                    rules={accountNameRules}\n                >\n                    <Input placeholder={t('activate.minLength')} />\n                </Form.Item>\n                <Form.Item\n                    label={t('activate.nickname')}\n                    name=\"nickname\"\n                    rules={nicknameRules}\n                >\n                    <Input placeholder={t('activate.minLenght')} />\n                </Form.Item>\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                        {t('g.save')}\n                    </Button>\n                </Form.Item>\n            </Form>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        user: state.user,\n        account: state.account,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        setAccountActivated: value =>\n            dispatch(actions.setAccountActivated(value)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ActivateAccount)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\nconst NotificationsTracker = props => {\n    const { account, friendData, progressData } = props\n\n    const sortNotifiacations = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications,\n            ]\n    }\n\n    for (let friend of account.friends) {\n        if (\n            friendData[friend.friend] &&\n            friend.status === 'friend' &&\n            friendData[friend.friend].notifications\n        )\n            lastNotifications = [\n                ...lastNotifications,\n                ...friendData[friend.friend].notifications,\n            ]\n    }\n    const filterSameNot = (res, not, index, arr) => {\n        if (!res.find(item => item.notId === not.notId)) {\n            res.push(not)\n        }\n        return res\n    }\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n\n    lastNotifications = lastNotifications.sort(sortNotifiacations).slice(0, 100)\n\n    lastNotifications = [\n        ...lastNotifications,\n        ...account.myNotifications,\n    ].filter(item => item.code !== 'add post')\n\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n    lastNotifications = lastNotifications.sort(sortNotifiacations)\n    if (!isEqual(lastNotifications, props.lastNotifications)) {\n        props.setData({ lastNotifications })\n    }\n\n    return <span />\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(NotificationsTracker)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport * as actions from './store/actions'\n\nconst RNBridge = props => {\n    window.addEventListener('message', function(e) {\n        // window.isRNWebView = true\n\n        try {\n            const data = JSON.parse(e.data)\n            switch (data.message) {\n                case 'token':\n                    const token = data.token\n                    props.tryAuth(token)\n                    break\n                case 'callback':\n                    window.callback(data.url)\n                    break\n                case 'back':\n                    if (!props.history.location.key) {\n                        window.isRNWebView &&\n                            window.ReactNativeWebView.postMessage('exit')\n                    } else props.history.goBack()\n                    break\n                default:\n                    return\n            }\n        } catch (err) {\n            console.error('failed to parse message from react-native ' + err)\n            return\n        }\n    })\n\n    return <></>\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: token => dispatch(actions.tryAuth(token)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(RNBridge)\n)\n","import React, { useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Comment from 'antd/es/comment'\nimport Divider from 'antd/es/divider'\nimport dayjs from 'dayjs'\nimport { Card, CardContent } from '@material-ui/core'\nimport * as wsActions from '../../websocketActions'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst DashboardEvents = props => {\n    const { t } = useTranslation()\n    const { lastNotifications } = props\n\n    const getStageName = stage => {\n        let stageDate\n        if (stage.day) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .dayOfYear(stage.day)\n            return stageDate.format('dddd D MMM YYYY')\n        } else if (stage.week) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .week(stage.week)\n            return (\n                stageDate\n                    .startOf('week')\n                    .format('wo [' + t('g.week') + '] D MMM YYYY - ') +\n                stageDate.endOf('week').format('D MMM YYYY')\n            )\n        } else if (stage.month) {\n            stageDate = dayjs()\n                .year(stage.year)\n                .month(stage.month)\n            return stageDate.format('MMMM YYYY')\n        } else if (stage.year) {\n            stageDate = dayjs().year(stage.year)\n            return stageDate.format('YYYY')\n        }\n    }\n\n    useEffect(() => {\n        wsActions.setLastSeenNot(\n            props.account._id,\n            lastNotifications.reduce(function(p, v) {\n                v = parseInt(v.notId)\n                return p > v ? p : v\n            }, 0)\n        )\n    }, [lastNotifications])\n    return (\n        <Card>\n            <CardContent>\n                {lastNotifications.map((item, index) => {\n                    let text = null,\n                        stageName\n\n                    switch (item.code) {\n                        case 'change name':\n                            text = (\n                                <span>\n                                    {' '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.changedName')}\n                                </span>\n                            )\n                            break\n                        case 'delete account':\n                            text = (\n                                <span>\n                                    {item.user}\n                                    {t('dash.deletedAccount')}\n                                </span>\n                            )\n                            break\n                        case 'friend request':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.wantsToBecomeFriends')}\n                                </span>\n                            )\n                            break\n                        case 'friend add':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.and')}\n\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {t('dash.becameFriends')}\n                                </span>\n                            )\n                            break\n                        case 'unfriend':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.and')}\n\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {t('dash.stoppedFriends')}\n                                    {' stopped being friends.'}\n                                </span>\n                            )\n                            break\n                        case 'add wishlist item':\n                        case 'edit wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add wishlist item'\n                                        ? t('dash.addedToWish')\n                                        : t('dash.editedWish')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.deleted')}\n                                    {item.details.itemName} {t('dash.fromWish')}\n                                </span>\n                            )\n                            break\n                        case 'add goal':\n                        case 'edit goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add goal'\n                                        ? t('dash.addedGoal')\n                                        : t('dash.editedGoalND')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {'.'}\n                                </span>\n                            )\n                            break\n                        case 'delete goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.deleted')}\n                                    {item.details.itemName}{' '}\n                                    {t('dash.fromGoals')}\n                                </span>\n                            )\n                            break\n\n                        case 'cancel transaction':\n                        case 'confirm transaction':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'cancel transaction'\n                                        ? t('dash.cancelled')\n                                        : t('dash.confirmed')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName} ($\n                                        {item.details.price})\n                                    </span>\n                                    {t('dash.by')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.buyer}\n                                    />\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'start progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.startedParticipating')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {t('dash.as')}\n                                    {item.details.as}.\n                                </span>\n                            )\n                            break\n                        case 'stage approve':\n                        case 'stage progress':\n                        case 'stage fail':\n                        case 'stage dismiss':\n                            stageName = getStageName(item.details)\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {item.code === 'stage approve'\n                                        ? t('dash.approved')\n                                        : item.code === 'stage progress'\n                                        ? t('dash.putToProgress')\n                                        : item.code === 'stage fail'\n                                        ? t('dash.markedFailed')\n                                        : t('dash.dismissed')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {t('dash.for')}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n                                    .\n                                </span>\n                            )\n                            break\n\n                        case 'stage complete':\n                            text = (\n                                <span>\n                                    {t('dash.goal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {t('dash.for')}\n                                            <span\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n\n                                    {t('dash.wasApprovedAndFinished')}\n                                </span>\n                            )\n                            break\n\n                        case 'leave progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.leftGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'edit progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.editedGoalND')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {item.details.addedAccounts.length > 0 ? (\n                                        <>\n                                            {t('dash.andAdded')}\n                                            {item.details.addedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}{' '}\n                                        </>\n                                    ) : (\n                                        ''\n                                    )}\n                                    {item.details.droppedAccounts.length > 0 ? (\n                                        <>\n                                            {t('dash.andRemoved')}\n                                            {item.details.droppedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}\n                                            {'.'}\n                                        </>\n                                    ) : (\n                                        '.'\n                                    )}\n                                </span>\n                            )\n                            break\n                        case 'remove from progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.removed')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {t('dash.fromGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add to progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {t('dash.added')}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {t('dash.toGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add reward':\n                        case 'add activity':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.added')} {item.name}{' '}\n                                    {item.code === 'add reward' && (\n                                        <>\n                                            {t('dash.asRewardFor')}\n                                            {!item.details.for ||\n                                            item.details.for.length === 0\n                                                ? t('dash.all')\n                                                : item.details.for.map(\n                                                      account => (\n                                                          <>\n                                                              <UserButton\n                                                                  noAva={true}\n                                                                  span={true}\n                                                                  id={account}\n                                                              />\n                                                              ,\n                                                          </>\n                                                      )\n                                                  )}\n                                        </>\n                                    )}\n                                    {t('dash.inGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete reward':\n                        case 'delete activity':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.removed')}\n                                    {item.name}\n                                    {item.code === 'delete reward' && (\n                                        <>\n                                            {t('dash.asRewardFor')}\n                                            {!item.details.for ||\n                                            item.details.for.length === 0\n                                                ? t('dash.all')\n                                                : item.details.for.map(\n                                                      account => (\n                                                          <>\n                                                              <UserButton\n                                                                  span={true}\n                                                                  noAva={true}\n                                                                  id={account}\n                                                              />\n                                                              ,\n                                                          </>\n                                                      )\n                                                  )}\n                                        </>\n                                    )}\n                                    {t('dash.inGoal')}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n\n                        case 'shared':\n                            let action = () =>\n                                props.history.push(\n                                    item.details.url.split(\n                                        'https://addspire.com'\n                                    ).length > 0\n                                        ? item.details.url.split(\n                                              'https://addspire.com'\n                                          )[1]\n                                        : item.details.url\n                                )\n                            let title = t('dash.somethingOnAddspire')\n\n                            if (\n                                item.details.progressName &&\n                                item.details.progressId\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/goals/${item.details.progressId}`\n                                    )\n                                title = item.details.progressName\n                            } else if (\n                                item.details.profileId &&\n                                item.details.profileName\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/profile/${item.details.profileId}`\n                                    )\n                                title = item.details.profileName\n                            } else if (\n                                item.details.rewardId &&\n                                item.details.rewardName\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/rewards/${item.details.rewardId}`\n                                    )\n                                title = item.details.rewardName\n                            } else if (\n                                item.details.activityId &&\n                                item.details.activityName\n                            ) {\n                                action = () =>\n                                    props.history.push(\n                                        `/activities/${item.details.activityId}`\n                                    )\n                                title = item.details.activityName\n                            }\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {t('dash.sharedAndInvitedYouTo')}{' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                            cursor: 'pointer',\n                                        }}\n                                        onClick={() => action()}\n                                    >\n                                        {title}\n                                    </span>\n                                </span>\n                            )\n                            break\n                        default:\n                            text = t('dash.newEvent')\n                            break\n                    }\n                    return (\n                        <div key={index}>\n                            {index !== 0 && (\n                                <Divider style={{ margin: '5px 0px' }} />\n                            )}\n                            <Comment\n                                avatar={\n                                    <UserButton\n                                        noName={true}\n                                        id={item.user}\n                                        span={true}\n                                    />\n                                }\n                                content={text}\n                            />\n                        </div>\n                    )\n\n                    // <Card>{text}</Card>\n                })}{' '}\n            </CardContent>\n        </Card>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(DashboardEvents))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const setLastSeenNot = (accountId, notId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'setLastSeenNot',\n                accountId,\n                notId,\n            })\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\n\nimport Post from '../../components/Post/Post'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Badge,\n    Button,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DashboardEvents from './DashboardEvents'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            fontWeight: 600,\n        },\n    })\n)\n\nconst DashboardPosts = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const {\n        account,\n        friendData,\n        statePosts,\n        progressData,\n        currentPosts,\n    } = props\n\n    const [posts, setPosts] = useState([])\n    const [currentTab, setCurrentTab] = useState('posts')\n    const [startTime] = useState(new Date().getTime())\n\n    const sortPosts = (a, b) => {\n        const aN = a.notifications.filter(item => item.user !== account._id)\n        const bN = b.notifications.filter(item => item.user !== account._id)\n        if (aN.length === 0 && bN.length > 0) return 1\n        else if (aN.length > 0 && bN.length === 0) return -1\n        else if (aN.length === 0 && bN.length === 0) return 0\n        else\n            return new Date(aN[0].date).getTime() <\n                new Date(bN[0].date).getTime()\n                ? 1\n                : -1\n    }\n\n    const sortNotifications = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n\n    useEffect(() => {\n        if (currentPosts) {\n            const newPosts = currentPosts\n                .filter(item => statePosts[item])\n                .map(item => statePosts[item])\n\n            const newUnseenPosts = []\n            const newOldPosts = []\n            let oldPosts = [...posts]\n            for (let post of newPosts) {\n                let oldPostIndex = oldPosts.findIndex(item => {\n                    return item._id.toString() === post._id.toString()\n                })\n                if (oldPostIndex === -1) {\n                    if (\n                        post.notifications &&\n                        post.notifications.length > 0 &&\n                        new Date(post.notifications[0].date).getTime() >\n                            startTime\n                    ) {\n                        newUnseenPosts.push(post)\n                    } else {\n                        newOldPosts.push(post)\n                    }\n                } else {\n                    oldPosts[oldPostIndex] = post\n                }\n            }\n\n            for (let post of newOldPosts) {\n                const index = oldPosts.findIndex(item => {\n                    if (\n                        item &&\n                        item.notifications &&\n                        item.notifications.length > 0\n                    ) {\n                        return (\n                            new Date(item.notifications[0]).getTime() >\n                            new Date(post.notifications[0]).getTime()\n                        )\n                    } else return false\n                })\n                if (index === -1) {\n                    oldPosts.push(post)\n                } else {\n                    oldPosts.splice(index, 0, post)\n                }\n            }\n\n            let resultPosts = [...newUnseenPosts, ...oldPosts]\n            if (posts.length === 0) {\n                resultPosts = resultPosts.sort(sortPosts)\n            }\n            setPosts(resultPosts)\n        }\n    }, [currentPosts, statePosts])\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications.filter(\n                    item =>\n                        item.code === 'add post' && item.user !== account._id\n                ),\n            ]\n    }\n\n    lastNotifications = lastNotifications\n        .sort(sortNotifications)\n        .map(item => item.details.postId)\n        .slice(0, 10)\n\n    const neededPosts = [\n        ...new Set([\n            ...account.followPosts,\n            ...account.myPosts,\n            ...posts.map(post => post._id),\n            ...lastNotifications,\n        ]),\n    ]\n    if (!isEqual(currentPosts, neededPosts))\n        props.setData({ currentPosts: neededPosts })\n\n    props.setPageTitle({ main: 'Dashboard', sub: '' })\n\n    return (\n        <Layout\n            header={\n                <>\n                    <Button\n                        style={{ margin: '0px 20px' }}\n                        color={currentTab === 'posts' ? 'primary' : 'default'}\n                        onClick={() => setCurrentTab('posts')}\n                        variant=\"contained\"\n                    >\n                        {t('g.posts')}\n                    </Button>\n                    <Badge badgeContent={numberOfUnseenNots} color=\"secondary\">\n                        <Button\n                            color={\n                                currentTab === 'events' ? 'primary' : 'default'\n                            }\n                            onClick={() => setCurrentTab('events')}\n                            variant=\"contained\"\n                        >\n                            {t('g.events')}\n                        </Button>\n                    </Badge>\n                </>\n            }\n        >\n            {currentTab === 'posts' ? (\n                posts.map((item, index) => {\n                    let text = null\n                    const nots = item.notifications.filter(\n                        not => not.user !== account._id\n                    )\n                    const not = nots.length > 0 ? nots[0] : null\n                    if (not) {\n                        switch (not.code) {\n                            case 'edit wishlist item':\n                                text = t('dash.editedItem')\n                                break\n                            case 'edit goal':\n                                text = t('dash.editedGoal')\n                                break\n                            case 'comment':\n                                text = t('dash.addedComment')\n                                break\n                            case 'edit comment':\n                                text = t('dash.editedComment')\n                                break\n                            case 'like':\n                                text = t('dash.addedLike')\n                                break\n                            case 'dislike':\n                                text = t('dash.removedLike')\n                                break\n                            default:\n                                text = null\n                                break\n                        }\n                    }\n                    return (\n                        <div key={index} style={{ paddingTop: '10px' }}>\n                            {text && (\n                                <>\n                                    <Typography\n                                        className={classes.title}\n                                        color=\"textSecondary\"\n                                        gutterBottom\n                                    >\n                                        <span>\n                                            <UserButton\n                                                id={not.user}\n                                                noAva={true}\n                                                span={true}\n                                                style={{\n                                                    fontWeight: 'bold',\n                                                }}\n                                            />{' '}\n                                            {text}\n                                        </span>\n                                    </Typography>\n                                </>\n                            )}\n                            <Post\n                                friendData={friendData}\n                                account={account}\n                                post={item}\n                                progressData={progressData}\n                            />\n                        </div>\n                    )\n                })\n            ) : (\n                <DashboardEvents account={account} />\n            )}\n        </Layout>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        currentPosts: state.currentPosts,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(DashboardPosts)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\n\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Card,\n    CardContent,\n    CardMedia,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport dayjs from 'dayjs'\nimport ReactHtmlParser from 'react-html-parser'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { useTranslation } from 'react-i18next'\n\ndayjs().format()\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        root: {\n            flexGrow: 1,\n            marginTop: '20px',\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%', // 16:9\\\n            backgroundSize: 'contain',\n        },\n        backToBlog: {\n            left: '16px',\n            bottom: '88px',\n            position: 'fixed',\n            zIndex: 1,\n        },\n    })\n)\n\nconst Blog = props => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [post, setPost] = useState(null)\n    // const [comments, setComments] = useState([])\n    const [title, setTitle] = useState('')\n\n    useEffect(() => {\n        fetch('https://addspire-blog.herokuapp.com/graphql', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                query: `\n            query {\n  posts (where: { language:\"${\n      props.history.location.pathname.indexOf('/ru') === 0 ? 'ru' : 'en'\n  }\",\n  _or: [\n      {url: \"${\n          props.history.location.pathname.split('/')[\n              props.history.location.pathname.split('/').length - 1\n          ]\n      }\"},\n      {url: \"${\n          props.history.location.pathname.split('/')[\n              props.history.location.pathname.split('/').length - 1\n          ]\n      }.ru\"}\n  ] }){\n    id\n    url\n    content\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}`,\n            }),\n        })\n            .then(res => res.json())\n            .then(data => {\n                if (data.data.posts.length > 0) {\n                    setPost(data.data.posts[0])\n                    setTitle(data.data.posts[0].title + t('g.shareText'))\n                }\n            })\n    }, [props.history.location.pathname])\n\n    useEffect(() => {\n        window.fbAsyncInit = function() {\n            window.FB.init({\n                appId: '115517331888071',\n                cookie: true, // enable cookies to allow the server to access the session\n                xfbml: true, // parse social plugins on this page\n                version: 'v2.5', // use version 2.1\n            })\n        }\n\n        // Load the SDK asynchronously\n        ;(function(d, s, id) {\n            var js,\n                fjs = d.getElementsByTagName(s)[0]\n            if (d.getElementById(id)) return\n            js = d.createElement(s)\n            js.id = id\n            js.src = '//connect.facebook.net/en_US/sdk.js'\n            fjs.parentNode.insertBefore(js, fjs)\n        })(document, 'script', 'facebook-jssdk')\n    }, [])\n    useEffect(() => {\n        if (window.FB) window.FB.XFBML.parse()\n    })\n    return post ? (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n\n            <Layout white>\n                {/* <Welcome /> */}\n\n                <Card\n                    style={{\n                        margin: '50px auto',\n                        maxWidth: '1000px',\n                        boxShadow: 'none',\n                    }}\n                >\n                    <CardMedia\n                        className={classes.media}\n                        image={post.previewImage && post.previewImage.url}\n                        title={post.title}\n                    />\n                    <CardContent style={{ paddingLeft: 0, paddingRight: 0 }}>\n                        <Typography\n                            align=\"right\"\n                            variant=\"button\"\n                            color=\"textSecondary\"\n                            component=\"p\"\n                            gutterBottom\n                        >\n                            {dayjs(post.published_at).format('MMMM D, YYYY')}\n                        </Typography>\n                        <div style={{ textAlign: 'right' }}>\n                            <ShareButton\n                                post\n                                title={post.title + t('g.shareText')}\n                                media={\n                                    post.previewImage && post.previewImage.url\n                                }\n                            />\n                        </div>\n                        <Typography gutterBottom variant=\"h2\" component=\"h1\">\n                            {post.title}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h5\">\n                            {post.subtitle}\n                        </Typography>\n\n                        <Typography\n                            variant=\"body1\"\n                            className=\"blogArticle\"\n                            style={{ fontSize: '1.05rem' }}\n                        >\n                            {ReactHtmlParser(post.content)}\n                        </Typography>\n                        <div style={{ textAlign: 'right' }}>\n                            <ShareButton\n                                post\n                                title={post.title + t('g.shareText')}\n                                media={\n                                    post.previewImage && post.previewImage.url\n                                }\n                            />\n                        </div>\n                        <div\n                            className=\"fb-comments\"\n                            data-href={\n                                'https://addspire.com' +\n                                props.history.location.pathname\n                            }\n                            data-numposts=\"5\"\n                            data-width=\"\"\n                        />\n                    </CardContent>\n                </Card>\n            </Layout>\n        </>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","import React, { useEffect, useRef, useCallback } from 'react'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\nimport { PageView, initGA } from './components/TrackingGA'\n\nimport AuthTest from './containers/Auth/AuthTest'\nimport './components/UI/loadStyles'\nimport Goal from './containers/Goal/Goal'\nimport Reward from './containers/Reward/Reward'\nimport Activity from './containers/Activity/Activity'\nimport Blog from './containers/Blog/Blog'\n\nimport Profile from './containers/Profile/Profile'\n\nimport ActivateAccount from './containers/ActivateAccount/ActivateAccount'\n\nimport { connect } from 'react-redux'\nimport * as actions from './store/actions'\nimport ConnectWebsocket from './containers/ConnectWebsocket/ConnectWebsocket'\nimport NotificationsTracker from './containers/Dashboard/NotificationsTracker'\n\nimport RNBridge from './RNBridge'\nimport DashboardPosts from './containers/Dashboard/DashboardPosts'\nimport Explore from './containers/Explore/Explore'\nimport BlogArticle from './containers/Blog/BlogArticle'\nimport { useTranslation } from 'react-i18next'\nimport dayjs from 'dayjs'\nimport 'dayjs/locale/ru'\n\nconst App = props => {\n    const mountedRef = useRef(true)\n    const { i18n } = useTranslation()\n\n    const { isAuthed } = props\n\n    const auth = useCallback(async () => {\n        try {\n            if (!mountedRef.current) return null\n            props.tryAuth()\n        } catch (error) {}\n    }, [mountedRef])\n    useEffect(() => {\n        if (!isAuthed) {\n            auth()\n        }\n        return () => {\n            mountedRef.current = false\n        }\n    }, [isAuthed])\n\n    useEffect(() => {\n        initGA('UA-45758937-4')\n    }, [])\n\n    useEffect(() => {\n        if (props.history.location.pathname.indexOf('/post/') === -1) {\n            window.scrollTo(0, 0)\n        }\n        PageView()\n    }, [props.history.location.pathname])\n\n    useEffect(() => {\n        const currentLanguage = i18n.language\n            ? i18n.language.split('-')[0]\n            : 'en'\n        props.setLanguage(currentLanguage)\n        dayjs.locale(currentLanguage)\n    }, [i18n.language])\n\n    const Logout = () => {\n        props.logout()\n        window.isRNWebView && window.ReactNativeWebView.postMessage('logout')\n        return <Redirect to=\"/explore\" />\n    }\n\n    let routes = (\n        <Switch>\n            <Route path=\"/\" exact component={Explore} />\n            {isAuthed !== null && (\n                <Route path=\"/posts\" exact component={DashboardPosts} />\n            )}\n\n            <Route path=\"/goals\" component={Goal} />\n            <Route path=\"/rewards\" component={Reward} />\n            <Route path=\"/activities\" component={Activity} />\n            <Route path=\"/wishlist\" component={Reward} />\n\n            <Route path=\"/profile\" component={Profile} />\n\n            {/* s */}\n            {/* <Route path=\"/shop\" component={Perk} /> */}\n            {/* <Route path=\"/wishlist\" component={WishlistItem} /> */}\n            <Route path=\"/logout\" exact component={Logout} />\n            <Route path=\"/ru/blog\" exact component={Blog} />\n            <Route path=\"/blog\" exact component={Blog} />\n            <Route path=\"/ru/blog\" component={BlogArticle} />\n            <Route path=\"/blog\" component={BlogArticle} />\n\n            <Route path=\"/activate-account\" exact component={ActivateAccount} />\n\n            {process.env.NODE_ENV === 'development' && !isAuthed && (\n                <Route path=\"/logintest\" exact component={AuthTest} />\n            )}\n            <Redirect to=\"/\" />\n        </Switch>\n    )\n\n    if (props.accountNotActive) {\n        routes = (\n            <Switch>\n                <Route path=\"/logout\" exact component={Logout} />\n\n                <Route\n                    path=\"/activate-account\"\n                    exact\n                    component={ActivateAccount}\n                />\n\n                {process.env.NODE_ENV === 'development' && !isAuthed && (\n                    <Route path=\"/logintest\" exact component={AuthTest} />\n                )}\n                {isAuthed ? (\n                    <Redirect to=\"/activate-account\" />\n                ) : (\n                    <Redirect to=\"/\" />\n                )}\n            </Switch>\n        )\n    }\n\n    return (\n        <>\n            {routes}\n            {isAuthed && <ConnectWebsocket />}\n            {isAuthed && <NotificationsTracker />}\n            <RNBridge />\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: () => dispatch(actions.tryAuth()),\n        logout: () => dispatch(actions.logout()),\n        setLanguage: language => dispatch(actions.setLanguage(language)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(App)\n)\n","import ReactGA from 'react-ga'\n\nexport const initGA = trackingID => {\n    ReactGA.initialize(trackingID)\n}\n\nexport const PageView = () => {\n    ReactGA.pageview(window.location.pathname + window.location.search)\n}\n\nexport const Event = (category, action, label) => {\n    ReactGA.event({\n        category: category,\n        action: action,\n        label: label,\n    })\n}\n","import { createReducer } from '@reduxjs/toolkit'\n\nexport const initialState = {\n    isAuthed: false,\n    user: null,\n    currentAccount: '',\n    account: {},\n    friendData: {},\n    transactionData: {},\n    progressData: {},\n    currentProfile: '',\n    profile: {},\n    currentGoal: '',\n    currentPosts: [],\n    progress: {},\n    post: {},\n    postData: {},\n    reward: {},\n    activity: {},\n    currentReward: '',\n    currentActivity: '',\n    rewardData: {},\n    activityData: {},\n    pageTitle: {},\n    friendSearchResult: [],\n    accountNotActive: false,\n    lastNotifications: [],\n    isConnectingWS: false,\n    onlineUsers: [],\n    language: 'en',\n    recentShown: false,\n}\n\nconst reducer = createReducer(initialState, {\n    SET_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'isAuthed',\n                'currentAccount',\n                'currentProfile',\n                'currentPosts',\n                'currentReward',\n                'currentActivity',\n                'profile',\n                'currentGoal',\n                'progress',\n                'reward',\n                'activity',\n                'lastNotifications',\n                'onlineUsers',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    state[key] = action.data[key]\n                }\n            }\n\n            for (let key of [\n                'friendData',\n                'progressData',\n                'post',\n                'postData',\n                'rewardData',\n                'activityData',\n                'transactionData',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    for (let attr in action.data[key]) {\n                        if (action.data[key][attr]) {\n                            state[key][attr] = action.data[key][attr]\n                        }\n                    }\n                }\n            }\n            if (action.data.newOnlineUsers) {\n                state.onlineUsers = [\n                    ...state.onlineUsers,\n                    ...action.data.newOnlineUsers,\n                ]\n            }\n        }\n        if (state.user) {\n            if (state.user.currentAccount) {\n                state.currentAccount = state.user.currentAccount\n                state.accountNotActive = false\n            } else if (state.user.myAccount) {\n                state.currentAccount = state.user.myAccount\n                state.accountNotActive = false\n            } else {\n                state.accountNotActive = true\n            }\n        }\n    },\n    REMOVE_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'profile',\n                'progress',\n                'reward',\n                'activity',\n            ]) {\n                for (let item of action.data[key]) {\n                    if (state[key]._id === item) {\n                        state[key] = {}\n                    }\n                }\n            }\n            for (let key of [\n                'post',\n                'friendData',\n                'progressData',\n                'postData',\n                'rewardData',\n                'activityData',\n                'transactionData',\n            ]) {\n                for (let item of action.data[key]) {\n                    delete state[key][item]\n                }\n            }\n        }\n    },\n    SET_FRIEND_SEARCH_RESULT: (state: Object, action: Object) => {\n        state.friendSearchResult = action.data\n    },\n\n    SET_FRIENDS_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            state.account.friendsData = action.data\n        }\n        if (action.data.perk) state.perk = action.data.perk\n    },\n    SET_AVATAR_V: (state: Object, action: Object) => {\n        state.account.image = action.v\n    },\n    SET_LANGUAGE: (state: Object, action: Object) => {\n        state.language = action.language\n    },\n    INCREASE_AVATAR_V: (state: Object) => {\n        state.account.image = state.account.image + 1\n    },\n    SET_IS_AUTHED: (state: Object, action: Object) => {\n        state.isAuthed = action.id\n    },\n    SET_PAGE_TITLE: (state: Object, action: Object) => {\n        state.pageTitle = action.title\n    },\n    SET_ACCOUNT_ACTIVATED: (state: Object, action: Object) => {\n        state.accountNotActive = action.value\n    },\n    SET_CONNECTING_WS: (state: Object, action: Object) => {\n        state.isConnectingWS = action.data\n    },\n    SET_RECENT_SHOWN: (state: Object) => {\n        state.recentShown = true\n    },\n})\n\nexport default reducer\n","import dayjs from 'dayjs'\nimport updateLocale from 'dayjs/plugin/updateLocale'\nimport dayOfYear from 'dayjs/plugin/dayOfYear'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\ndayjs.extend(weekOfYear)\ndayjs.extend(relativeTime)\ndayjs.extend(dayOfYear)\ndayjs.extend(updateLocale)\n\ndayjs.updateLocale('en', {\n    // relativeTime: {\n    //     future: 'in %s',\n    //     past: '%s ago',\n    //     s: 'a few seconds',\n    //     m: 'a minute',\n    //     mm: '%d minutes',\n    //     h: 'an hour',\n    //     hh: '%d hours',\n    //     d: 'a day',\n    //     dd: '%d days',\n    //     M: 'a month',\n    //     MM: '%d months',\n    //     y: 'a year',\n    //     yy: '%d years',\n    // },\n    relativeTime: {\n        future: 'in %s',\n        past: '%s',\n        s: 'now',\n        ss: 'now',\n        m: '1 min',\n        mm: '%d mins',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 day',\n        dd: '%d days',\n        w: '1 wk',\n        ww: '%d wks',\n        M: '1 mth',\n        MM: '%d mths',\n        y: '1 year',\n        yy: '%d years',\n    },\n})\n\ndayjs.updateLocale('ru', {\n    relativeTime: {\n        future: 'через %s',\n        past: '%s',\n        s: 'сейчас',\n        ss: 'сейчас',\n        m: '1 мин',\n        mm: '%d мин',\n        h: '1 час',\n        hh: '%d часов',\n        d: '1 день',\n        dd: '%d дней',\n        w: '1 нед',\n        ww: '%d нед',\n        M: '1 мес',\n        MM: '%d мес',\n        y: '1 год',\n        yy: '%d лет',\n    },\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\n\nimport './index.css'\nimport App from './App'\nimport reducer from './store/reducer/reducer'\n//import * as serviceWorker from './serviceWorker';\nimport './setupDayjs'\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport { purple } from '@material-ui/core/colors'\nimport './translations/i18n'\n\nconst outerTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    typography: {\n        fontSize: 13,\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                backgroundColor: 'white',\n                color: '#333',\n            },\n        },\n    },\n})\n\nif (process.env.NODE_ENV === 'development') {\n    axios.defaults.baseURL = 'http://my.websiter.test:5000'\n} else {\n    axios.defaults.baseURL = 'https://addspire.com'\n}\n// axios.defaults.withCredentials = true\n\nexport const store = createStore(\n    reducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <ThemeProvider theme={outerTheme}>\n                <App />\n            </ThemeProvider>\n        </BrowserRouter>\n    </Provider>\n)\n\nconst root = document.getElementById('root')\n\nReactDOM.render(app, root)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}