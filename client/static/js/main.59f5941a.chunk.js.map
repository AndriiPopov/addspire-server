{"version":3,"sources":["components/Layout/LoginModal.module.css","assets/images/pin.png","components/UI/ImageCarousel/imageCarousel.module.css","components/Layout/Layout.module.css","containers/Profile/Profile.module.css","containers/Auth/AuthTest.tsx","utils/processRes.js","store/actions/auth.tsx","store/actions/saveResources.tsx","containers/ConnectWebsocket/methods/getListOfNeededResources.js","containers/ConnectWebsocket/methods/compareVersionsAndRerequest.js","containers/ConnectWebsocket/methods/getResourcesToMonitor.js","containers/ConnectWebsocket/ConnectWebsocket.tsx","containers/ConnectWebsocket/methods/requestResource.tsx","store/actions/updateResource.tsx","websocketActions/progresses.tsx","websocketActions/posts.tsx","websocketActions/account.tsx","websocketActions/friends.tsx","constants/fieldLength.js","constants/fieldRules.js","components/UI/ImageCarousel/ImageCarousel.tsx","utils/uploadFile.js","components/UI/ImagePickerMulti.tsx","components/UI/TinyEditor.tsx","components/UI/HorizontalScrollList.tsx","components/MasonryCard.tsx","utils/getAvatar.js","components/UserButton/UserButton.tsx","components/Post/AddMessage.tsx","components/UI/DialogFullscreen.tsx","components/FollowButton.tsx","components/UI/ReadMore.tsx","components/Post/EditPost.tsx","components/Post/Message.tsx","components/Rewards/Rewards.tsx","websocketActions/transactions.tsx","containers/Progress/ActivityTable.tsx","components/EditGoalAndProgressForm/ConnectionsSelect.tsx","containers/Explore/LocateControl.tsx","components/EditGoalAndProgressForm/EditGoalAndProgressForm.tsx","containers/Progress/EditProgress.tsx","components/UI/ShareButton.tsx","containers/Progress/Activity.tsx","components/Post/Post.tsx","components/Post/AddPost.tsx","utils/pullData.js","components/Layout/LoginModal.tsx","containers/Progresses/AddProgress.tsx","components/FriendActionButton.tsx","components/FriendCard.tsx","containers/Friends/AddFriends.tsx","components/Layout/Layout.tsx","containers/Progress/Progress.tsx","components/Welcome/index.tsx","containers/Blog/Blog.tsx","utils/masonryBreakPoints.js","components/MasonryGrid.tsx","components/ProgressButton.tsx","containers/Explore/MapSettings.tsx","containers/Explore/Explore.tsx","containers/Profile/Profile.tsx","containers/ActivateAccount/ActivateAccount.tsx","containers/Dashboard/NotificationsTracker.tsx","RNBridge.tsx","containers/Dashboard/DashboardEvents.tsx","websocketActions/dashboard.tsx","containers/Dashboard/DashboardPosts.tsx","App.tsx","components/TrackingGA/index.tsx","store/reducer/reducer.tsx","index.tsx"],"names":["module","exports","Container","socialButtons","Background","Dots","Layout","Header","Footer","HideHeader","FooterButton","TopHeader","BottomHeader","Main","MenuButtonContiner","QuickButtonContiner","PageTitle","Avatar","Cookies","processRes","res","props","data","logout","history","push","success","errorCode","message","warning","error","successCode","status","cookies","tryAuth","token","dispatch","sessionStorage","setItem","get","rememberMe","remove","path","userId","jwt_decode","axios","defaults","headers","post","put","delete","common","Accept","setIsAuthed","_id","id","type","setData","setPageTitle","title","setFriendSearchResult","getListOfNeededResources","store","requestedResources","user","account","progress","progressData","friendData","postData","transactionData","neededResources","isAuthed","currentAccount","_i","_arr","concat","Object","toConsumableArray","progresses","followProgresses","recentProgresses","length","_step","_iterator","getListOfNeededResources_createForOfIteratorHelper","followPosts","s","n","done","value","err","e","f","_step2","_iterator2","myPosts","_step3","_iterator3","transactions","transaction","_step4","_iterator4","friends","friend","_i2","_arr2","followingAccounts","followAccounts","item","currentProfile","profile","_i3","_arr3","_step5","_iterator5","_step6","_iterator6","_i4","_arr4","currentProgress","participants","owner","goal","users","likes","_step7","_iterator7","_step8","_iterator8","posts","currentPosts","_step9","_iterator9","postEl","_step10","_iterator10","parent","parentType","parentId","friendSearchResult","_step11","_iterator11","reduce","obj","attr","Array","from","Set","notNeededExist","notNeededResources","check1","key","mode","includes","check2","removeData","compareVersionsAndRerequest","versions","state","webSocket","checkData","requestResource","__v","check","getResourcesToMonitor","resources","addData","ConnectWebsocket","start","pingTimeout","WebSocket","heartbeat","_this","clearTimeout","setTimeout","close","send","JSON","stringify","messageCode","onopen","event","resourcesToMonitor","initializeRequestResources","onmessage","news","parse","messageText","setFriendsData","friendsData","saveResource","updateResource","code","update","set","expires","Date","getTime","text","onclose","checkInterval","readyState","clearInterval","setInterval","reRequestResourcesInterval","reRequestResources","group","ids","nextProps","newRequestedResources","_loop","filter","setState","this","setConnectingToWS","_loop2","Component","withRouter","connect","pulledFrom","actions","getState","myAccount","find","_createForOfIteratorHelper","notRequestedIds","applyDelta","source","delta","watchFields","result","cloneDeep","del","applyWithDot","keys","shift","split","applyUpdateToPart","updatedFields","applyDeleteToPart","splice","updateResource_createForOfIteratorHelper","removedFields","field","indexOf","parState","element","defineProperty","updateData","changeLikesProgress","accountId","progressId","add","changeLikesMessage","messageId","postId","followProgress","unfollowProgress","followAccount","accountFollow","unfollowAccount","addFriend","friendId","acceptFriend","unfriend","fieldLength","nicknameRules","required","whitespace","min","max","pattern","nameRules","accountNameRules","descriptionRules","ImageCarousel","_useState","useState","_useState2","slicedToArray","previewImage","setPreviewImage","images","react_default","a","createElement","Fragment","carousel","style","width","size","margin","dots","className","classes","map","image","index","onClick","backgroundImage","backgroundSize","backgroundPosition","height","maxWidth","backgroundRepeat","borderRadius","Modal","visible","footer","onCancel","alt","src","uploadFile","file","filename","callback","alert","reader","FileReader","onload","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","resizeImageToSpecificSize","urltoFile","then","getSignedRequest","stop","_x","apply","arguments","readAsArrayBuffer","url","mimeType","match","fetch","arrayBuffer","buf","File","cb","resizeImageFromSrcToSpecificSize","target","readAsDataURL","img","Image","widthCoef","heightCoef","oc","document","octx","getContext","drawImage","toDataURL","onerror","_unused","fileName","response","doUploadFile","catch","signedRequest","Content-Type","ImagePickerMulti","setImages","_useState3","_useState4","useEffect","onValueChange","upload","accept","listType","fileList","uid","onPreview","onChange","customRequest","_ref2","undefined","flex","display","alignItems","justifyContent","flexDirection","window","isRNWebView","stopPropagation","ReactNativeWebView","postMessage","PlusOutlined_default","Dialog","open","Boolean","onClose","DialogTitle","DialogContent","dividers","DialogActions","Button","color","TinyEditor","contentState","blocksFromHtml","htmlToDraft","contentBlocks","entityMap","ContentState","createFromBlockArray","convertToRaw","react_draft_wysiwyg","assign","placeholder","readOnly","wrapperClassName","editorClassName","defaultContentState","onContentStateChange","onEditorChange","onEditorChangePlain","convertFromRaw","getPlainText","toolbar","inline","inDropdown","list","textAlign","link","toolbarHidden","options","useStyles","makeStyles","theme","createStyles","fontSize","textTransform","fontWeight","addBox","palette","primary","main","HorizontalScrollList","items","empty","customEmpty","withAdd","Typography","gutterBottom","Paper","padding","overflowX","paddingBottom","Card","cursor","flexShrink","marginRight","position","minHeight","CardActionArea","onAdd","CardContent","Box","AddCircle","addTitle","content","placeholderImages","getPH","matches","imagePH","parseInt","Math","abs","round","x","makeRand","picture","objectSpread","boxShadow","noLink","wordBreak","body","marginLeft","react_router_dom","to","onClickLink","getAvatar","nickname","version","friendDataExp","getUserData","userName","name","typography","noWrap","userAvatar","avatar","noClick","noName","onlyName","Group","noAva","span","es_button","&>div::after","border","&>div::before","& textarea","setImageLoading","_useState5","_useState6","_useState7","replyToUser","_useState8","setMessageText","components_UserButton_UserButton","isTop","background","TextField","multiline","fullWidth","UI_ImagePickerMulti","messageValue","replyToMessage","editedMessage","replyTo","editingMessage","onSend","spanStyle","showUploadList","cancel","TransitionComponent","Slide","direction","appBar","spacing","DialogFullscreen","fullScreen","AppBar","Toolbar","IconButton","edge","aria-label","Close","variant","save","autoFocus","saveText","children","FollowButton","preventDefault","wsActions","ReadMore","overflow","setOverflow","setOpen","descRef","useRef","current","offsetHeight","initialHeight","contentEditor","maxHeight","ref","dangerouslySetInnerHTML","__html","bottom","zIndex","transition","opacity","left","EditPost","handleSave","handleCancel","marginTop","moment","updateLocale","relativeTime","future","past","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","format","Message","replies","isStart","replyVisible","setReplyVisible","setLikes","setReplyToUser","setEditingMessage","_useState9","_useState10","showReplies","setShowReplies","_useState11","_useState12","anchorEl","setAnchorEl","_useState13","_useState14","editMessageOpen","setEditMessageOpen","handleEditPostCancel","author","Post_AddMessage","date","fromNow","startMessage","messageType","currentTarget","MoreVertOutlined","Menu","keepMounted","MenuItem","Post_EditPost","Badge","anchorOrigin","vertical","horizontal","overlap","badgeContent","Chip","icon","ThumbUp","label","UI_ImageCarousel_ImageCarousel","reply","details","itemId","UI_ReadMore","MasonryCard","components_FollowButton","root","media","paddingTop","expand","transform","transitions","create","duration","shortest","expandOpen","backgroundColor","red","rewards","previewReward","setPreviewReward","previewRewardIndex","setPreviewRewardIndex","editedReward","setEditedReward","editedRewardIndex","setEditedRewardIndex","confirmOpen","setConfirmOpen","handleClose","saveReward","reward","rewardToSave","newRewards","CardMedia","itemImages","rewardId","itemName","withDate","isOwner","withConfirm","es_form","labelCol","wrapperCol","Item","rules","Input","itemDescription","onlyButton","indexIn","redTheme","createMuiTheme","overrides","MuiSelect","selectMenu","select","&:focus","fade","blueTheme","blue","greenTheme","green","orangeTheme","orange","customTheme","purple","MuiListItem","secondaryAction","paddingRight","paddingLeft","ActivityTable","showEarnedRewards","setShowEarnedRewards","lastStages","stages","slice","sort","b","aS","aF","bS","bF","old","day","year","dayOfYear","startOf","endOf","week","month","now","diff","nowStageId","stageId","ThemeProvider","tabs","defaultActiveKey","findIndex","toString","stage","stageDate","getStatus","dismissed","failBy","approvedBy","getStatusText","myStatus","stageStatus","getTag","Select","labelId","userStatus","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","tabTitle","TabPane","tab","badge","List","dense","paid","components_Rewards_Rewards","ConnectionsSelect","es_select","getPopupContainer","trigger","parentNode","Option","LocateControl","leaflet","lc","Locate","strings","onActivate","drawCircle","keepCurrentZoomLevel","addTo","withLeaflet","input","iconButton","divider","EditGoalAndProgressForm","leafletElement","ELG","GestureHandling","coordinates","setPosition","zoom","setZoom","descriptionText","descriptionPlain","setDescriptionPlain","_Form$useForm","Form","useForm","form","mapDragEnd","_zoom","getCenter","lat","lng","setFieldsValue","nomap","goalId","submit","onFinish","autoComplete","initialValues","repeat","days","onValuesChange","changedFields","allValues","valuePropName","getValueFromEvent","noStyle","shouldUpdate","prevValues","currentValues","getFieldValue","Map","center","ondragend","onmoveend","gestureHandling","TileLayer","attribution","Explore_LocateControl","require","top","pointerEvents","touchAction","EditProgress","components_EditGoalAndProgressForm_EditGoalAndProgressForm","editProgressOpen","removeAttribute","alertVisible","setAlertVisible","basicProps","location","href","Tooltip","enterDelay","leaveDelay","startIcon","Share","FacebookShareButton","quote","FacebookIcon","TwitterShareButton","TwitterIcon","TelegramShareButton","TelegramIcon","PinterestShareButton","PinterestIcon","LinkedinShareButton","LinkedinIcon","VKShareButton","VKIcon","EmailShareButton","subject","EmailIcon","lib","onCopy","FileCopy","Snackbar","autoHideDuration","Alert","severity","heading","pxToRem","secondaryHeading","verticalAlign","column","flexBasis","helper","borderLeft","textDecoration","&:hover","followersVisible","setFollowersVisible","dropDownMeuItems","getDropDownMeuItems","Helmet","UI_ShareButton","Progress_ActivityTable","RetweetOutlined_default","getRepeatType","acc","val","getDay","Divider","light","marginBottom","description","Progress_EditProgress","isPostPage","pathname","postOpen","setPostOpen","postRef","scrollTo","offsetTop","behavior","elevation","noStartMessage","Post_Message","ThumbUpOutlined","AddCommentOutlined","messages","Post_createForOfIteratorHelper","getNumberOfMessages","pullData","cookieConsent","setCookieConsent","checkCookieConsent","remeberMeParam","basicURL","loginVisible","setLoginVisible","lineHeight","dist","FormControlLabel","control","Checkbox","checked","DialogContentText","maxAge","AddProgress","setStartProgressVisible","FriendActionButton","invitingFriends","invitedFriends","realFriends","handleClick","additionalButtons","button","minimized","asText","noFollow","forceAuth","components_FriendActionButton","asIcons","searchResult","setSearchField","searchField","AddFriends_createForOfIteratorHelper","fullFriend","align","InputBase","search","SearchOutlined","components_FriendCard","speedDial","right","login","home","lastNotifications","isConnectingWS","domRef","useMediaQuery","breakpoints","up","startProgressVisible","addFriendOpen","setAddFriendOpen","speedDialOpen","setSpeedDialOpen","openLink","isActivating","numberOfUnseenNots","Layout_createForOfIteratorHelper","not","notId","lastSeenNot","logedIn","scrollTrigger","useScrollTrigger","removeGutters","paths","checkPagePath","cll","appear","in","LinearProgress","disableGutters","tabIndex","goBack","ArrowBack","header","SpeedDial","ariaLabel","SpeedDialIcon","focus","onOpen","SpeedDialAction","Person","tooltipTitle","whiteSpace","tooltipOpen","Star","textOrientation","writingMode","Fab","HomeRounded","Notifications","Layout_LoginModal","Friends_AddFriends","Progresses_AddProgress","pathParts","Progress_createForOfIteratorHelper","sub","worker","Progress_Activity","Post_AddPost","components_Post_Post","reverse","modal","Welcome","setTitle","replace","friendsBreakPoints","default","1600","1100","600","cardBreakPoints","700","310","MasonryGrid","react_masonry_css_es5_default","breakpointCols","columnClassName","MapSettings","mapVisible","setMapVisible","setIsSearching","setNoMore","setFoundProgresses","onSearch","onGetPopular","setSearch","radius","setRadius","withMap","getRadius","metresPerPixel","cos","PI","pow","getZoom","units","distance","Grid","container","xs","sm","Switch","Slider","valueLabelDisplay","whenReady","sortProgresses","views","isSearching","foundProgresses","setProgresses","noMore","noMorePopular","setNoMorePopular","_useState15","_useState16","setValue","noNoMore","skip","newFriendData","Explore_createForOfIteratorHelper","loadedProgresses","orientation","LocationOn","Explore_MapSettings","react_infinite_scroller_default","pageStart","loadMore","hasMore","loader","sectionTitle","increaseAvatarV","currentTab","setCurrentTab","classesM","deleteVisible","setDeleteVisible","deleteField","setDeleteField","profileId","Profile_createForOfIteratorHelper","wishlist","newTransactions","recievedTransactions","_ref3","Title","level","editable","Edit","maxLength","autoSize","minRows","maxRows","components_ProgressButton","accountNotActive","setAccountActivated","es_layout","nicknameNotUnique","offset","htmlType","statePosts","sortNotifiacations","NotificationsTracker_createForOfIteratorHelper","notifications","filterSameNot","arr","myNotifications","isEqual","addEventListener","console","getRewardText","money","simple","p","v","stageName","price","buyer","as","getStageName","progressName","addedAccounts","ac","droppedAccounts","for","comment","setPosts","startTime","sortPosts","aN","bN","DashboardPosts_createForOfIteratorHelper","newPosts","newUnseenPosts","newOldPosts","oldPosts","oldPostIndex","_newOldPosts","resultPosts","neededPosts","nots","Dashboard_DashboardEvents","mountedRef","auth","useCallback","abrupt","t0","trackingID","ReactGA","initialize","pageview","Logout","react_router","routes","exact","component","Explore","DashboardPosts","Progress","Profile","Blog","ActivateAccount","process","containers_ConnectWebsocket_ConnectWebsocket","Dashboard_NotificationsTracker","src_RNBridge","reducer","createReducer","pageTitle","SET_DATA","action","REMOVE_DATA","reducer_createForOfIteratorHelper","SET_FRIEND_SEARCH_RESULT","SET_FRIENDS_DATA","perk","SET_AVATAR_V","INCREASE_AVATAR_V","SET_IS_AUTHED","SET_PAGE_TITLE","SET_ACCOUNT_ACTIVATED","SET_CONNECTING_WS","__webpack_require__","__webpack_exports__","src_store","outerTheme","MuiAppBar","colorSecondary","baseURL","createStore","composeWithDevTools","applyMiddleware","thunk","app","es","src_App","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.59f5941a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LoginModal_Container__1PdGZ\",\"socialButtons\":\"LoginModal_socialButtons__1H9u7\",\"Background\":\"LoginModal_Background__2foqr\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAMAAACjKNoqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1FBMVEUAAADbJCTWNjbZNTTYNjXYNjXYNTXZNjbYNjTXNTX/AADXNjLYNjXZNTXoPDvjOjrYNTTYNTTVNDTXNjTYNjXsPT3nPDzYNjXXMzPYNTXaNjXZNzXWNDTYNjXYNTXjOTnYNjXsPj3YNTT/VVXYNDTbNzbYNjPYNjXqPDzoOzrYNTPZNTTYNzXXNTTYNTTYNTTZNzbXNTPpPTzYNjXXNTXcNzbXNDTbNzfYNTTVOTnXNTPeODfgOTjYNTXYOzvYNjXWMzPZNTXcODfWNjPYNTXqPDzYNjXYNzPXNDTZNTXkOjrnPDzZMzPYNTTYNjXiOzrkOzrYNTTaODLXNDPZNTXYNjXrPT3YNTTaNjXYNjTmOzrYNTXWNTXZNTTWNDS/QEDYNjXXNTTYNDToOzvpPDzYNTXcNzbdODfbNzfbNzfbMzPZNjXcNjbZNjbYNjbyQED2QkL1QkHvQD/+Rkb/Rkb8RUX3QkL0QUH4Q0PvPz/VNDSmISH9RUVZAACnISHzQUHYNjZaAADZNjbyQUCrIyOsIyOuJCTxQEDdODhaAQHeODiyJSVbAQGyJibqPDzgOTmzJib0QkL/RUX+RUX6Q0P8RET5Q0PsPj3zQED0QkHXNTT///9fYCXAAAAAb3RSTlMAB1Gt4ff01pg6AUzj+Pz5/M0xjvv++/xtm/l+XfpICe3+4QNi91W3/v2p6uX6+ffkrv6yYPdnDvYSh/f4lQ3uGfn3d9n95EFTuvr8KP2b+PqsKf41y/7Y+PP7pET5SgTx9av9/mH29hzpI9XCXnctusQjAAAAAWJLR0Sb79hXhAAAAAd0SU1FB+EMCQINAvEQCwMAAAFuSURBVCjPZdH3O0JRGAfwN7sIEdcoIdkKkb2yV/bee3OrazUkERFlhPy1Ouc27q3vT9/n8zz33HPeFwCFExUdExsXn8DlQTCJSfzkM1KrS0kVpPmJly7M0FM455lEFo3ZORdUMJfCXGQi8RXFCEnkAUjyrylWCgqlUCSjzzMYjQZcTPxiKCnF1Wj25QbXsnKosKBya0VovUPdVglVJCr3ZpwH/Cs5KLSo2Gm0o65VQPUjKk8OZI5n/+c1tfj0F6fZ7HzF9U0JdTL6ei6320W3ehU0NFrYl3+XNwE0t3ywsLXN9/b2Dh3TbIpONBFVlylkn+puPDppTy9jHH0ceqD9xFfAPOKBwDoGhwI4LAhuaYQgafse5YY2pxmjcXwiZDA5hU/1ENMMhJlZhD9zTAPRPFqKWsVCycIvRXkV7SwEje9Wi0tsg2WhXr+yGoZr6xbvBicMYXNrWxlusLO7p4rA/b+DwwiEo+NIg5PTYP0HPpevTLcESqcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTItMDlUMDI6MTM6MDErMDA6MDA/mojaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEyLTA5VDAyOjEzOjAxKzAwOjAwTscwZgAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dots\":\"imageCarousel_Dots__3XuKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3q-xb\",\"Header\":\"Layout_Header__J8BzQ\",\"Footer\":\"Layout_Footer__1UfUY\",\"HideHeader\":\"Layout_HideHeader__2uuFO\",\"FooterButton\":\"Layout_FooterButton__VhJUa\",\"TopHeader\":\"Layout_TopHeader__277Y8\",\"BottomHeader\":\"Layout_BottomHeader__3YPE5\",\"Main\":\"Layout_Main__Py9vL\",\"MenuButtonContiner\":\"Layout_MenuButtonContiner__2imT-\",\"QuickButtonContiner\":\"Layout_QuickButtonContiner__3mw1U\",\"PageTitle\":\"Layout_PageTitle__1_EDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Profile_Avatar__3n37F\"};","import React from 'react'\n\nimport Form from 'antd/es/form'\nimport Input from 'antd/es/input'\nimport Button from 'antd/es/button'\nimport axios from 'axios'\nimport Cookies from 'universal-cookie'\n\nconst cookies = new Cookies()\n\nconst Auth = props => {\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n    const onFinish = value => {\n        axios\n            .post('/api/authtest/' + value.id)\n            .then(res => {\n                cookies.set('auth_token', res.data.cookie)\n                props.onTryAutoSignup()\n            })\n            .catch(err => {})\n    }\n    return (\n        <Form\n            name=\"dynamic_form_nest_item\"\n            onFinish={onFinish}\n            autoComplete=\"off\"\n            {...layout}\n        >\n            <Form.Item\n                label=\"Id\"\n                name=\"id\"\n                rules={[\n                    { required: true, message: 'Please input the goal name.' },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                    Save\n                </Button>\n            </Form.Item>\n        </Form>\n    )\n}\n\nexport default Auth\n","import message from 'antd/es/message'\n\nexport default (res, props) => {\n    if (res.data.logout) props.history.push('/logout')\n    if (res.data.success === false) {\n        if (res.data.errorCode) {\n            switch (res.data.errorCode) {\n                case 'no account':\n                    message.warning('Account is not found. Please login.')\n                    break\n                case 'bad data':\n                    message.error(\n                        'Error. Please try one more time with correct data.'\n                    )\n                    break\n                case 'progress exist':\n                    message.warning('This progress already exists.')\n                    break\n                default:\n                    message.warning(\n                        'Something wrong has happened... Try again!'\n                    )\n                    break\n            }\n        } else {\n            message.error('Something failed')\n        }\n    } else {\n        if (res.data.successCode) {\n            switch (res.data.successCode) {\n                case 'avatar saved':\n                    message.success('The avatar image has been updated.')\n                    break\n                case 'success':\n                    message.success('Success!')\n                    break\n                case 'item saved':\n                    message.success('Item is saved')\n                    break\n                case 'prgress created':\n                    message.success('Progress has started!')\n                    break\n                default:\n                    message.success('Success!')\n                    break\n            }\n        }\n    }\n    if (res.data.status && res.data.status === 'no account')\n        props.history.push('/activate-account')\n}\n","import axios from 'axios'\n\nimport Cookies from 'universal-cookie'\nimport jwt_decode from 'jwt-decode'\n\nimport processRes from '../../utils/processRes'\n\nconst cookies = new Cookies()\n\nexport const tryAuth = token => (dispatch: Object) => {\n    sessionStorage.setItem('systemRefresh', '0')\n    if (!token) {\n        token = cookies.get('auth_token')\n        const rememberMe = cookies.get('rememberme')\n        if (rememberMe) {\n            cookies.remove('rememberme', {\n                path: '/',\n            })\n            if (rememberMe === 'false') {\n                cookies.remove('auth_token', {\n                    path: '/',\n                })\n            }\n        }\n    }\n\n    const userId = jwt_decode(token)\n    axios.defaults.headers.post['Content-Type'] = 'application/json'\n    axios.defaults.headers.put['Content-Type'] = 'application/json'\n    axios.defaults.headers.delete['Content-Type'] = 'application/json'\n    axios.defaults.headers.common.Accept = 'application/json'\n    if (token && userId) {\n        axios.defaults.headers.common['x-auth-token'] = token\n        axios.defaults.headers.post['x-auth-token'] = token\n        axios.defaults.headers.get['x-auth-token'] = token\n        axios.defaults.headers.delete['x-auth-token'] = token\n        axios.defaults.headers.put['x-auth-token'] = token\n        dispatch(setIsAuthed(userId._id))\n    } else {\n        dispatch(setIsAuthed(null))\n    }\n}\n\nconst setIsAuthed = id => ({\n    type: 'SET_IS_AUTHED',\n    id,\n})\n\nexport const logout = () => dispatch => {\n    cookies.remove('rememberme', {\n        path: '/',\n    })\n    cookies.remove('auth_token', {\n        path: '/',\n    })\n    delete axios.defaults.headers.common['x-auth-token']\n    delete axios.defaults.headers.post['x-auth-token']\n    delete axios.defaults.headers.get['x-auth-token']\n    delete axios.defaults.headers.delete['x-auth-token']\n    delete axios.defaults.headers.put['x-auth-token']\n    dispatch(setIsAuthed(false))\n}\n\nexport const setData = data => ({\n    type: 'SET_DATA',\n    data,\n})\n\nexport const setConnectingToWS = data => ({\n    type: 'SET_CONNECTING_WS',\n    data,\n})\n\nexport const removeData = data => ({\n    type: 'REMOVE_DATA',\n    data,\n})\n\nexport const setFriendsData = data => ({\n    type: 'SET_FRIENDS_DATA',\n    data,\n})\n\nexport const setAvatarV = v => ({\n    type: 'SET_AVATAR_V',\n    v,\n})\n\nexport const increaseAvatarV = () => ({\n    type: 'INCREASE_AVATAR_V',\n})\n\nexport const setPageTitle = title => ({\n    type: 'SET_PAGE_TITLE',\n    title,\n})\n\nexport const buyPerk = (account, perk, owner, props) => dispatch => {\n    const currency = account.wallet.find(item => item.user === owner._id)\n    if (currency && currency.amount >= perk.price) {\n        axios\n            .post('/api/shop/buy', {\n                perkId: perk.perkId,\n                ownerId: owner._id,\n            })\n            .then(res => {\n                processRes(res)\n                if (res.data.success) {\n                    dispatch(setData(res.data, props.history.location.pathname))\n                }\n            })\n            .catch(err => {})\n    } else {\n        alert(\n            'You cannot buy this item as you do not have enough money from this user.'\n        )\n    }\n}\n\nexport const confirmTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/confirm', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const cancelTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/cancel', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const setFriendSearchResult = data => ({\n    type: 'SET_FRIEND_SEARCH_RESULT',\n    data,\n})\n\nexport const setAccountActivated = value => ({\n    type: 'SET_ACCOUNT_ACTIVATED',\n    value,\n})\n","import { setData } from './auth'\n\nexport const saveResource = (data, type) => (dispatch, getState) => {\n    if (data.length > 0) {\n        const state = getState()\n        switch (type) {\n            case 'user':\n                const user = data[0]\n                let currentAccount = user.currentAccount\n                if (!currentAccount) currentAccount = user.myAccount\n                // if(!currentAccount)\n                //activate-account\n                dispatch(setData({ user, currentAccount }))\n                break\n            case 'account':\n                const account = data.find(\n                    item => item._id === state.currentAccount\n                )\n                if (account) {\n                    dispatch(setData({ account }))\n                }\n\n                const profile = data.find(\n                    item => item._id === state.currentProfile\n                )\n                if (profile) {\n                    dispatch(setData({ profile }))\n                }\n\n                break\n            case 'progress':\n                const progress = data.find(\n                    item => item._id === state.currentProgress\n                )\n                if (progress) {\n                    dispatch(setData({ progress }))\n                }\n                break\n\n            case 'post':\n                let post = {}\n                for (let item of data) {\n                    post[item._id] = item\n                }\n                dispatch(setData({ post }))\n                break\n            case 'friendData':\n                let friendData = {}\n                for (let item of data) {\n                    friendData[item._id] = item\n                }\n                dispatch(setData({ friendData }))\n                break\n            case 'progressData':\n                let progressData = {}\n                for (let item of data) {\n                    progressData[item._id] = item\n                }\n                dispatch(setData({ progressData }))\n                break\n            case 'transactionData':\n                let transactionData = {}\n                for (let item of data) {\n                    transactionData[item._id] = item\n                }\n                dispatch(setData({ transactionData }))\n                break\n            case 'postData':\n                let postData = {}\n                for (let item of data) {\n                    postData[item._id] = item\n                }\n                dispatch(setData({ postData }))\n                break\n\n            default:\n                break\n        }\n    }\n}\n","export default props => {\n    const createEmptyObj = () => ({\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n    })\n    const { store } = props\n    const requestedResources = createEmptyObj()\n    const neededResources = createEmptyObj()\n    if (store.isAuthed) {\n        if (!store.user) {\n            requestedResources.user.push(store.isAuthed)\n        } else {\n            neededResources.user.push(store.user._id)\n            if (store.currentAccount) {\n                if (store.account._id !== store.currentAccount) {\n                    requestedResources.account.push(store.currentAccount)\n                } else {\n                    neededResources.account.push(store.account._id)\n                    for (let progress of [\n                        ...store.account.progresses,\n                        ...store.account.followProgresses,\n                        ...store.account.recentProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let post of store.account.followPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let post of store.account.myPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let transaction of store.account.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n                    for (let friend of store.account.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let item of [\n                        ...store.account.followingAccounts,\n                        ...store.account.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n            if (store.currentProfile) {\n                if (store.profile._id !== store.currentProfile) {\n                    requestedResources.account.push(store.currentProfile)\n                } else {\n                    neededResources.account.push(store.profile._id)\n                    for (let progress of [\n                        ...store.profile.progresses,\n                        ...store.profile.followProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let transaction of store.profile.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n\n                    for (let friend of store.profile.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let item of [\n                        ...store.profile.followingAccounts,\n                        ...store.profile.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n\n            if (store.currentProgress) {\n                if (store.progress._id !== store.currentProgress) {\n                    requestedResources.progress.push(store.currentProgress)\n                } else {\n                    neededResources.progress.push(store.progress._id)\n                    let participants = []\n                    if (store.progress.owner)\n                        participants.push(store.progress.owner)\n                    if (store.progress.goal.users)\n                        participants = participants.concat(\n                            store.progress.goal.users\n                        )\n                    if (store.progress.likes)\n                        participants = participants.concat(store.progress.likes)\n                    if (store.progress.followingAccounts)\n                        participants = participants.concat(\n                            store.progress.followingAccounts\n                        )\n\n                    for (let friend of participants) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n                    for (let post of store.progress.posts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                }\n            }\n            if (store.currentPosts) {\n                for (let post of store.currentPosts) {\n                    const postEl = store.post[post]\n                    if (!postEl) {\n                        requestedResources.post.push(post)\n                    } else {\n                        neededResources.post.push(post)\n                        for (let friend of postEl.users) {\n                            if (!store.friendData[friend]) {\n                                requestedResources.friendData.push(friend)\n                            }\n                            neededResources.friendData.push(friend)\n                        }\n                        if (post.parent) {\n                            if (post.parent.parentType === 'progress')\n                                neededResources.progressData.push(\n                                    post.parent.parentId\n                                )\n                        }\n                    }\n                }\n            }\n            if (store.friendSearchResult && store.friendSearchResult.length > 0)\n                for (let friend of store.friendSearchResult) {\n                    if (!store.friendData[friend._id]) {\n                        requestedResources.friendData.push(friend._id)\n                    }\n                    neededResources.friendData.push(friend._id)\n                }\n        }\n    }\n\n    const reduce = obj => {\n        for (let attr in obj) {\n            if (obj[attr]) {\n                obj[attr] = Array.from(new Set(obj[attr]))\n            }\n        }\n    }\n\n    reduce(neededResources)\n    const notNeededResources = createEmptyObj()\n    notNeededResources.profile = []\n    let notNeededExist\n    const check1 = (key, mode) => {\n        if (\n            store[mode]._id &&\n            !neededResources[key].includes(store[mode]._id)\n        ) {\n            notNeededResources[mode].push(store[mode]._id)\n            notNeededExist = true\n        }\n    }\n    const check2 = key => {\n        for (let attr in store[key]) {\n            if (!neededResources[key].includes(attr)) {\n                notNeededResources[key].push(attr)\n                notNeededExist = true\n            }\n        }\n    }\n    check1('account', 'account')\n    check1('account', 'profile')\n    check1('progress', 'progress')\n    check2('post')\n    check2('friendData')\n    check2('progressData')\n    check2('transactionData')\n    check2('postData')\n\n    if (notNeededExist) {\n        props.removeData(notNeededResources)\n    }\n\n    reduce(requestedResources)\n\n    return requestedResources\n}\n","import requestResource from './requestResource'\n\nexport default (versions, state, store, webSocket) => {\n    const notNeededResources = {\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n    }\n\n    const checkData = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key][attr]) {\n                    if (store[key][attr] !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    const check = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key]._id === attr) {\n                    if (store[key].__v !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                    if (!store[key]._id) notNeededResources[key].push(attr)\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    for (let attr in versions.user) {\n        if (typeof versions.user[attr] !== 'undefined') {\n            if (store.user._id === attr) {\n                if (store.user.__v !== versions.user[attr]) {\n                    requestResource('user', [attr], state)\n                }\n            } else notNeededResources.user.push(attr)\n        }\n    }\n\n    for (let attr in versions.account) {\n        if (typeof versions.account[attr] !== 'undefined') {\n            if (store.account._id === attr) {\n                if (store.account.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n            }\n            if (store.profile._id === attr) {\n                if (store.profile.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n                if (!store.account._id) notNeededResources.account.push(attr)\n            }\n        }\n        if (store.account._id !== attr && store.profile._id !== attr)\n            notNeededResources.account.push(attr)\n    }\n\n    check('progress')\n\n    checkData('post')\n    checkData('friendData')\n    checkData('progressData')\n    checkData('postData')\n    checkData('transactionData')\n\n    if (\n        notNeededResources.user.length > 0 ||\n        notNeededResources.account.length > 0 ||\n        notNeededResources.progress.length > 0 ||\n        notNeededResources.post.length > 0 ||\n        notNeededResources.friendData.length > 0 ||\n        notNeededResources.progressData.length > 0 ||\n        notNeededResources.postData.length > 0 ||\n        notNeededResources.transactionData.length > 0\n    ) {\n        return notNeededResources\n    }\n}\n","export default props => {\n    const { store } = props\n    const resources = {\n        user: {},\n        account: {},\n        progress: {},\n        post: {},\n        transactionData: {},\n        friendData: {},\n        progressData: {},\n        postData: {},\n    }\n\n    if (store.user && store.user._id) {\n        resources.user[store.user._id] = store.user.__v\n    }\n\n    if (store.account._id) {\n        resources.account[store.account._id] = store.account.__v\n    }\n    if (store.profile._id) {\n        resources.account[store.profile._id] = store.profile.__v\n    }\n    if (store.progress._id) {\n        resources.progress[store.progress._id] = store.progress.__v\n    }\n\n    const addData = key => {\n        for (let item in store[key]) {\n            if (typeof store[key][item] !== 'undefined') {\n                if (store[key][item]._id) {\n                    resources[key][store[key][item]._id] = store[key][item].__v\n                }\n            }\n        }\n    }\n\n    addData('post')\n    addData('friendData')\n    addData('postData')\n    addData('progressData')\n    addData('TransactionData')\n\n    return resources\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport message from 'antd/es/message'\nimport getListOfNeededResources from './methods/getListOfNeededResources'\nimport compareVersionsAndRerequest from './methods/compareVersionsAndRerequest'\nimport getResourcesToMonitor from './methods/getResourcesToMonitor'\nimport Cookies from 'universal-cookie'\n\nexport let webSocket = false\nconst cookies = new Cookies()\n\nclass ConnectWebsocket extends Component {\n    state = {\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        friendData: [],\n        progressData: [],\n        postData: [],\n        transactionData: [],\n    }\n    start = () => {\n        let url\n        if (process.env.NODE_ENV === 'development') {\n            url = 'ws://my.websiter.test:5000'\n        } else {\n            url = 'wss://addspire.com'\n        }\n        let pingTimeout\n        webSocket = new WebSocket(url)\n\n        const heartbeat = versions => {\n            let notNeededResources\n            if (versions) {\n                notNeededResources = compareVersionsAndRerequest(\n                    versions,\n                    this.state,\n                    this.props.store,\n                    webSocket\n                )\n            }\n            clearTimeout(pingTimeout)\n\n            pingTimeout = setTimeout(() => {\n                webSocket.close()\n            }, 30000 + 1000)\n\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'heartbeat',\n                    notNeededResources,\n                    //get back list of online friends\n                })\n            )\n        }\n\n        webSocket.onopen = event => {\n            const resourcesToMonitor = getResourcesToMonitor(this.props)\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'auth',\n                    user: axios.defaults.headers.common['x-auth-token'],\n                    resourcesToMonitor,\n                    // progressId: this.props.progress._id,\n                })\n            )\n            this.initializeRequestResources(this.props)\n            heartbeat()\n        }\n\n        webSocket.onmessage = event => {\n            const news = JSON.parse(event.data)\n\n            switch (news.messageCode) {\n                case 'heartbeat':\n                    heartbeat(news.versions)\n                    break\n                case 'logout':\n                    this.props.logout()\n                    this.props.history.push('/logout')\n                    break\n\n                case 'successMessage':\n                    message.success(news.messageText)\n                    break\n                case 'errorMessage':\n                    message.error(news.messageText)\n                    break\n                case 'friendsData':\n                    this.props.setFriendsData(news.friendsData)\n                    break\n                case 'redirectToProgresses':\n                    this.props.history.push('/goals')\n                    break\n                case 'addResource':\n                    this.props.saveResource(news.resources, news.type)\n                    break\n                case 'updateResource':\n                    this.props.updateResource(\n                        news.code,\n                        news.id,\n                        news.update,\n                        this.state\n                    )\n                    break\n                case 'friendSearchResult':\n                    this.props.setFriendSearchResult(news.data)\n                    break\n\n                // case 'update':\n                //     let newProgress\n                //     let oldProgress = cloneDeep(this.props.progress)\n                //     if (oldProgress.__v === news.progress.__v - 1) {\n                //         newProgress = diffpatcher.patch(\n                //             oldProgress,\n                //             news.progress.patch\n                //         )\n                //         newProgress.__v = news.progress.__v\n                //         this.props.setData(\n                //             {\n                //                 progress: newProgress,\n                //             },\n                //             this.props.history.location.pathname\n                //         )\n                //     }\n                //     wsActions.getFriendsData(\n                //         newProgress || this.props.progress,\n                //         this.props.account.friends\n                //     )\n                //     break\n                case 'authSuccess':\n                    axios.defaults.headers.common['x-auth-token'] &&\n                        cookies.set(\n                            'auth_token',\n                            axios.defaults.headers.common['x-auth-token'],\n                            {\n                                path: '/',\n                                expires: new Date(\n                                    new Date().getTime() +\n                                        6 * 24 * 60 * 60 * 1000\n                                ),\n                            }\n                        )\n                    break\n                case 'error':\n                    message.error(news.text)\n                    break\n                // case 'notFoundResource':\n                //     this.markNotFoundResource(data)\n                //     break\n                default:\n                    break\n            }\n        }\n        webSocket.onclose = event => {\n            clearTimeout(pingTimeout)\n        }\n    }\n\n    // markNotFoundResource = data => {\n    //     const requestedResources = this.state.requestedResources.filter(\n    //         item => item.id.toString() === data._id.toString()\n    //     )\n    //     this.setState({ requestedResources })\n    // }\n\n    checkInterval = null\n\n    check = () => {\n        if (!webSocket || webSocket.readyState === 3) {\n            clearInterval(this.checkInterval)\n            this.checkInterval = setInterval(this.check, 5000)\n            this.start()\n        }\n    }\n    // componentWillMount() {\n    //     this.checkInterval = setInterval(this.check, 50)\n    // }\n\n    reRequestResourcesInterval = null\n    reRequestResources = () => {\n        for (let group of [\n            'user',\n            'account',\n            'progress',\n            'post',\n            'postData',\n            'progressData',\n            'friendData',\n            'transactionData',\n        ]) {\n            if (this.state[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: this.state[group],\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.checkInterval)\n        if (webSocket) {\n            webSocket.close()\n        }\n        this.props.setConnectingToWS(false)\n    }\n    componentDidMount() {\n        this.checkInterval = setInterval(this.check, 50)\n        this.props.setConnectingToWS(true)\n    }\n    // componentWillReceiveProps(nextProps) {\n    //     this.initializeRequestResources(nextProps)\n    // }\n    // componentDidUpdate() {\n    //     this.initializeRequestResources(this.props)\n    // }\n    initializeRequestResources = nextProps => {\n        const newRequestedResources = getListOfNeededResources(nextProps)\n        for (let group of [\n            'user',\n            'account',\n            'progress',\n            'post',\n            'postData',\n            'progressData',\n            'friendData',\n            'transactionData',\n        ]) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !this.state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        this.setState(() => newRequestedResources)\n        clearInterval(this.reRequestResourcesInterval)\n        this.reRequestResourcesInterval = setInterval(\n            this.reRequestResources,\n            3000\n        )\n    }\n\n    static getDerivedStateFromProps(nextProps, state) {\n        const newRequestedResources = getListOfNeededResources(nextProps)\n        for (let group of [\n            'user',\n            'account',\n            'progress',\n            'post',\n            'postData',\n            'progressData',\n            'friendData',\n            'transactionData',\n        ]) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        // clearInterval(this.reRequestResourcesInterval)\n        // this.reRequestResourcesInterval = setInterval(\n        //     this.reRequestResources,\n        //     3000\n        // )\n        return newRequestedResources\n    }\n    render() {\n        return null\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        store: state,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        removeData: data => dispatch(actions.removeData(data)),\n        saveResource: (data, type) =>\n            dispatch(actions.saveResource(data, type)),\n        setFriendsData: data => dispatch(actions.setFriendsData(data)),\n\n        updateResource: (code, id, update, state) =>\n            dispatch(actions.updateResource(code, id, update, state)),\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n        setConnectingToWS: data => dispatch(actions.setConnectingToWS(data)),\n\n        logout: () => dispatch(actions.logout()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ConnectWebsocket)\n)\n","import { webSocket } from '../ConnectWebsocket'\n\nexport default (type, ids, state) => {\n    const notRequestedIds = ids.filter(id => !state[type].includes(id))\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'requestResource',\n                ids: notRequestedIds,\n                type,\n            })\n        )\n    }\n}\n","import requestResource from '../../containers/ConnectWebsocket/methods/requestResource'\nimport * as actions from './index'\nimport cloneDeep from 'lodash.clonedeep'\n\nconst applyDelta = (source, delta, watchFields) => {\n    // console.log('---------------------------APLY DELTA------------------------')\n    // console.log('----------------source----------------')\n    // console.log(source)\n    // console.log('----------------delta-------------------')\n    // console.log(delta)\n    const result = cloneDeep(source)\n\n    const applyUpdateToPart = (res, del, watchFields) => {\n        const applyWithDot = (res, keys, del) => {\n            if (keys.length > 1) {\n                const key = keys.shift()\n                applyWithDot(res[key], keys, del)\n            } else {\n                if (typeof res === 'array') {\n                    res.push(del)\n                } else {\n                    res[keys[0]] = del\n                }\n            }\n        }\n        for (let attr in del) {\n            const keys = attr.split('.')\n            if (!watchFields || watchFields.includes(keys[0])) {\n                if (typeof del[attr] !== 'undefined') {\n                    applyWithDot(res, keys, del[attr])\n                }\n            }\n        }\n    }\n\n    applyUpdateToPart(result, delta.updatedFields, watchFields)\n\n    const applyDeleteToPart = (result, keys) => {\n        if (keys.length > 1) {\n            const key = keys.shift()\n            applyDeleteToPart(result[key], keys)\n        } else {\n            if (typeof result === 'object') {\n                delete result[keys[0]]\n            } else if (typeof result === 'array') {\n                result.splice(keys[0], 1)\n            }\n        }\n    }\n\n    for (let field of delta.removedFields) {\n        if (field.indexOf('.') > -1) {\n            const keys = field.split('.')\n            if (!watchFields || watchFields.includes(keys[0]))\n                applyDeleteToPart(result, keys)\n        } else {\n            delete result[field]\n        }\n    }\n    // console.log('--------------------------------result----------------')\n    // console.log(result)\n    return result\n}\n\nexport const updateResource = (code, id, update, parState) => (\n    dispatch,\n    getState\n) => {\n    if (update && id && code) {\n        const state = getState()\n        const check = key => {\n            if (state[key]._id === id) {\n                if (state[key].__v === update.updatedFields.__v - 1) {\n                    const element = applyDelta(state[key], update)\n                    dispatch(actions.setData({ [key]: element }))\n                } else {\n                    if (state[key].id) requestResource(code, [id], parState)\n                }\n            }\n        }\n        const check2 = (key, watchFields) => {\n            let updateData = {\n                [key]: cloneDeep(state[key]),\n            }\n            const friend = updateData[key][id]\n            if (friend) {\n                if (friend.__v === update.updatedFields.__v - 1) {\n                    updateData[key][id] = applyDelta(\n                        friend,\n                        update,\n                        watchFields\n                    )\n                    dispatch(actions.setData(updateData))\n                } else {\n                    requestResource(code, [id], parState)\n                }\n            }\n        }\n        switch (code) {\n            case 'user':\n                check('user')\n                break\n            case 'account':\n                check('account')\n                check('profile')\n                break\n            case 'progress':\n                check('progress')\n                break\n            case 'post':\n                dispatch(actions.setData(check2(code)))\n                break\n            case 'friendData':\n                dispatch(\n                    actions.setData(\n                        check2(code, ['name', 'image', 'notifications', '__v'])\n                    )\n                )\n                break\n            case 'progressData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'owner',\n                            'worker',\n                            'goal',\n                            'notifications',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'postData':\n                dispatch(\n                    actions.setData(check2(code, ['notifications', '__v']))\n                )\n                break\n\n            case 'transactionData':\n                dispatch(actions.setData(check2(code)))\n                break\n            default:\n                break\n        }\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const changeStage = (value, accountId, progressId, stageId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeStage',\n                value,\n                progressId,\n                accountId,\n                stageId,\n            })\n        )\n    }\n}\n\nexport const leaveProgress = data => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'leaveProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n            })\n        )\n    }\n}\n\nexport const getFriendsData = (progress, accountFriends) => {\n    if (webSocket && webSocket.readyState === 1) {\n        if (progress) {\n            let accountIds = [\n                progress.owner,\n                progress.worker,\n                ...accountFriends,\n            ]\n\n            accountIds = [...new Set(accountIds)]\n\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'getFriendsData',\n                    accountIds,\n                })\n            )\n        }\n    }\n}\n\nexport const editGoalInProgress = (data, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editGoalInProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n                value,\n            })\n        )\n    }\n}\n\nexport const startProgress = (accountId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'startProgress',\n                accountId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteReward = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteReward',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n\nexport const saveReward = (accountId, progressId, reward) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveReward',\n                accountId,\n                progressId,\n                reward,\n            })\n        )\n    }\n}\n\nexport const changeLikesProgress = (accountId, progressId, add) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesProgress',\n                accountId,\n                progressId,\n                add,\n            })\n        )\n    }\n}\n\n// export const deleteProgress = progressId => {\n//     if (webSocket && webSocket.readyState === 1) {\n//         webSocket.send(\n//             JSON.stringify({\n//                 messageCode: 'deleteProgress',\n//                 progressId,\n//             })\n//         )\n//     }\n// }\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const sendMessage = (\n    accountId,\n    postId,\n    messageValue,\n    image,\n    replyToMessage,\n    editedMessage\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'sendMessage',\n                messageValue,\n                image,\n                postId,\n                accountId,\n                replyToMessage,\n                editedMessage,\n            })\n        )\n    }\n}\n\nexport const changeLikesMessage = (\n    messageCode,\n    messageId,\n    accountId,\n    postId\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode,\n                messageId,\n                accountId,\n                postId,\n            })\n        )\n    }\n}\n\nexport const addPost = (\n    accountId,\n    parentId,\n    parentType,\n    messageValue,\n    images\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addPost',\n                accountId,\n                parentId,\n                parentType,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n\nexport const editPost = (accountId, postId, messageValue, images) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editPost',\n                accountId,\n                postId,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const deleteAccount = id => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteAccount',\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const editAccount = (value, id) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editAccount',\n                name: value.name,\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const followProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\nexport const unfollowProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\n\nexport const followAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\nexport const unfollowAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\n\nexport const addRecentProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRecentProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const searchFriends = search => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'searchFriends',\n                search,\n            })\n        )\n    }\n}\n\nexport const addFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const acceptFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'acceptFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const unfriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n","export default {\n    name: 200,\n    description: 10000,\n    message: 10000,\n}\n","import fieldLength from './fieldLength'\n\nexport const nicknameRules = [\n    {\n        required: true,\n        message: 'Nickname is too short. Minimal length is 2.',\n        whitespace: true,\n        min: 2,\n    },\n    {\n        message: `Nickname is too long. Miximum length is ${fieldLength.name}.`,\n        whitespace: true,\n        max: fieldLength.name,\n    },\n    {\n        pattern: /^[a-zA-Z0-9_-]*$/,\n        message: \"Nickname should contain only letters, numbers, '-' and '_'.\",\n    },\n]\n\nexport const nameRules = [\n    {\n        required: true,\n        min: 1,\n        whitespace: true,\n        message: 'Name is too short. Minimal length is 1.',\n    },\n    {\n        max: fieldLength.name,\n        message: `Name is too long. Miximum length is ${fieldLength.name}.`,\n    },\n]\n\nexport const accountNameRules = [\n    {\n        required: true,\n        min: 2,\n        whitespace: true,\n        message: 'Name is too short. Minimal length is 2.',\n    },\n    {\n        max: fieldLength.name,\n        message: `Name is too long. Miximum length is ${fieldLength.name}.`,\n    },\n]\n\nexport const descriptionRules = [\n    {\n        max: fieldLength.description,\n        message: `Description is too long. Miximum length is ${\n            fieldLength.description\n        }.`,\n    },\n]\n\nexport const messageRules = [\n    {\n        min: 1,\n        whitespace: true,\n        message: 'Message is too short. Minimal length is 1.',\n    },\n    {\n        max: fieldLength.message,\n        message: `Message is too long. Miximum length is ${\n            fieldLength.message\n        }.`,\n    },\n]\n\nexport const priceRules = [\n    {\n        required: true,\n        message: 'Please input the item price.',\n    },\n]\n","import React, { useState } from 'react'\nimport Carousel from 'antd/es/carousel'\nimport classes from './imageCarousel.module.css'\nimport Modal from 'antd/es/modal/Modal'\n\nconst ImageCarousel = props => {\n    const [previewImage, setPreviewImage] = useState(false)\n\n    return props.images && props.images.length > 0 ? (\n        <>\n            <Carousel\n                style={{ width: props.size || 'auto', margin: '10px 0' }}\n                dots={{ className: classes.Dots }}\n            >\n                {props.images.map(\n                    (image, index) =>\n                        image && (\n                            <div\n                                key={index}\n                                onClick={() => setPreviewImage(image)}\n                            >\n                                <div\n                                    style={{\n                                        backgroundImage: 'url(\"' + image + '\")',\n                                        backgroundSize: props.type || 'contain',\n                                        backgroundPosition: 'center',\n                                        width: props.size || '100%',\n                                        height:\n                                            props.height ||\n                                            props.size ||\n                                            '300px',\n                                        maxWidth: '800px',\n                                        backgroundRepeat: 'no-repeat',\n                                        borderRadius: '20px',\n                                        margin: 'auto',\n                                    }}\n                                />\n                            </div>\n                        )\n                )}\n            </Carousel>\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => setPreviewImage('')}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </>\n    ) : null\n}\n\nexport default ImageCarousel\n","import axios from 'axios'\nimport message from 'antd/es/message'\n\nexport const uploadFile = (file, size, filename, callback) => {\n    if (file == null) {\n        return alert('No file selected.')\n    }\n\n    const reader = new FileReader()\n    reader.onload = async event => {\n        resizeImageToSpecificSize(file, { width: size, height: size }, data => {\n            if (!data) {\n                callback()\n            } else {\n                urltoFile(data, '/120').then(function(file) {\n                    getSignedRequest(file, filename, callback)\n                })\n            }\n        })\n    }\n\n    reader.readAsArrayBuffer(file)\n}\n\nconst urltoFile = (url, filename, mimeType) => {\n    mimeType = mimeType || (url.match(/^data:([^;]+);/) || '')[1]\n    return fetch(url)\n        .then(function(res) {\n            return res.arrayBuffer()\n        })\n        .then(function(buf) {\n            return new File([buf], filename, { type: 'image/jpeg' })\n        })\n}\n\nconst resizeImageToSpecificSize = (file, size, cb) => {\n    if (file) {\n        var reader = new FileReader()\n        reader.onload = function(event) {\n            resizeImageFromSrcToSpecificSize(event.target.result, size, cb)\n        }\n        reader.readAsDataURL(file)\n    }\n}\n\nconst resizeImageFromSrcToSpecificSize = (src, size, cb) => {\n    try {\n        var data\n        var img = new Image()\n        img.onload = function() {\n            const widthCoef = img.width / size.width\n            const heightCoef = img.height / size.height\n            var oc = document.createElement('canvas'),\n                octx = oc.getContext('2d')\n            oc.width = img.width\n            oc.height = img.height\n            octx.drawImage(img, 0, 0)\n            if (widthCoef > 1 || heightCoef > 1) {\n                if (img.width > img.height) {\n                    oc.height = (img.height / img.width) * size.width\n                    oc.width = size.width\n                } else {\n                    oc.width = (img.width / img.height) * size.width\n                    oc.height = size.width\n                }\n            }\n            octx.drawImage(oc, 0, 0, oc.width, oc.height)\n            octx.drawImage(img, 0, 0, oc.width, oc.height)\n            data = oc.toDataURL('image/jpeg', 0.6)\n            cb(data)\n        }\n        img.onerror = () => {\n            cb()\n        }\n        img.src = src\n    } catch {}\n}\n\nconst getSignedRequest = (file, fileName, callback) => {\n    return axios\n        .post('/api/sign-s3', {\n            fileName,\n        })\n        .then(response => {\n            doUploadFile(file, response.data, callback)\n        })\n        .catch(err => {})\n}\n\nconst doUploadFile = (file, data, callback) => {\n    return axios\n        .put(data.signedRequest, file, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        })\n        .then(response => {\n            callback(data.url)\n            message.success('The image has been saved.')\n        })\n        .catch(err => {})\n}\n","import Upload from 'antd/es/upload'\nimport React, { useState, useEffect } from 'react'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport { uploadFile } from '../../utils/uploadFile'\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from '@material-ui/core'\n\nconst ImagePickerMulti = props => {\n    const [images, setImages] = useState(props.images || [])\n    const [previewImage, setPreviewImage] = useState()\n\n    useEffect(() => {\n        props.onValueChange(images)\n    }, [images])\n\n    return (\n        <>\n            <Upload\n                accept=\"image/*\"\n                listType=\"picture-card\"\n                fileList={images.map((image, index) => ({\n                    url: image,\n                    uid: index,\n                }))}\n                onPreview={file => {\n                    setPreviewImage(file.url)\n                }}\n                onChange={({ fileList }) =>\n                    setImages(fileList.map(item => item.url))\n                }\n                customRequest={({ file }) => {\n                    uploadFile(file, 800, undefined, url => {\n                        if (!url) {\n                            setImages([...images])\n                        } else {\n                            setImages([...images, url])\n                        }\n                    })\n                }}\n            >\n                {images.length >= 8 ? null : (\n                    <div\n                        style={{\n                            flex: 1,\n                            display: 'flex',\n                            height: '100%',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            flexDirection: 'column',\n                        }}\n                        onClick={e => {\n                            if (window.isRNWebView) {\n                                e.stopPropagation()\n                                window.ReactNativeWebView.postMessage(\n                                    'uploadFile'\n                                )\n                                window.callback = url => {\n                                    setImages([...images, url])\n                                }\n                            }\n                        }}\n                    >\n                        <PlusOutlined />\n                        <div className=\"ant-upload-text\">Upload</div>\n                    </div>\n                )}\n            </Upload>\n            <Dialog\n                open={Boolean(previewImage)}\n                onClose={() => setPreviewImage()}\n            >\n                <DialogTitle id=\"scroll-dialog-title\">\n                    Preview image\n                </DialogTitle>\n                <DialogContent dividers={true}>\n                    <img src={previewImage} style={{ width: '100%' }} />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setPreviewImage()} color=\"primary\">\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n\nexport default ImagePickerMulti\n","import React from 'react'\n// import { Editor } from '@tinymce/tinymce-react'\nimport { Editor } from 'react-draft-wysiwyg'\nimport { convertFromRaw, ContentState, convertToRaw } from 'draft-js'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\nimport htmlToDraft from 'html-to-draftjs'\n\nexport default props => {\n    let contentState\n    if (typeof props.value === 'string') {\n        const blocksFromHtml = htmlToDraft(props.value)\n        const { contentBlocks, entityMap } = blocksFromHtml\n        contentState = ContentState.createFromBlockArray(\n            contentBlocks,\n            entityMap\n        )\n        contentState = convertToRaw(contentState)\n    } else contentState = props.value\n    return (\n        // <Editor\n        //     apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n        //     // initialValue={form.getFieldValue('description')}\n        //     init={{\n        //         inline: true,\n        //     }}\n        //     onEditorChange={props.onEditorChange}\n        //     value={props.value}\n        // />\n        <Editor\n            placeholder=\"Add some text\"\n            readOnly={props.readOnly}\n            // toolbarClassName=\"demo-toolbar-absolute\"\n            wrapperClassName=\"demo-wrapper\"\n            {...(!props.readOnly\n                ? { editorClassName: 'demo-editor' }\n                : { contentState: contentState })}\n            defaultContentState={contentState}\n            onContentStateChange={value => {\n                props.onEditorChange && props.onEditorChange(value)\n                props.onEditorChangePlain &&\n                    props.onEditorChangePlain(\n                        convertFromRaw(value).getPlainText(' ')\n                    )\n            }}\n            toolbar={{\n                inline: { inDropdown: true },\n                list: { inDropdown: true },\n                textAlign: { inDropdown: true },\n                link: { inDropdown: true },\n                history: { inDropdown: true },\n            }}\n            toolbarHidden={props.readOnly}\n            options={\n                !props.readOnly && [\n                    'inline',\n                    'blockType',\n                    'fontSize',\n                    'fontFamily',\n                    'list',\n                    'textAlign',\n                    'colorPicker',\n                    'link',\n                    'emoji',\n                    'remove',\n                    'history',\n                ]\n            }\n        />\n    )\n}\n","import {\n    Box,\n    Card,\n    CardActionArea,\n    CardContent,\n    createStyles,\n    makeStyles,\n    Paper,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { AddCircle } from '@material-ui/icons'\nimport Empty from 'antd/es/empty'\nimport React from 'react'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n        addBox: {\n            color: theme.palette.primary.main,\n            display: 'flex',\n            alignItems: 'center',\n        },\n    })\n)\nexport default props => {\n    const classes = useStyles()\n    return props.items.length > 0 ||\n        props.empty ||\n        props.customEmpty ||\n        props.withAdd ? (\n        <>\n            {props.title && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {props.title}\n                </Typography>\n            )}\n            <Paper\n                style={{\n                    padding: '15px',\n                    display: 'flex',\n                    overflowX: 'auto',\n                    paddingBottom: '10px',\n                }}\n            >\n                {props.items.length === 0 && props.empty ? (\n                    props.customEmpty || <Empty />\n                ) : (\n                    <>\n                        {props.withAdd && (\n                            <Card\n                                style={{\n                                    borderRadius: '15px',\n                                    cursor: 'pointer',\n                                    flexShrink: 0,\n                                    width: '100px',\n                                    marginRight: '10px',\n                                    position: 'relative',\n                                    minHeight: '160px',\n                                }}\n                            >\n                                <CardActionArea\n                                    style={{\n                                        height: '100%',\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                    }}\n                                    onClick={() => props.onAdd()}\n                                >\n                                    <CardContent\n                                        style={{\n                                            flex: 1,\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            padding: '5px',\n                                        }}\n                                    >\n                                        <Box\n                                            style={{\n                                                flexDirection: 'column',\n                                            }}\n                                            className={classes.addBox}\n                                        >\n                                            <AddCircle />\n                                            <Box\n                                                style={{ textAlign: 'center' }}\n                                            >\n                                                {props.addTitle || 'Add'}\n                                            </Box>\n                                        </Box>\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        )}\n                        {props.items.map((item, index) => (\n                            <Card\n                                style={{\n                                    borderRadius: '15px',\n                                    cursor: 'pointer',\n                                    flexShrink: 0,\n                                    width: '100px',\n                                    marginRight: '10px',\n                                    position: 'relative',\n                                }}\n                            >\n                                {props.content(item, index)}\n                            </Card>\n                        ))}\n                        <Box style={{ width: '10px', flexShrink: 0 }} />\n                    </>\n                )}\n            </Paper>\n        </>\n    ) : null\n}\n","import { Box } from '@material-ui/core'\nimport React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nexport const placeholderImages = [\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg',\n]\nexport const getPH = id => {\n    if (!id) return 0\n    const makeRand = x => {\n        x = Math.abs(x)\n        while (x > 1) x = x / 10\n        return x\n    }\n    const matches = id.match(/\\d+$/)\n    const imagePH = matches && matches.length > 0 ? parseInt(matches[0]) : 0\n    return Math.abs(\n        Math.round(makeRand(imagePH) * (placeholderImages.length - 1))\n    )\n}\nexport default withRouter(props => {\n    const images = props.images || []\n\n    const picture = !props.friends ? (\n        <img\n            style={{\n                maxWidth: '100%',\n                margin: 'auto',\n                display: 'block',\n                borderRadius: '15px',\n                boxShadow:\n                    '0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)',\n                ...props.style,\n            }}\n            src={\n                images.length > 0\n                    ? images[0]\n                    : placeholderImages[getPH(props.id)]\n            }\n        />\n    ) : null\n\n    return props.noLink ? (\n        <>\n            {picture}\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Box style={{ flex: 1 }}>{props.body}</Box>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    ) : (\n        <>\n            <Link to={props.onClickLink} style={{ cursor: 'pointer' }}>\n                {picture}\n            </Link>\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Link\n                    to={props.onClickLink}\n                    style={{ cursor: 'pointer', flex: 1 }}\n                >\n                    {props.body}\n                </Link>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    )\n})\n","export default (nickname, version) => {\n    if (!nickname) return ''\n    else {\n        return (\n            'https://websiter.s3.us-east-2.amazonaws.com/' +\n            nickname +\n            '/avatar?v=' +\n            (version || 0)\n        )\n    }\n}\n","import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport Avatar from 'antd/es/avatar'\nimport getAvatar from '../../utils/getAvatar'\nimport { Typography } from '@material-ui/core'\n\nconst UserButton = props => {\n    const { account, profile, id, friendSearchResult } = props\n    const friendData = props.friendDataExp || props.friendData\n    const getUserData = id =>\n        id === account._id\n            ? account\n            : id === profile._id\n            ? profile\n            : id === friendSearchResult._id\n            ? friendSearchResult\n            : friendData[id]\n    const userName = id => {\n        const text = getUserData(id) ? getUserData(id).name : id\n        return props.typography ? <Typography noWrap>{text}</Typography> : text\n    }\n    const userAvatar = id =>\n        getUserData(id) ? (\n            <span key={id}>\n                <Avatar\n                    src={getAvatar(id, getUserData(id).image)}\n                    size={props.size || (props.noClick ? 20 : 40)}\n                    style={\n                        props.group || props.noName ? {} : { margin: ' 0 5px' }\n                    }\n                />\n            </span>\n        ) : null\n\n    return props.onlyName ? (\n        userName(id)\n    ) : props.group ? (\n        <span onClick={e => e.stopPropagation()}>\n            <Avatar.Group style={{ margin: ' 0 5px' }}>\n                {props.ids.map(id => userAvatar(id))}\n            </Avatar.Group>\n        </span>\n    ) : props.noClick ? (\n        <>\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </>\n    ) : props.span ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n                // display: 'flex',\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : props.inline ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : (\n        <Link\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            <Button\n                type=\"link\"\n                style={{ padding: '0px 5px', height: 'auto', ...props.style }}\n            >\n                {!props.noAva && userAvatar(id)}\n\n                {!props.noName && userName(id)}\n            </Button>\n        </Link>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        profile: state.profile,\n        friendData: state.friendData,\n        friendSearchResult: state.friendSearchResult,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(UserButton))\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport * as wsActions from '../../websocketActions'\nimport { Box, TextField, Button, makeStyles } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport { spanStyle } from './Message'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\n\nconst useStyles = makeStyles({\n    text: {\n        '&>div::after': { border: 'none' },\n        '&>div::before': { border: 'none !important' },\n        '& textarea': {\n            fontSize: '14px',\n        },\n    },\n})\nconst AddMessage = props => {\n    const classes = useStyles()\n    const [previewImage, setPreviewImage] = useState('')\n    const [imageLoading, setImageLoading] = useState(false)\n    const [images, setImages] = useState(props.images || [])\n    const { post, account } = props\n\n    const [messageText, setMessageText] = useState(\n        props.content ||\n            (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n    )\n\n    useEffect(() => {\n        setMessageText(\n            props.content ||\n                (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n        )\n    }, [props.replyToUser, props.content])\n\n    const uploadImage = file => {\n        uploadFile(file, 800, undefined, url => {\n            setImages([...images, url])\n        })\n    }\n\n    return post && account._id ? (\n        <Box style={{ display: 'flex', width: '100%', margin: '10px 0px' }}>\n            <Box style={{ marginRight: '10px' }}>\n                <UserButton\n                    noName={true}\n                    id={account._id}\n                    span={true}\n                    size={props.isTop ? 36 : 25}\n                />\n            </Box>\n            <Box style={{ flex: 1 }}>\n                <Box\n                    style={{\n                        background: '#efefef',\n                        padding: '5px 15px',\n                        borderRadius: '15px',\n                    }}\n                >\n                    <TextField\n                        multiline\n                        value={messageText}\n                        onChange={e => setMessageText(e.target.value)}\n                        margin=\"dense\"\n                        placeholder=\"Add a comment\"\n                        className={classes.text}\n                        fullWidth\n                    />\n                    {images.length > 0 && (\n                        <ImagePickerMulti\n                            images={images}\n                            onValueChange={value => setImages(value)}\n                        />\n                    )}\n                    <Button\n                        onClick={() => {\n                            wsActions.sendMessage(\n                                account._id,\n                                post._id,\n                                messageText,\n                                images,\n                                props.replyTo,\n                                props.editingMessage\n                            )\n                            setMessageText('')\n                            setImages([])\n                            if (props.onSend) props.onSend()\n                        }}\n                    >\n                        <span style={spanStyle}>Send</span>\n                    </Button>\n                    <Upload\n                        accept=\"image/*\"\n                        showUploadList={false}\n                        customRequest={({ file }) => {\n                            if (images.length > 8) {\n                                message.warning(\n                                    'You can not attach more than 8 images.'\n                                )\n                                return\n                            }\n                            setImageLoading(true)\n                            uploadFile(file, 800, undefined, url => {\n                                setImageLoading(false)\n                                if (!url) {\n                                    setImages([...images])\n                                } else {\n                                    setImages([...images, url])\n                                }\n                            })\n                        }}\n                    >\n                        <Button\n                            onClick={e => {\n                                if (window.isRNWebView) {\n                                    e.stopPropagation()\n                                    window.ReactNativeWebView.postMessage(\n                                        'uploadFile'\n                                    )\n                                    window.callback = url => {\n                                        setImageLoading(false)\n                                        setImages([...images, url])\n                                    }\n                                }\n                            }}\n                        >\n                            <span style={spanStyle}>Image</span>\n                        </Button>\n                    </Upload>\n                    {props.cancel && (\n                        <Button onClick={props.cancel}>\n                            <span style={spanStyle}>Cancel</span>\n                        </Button>\n                    )}\n                </Box>\n            </Box>\n        </Box>\n    ) : null\n}\n\nexport default withRouter(AddMessage)\n","import {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport React from 'react'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nexport default props => {\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={props.open}\n            onClose={props.close}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.close}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {props.title}\n                    </Typography>\n                    {props.save && (\n                        <Button autoFocus color=\"inherit\" onClick={props.save}>\n                            {props.saveText || 'Save'}\n                        </Button>\n                    )}\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n            {props.children}\n        </Dialog>\n    )\n}\n","import React from 'react'\nimport * as wsActions from '../websocketActions'\nimport { Button } from '@material-ui/core'\n\nconst FollowButton = props => {\n    const { account, type, id } = props\n    if (account && account._id && account._id !== id) {\n        if (type === 'progress') {\n            return account.followProgresses.includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowProgress(account._id, id)\n                    }}\n                >\n                    Unfollow\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followProgress(account._id, id)\n                    }}\n                >\n                    Follow\n                </Button>\n            )\n        } else {\n            return account.followAccounts.includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowAccount(account._id, id)\n                    }}\n                >\n                    Unfollow\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followAccount(account._id, id)\n                    }}\n                >\n                    Follow\n                </Button>\n            )\n        }\n    }\n    return null\n}\n\nexport default FollowButton\n","import { Button } from '@material-ui/core'\nimport React, { useEffect, useRef, useState } from 'react'\nimport TinyEditor from './TinyEditor'\n\nconst ReadMore = props => {\n    const [overflow, setOverflow] = useState(false)\n    const [open, setOpen] = useState(false)\n    const descRef = useRef(null)\n\n    useEffect(() => {\n        if (\n            descRef.current &&\n            descRef.current.offsetHeight > props.initialHeight\n        ) {\n            setOverflow(true)\n        }\n    }, [\n        descRef.current && descRef.current.offsetHeight,\n        props.content,\n        props.contentEditor,\n    ])\n    return (\n        <div\n            style={{\n                maxHeight: open ? 'initial' : props.initialHeight + 'px',\n                overflow: 'hidden',\n                position: 'relative',\n                paddingBottom: overflow && open ? '50px' : '0px',\n            }}\n        >\n            {props.content && (\n                <div\n                    ref={descRef}\n                    dangerouslySetInnerHTML={{ __html: props.content }}\n                />\n            )}\n            {props.contentEditor && (\n                <div ref={descRef}>\n                    <TinyEditor readOnly value={props.contentEditor} />\n                </div>\n            )}\n            {overflow && (\n                <div\n                    style={{\n                        position: 'absolute',\n                        bottom: 0,\n                        width: '100%',\n                        zIndex: 1,\n                    }}\n                >\n                    <div\n                        style={{\n                            transition: 'opacity 0.25s',\n                            opacity: open ? 0 : 1,\n                            backgroundImage:\n                                'linear-gradient(to bottom, rgba(255, 255, 255, 1), #ffffff )',\n                            content: '',\n                            height: '50px',\n                            width: '100%',\n\n                            bottom: '0',\n                            left: '0',\n                            position: 'absolute',\n                        }}\n                    />\n\n                    <Button color=\"primary\" onClick={() => setOpen(!open)}>\n                        {open ? 'Read Less' : 'Read More'}\n                    </Button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default ReadMore\n","import React, { useEffect, useState } from 'react'\nimport { Box, Button, makeStyles, Typography } from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport TinyEditor from '../UI/TinyEditor'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst EditPost = props => {\n    const classes = useStyles()\n\n    const [images, setImages] = useState(props.images || [])\n\n    const [messageText, setMessageText] = useState(props.content || '')\n\n    useEffect(() => {\n        setImages(props.images || [])\n        setMessageText(props.content || '')\n    }, [props.open])\n\n    const handleSave = () => {\n        props.save(images, messageText)\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setImages([])\n        setMessageText('')\n        props.cancel()\n    }\n\n    return (\n        <DialogFullscreen\n            open={props.open}\n            close={handleCancel}\n            title={props.title}\n            save={handleSave}\n        >\n            <Box\n                style={{\n                    padding: '0 16px',\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    width: '100%',\n                }}\n            >\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Description\n                </Typography>\n                <Box>\n                    <TinyEditor\n                        value={messageText}\n                        onEditorChange={value => setMessageText(value)}\n                    />\n                </Box>\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Images\n                </Typography>\n                <ImagePickerMulti\n                    images={images}\n                    onValueChange={value => setImages(value)}\n                />\n                <Box\n                    style={{\n                        textAlign: 'right',\n                        marginTop: '50px',\n                    }}\n                >\n                    <Button size=\"large\" onClick={handleCancel}>\n                        Cancel\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                        onClick={handleSave}\n                    >\n                        Save\n                    </Button>\n                </Box>\n            </Box>\n        </DialogFullscreen>\n    )\n}\n\nexport default EditPost\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport * as wsActions from '../../websocketActions'\nimport AddMessage from './AddMessage'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    Badge,\n    Box,\n    Button,\n    Chip,\n    IconButton,\n    Menu,\n    MenuItem,\n} from '@material-ui/core'\nimport moment from 'moment'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport { MoreVertOutlined, ThumbUp } from '@material-ui/icons'\nimport ReadMore from '../UI/ReadMore'\nimport EditPost from './EditPost'\n\nmoment.updateLocale('en', {\n    relativeTime: {\n        future: 'in %s',\n        past: '%s',\n        s: 'now',\n        ss: 'now',\n        m: '1 min',\n        mm: '%d mins',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 day',\n        dd: '%d days',\n        w: '1 wk',\n        ww: '%d wks',\n        M: '1 mth',\n        MM: '%d mths',\n        y: 'a year',\n        yy: '%d years',\n    },\n})\nmoment().format()\n\nexport const spanStyle = {\n    fontSize: '12px',\n    color: '#666',\n    textTransform: 'none',\n}\nconst Message = props => {\n    const {\n        account,\n        message,\n        friendData,\n        progressData,\n        post,\n        replies,\n        isStart,\n    } = props\n    const [replyVisible, setReplyVisible] = useState(false)\n    const [likes, setLikes] = useState(null)\n    const [replyToUser, setReplyToUser] = useState('')\n    const [editingMessage, setEditingMessage] = useState('')\n    const [showReplies, setShowReplies] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [editMessageOpen, setEditMessageOpen] = useState(false)\n\n    const handleEditPostSave = (images, messageText) => {\n        wsActions.editPost(account._id, post._id, messageText, images)\n        if (props.onSend) props.onSend()\n        handleEditPostCancel()\n    }\n\n    const handleEditPostCancel = () => {\n        setEditMessageOpen(false)\n    }\n\n    return account && friendData ? (\n        <>\n            {account._id !== message.author || !editingMessage ? (\n                <>\n                    {props.isStart ? (\n                        <Box\n                            style={{\n                                display: 'flex',\n                                width: '100%',\n                                margin: '10px 0px',\n                            }}\n                        >\n                            <Box style={{ marginRight: '10px' }}>\n                                <UserButton\n                                    noName={true}\n                                    id={message.author}\n                                    span={true}\n                                />\n                            </Box>\n                            <Box style={{ flex: 1 }}>\n                                <span\n                                    style={{\n                                        color: '#333',\n                                        fontWeight: 'bold',\n                                        fontSize: '14px',\n                                    }}\n                                >\n                                    <UserButton\n                                        id={message.author}\n                                        span={true}\n                                        noAva={true}\n                                    />{' '}\n                                    <div\n                                        style={spanStyle}\n                                        onClick={() =>\n                                            props.history.push(\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                    '/goals/' +\n                                                        post.parent.parentId +\n                                                        '/post/' +\n                                                        post._id\n                                            )\n                                        }\n                                    >\n                                        {moment(message.date).fromNow()}\n                                    </div>\n                                    {/* <span style={{ fontWeight: 'normal' }}>in</span>{' '}\n                {post.parent &&\n                    progressData &&\n                    progressData[post.parent.parentId] && (\n                        <span\n                            style={{ cursor: 'pointer' }}\n                            onClick={() =>\n                                props.history.push(\n                                    '/goals/' + post.parent.parentId\n                                )\n                            }\n                        >\n                            {progressData[post.parent.parentId].goal.name}\n                        </span>\n                    )} */}\n                                    {post.startMessage &&\n                                        ['wishlist', 'perk', 'goal'].includes(\n                                            post.startMessage.messageType\n                                        ) && (\n                                            <span\n                                                style={{ cursor: 'pointer' }}\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/profile/' +\n                                                            message.author\n                                                    )\n                                                }\n                                            >\n                                                {post.startMessage\n                                                    .messageType === 'wishlist'\n                                                    ? 'Wishlist'\n                                                    : post.startMessage\n                                                          .messageType ===\n                                                      'goals'\n                                                    ? 'Goals'\n                                                    : 'Shop'}\n                                            </span>\n                                        )}\n                                </span>\n                            </Box>\n                            {account._id === message.author && (\n                                <Box>\n                                    <IconButton\n                                        onClick={event =>\n                                            setAnchorEl(event.currentTarget)\n                                        }\n                                    >\n                                        <MoreVertOutlined />\n                                    </IconButton>\n                                    <Menu\n                                        id=\"simple-menu\"\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={() => setAnchorEl(null)}\n                                    >\n                                        <MenuItem\n                                            onClick={() => {\n                                                setEditMessageOpen(true)\n                                                setAnchorEl(null)\n                                            }}\n                                        >\n                                            Edit\n                                        </MenuItem>\n                                    </Menu>\n                                    <EditPost\n                                        open={editMessageOpen}\n                                        cancel={handleEditPostCancel}\n                                        title=\"Edit post\"\n                                        save={handleEditPostSave}\n                                        images={message.image}\n                                        content={message.text}\n                                    />\n                                </Box>\n                            )}\n                        </Box>\n                    ) : (\n                        <>\n                            <Box style={{ display: 'flex', width: '100%' }}>\n                                <Box style={{ marginRight: '10px' }}>\n                                    <UserButton\n                                        noName={true}\n                                        id={message.author}\n                                        span={true}\n                                        size={props.isTop ? 36 : 25}\n                                    />\n                                </Box>\n                                <Box style={{ flex: 1 }}>\n                                    <Badge\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'right',\n                                        }}\n                                        overlap=\"circle\"\n                                        badgeContent={\n                                            message.likes.length ? (\n                                                <Chip\n                                                    icon={<ThumbUp />}\n                                                    color=\"primary\"\n                                                    label={message.likes.length}\n                                                    size=\"small\"\n                                                    onClick={() =>\n                                                        setLikes(message.likes)\n                                                    }\n                                                />\n                                            ) : (\n                                                0\n                                            )\n                                        }\n                                    >\n                                        <Box\n                                            style={{\n                                                background: '#efefef',\n                                                padding: '5px 15px',\n                                                borderRadius: '15px',\n                                            }}\n                                        >\n                                            <UserButton\n                                                id={message.author}\n                                                span={true}\n                                                noAva={true}\n                                            />\n                                            {message.image &&\n                                                message.image.length > 0 && (\n                                                    <ImageCarousel\n                                                        images={message.image}\n                                                        height=\"60vmin\"\n                                                        type=\"contain\"\n                                                    />\n                                                )}\n                                            {message.text && (\n                                                <p\n                                                    style={{\n                                                        wordBreak: 'break-word',\n                                                    }}\n                                                >\n                                                    {message.text}\n                                                </p>\n                                            )}\n                                        </Box>\n                                    </Badge>\n                                    <Box>\n                                        <span\n                                            style={{\n                                                ...spanStyle,\n                                                marginRight: '15px',\n                                            }}\n                                        >\n                                            {moment(message.date).fromNow()}\n                                        </span>\n\n                                        <Button\n                                            onClick={() =>\n                                                wsActions.changeLikesMessage(\n                                                    message.likes.includes(\n                                                        account._id\n                                                    )\n                                                        ? 'dislikeMessage'\n                                                        : 'likeMessage',\n                                                    message.messageId,\n                                                    account._id,\n                                                    post._id\n                                                )\n                                            }\n                                        >\n                                            <span style={spanStyle}>\n                                                {message.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? 'Unlike'\n                                                    : 'Like'}\n                                            </span>\n                                        </Button>\n\n                                        {message.author !== account._id && (\n                                            <Button\n                                                onClick={() => {\n                                                    if (props.setReplyVisible) {\n                                                        props.setReplyVisible(\n                                                            true\n                                                        )\n                                                        props.setReplyToUser(\n                                                            props.message.author\n                                                        )\n                                                    } else {\n                                                        setReplyVisible(true)\n                                                        setReplyToUser('')\n                                                    }\n                                                    setShowReplies(true)\n                                                }}\n                                            >\n                                                <span style={spanStyle}>\n                                                    Reply\n                                                </span>\n                                            </Button>\n                                        )}\n                                        {message.author === account._id && (\n                                            <Button\n                                                onClick={() =>\n                                                    setEditingMessage(\n                                                        message.messageId\n                                                    )\n                                                }\n                                            >\n                                                <span style={spanStyle}>\n                                                    Edit\n                                                </span>\n                                            </Button>\n                                        )}\n                                    </Box>\n                                    {props.isTop &&\n                                    replies &&\n                                    replies.length > 0 ? (\n                                        showReplies ? (\n                                            replies.map((reply, index) => (\n                                                <Message\n                                                    key={index}\n                                                    message={reply}\n                                                    post={post}\n                                                    account={account}\n                                                    friendData={friendData}\n                                                    setReplyVisible={\n                                                        setReplyVisible\n                                                    }\n                                                    setReplyToUser={\n                                                        setReplyToUser\n                                                    }\n                                                />\n                                            ))\n                                        ) : (\n                                            <Button\n                                                onClick={() =>\n                                                    setShowReplies(true)\n                                                }\n                                            >\n                                                <span\n                                                    style={{\n                                                        ...spanStyle,\n                                                        fontSize: '15px',\n                                                    }}\n                                                >\n                                                    Show {replies.length}{' '}\n                                                    replies\n                                                </span>\n                                            </Button>\n                                        )\n                                    ) : null}\n\n                                    {props.isTop && replyVisible ? (\n                                        <AddMessage\n                                            post={post}\n                                            account={account}\n                                            replyTo={message.messageId}\n                                            replyToUser={replyToUser}\n                                            cancel={() =>\n                                                setReplyVisible(false)\n                                            }\n                                        />\n                                    ) : null}\n                                </Box>\n                            </Box>\n                        </>\n                    )}\n\n                    {isStart ? (\n                        <>\n                            {message.messageType === 'wishlist' && (\n                                <>\n                                    {' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                            cursor: 'pointer',\n                                            margin: '10px 0px 0px ',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${\n                                                    message.details.owner\n                                                }/${message.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {message.details.name}\n                                    </span>\n                                </>\n                            )}\n                            {message.text && (\n                                <ReadMore\n                                    initialHeight={700}\n                                    contentEditor={message.text}\n                                />\n                            )}\n                            {message.image && message.image.length > 0 && (\n                                <ImageCarousel\n                                    images={message.image}\n                                    height=\"60vmin\"\n                                    type=\"contain\"\n                                />\n                            )}\n                        </>\n                    ) : (\n                        <></>\n                    )}\n                </>\n            ) : (\n                <AddMessage\n                    post={post}\n                    account={account}\n                    replyTo={message.messageId}\n                    editingMessage={editingMessage}\n                    content={message.text}\n                    images={message.image}\n                    onSend={() => setEditingMessage('')}\n                    cancel={() => setEditingMessage('')}\n                />\n            )}\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title=\"Message likes\"\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n        </>\n    ) : null\n}\n\nexport default withRouter(Message)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as wsActions from '../../websocketActions'\nimport Form from 'antd/es/form'\n\nimport { descriptionRules, nameRules } from '../../constants/fieldRules'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\nimport {\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    IconButton,\n    makeStyles,\n    Typography,\n    Button,\n    Menu,\n    MenuItem,\n    Dialog,\n    Slide,\n    AppBar,\n    Toolbar,\n    DialogTitle,\n    Input,\n    DialogActions,\n    Box,\n} from '@material-ui/core'\nimport { Close, MoreVertOutlined } from '@material-ui/icons'\nimport { red } from '@material-ui/core/colors'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport TinyEditor from '../UI/TinyEditor'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport { spanStyle } from '../Post/Message'\nimport moment from 'moment'\nimport ReadMore from '../UI/ReadMore'\nmoment.updateLocale('en', {\n    relativeTime: {\n        future: 'in %s',\n        past: '%s',\n        s: 'now',\n        ss: 'now',\n        m: '1 min',\n        mm: '%d mins',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 day',\n        dd: '%d days',\n        w: '1 wk',\n        ww: '%d wks',\n        M: '1 mth',\n        MM: '%d mths',\n        y: 'a year',\n        yy: '%d years',\n    },\n})\nmoment().format()\nconst useStyles = makeStyles(theme => ({\n    root: {\n        // maxWidth: 345,\n    },\n    media: {\n        height: 0,\n        paddingTop: '56.25%', // 16:9\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        marginLeft: 'auto',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n    avatar: {\n        backgroundColor: red[500],\n    },\n    appBar: {\n        position: 'fixed',\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}))\nconst TransitionComponent = props => <Slide direction=\"left\" {...props} />\n\nconst Rewards = props => {\n    const rewards = props.rewards || []\n\n    const classes = useStyles()\n\n    const [previewReward, setPreviewReward] = useState()\n    const [previewRewardIndex, setPreviewRewardIndex] = useState()\n    const [editedReward, setEditedReward] = useState()\n    const [editedRewardIndex, setEditedRewardIndex] = useState()\n    const { account, readOnly, progress } = props\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [confirmOpen, setConfirmOpen] = useState(false)\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget)\n    }\n    const handleClose = () => {\n        setAnchorEl(null)\n        setConfirmOpen(false)\n    }\n\n    const layout = {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 20 },\n    }\n\n    const saveReward = editedReward => {\n        let rewardToSave = {}\n\n        rewardToSave = { ...editedReward }\n        delete rewardToSave.transaction\n\n        rewardToSave.owner = account._id\n        if (props.onValueChange) {\n            let newRewards = [...rewards]\n\n            if (editedRewardIndex === 'new')\n                newRewards = [...newRewards, rewardToSave]\n            else\n                newRewards = newRewards.map((item, index) => {\n                    if (index === editedRewardIndex) return rewardToSave\n                    else return item\n                })\n            props.onValueChange(newRewards)\n        } else {\n            wsActions.saveReward(account._id, progress._id, rewardToSave)\n        }\n        if (editedRewardIndex !== 'new') setPreviewReward(rewardToSave)\n        setEditedReward()\n        setEditedRewardIndex()\n    }\n\n    // useEffect(()=> setRe,[props.rewards])\n\n    return (\n        <>\n            <HorizontalScrollList\n                title={props.title}\n                items={rewards}\n                empty={props.empty}\n                withAdd={!readOnly}\n                addTitle=\"Add inspiration\"\n                onAdd={() => {\n                    setEditedReward({})\n                    setEditedRewardIndex('new')\n                }}\n                content={(item, index) => (\n                    <>\n                        <CardActionArea\n                            onClick={() => {\n                                setPreviewReward(item)\n                                setPreviewRewardIndex(index)\n                            }}\n                        >\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.itemImages.length > 0\n                                        ? item.itemImages[0]\n                                        : placeholderImages[\n                                              getPH(item.rewardId)\n                                          ]\n                                }\n                                title={item.itemName}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography variant=\"body2\" noWrap>\n                                    {item.itemName}\n                                </Typography>\n                                {props.withDate && (\n                                    <span style={spanStyle}>\n                                        {moment(\n                                            item.transaction.date\n                                        ).fromNow()}\n                                    </span>\n                                )}\n                            </CardContent>\n                        </CardActionArea>\n                        {props.isOwner && props.withConfirm && (\n                            <Button\n                                color=\"primary\"\n                                variant=\"contained\"\n                                onClick={() =>\n                                    wsActions.confirmTransaction(\n                                        account._id,\n                                        item.transaction._id\n                                    )\n                                }\n                            >\n                                Received\n                            </Button>\n                        )}\n                    </>\n                )}\n            />\n\n            <Dialog\n                fullScreen\n                open={Boolean(editedRewardIndex) || Boolean(editedReward)}\n                onClose={() => {\n                    setEditedReward()\n                    setEditedRewardIndex()\n                }}\n                TransitionComponent={TransitionComponent}\n            >\n                {(Boolean(editedRewardIndex) || Boolean(editedReward)) && (\n                    <>\n                        <AppBar className={classes.appBar} color=\"primary\">\n                            <Toolbar>\n                                <IconButton\n                                    edge=\"start\"\n                                    color=\"inherit\"\n                                    onClick={() => {\n                                        setEditedReward()\n                                        setEditedRewardIndex()\n                                    }}\n                                    aria-label=\"close\"\n                                >\n                                    <Close />\n                                </IconButton>\n                                <Typography\n                                    variant=\"h6\"\n                                    className={classes.title}\n                                    color=\"inherit\"\n                                >\n                                    {editedRewardIndex === 'new'\n                                        ? 'Add new inspiration'\n                                        : 'Edit inspiration'}\n                                </Typography>\n                                <Button\n                                    autoFocus\n                                    color=\"inherit\"\n                                    onClick={() => {\n                                        saveReward(editedReward)\n                                    }}\n                                >\n                                    Save\n                                </Button>\n                            </Toolbar>\n                        </AppBar>\n                        <Toolbar />\n                        <Form\n                            style={{\n                                maxWidth: '1200px',\n                                margin: '0 auto',\n                                padding: '15px',\n                                width: '100%',\n                            }}\n                            name=\"new_inspiration\"\n                            {...layout}\n                        >\n                            <Form.Item\n                                name=\"images\"\n                                label=\"Images\"\n                                // valuePropName=\"images\"\n                            >\n                                <ImagePickerMulti\n                                    images={editedReward.itemImages}\n                                    onValueChange={itemImages =>\n                                        setEditedReward({\n                                            ...editedReward,\n                                            itemImages,\n                                        })\n                                    }\n                                />\n                            </Form.Item>\n\n                            <Form.Item label=\"Name\" rules={nameRules}>\n                                <Input\n                                    fullWidth={true}\n                                    value={editedReward.itemName}\n                                    onChange={({ target: { value } }) =>\n                                        setEditedReward({\n                                            ...editedReward,\n                                            itemName: value,\n                                        })\n                                    }\n                                />\n                            </Form.Item>\n                            <Form.Item\n                                label=\"Description\"\n                                rules={descriptionRules}\n                            >\n                                <TinyEditor\n                                    value={editedReward.itemDescription}\n                                    onEditorChange={value =>\n                                        setEditedReward({\n                                            ...editedReward,\n                                            itemDescription: value,\n                                        })\n                                    }\n                                />\n                            </Form.Item>\n                        </Form>\n                    </>\n                )}\n            </Dialog>\n            <Dialog\n                fullScreen\n                open={Boolean(previewReward)}\n                onClose={() => setPreviewReward()}\n                TransitionComponent={TransitionComponent}\n            >\n                {previewReward && (\n                    <>\n                        <AppBar className={classes.appBar} color=\"primary\">\n                            <Toolbar>\n                                <IconButton\n                                    edge=\"start\"\n                                    color=\"inherit\"\n                                    onClick={() => setPreviewReward()}\n                                >\n                                    <Close />\n                                </IconButton>\n                                <Typography\n                                    variant=\"h6\"\n                                    className={classes.title}\n                                    color=\"inherit\"\n                                >\n                                    Inspiration details\n                                </Typography>\n                            </Toolbar>\n                        </AppBar>\n                        <Toolbar />\n                        <Box\n                            style={{\n                                maxWidth: '1200px',\n                                margin: '0 auto',\n                                padding: '30px 15px 15px',\n                                width: '100%',\n                            }}\n                        >\n                            <ImageCarousel images={previewReward.itemImages} />\n                            {!props.onlyButton &&\n                                !props.readOnly &&\n                                (account._id === previewReward.owner ||\n                                    account._id === progress.owner) && (\n                                    <>\n                                        <Box style={{ textAlign: 'center' }}>\n                                            <IconButton onClick={handleClick}>\n                                                <MoreVertOutlined />\n                                            </IconButton>\n                                        </Box>\n                                        <Menu\n                                            id=\"simple-menu\"\n                                            anchorEl={anchorEl}\n                                            keepMounted\n                                            open={Boolean(anchorEl)}\n                                            onClose={handleClose}\n                                        >\n                                            {account._id ===\n                                                previewReward.owner && (\n                                                <MenuItem\n                                                    onClick={() => {\n                                                        setEditedReward(\n                                                            previewReward\n                                                        )\n                                                        setEditedRewardIndex(\n                                                            previewRewardIndex\n                                                        )\n                                                        handleClose()\n                                                    }}\n                                                >\n                                                    Edit\n                                                </MenuItem>\n                                            )}\n                                            <MenuItem\n                                                onClick={() => {\n                                                    setConfirmOpen(true)\n                                                }}\n                                            >\n                                                Delete\n                                            </MenuItem>\n                                        </Menu>\n                                        <Dialog\n                                            open={Boolean(confirmOpen)}\n                                            onClose={handleClose}\n                                        >\n                                            <DialogTitle>\n                                                Are youe sure you want to delete\n                                                this reward?\n                                            </DialogTitle>\n\n                                            <DialogActions>\n                                                <Button\n                                                    onClick={handleClose}\n                                                    color=\"primary\"\n                                                >\n                                                    Disagree\n                                                </Button>\n                                                <Button\n                                                    onClick={() => {\n                                                        if (\n                                                            props.onValueChange\n                                                        ) {\n                                                            props.onValueChange(\n                                                                props.rewards.filter(\n                                                                    (\n                                                                        item,\n                                                                        indexIn\n                                                                    ) =>\n                                                                        indexIn !==\n                                                                        previewRewardIndex\n                                                                )\n                                                            )\n                                                        } else {\n                                                            wsActions.deleteReward(\n                                                                account._id,\n                                                                progress._id,\n                                                                previewReward.rewardId\n                                                            )\n                                                        }\n                                                        handleClose()\n                                                        setPreviewReward()\n                                                    }}\n                                                    color=\"primary\"\n                                                >\n                                                    Agree\n                                                </Button>\n                                            </DialogActions>\n                                        </Dialog>\n                                    </>\n                                )}\n                            <Typography\n                                variant=\"h4\"\n                                style={{\n                                    textAlign: 'center',\n                                    margin: '20px 0',\n                                }}\n                            >\n                                {previewReward.itemName}\n                            </Typography>\n                            <ReadMore\n                                initialHeight={700}\n                                contentEditor={previewReward.itemDescription}\n                            />\n                        </Box>\n                    </>\n                )}\n            </Dialog>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        friendData: state.friendData,\n        progress: state.progress,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(Rewards))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const cancelTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'cancelTransaction',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n\nexport const confirmTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'confirmTransaction',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport Rewards from '../../components/Rewards/Rewards'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Tabs from 'antd/es/tabs'\nimport Badge from 'antd/es/badge'\nimport moment from 'moment'\nimport {\n    Button,\n    Chip,\n    createMuiTheme,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemSecondaryAction,\n    ListItemText,\n    MenuItem,\n    MuiThemeProvider,\n    Select,\n    Typography,\n} from '@material-ui/core'\nimport { blue, green, orange, purple, red } from '@material-ui/core/colors'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\n\nmoment().format()\n\nconst redTheme = createMuiTheme({\n    palette: { primary: { main: red[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: red[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(red[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst blueTheme = createMuiTheme({\n    palette: { primary: { main: blue[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: blue[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(blue[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst greenTheme = createMuiTheme({\n    palette: { primary: { main: green[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: green[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(green[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst orangeTheme = createMuiTheme({\n    palette: { primary: { main: orange[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: orange[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(orange[600], 0.05),\n                },\n            },\n        },\n    },\n})\n\nconst customTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    overrides: {\n        MuiListItem: {\n            secondaryAction: {\n                paddingRight: '133px',\n                paddingLeft: 0,\n            },\n        },\n    },\n})\n\nconst ActivityTable = props => {\n    const [showEarnedRewards, setShowEarnedRewards] = useState(false)\n    const { progress, account } = props\n    const { goal } = progress\n\n    const isOwner = account && account._id === progress.owner\n\n    let lastStages = progress.stages\n        .slice(Math.max(progress.stages.length - 7, 0))\n        .sort((a, b) => {\n            let aS, aF, bS, bF\n            if (a.old && !b.old) return 1\n            else if (b.old && !a.old) return -1\n            else {\n                if (a.day) {\n                    aS = moment()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .startOf('day')\n                    aF = moment()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .endOf('day')\n                    bS = moment()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .startOf('day')\n                    bF = moment()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .endOf('day')\n                } else if (a.week) {\n                    aS = moment()\n                        .year(a.year)\n                        .week(a.week)\n                        .startOf('week')\n                    aF = moment()\n                        .year(a.year)\n                        .week(a.week)\n                        .endOf('week')\n                    bS = moment()\n                        .year(b.year)\n                        .week(b.week)\n                        .startOf('week')\n                    bF = moment()\n                        .year(b.year)\n                        .week(b.week)\n                        .endOf('week')\n                } else if (a.month) {\n                    aS = moment()\n                        .year(a.year)\n                        .month(a.month)\n                        .startOf('month')\n                    aF = moment()\n                        .year(a.year)\n                        .month(a.month)\n                        .endOf('month')\n                    bS = moment()\n                        .year(b.year)\n                        .month(b.month)\n                        .startOf('month')\n                    bF = moment()\n                        .year(b.year)\n                        .month(b.month)\n                        .endOf('month')\n                } else if (a.year) {\n                    aS = moment()\n                        .year(a.year)\n                        .startOf('year')\n                    aF = moment()\n                        .year(a.year)\n                        .endOf('year')\n                    bS = moment()\n                        .year(b.year)\n                        .startOf('year')\n                    bF = moment()\n                        .year(b.year)\n                        .endOf('year')\n                }\n                if (aS) {\n                    const now = moment()\n\n                    if (\n                        Math.min(\n                            Math.abs(now.diff(aS)),\n                            Math.abs(now.diff(aF))\n                        ) <=\n                        Math.min(Math.abs(now.diff(bS)), Math.abs(now.diff(bF)))\n                    )\n                        return -1\n                    else return 1\n                }\n            }\n            return 0\n        })\n\n    const nowStageId = lastStages.length > 0 ? lastStages[0].stageId : 0\n\n    lastStages = progress.stages\n\n    return lastStages.length === 0 ? null : (\n        <MuiThemeProvider theme={customTheme}>\n            <Tabs\n                // activeKey={activeTab}\n                type=\"card\"\n                defaultActiveKey={\n                    nowStageId\n                        ? lastStages\n                              .findIndex(item => item.stageId === nowStageId)\n                              .toString()\n                        : '2'\n                }\n                // onTabClick={key => setActiveTab(key === activeTab ? -1 : key)}\n            >\n                {lastStages.map((stage, index) => {\n                    const getStatus = id => {\n                        if (isOwner && stage.dismissed) return 'dismissed'\n                        if (stage.failBy.find(item => item.accountId === id))\n                            return 'fail'\n                        if (\n                            stage.approvedBy.find(item => item.accountId === id)\n                        )\n                            return 'complete'\n                        return 'process'\n                    }\n\n                    const getStatusText = id => {\n                        const status = getStatus(id)\n                        switch (status) {\n                            case 'fail':\n                                return 'Failed'\n                            case 'complete':\n                                return 'Complete'\n                            case 'dismissed':\n                                return 'Dismissed'\n                            default:\n                                return 'In process'\n                        }\n                    }\n                    const myStatus =\n                        account && account._id && getStatus(account._id)\n\n                    const stageStatus = getStatus(progress.owner)\n\n                    const getTag = id => {\n                        return id === account._id ? (\n                            <Select\n                                labelId=\"demo-simple-select-label\"\n                                id=\"demo-simple-select\"\n                                value={myStatus}\n                                onChange={e =>\n                                    wsActions.changeStage(\n                                        e.target.value,\n                                        account._id,\n                                        progress._id,\n                                        stage.stageId\n                                    )\n                                }\n                            >\n                                <MenuItem value=\"complete\">Complete</MenuItem>\n                                <MenuItem value=\"process\">In process</MenuItem>\n                                <MenuItem value=\"fail\">Fail</MenuItem>\n                                <MenuItem value=\"dismissed\">Dismissed</MenuItem>\n                            </Select>\n                        ) : (\n                            <Chip color=\"primary\" label={getStatusText(id)} />\n                        )\n                    }\n\n                    const users = goal.users\n                        .filter(item => item !== progress.owner)\n                        .map(user => {\n                            const userStatus = getStatus(user)\n                            return (\n                                <ListItem>\n                                    <ListItemAvatar>\n                                        <UserButton noName={true} id={user} />\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={\n                                            <UserButton\n                                                id={user}\n                                                noAva={true}\n                                                span={true}\n                                                onlyName={true}\n                                            />\n                                        }\n                                    />\n                                    <ListItemSecondaryAction>\n                                        <MuiThemeProvider\n                                            theme={\n                                                userStatus === 'process'\n                                                    ? blueTheme\n                                                    : userStatus === 'complete'\n                                                    ? greenTheme\n                                                    : userStatus === 'fail'\n                                                    ? redTheme\n                                                    : orangeTheme\n                                            }\n                                        >\n                                            {getTag(user)}\n                                        </MuiThemeProvider>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            )\n                        })\n\n                    const owner = [\n                        <ListItem>\n                            <ListItemAvatar>\n                                <UserButton noName={true} id={progress.owner} />\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Typography noWrap variant=\"body2\">\n                                        <UserButton\n                                            id={progress.owner}\n                                            noAva={true}\n                                            span={true}\n                                            onlyName={true}\n                                        />\n                                    </Typography>\n                                }\n                            />\n                            <ListItemSecondaryAction>\n                                <MuiThemeProvider\n                                    theme={\n                                        stageStatus === 'process'\n                                            ? blueTheme\n                                            : stageStatus === 'complete'\n                                            ? greenTheme\n                                            : stageStatus === 'fail'\n                                            ? redTheme\n                                            : orangeTheme\n                                    }\n                                >\n                                    {getTag(progress.owner)}\n                                </MuiThemeProvider>\n                            </ListItemSecondaryAction>\n                        </ListItem>,\n                    ]\n                    let stageDate\n                    let tabTitle = <div>One time goal</div>\n                    if (stage.day) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .dayOfYear(stage.day)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('dddd')}</div>\n                                <div>{stageDate.format('D MMM YY')}</div>\n                            </>\n                        )\n                    } else if (stage.week) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .week(stage.week)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('wo')} week</div>\n                                <div>\n                                    {stageDate\n                                        .startOf('week')\n                                        .format('D MMM YY')}\n                                </div>\n                                <div>\n                                    {stageDate.endOf('week').format('D MMM YY')}\n                                </div>\n                            </>\n                        )\n                    } else if (stage.month) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .month(stage.month)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('MMMM')}</div>\n                                <div>{stageDate.format('YYYY')}</div>\n                            </>\n                        )\n                    } else if (stage.year) {\n                        stageDate = moment().year(stage.year)\n\n                        tabTitle = <div>{stageDate.format('YYYY')}</div>\n                    }\n\n                    return (\n                        <Tabs.TabPane\n                            tab={\n                                <Badge\n                                    color={\n                                        stageStatus === 'complete'\n                                            ? 'green'\n                                            : stageStatus === 'dismissed'\n                                            ? 'orange'\n                                            : stageStatus === 'fail'\n                                            ? 'volcano'\n                                            : 'blue'\n                                    }\n                                >\n                                    <span\n                                        style={{\n                                            fontSize: '12px',\n                                            textTransform: 'uppercase',\n                                            textAlign: 'center',\n                                        }}\n                                    >\n                                        {tabTitle}\n                                    </span>\n                                </Badge>\n                            }\n                            key={index}\n                        >\n                            <List dense={true}>\n                                {owner}\n                                {users}\n                            </List>\n\n                            {stage.paid.length > 0 && (\n                                <>\n                                    {showEarnedRewards && (\n                                        <Rewards\n                                            rewards={stage.paid}\n                                            readOnly\n                                        />\n                                    )}\n                                    <Button\n                                        onClick={() =>\n                                            setShowEarnedRewards(\n                                                !showEarnedRewards\n                                            )\n                                        }\n                                        color=\"primary\"\n                                        style={{}}\n                                    >\n                                        {(showEarnedRewards ? 'Hide' : 'Show') +\n                                            ' earned rewards'}\n                                    </Button>\n                                </>\n                            )}\n                        </Tabs.TabPane>\n                    )\n                })}\n            </Tabs>\n        </MuiThemeProvider>\n    )\n}\nexport default ActivityTable\n","import React from 'react'\n\nimport Select from 'antd/es/select'\nimport UserButton from '../UserButton/UserButton'\n\nexport default props => (\n    <Select\n        mode=\"multiple\"\n        style={{ width: '100%' }}\n        placeholder=\"Please select\"\n        value={props.value}\n        onChange={props.onChange}\n        getPopupContainer={trigger => trigger.parentNode}\n    >\n        {[\n            props.account,\n            ...props.account.friends\n                .filter(friend => friend.status === 'friend')\n                .map(friend => props.friendData[friend.friend]),\n        ].map(\n            item =>\n                item &&\n                item._id && (\n                    <Select.Option key={item._id}>\n                        <UserButton id={item._id} noClick={true} />\n                    </Select.Option>\n                )\n        )}\n    </Select>\n)\n","import React, { Component } from 'react'\nimport { withLeaflet } from 'react-leaflet'\nimport Locate from 'leaflet.locatecontrol'\nimport 'leaflet.locatecontrol/dist/L.Control.Locate.min.css'\n\nclass LocateControl extends Component {\n    componentDidMount() {\n        const { map } = this.props.leaflet\n\n        const lc = new Locate({\n            position: 'topleft',\n            strings: {\n                title: 'My location',\n            },\n            onActivate: () => {}, // callback before engine starts retrieving locations\n            drawCircle: false,\n            keepCurrentZoomLevel: true,\n        })\n        lc.addTo(map)\n\n        lc.start()\n    }\n\n    render() {\n        return null\n    }\n}\n\nexport default withLeaflet(LocateControl)\n","import React, { useRef, useState, useEffect } from 'react'\n\nimport Form from 'antd/es/form'\n\nimport Rewards from '../Rewards/Rewards'\nimport { nameRules, descriptionRules } from '../../constants/fieldRules'\nimport ConnectionsSelect from './ConnectionsSelect'\nimport Select from 'antd/es/select'\nimport { Map, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from '../../containers/Explore/LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport {\n    AppBar,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Input,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport TinyEditor from '../UI/TinyEditor'\nimport htmlToText from 'html-to-text'\nconst { Option } = Select\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst EditGoalAndProgressForm = props => {\n    const map = useRef(null)\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    const { goal, account, friendData } = props\n\n    const defPos = [40.689078, -74.044526]\n    const [position, setPosition] = useState(\n        goal && goal.position && goal.position.coordinates\n            ? [goal.position.coordinates[1], goal.position.coordinates[0]]\n            : defPos\n    )\n\n    const [zoom, setZoom] = useState(10)\n    const [descriptionPlain, setDescriptionPlain] = useState(\n        goal && goal.descriptionText\n    )\n\n    const onFinish = value => {\n        props.onFinish({\n            ...value,\n            descriptionText: descriptionPlain,\n            position: {\n                type: 'Point',\n                coordinates: [position[1], position[0]],\n            },\n        })\n    }\n\n    const layout = {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 20 },\n    }\n\n    const [form] = Form.useForm()\n\n    const mapDragEnd = e => {\n        setZoom(e.target._zoom)\n\n        setPosition([e.target.getCenter().lat, e.target.getCenter().lng])\n        form.setFieldsValue({ nomap: false })\n    }\n    const classes = useStyles()\n\n    return !props.goalId || goal ? (\n        <>\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.cancel}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        Add new goal\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => form.submit()}\n                    >\n                        Save\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Form\n                style={{\n                    maxWidth: '1200px',\n                    margin: 'auto',\n                    padding: '15px',\n                    width: '100%',\n                }}\n                form={form}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={\n                    goal || {\n                        name: 'New achievement',\n                        repeat: 'no',\n                        days: ['0'],\n                        nomap: false,\n                    }\n                }\n                {...layout}\n                onValuesChange={(changedFields, allValues) => {\n                    allValues.days &&\n                        form.setFieldsValue({\n                            days: [...allValues.days].sort(),\n                        })\n                }}\n            >\n                <Form.Item\n                    name=\"images\"\n                    label=\"Images\"\n                    valuePropName=\"images\"\n                    trigger=\"onValueChange\"\n                >\n                    <ImagePickerMulti />\n                </Form.Item>\n                <Form.Item\n                    label=\"Name\"\n                    name=\"name\"\n                    rules={nameRules}\n                    getValueFromEvent={event => event.target.value}\n                >\n                    <Input fullWidth={true} />\n                </Form.Item>\n                <Form.Item\n                    label=\"Description\"\n                    name=\"description\"\n                    // rules={descriptionRules}\n                    trigger=\"onEditorChange\"\n                >\n                    <TinyEditor\n                        onEditorChangePlain={value =>\n                            setDescriptionPlain(value)\n                        }\n                    />\n                </Form.Item>\n                <Form.Item label=\"Achievers\" name=\"users\">\n                    <ConnectionsSelect\n                        account={account}\n                        friendData={friendData}\n                    />\n                </Form.Item>\n\n                <Form.Item label=\"Repeat\" name=\"repeat\">\n                    <Select getPopupContainer={trigger => trigger.parentNode}>\n                        <Option value=\"no\">No repeat</Option>\n                        <Option value=\"day\">Every day</Option>\n                        <Option value=\"weekday\">Every day of week</Option>\n                        <Option value=\"week\">Every week</Option>\n                        <Option value=\"month\">Every month</Option>\n                        <Option value=\"year\">Every year</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item\n                    noStyle\n                    shouldUpdate={(prevValues, currentValues) =>\n                        prevValues.repeat !== currentValues.repeat\n                    }\n                >\n                    {({ getFieldValue }) => {\n                        return getFieldValue('repeat') === 'weekday' ? (\n                            <Form.Item label=\"Days of week\" name=\"days\">\n                                <Select\n                                    mode=\"tags\"\n                                    getPopupContainer={trigger =>\n                                        trigger.parentNode\n                                    }\n                                >\n                                    <Option value=\"0\">Sunday</Option>\n                                    <Option value=\"1\">Monday</Option>\n                                    <Option value=\"2\">Tuesday</Option>\n                                    <Option value=\"3\">Wednesday</Option>\n                                    <Option value=\"4\">Thursday</Option>\n                                    <Option value=\"5\">Friday</Option>\n                                    <Option value=\"6\">Saturday</Option>\n                                </Select>\n                            </Form.Item>\n                        ) : null\n                    }}\n                </Form.Item>\n                <Form.Item\n                    name=\"rewards\"\n                    label=\"Inspirations\"\n                    valuePropName=\"rewards\"\n                    trigger=\"onValueChange\"\n                >\n                    <Rewards />\n                </Form.Item>\n                <Form.Item label=\"Place\">\n                    <div\n                        style={{\n                            position: 'relative',\n                            height: '300px',\n                        }}\n                    >\n                        <Map\n                            ref={map}\n                            center={position}\n                            zoom={zoom}\n                            ondragend={mapDragEnd}\n                            onmoveend={mapDragEnd}\n                            style={{\n                                width: '100%',\n                                height: '100%',\n                                position: 'relative',\n                                zIndex: 1,\n                            }}\n                            gestureHandling={true}\n                        >\n                            <TileLayer\n                                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                            />\n                            <LocateControl />\n                        </Map>\n                        <div\n                            style={{\n                                backgroundImage: `url(${require('../../assets/images/pin.png')})`,\n                                width: '20px',\n                                height: '35px',\n                                position: 'absolute',\n                                zIndex: 2,\n                                left: 'calc(50% - 10px)',\n                                top: 'calc(50% - 35px)',\n                                pointerEvents: 'none',\n                                touchAction: 'none',\n                            }}\n                        />\n                    </div>\n                </Form.Item>\n                <div style={{ textAlign: 'right', marginTop: '50px' }}>\n                    <Button size=\"large\" onClick={() => props.cancel(false)}>\n                        Cancel\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                    >\n                        Save\n                    </Button>\n                </div>\n            </Form>\n        </>\n    ) : null\n}\nexport default EditGoalAndProgressForm\n","import React from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport EditGoalAndProgressForm from '../../components/EditGoalAndProgressForm/EditGoalAndProgressForm'\n\nconst EditProgress = props => {\n    const { progress, account, state, setState, friendData } = props\n\n    const onFinish = value => {\n        wsActions.editGoalInProgress(props, value)\n        setState({ ...state, editProgressOpen: false })\n        document.body.removeAttribute('style')\n    }\n\n    return progress.goal ? (\n        <EditGoalAndProgressForm\n            goal={progress.goal}\n            onFinish={onFinish}\n            account={account}\n            friendData={friendData}\n            cancel={props.cancel}\n        />\n    ) : null\n}\n\nexport default EditProgress\n","import React, { useState } from 'react'\nimport {\n    Box,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    Snackbar,\n    Tooltip,\n} from '@material-ui/core'\nimport { withRouter } from 'react-router-dom'\nimport { FileCopy, Share } from '@material-ui/icons'\nimport {\n    EmailShareButton,\n    FacebookShareButton,\n    // WeiboShareButton,\n    // HatenaShareButton,\n    // InstapaperShareButton,\n    // LineShareButton,\n    LinkedinShareButton,\n    // LivejournalShareButton,\n    // MailruShareButton,\n    // OKShareButton,\n    PinterestShareButton,\n    // PocketShareButton,\n    // RedditShareButton,\n    TelegramShareButton,\n    // TumblrShareButton,\n    TwitterShareButton,\n    // ViberShareButton,\n    VKShareButton,\n    // WhatsappShareButton,     ,\n    FacebookIcon,\n    TwitterIcon,\n    LinkedinIcon,\n    PinterestIcon,\n    VKIcon,\n    // OKIcon,\n    TelegramIcon,\n    // WhatsappIcon,\n    // RedditIcon,\n    // TumblrIcon,\n    // MailruIcon,\n    EmailIcon,\n    // LivejournalIcon,\n    // ViberIcon,\n    // WorkplaceIcon,\n    // LineIcon,\n    // PocketIcon,\n    // InstapaperIcon,\n    // WeiboIcon,\n    // HatenaIcon,\n    // FacebookMessengerIcon,\n    // FacebookMessengerShareButton,\n} from 'react-share'\nimport { spanStyle } from '../Post/Message'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { Alert } from '@material-ui/lab'\n\nconst ShareButton = props => {\n    const [alertVisible, setAlertVisible] = useState(false)\n    const [open, setOpen] = useState(false)\n    const basicProps = {\n        url: props.link || window.location.href,\n        title: props.title,\n        media: props.media || 'https://addspire.com/logo.jpg',\n        style: {\n            margin: '10px',\n            display: 'inline-block',\n            textAlign: 'center',\n            cursor: 'pointer',\n        },\n    }\n    return (\n        <>\n            <Tooltip title=\"Share\" enterDelay={500} leaveDelay={200}>\n                {props.post ? (\n                    <Button onClick={() => setOpen(true)} startIcon={<Share />}>\n                        <span style={spanStyle}>Share</span>\n                    </Button>\n                ) : (\n                    <IconButton\n                        // color=\"primary\"\n                        style={props.style}\n                        onClick={() => setOpen(true)}\n                    >\n                        <Share />\n                    </IconButton>\n                )}\n            </Tooltip>\n            <Dialog open={open} onClose={() => setOpen(false)}>\n                <DialogTitle>Share to:</DialogTitle>\n                <DialogContent>\n                    <DialogContent>\n                        <FacebookShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <FacebookIcon size={32} round />\n                            <Box>Facebook</Box>\n                        </FacebookShareButton>\n                        {/* <FacebookMessengerShareButton\n                            {...basicProps}\n                            appId=\"521270401588372\"\n                        >\n                            <FacebookMessengerIcon size={32} round />\n                        </FacebookMessengerShareButton> */}\n                        <TwitterShareButton {...basicProps}>\n                            <TwitterIcon size={32} round />\n                            <Box>Twitter</Box>\n                        </TwitterShareButton>\n                        <TelegramShareButton {...basicProps}>\n                            <TelegramIcon size={32} round />\n                            <Box>Telegram</Box>\n                        </TelegramShareButton>\n                        <PinterestShareButton {...basicProps}>\n                            <PinterestIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </PinterestShareButton>\n\n                        {/* <InstapaperShareButton {...basicProps}>\n                            <InstapaperIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </InstapaperShareButton>\n                        <PocketShareButton {...basicProps}>\n                            <PocketIcon size={32} round />\n                            <Box>Pocket</Box>\n                        </PocketShareButton> */}\n                        <LinkedinShareButton {...basicProps}>\n                            <LinkedinIcon size={32} round />\n                            <Box>LinkedIn</Box>\n                        </LinkedinShareButton>\n                        {/* <ViberShareButton {...basicProps}>\n                            <ViberIcon size={32} round />\n                        </ViberShareButton>\n                        <LineShareButton {...basicProps}>\n                            <LineIcon size={32} round />\n                        </LineShareButton> */}\n                        {/* <LivejournalShareButton {...basicProps}>\n                            <LivejournalIcon size={32} round />\n                        </LivejournalShareButton> */}\n                        {/* <MailruShareButton {...basicProps}>\n                            <MailruIcon size={32} round />\n                        </MailruShareButton> */}\n                        {/* <OKShareButton {...basicProps} image={props.media}>\n                            <OKIcon size={32} round />\n                        </OKShareButton>\n                        <RedditShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <RedditIcon size={32} round />\n                        </RedditShareButton>\n                        <TumblrShareButton {...basicProps}>\n                            <TumblrIcon size={32} round />\n                        </TumblrShareButton> */}\n                        <VKShareButton {...basicProps} image={props.media}>\n                            <VKIcon size={32} round />\n                            <Box>VK</Box>\n                        </VKShareButton>\n                        {/* <WhatsappShareButton {...basicProps} separator=\":: \">\n                            <WhatsappIcon size={32} round />\n                        </WhatsappShareButton> */}\n                        {/* <WorkplaceShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <WorkplaceIcon size={32} round />\n                        </WorkplaceShareButton> */}\n                        {/* <WeiboShareButton {...basicProps} image={props.media}>\n                            <WeiboIcon size={32} round />\n                        </WeiboShareButton> */}\n                        {/* <HatenaShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <HatenaIcon size={32} round />\n                        </HatenaShareButton> */}\n                        <EmailShareButton\n                            {...basicProps}\n                            subject={props.title}\n                            body=\"body\"\n                        >\n                            <EmailIcon size={32} round />\n                            <Box>Email</Box>\n                        </EmailShareButton>\n\n                        <CopyToClipboard\n                            text={basicProps.url}\n                            {...basicProps}\n                            onCopy={() => setAlertVisible(true)}\n                        >\n                            <Box>\n                                <FileCopy style={{ fontSize: 32 }} />\n                                <Box>Copy url</Box>\n                            </Box>\n                        </CopyToClipboard>\n                    </DialogContent>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setOpen(false)}>Close</Button>\n                </DialogActions>\n            </Dialog>\n            <Snackbar\n                open={alertVisible}\n                autoHideDuration={2000}\n                onClose={() => setAlertVisible(false)}\n            >\n                <Alert\n                    onClose={() => setAlertVisible(false)}\n                    severity=\"success\"\n                >\n                    Url is copied to the clipboard!\n                </Alert>\n            </Snackbar>\n        </>\n    )\n}\n\nexport default withRouter(ShareButton)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport * as wsActions from '../../websocketActions'\nimport ActivityTable from './ActivityTable'\nimport EditProgress from './EditProgress'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport ImageCarousel from '../../components/UI/ImageCarousel/ImageCarousel'\n\nimport Rewards from '../../components/Rewards/Rewards'\nimport MasonryCard from '../../components/MasonryCard'\nimport FollowButton from '../../components/FollowButton'\nimport Helmet from 'react-helmet'\nimport RetweetOutlined from '@ant-design/icons/RetweetOutlined'\n// import Divider from 'antd/es/divider'\nimport ReadMore from '../../components/UI/ReadMore'\nimport {\n    Box,\n    Dialog,\n    Divider,\n    makeStyles,\n    Paper,\n    Slide,\n    Typography,\n    Button,\n    IconButton,\n    MenuItem,\n    Menu,\n    DialogTitle,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n} from '@material-ui/core'\n\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport ShareButton from '../../components/UI/ShareButton'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n    },\n    icon: {\n        verticalAlign: 'bottom',\n        height: 20,\n        width: 20,\n    },\n    details: {\n        alignItems: 'center',\n    },\n    column: {\n        flexBasis: '33.33%',\n    },\n    helper: {\n        borderLeft: `2px solid ${theme.palette.divider}`,\n        padding: theme.spacing(1, 2),\n    },\n    link: {\n        color: theme.palette.primary.main,\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'underline',\n        },\n    },\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Activity = props => {\n    const classes = useStyles()\n\n    const { account, progress, state, setState, friendData } = props\n    const { goal } = progress\n    const [followersVisible, setFollowersVisible] = useState('')\n    const [anchorEl, setAnchorEl] = useState(null)\n\n    const getDay = day => {\n        switch (day) {\n            case '0':\n                return 'Sunday'\n            case '1':\n                return 'Monday'\n            case '2':\n                return 'Tuesday'\n            case '3':\n                return 'Wednesday'\n            case '4':\n                return 'Thursday'\n            case '5':\n                return 'Friday'\n            case '6':\n                return 'Saturday'\n\n            default:\n                return ''\n        }\n    }\n\n    const getRepeatType = repeat => {\n        switch (repeat) {\n            case 'day':\n                return 'every day'\n            case 'weekday':\n                return 'every day of week'\n            case 'week':\n                return 'every week'\n            case 'month':\n                return 'every month'\n            case 'year':\n                return 'every year'\n            default:\n                return ''\n        }\n    }\n\n    const getDropDownMeuItems = () => {\n        const items = []\n        if (account._id === progress.owner)\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setState({\n                            ...state,\n                            editProgressOpen: true,\n                        })\n                        setAnchorEl(null)\n                    }}\n                >\n                    Edit\n                </MenuItem>\n            )\n\n        if (account.followProgresses.includes(progress._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.unfollowProgress(account._id, progress._id)\n                        setAnchorEl(null)\n                    }}\n                >\n                    Unfollow\n                </MenuItem>\n            )\n\n        if (progress.likes.includes(account._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.changeLikesProgress(\n                            account._id,\n                            progress._id,\n                            false\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    Unlike\n                </MenuItem>\n            )\n        if (\n            account.progresses &&\n            account.progresses.includes(progress._id.toString())\n        )\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.leaveProgress(props)\n                        setAnchorEl(null)\n                    }}\n                >\n                    Leave\n                </MenuItem>\n            )\n        return items.length > 0 && items\n    }\n\n    const dropDownMeuItems = account._id ? getDropDownMeuItems() : []\n    return goal ? (\n        <>\n            <Helmet>\n                <title>\n                    {goal.name} by {progress.owner} at Addspire\n                </title>\n                <meta name=\"description\" content={goal.descriptionText} />\n            </Helmet>\n            <Paper style={{ padding: '15px' }}>\n                {goal.images.length > 0 && (\n                    <ImageCarousel images={goal.images} />\n                )}\n                <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                    <Typography variant=\"h4\">{goal.name}</Typography>\n                    <Box\n                        style={{\n                            margin: '5px 0px',\n                        }}\n                    >\n                        <Button\n                            onClick={() => setFollowersVisible('followers')}\n                            style={{ marginRight: '20px' }}\n                        >\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {progress.followingAccounts.length} Followers\n                            </span>\n                        </Button>\n                        <Button onClick={() => setFollowersVisible('likes')}>\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {progress.likes.length} Likes\n                            </span>\n                        </Button>\n                        <ShareButton\n                            title={\n                                goal.name +\n                                ' goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                            }\n                            media={goal.images && goal.images[0]}\n                        />\n                        {dropDownMeuItems && account && account._id && (\n                            <>\n                                <IconButton\n                                    onClick={event =>\n                                        setAnchorEl(event.currentTarget)\n                                    }\n                                >\n                                    <MoreVertOutlined />\n                                </IconButton>\n                                <Menu\n                                    anchorEl={anchorEl}\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    onClose={() => setAnchorEl(null)}\n                                >\n                                    {dropDownMeuItems}\n                                </Menu>\n                            </>\n                        )}\n                    </Box>\n                    <Box\n                        style={{\n                            margin: '0px 0px 20px',\n                        }}\n                    >\n                        {account &&\n                            account._id &&\n                            !account.followProgresses.includes(\n                                progress._id\n                            ) && (\n                                <Button\n                                    color=\"primary\"\n                                    onClick={() =>\n                                        wsActions.followProgress(\n                                            account._id,\n                                            progress._id\n                                        )\n                                    }\n                                    style={{ marginRight: '20px' }}\n                                    variant=\"contained\"\n                                >\n                                    Follow\n                                </Button>\n                            )}\n\n                        {account &&\n                            account._id &&\n                            !progress.likes.includes(account._id) && (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={() =>\n                                        wsActions.changeLikesProgress(\n                                            account._id,\n                                            progress._id,\n                                            true\n                                        )\n                                    }\n                                >\n                                    Like\n                                </Button>\n                            )}\n                    </Box>\n                </div>\n            </Paper>\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                Tracking\n            </Typography>\n            <Paper style={{ padding: '15px' }}>\n                <ActivityTable\n                    progress={progress}\n                    account={account}\n                    state={state}\n                    setState={setState}\n                />\n            </Paper>\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                Description\n            </Typography>\n            <Paper style={{ padding: '15px' }}>\n                {goal.repeat !== 'no' && (\n                    <>\n                        <p>\n                            <RetweetOutlined />\n                            {' Repeats '}\n                            {getRepeatType(goal.repeat) +\n                                (goal.repeat === 'weekday'\n                                    ? ' (' +\n                                      goal.days.reduce(\n                                          (acc, val, index) =>\n                                              acc +\n                                              (index > 0 ? ', ' : '') +\n                                              getDay(val),\n                                          ''\n                                      ) +\n                                      ').'\n                                    : '.')}\n                        </p>\n                        <Divider\n                            light\n                            variant=\"middle\"\n                            style={{ marginBottom: '15px' }}\n                        />\n                    </>\n                )}\n\n                <ReadMore\n                    initialHeight={200}\n                    contentEditor={goal.description}\n                />\n            </Paper>\n\n            <Rewards rewards={goal.rewards} title=\"Inspirations\" />\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                Posts and comments\n            </Typography>\n\n            <Dialog\n                fullScreen\n                open={state.editProgressOpen}\n                onClose={() => setState({ ...state, editProgressOpen: false })}\n                TransitionComponent={TransitionComponent}\n            >\n                <EditProgress\n                    progress={progress}\n                    account={account}\n                    state={state}\n                    setState={setState}\n                    friendData={friendData}\n                    cancel={() =>\n                        setState({ ...state, editProgressOpen: false })\n                    }\n                />\n            </Dialog>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'likes'\n                        ? 'Goal likes'\n                        : 'Goal followers'\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible === 'likes'\n                        ? 'Goal likes'\n                        : 'Goal followers'}\n                </DialogTitle>\n                <DialogContent>\n                    {progress[\n                        followersVisible === 'likes'\n                            ? 'likes'\n                            : 'followingAccounts'\n                    ].map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    ) : null\n}\n\nexport default withRouter(Activity)\n","import React, { useEffect, useRef, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport Message, { spanStyle } from './Message'\nimport AddMessage from './AddMessage'\nimport {\n    Button,\n    Card,\n    CardContent,\n    Chip,\n    Divider,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    AddCommentOutlined,\n    ThumbUp,\n    ThumbUpOutlined,\n} from '@material-ui/icons'\nimport ShareButton from '../UI/ShareButton'\nimport scrollToComponent from 'react-scroll-to-component'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Post = props => {\n    const classes = useStyles()\n    const { post, account, friendData, progressData } = props\n    const isPostPage = props.history.location.pathname.indexOf(post._id) > -1\n    const [postOpen, setPostOpen] = useState(props.showReplies || isPostPage)\n    const [likes, setLikes] = useState(null)\n    const getNumberOfMessages = messages => {\n        let result = 0\n        for (let item of messages) {\n            result = result + 1 + item.replies.length\n        }\n        return result\n    }\n    const postRef = useRef(null)\n\n    useEffect(() => {\n        if (isPostPage && postRef.current) {\n            window.scrollTo({\n                top: postRef.current.offsetTop - 70,\n                behavior: 'smooth',\n            })\n            setPostOpen(true)\n        }\n    }, [isPostPage])\n\n    return post ? (\n        <>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Main post\n                </Typography>\n            )}\n            <Card elevation={isPostPage && 3}>\n                <CardContent ref={postRef}>\n                    {!props.noStartMessage && (\n                        <>\n                            <Message\n                                message={post.startMessage}\n                                post={post}\n                                account={account}\n                                friendData={friendData}\n                                progressData={progressData}\n                                replies={[]}\n                                isStart={true}\n                            />\n\n                            {post.startMessage.likes.length > 0 && (\n                                <Chip\n                                    icon={<ThumbUp />}\n                                    color=\"primary\"\n                                    label={post.startMessage.likes.length}\n                                    size=\"small\"\n                                    onClick={() =>\n                                        setLikes(post.startMessage.likes)\n                                    }\n                                    style={{ marginBottom: '10px' }}\n                                />\n                            )}\n                        </>\n                    )}\n                    <Divider />\n\n                    <div\n                        style={{\n                            textAlign: 'left',\n                            // marginBottom: '200px',\n                            position: 'relative',\n                        }}\n                    >\n                        <div\n                            style={{\n                                display: 'flex',\n                                justifyContent: 'space-around',\n                            }}\n                        >\n                            <span key=\"comment-basic-like\">\n                                <Button\n                                    onClick={() =>\n                                        wsActions.changeLikesMessage(\n                                            post.startMessage.likes.includes(\n                                                account._id\n                                            )\n                                                ? 'dislikeMessage'\n                                                : 'likeMessage',\n                                            post.startMessage.messageId,\n                                            account._id,\n                                            post._id\n                                        )\n                                    }\n                                    startIcon={<ThumbUpOutlined />}\n                                >\n                                    <span style={spanStyle}>\n                                        {post.startMessage.likes.includes(\n                                            account._id\n                                        )\n                                            ? 'Unlike'\n                                            : 'Like'}\n                                    </span>\n                                </Button>\n                            </span>\n                            <span>\n                                <Button\n                                    onClick={() => setPostOpen(true)}\n                                    startIcon={<AddCommentOutlined />}\n                                >\n                                    <span style={spanStyle}>Comment</span>\n                                </Button>\n                            </span>\n                            <span key=\"comment-basic-like\">\n                                <ShareButton\n                                    post\n                                    link={\n                                        post.parent.parentType === 'progress' &&\n                                        'https://addspire.com/goals/' +\n                                            post.parent.parentId +\n                                            '/post/' +\n                                            post._id\n                                    }\n                                    media={\n                                        post.startMessage.image &&\n                                        post.startMessage.image.length > 0 &&\n                                        post.startMessage.image[0]\n                                    }\n                                    title={\n                                        'Post in goal on Addspire.com - a social network for sharing and supporting promises and resolutions.'\n                                    }\n                                />\n                            </span>\n                        </div>\n                        <Divider />\n                        {!postOpen ? (\n                            post.messages.length > 0 && (\n                                <Button onClick={() => setPostOpen(true)}>\n                                    <span\n                                        style={{\n                                            ...spanStyle,\n                                            fontSize: '15px',\n                                        }}\n                                    >\n                                        Show{' '}\n                                        {getNumberOfMessages(post.messages)}{' '}\n                                        comments\n                                    </span>\n                                </Button>\n                            )\n                        ) : (\n                            <>\n                                <AddMessage\n                                    post={post}\n                                    account={account}\n                                    isTop={true}\n                                />\n                                {post.messages && post.messages.length\n                                    ? post.messages.map((message, index) => (\n                                          <Message\n                                              key={index}\n                                              message={message}\n                                              post={post}\n                                              account={account}\n                                              friendData={friendData}\n                                              replies={message.replies}\n                                              isTop={true}\n                                          />\n                                      ))\n                                    : null}\n                            </>\n                        )}\n                    </div>\n                </CardContent>\n            </Card>\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title=\"Message likes\"\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Other posts\n                </Typography>\n            )}\n        </>\n    ) : null\n}\n\nexport default withRouter(Post)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport { Box, Card, CardContent } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\n\nimport EditPost from './EditPost'\n\nconst AddPost = props => {\n    const [postOpen, setPostOpen] = useState(false)\n\n    const { parent, account, parentType } = props\n\n    const handleSave = (images, messageText) => {\n        wsActions.addPost(account._id, parent, parentType, messageText, images)\n        if (props.onSend) props.onSend()\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setPostOpen(false)\n    }\n\n    return account._id ? (\n        <>\n            <Card elevation={3}>\n                <CardContent>\n                    <Box style={{ display: 'flex', width: '100%' }}>\n                        <Box style={{ marginRight: '20px' }}>\n                            <UserButton\n                                noName={true}\n                                id={account._id}\n                                span={true}\n                                size={36}\n                            />\n                        </Box>\n                        <Box style={{ flex: 1 }}>\n                            <Box\n                                style={{\n                                    background: '#efefef',\n                                    padding: '5px 15px',\n                                    borderRadius: '15px',\n                                    color: '#7d7d7d',\n                                }}\n                                onClick={() => setPostOpen(true)}\n                            >\n                                Post something new\n                            </Box>\n                        </Box>\n                    </Box>\n                    <EditPost\n                        open={postOpen}\n                        cancel={handleCancel}\n                        title=\"Create a new post\"\n                        save={handleSave}\n                    />\n                </CardContent>\n            </Card>\n        </>\n    ) : null\n}\n\nexport default withRouter(AddPost)\n","import axios from 'axios'\nimport processRes from './processRes'\nexport default (props, data, setData, options, callback) => {\n    // if (typeof props.isAuthed === 'undefined') return\n    // options = {\n    //     forceAuth: true,\n    //     forceActivate: true,\n    //     pullData: true,\n    //     ...(options || {}),\n    // }\n\n    // if (!props.isAuthed) {\n    //     props.tryAuth(props, options.forceAuth)\n    // }\n\n    // if (options.pullData) {\n    axios\n        .get('/api' + props.history.location.pathname)\n        .then(res => {\n            processRes(res, props)\n            // if (options.forceActivate) {\n            //     if (props.isAuthed && res.data.status === 'no account') {\n            //         props.history.push('/activate-account')\n            //     }\n            // }\n\n            setData(res.data)\n            callback(res.data)\n        })\n        .catch(err => {})\n    // }\n}\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Cookies from 'universal-cookie'\nimport classes from './LoginModal.module.css'\nimport {\n    FacebookLoginButton,\n    GithubLoginButton,\n    GoogleLoginButton,\n    InstagramLoginButton,\n} from 'react-social-login-buttons'\nimport {\n    Button,\n    Checkbox,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Divider,\n    FormControlLabel,\n    Slide,\n} from '@material-ui/core'\n\nconst cookies = new Cookies()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst LoginModal = props => {\n    const [state, setState] = useState(false)\n    const [cookieConsent, setCookieConsent] = useState(false)\n\n    useEffect(() => {\n        checkCookieConsent()\n    })\n\n    let remeberMeParam = '?rememberme=false'\n    if (state) {\n        remeberMeParam = '?rememberme=true'\n    }\n\n    const checkCookieConsent = () => {\n        const cookiesConsent = cookies.get('cookies_consent')\n        if (cookiesConsent) {\n            setCookieConsent(true)\n        }\n    }\n\n    const agreeWithCookies = () => {\n        cookies.set('cookies_consent', 'true', {\n            path: '/',\n            maxAge: 31530000,\n        })\n        checkCookieConsent()\n    }\n    const basicURL =\n        process.env.NODE_ENV !== 'development'\n            ? 'https://addspire.com/api/auth/'\n            : 'http://my.websiter.test:5000/api/auth/'\n    return props.loginVisible ? (\n        !cookieConsent ? (\n            <Dialog open={!cookieConsent}>\n                <DialogTitle>{'Cookies consent'}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        We use cookies only for login purposes. In order to\n                        proceed you need to agree with the use of cookies.\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => {\n                            props.setLoginVisible(false)\n                            setCookieConsent(false)\n                        }}\n                    >\n                        Disagree\n                    </Button>\n                    <Button\n                        onClick={agreeWithCookies}\n                        color=\"primary\"\n                        autoFocus\n                    >\n                        Agree\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        ) : (\n            <Dialog\n                fullScreen\n                open={props.loginVisible}\n                onClose={() => props.setLoginVisible(false)}\n                TransitionComponent={TransitionComponent}\n            >\n                <div className=\"contentDiv\">\n                    <div\n                        className={classes.Container}\n                        style={{\n                            maxWidth: '500px',\n                            margin: '0 auto',\n                        }}\n                    >\n                        <h1\n                            style={{\n                                fontWeight: 'bold',\n                                lineHeight: '1.3em',\n                                marginBottom: 0,\n                                fontSize: '2.5em',\n                            }}\n                        >\n                            Welcome to Addspire!\n                        </h1>\n                        <h3>This is where great inspiration lives.</h3>\n                        <div\n                            className={classes.socialButtons}\n                            style={{ marginBottom: '30px' }}\n                        >\n                            <FacebookLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `facebook/start${remeberMeParam}`)\n                                }\n                            />\n                            <GoogleLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `google/start${remeberMeParam}`)\n                                }\n                            />\n                            <GithubLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `instagram/start${remeberMeParam}`)\n                                }\n                            />\n                            <GithubLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `github/start${remeberMeParam}`)\n                                }\n                            />\n                        </div>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={state}\n                                    onChange={() => setState(!state)}\n                                    color=\"primary\"\n                                />\n                            }\n                            label=\"Remember me\"\n                        />\n\n                        <Divider style={{ margin: '20px' }} />\n\n                        <Button\n                            onClick={() => props.setLoginVisible(false)}\n                            color=\"secondary\"\n                        >\n                            Login or sign up later\n                        </Button>\n                    </div>\n                    <div className={classes.Background} />\n                </div>\n            </Dialog>\n        )\n    ) : null\n}\n\nexport default withRouter(LoginModal)\n","import React from 'react'\nimport * as wsActions from '../../websocketActions'\n\nimport EditGoalAndProgressForm from '../../components/EditGoalAndProgressForm/EditGoalAndProgressForm'\n\nconst AddProgress = props =>\n    props.account._id ? (\n        <EditGoalAndProgressForm\n            onFinish={value => {\n                wsActions.startProgress(props.account._id, value)\n                props.setStartProgressVisible(false)\n                document.body.removeAttribute('style')\n            }}\n            account={props.account}\n            friendData={props.friendData}\n            cancel={props.cancel}\n        />\n    ) : null\n\nexport default AddProgress\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../websocketActions'\n\nimport { IconButton, Menu, MenuItem, Button, Box } from '@material-ui/core'\nimport { MoreVertOutlined } from '@material-ui/icons'\n\nconst FriendActionButton = props => {\n    const [anchorEl, setAnchorEl] = useState(null)\n    const { invitingFriends, invitedFriends, realFriends, _id, account } = props\n    const accountId = account ? account._id : ''\n    if (!accountId) return null\n    const handleClose = () => {\n        setAnchorEl(null)\n    }\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    if (accountId === _id)\n        return props.additionalButtons ? (\n            <>\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n                <Menu\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={handleClose}\n                >\n                    {props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick()\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                </Menu>\n            </>\n        ) : null\n\n    return (\n        <>\n            {props.minimized ? (\n                props.asText ? (\n                    <Button\n                        onClick={e => handleClick(e)}\n                        variant=\"contained\"\n                        color=\"primary\"\n                    >\n                        Actions\n                    </Button>\n                ) : (\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                )\n            ) : invitingFriends.find(item => item.friend === _id) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.acceptFriend(accountId, _id)\n                        }}\n                    >\n                        Accept friendship\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : ![...realFriends, ...invitingFriends, ...invitedFriends].find(\n                  item => item.friend === _id\n              ) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.addFriend(accountId, _id)\n                        }}\n                    >\n                        Become friends\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : props.asText ? (\n                <Button\n                    onClick={e => handleClick(e)}\n                    variant=\"contained\"\n                    color=\"primary\"\n                >\n                    Actions\n                </Button>\n            ) : (\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n            )}\n            <Menu\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                {props.minimized &&\n                    invitingFriends.find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.acceptFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            Accept friendship\n                        </MenuItem>\n                    )}\n                {props.minimized &&\n                    ![\n                        ...realFriends,\n                        ...invitingFriends,\n                        ...invitedFriends,\n                    ].find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.addFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            Become friends\n                        </MenuItem>\n                    )}\n                {props.additionalButtons &&\n                    props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                {invitingFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"2\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Decline\n                    </MenuItem>\n                ) : invitedFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"3\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Cancel invitation\n                    </MenuItem>\n                ) : realFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"4\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Unfriend\n                    </MenuItem>\n                ) : null}\n                {props.noFollow ? null : account.followAccounts.includes(\n                      _id\n                  ) ? (\n                    <MenuItem\n                        key=\"5\"\n                        onClick={() => {\n                            wsActions.unfollowAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Unfollow\n                    </MenuItem>\n                ) : (\n                    <MenuItem\n                        key=\"6\"\n                        onClick={() => {\n                            wsActions.followAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Follow\n                    </MenuItem>\n                )}\n            </Menu>\n        </>\n    )\n}\n\nexport default FriendActionButton\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../store/actions'\nimport { withRouter } from 'react-router-dom'\n\nimport FriendActionButton from './FriendActionButton'\nimport UserButton from './UserButton/UserButton'\nimport MasonryCard from './MasonryCard'\n\nconst FriendCard = props => {\n    return (\n        <MasonryCard\n            friends={true}\n            noLink={true}\n            actions={\n                <FriendActionButton\n                    account={props.account}\n                    realFriends={props.realFriends}\n                    invitedFriends={props.invitedFriends}\n                    invitingFriends={props.invitingFriends}\n                    _id={props.friend._id}\n                    additionalButtons={[\n                        {\n                            title: 'See profile',\n                            onClick: () =>\n                                props.history.push(\n                                    '/profile/' + props.friend._id\n                                ),\n                        },\n                    ]}\n                    asIcons={true}\n                />\n            }\n            body={<UserButton span={true} id={props.friend._id} size={50} />}\n        />\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(FriendCard)\n)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport FriendCard from '../../components/FriendCard'\nimport {\n    Container,\n    createStyles,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Typography,\n} from '@material-ui/core'\nimport { SearchOutlined } from '@material-ui/icons'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n            margin: '30px auto',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n            margin: 'auto',\n        },\n        iconButton: {\n            padding: 10,\n        },\n    })\n)\nconst AddFriends = props => {\n    const classes = useStyles()\n    useEffect(() => {\n        props.setFriendSearchResult({})\n        setSearchField('')\n    }, [props.open])\n    const [searchField, setSearchField] = useState('')\n    const { account, friendData, searchResult } = props\n\n    if (!account._id) return null\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n\n    if (account.friends) {\n        for (let friend of account.friends) {\n            const fullFriend = { ...friendData[friend.friend], ...friend }\n            if (fullFriend) {\n                if (fullFriend.status === 'friend') realFriends.push(fullFriend)\n                else if (fullFriend.status === 'invited')\n                    invitedFriends.push(fullFriend)\n                else if (fullFriend.status === 'inviting')\n                    invitingFriends.push(fullFriend)\n            }\n        }\n    }\n\n    return (\n        <Container style={{ paddingTop: '20px', maxWidth: '800px' }}>\n            <Typography variant=\"body2\" align=\"center\">\n                To find a friend you need to enter your friend's name or\n                nickname.\n            </Typography>\n            <Paper className={classes.root}>\n                <InputBase\n                    className={classes.input}\n                    placeholder=\"Search friend\"\n                    onChange={e => setSearchField(e.target.value)}\n                />\n                <IconButton\n                    className={classes.iconButton}\n                    onClick={() => wsActions.searchFriends(searchField)}\n                >\n                    <SearchOutlined />\n                </IconButton>\n            </Paper>\n            {searchResult.length > 0 &&\n                searchResult.map(friend => (\n                    <FriendCard\n                        {...props}\n                        friend={friend}\n                        realFriends={realFriends}\n                        invitingFriends={invitingFriends}\n                        invitedFriends={invitedFriends}\n                    />\n                ))}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        searchResult: state.friendSearchResult,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AddFriends)\n","import React, { useState, useRef } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport getAvatar from '../../utils/getAvatar'\nimport LoginModal from './LoginModal'\nimport * as cll from './Layout.module.css'\nimport AddProgress from '../../containers/Progresses/AddProgress'\n\nimport {\n    AppBar,\n    IconButton,\n    Slide,\n    Toolbar,\n    useScrollTrigger,\n    createStyles,\n    makeStyles,\n    Theme,\n    Container,\n    Badge,\n    Avatar,\n    LinearProgress,\n    Dialog,\n    useMediaQuery,\n    Box,\n    Paper,\n    Fab,\n    Chip,\n} from '@material-ui/core'\nimport SpeedDial from '@material-ui/lab/SpeedDial'\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon'\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction'\nimport {\n    ArrowBack,\n    Close,\n    HomeRounded,\n    Notifications,\n    Person,\n    Star,\n} from '@material-ui/icons'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport AddFriends from '../../containers/Friends/AddFriends'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        speedDial: {\n            right: '12px',\n            // bottom: theme.spacing(2),\n            bottom: '16px',\n            position: 'fixed',\n        },\n        logout: {\n            left: theme.spacing(2),\n            bottom: theme.spacing(2),\n            position: 'fixed',\n        },\n        login: {\n            right: '16px',\n            bottom: '16px',\n            position: 'fixed',\n        },\n        home: {\n            right: '16px',\n            bottom: '88px',\n            position: 'fixed',\n        },\n        avatar: {\n            border: '1px solid ' + theme.palette.primary.main,\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst AccountLayout = props => {\n    const domRef = useRef()\n    const matches = useMediaQuery(theme => theme.breakpoints.up('sm'))\n    const { account } = props\n\n    const [loginVisible, setLoginVisible] = useState(false)\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n    const [speedDialOpen, setSpeedDialOpen] = useState(false)\n\n    const openLink = url => props.history.push(url)\n\n    const isActivating = props.history.location.pathname === '/activate-account'\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n    const logedIn = props.isAuthed && account._id\n\n    const classes = useStyles()\n    const scrollTrigger = !useScrollTrigger()\n    const checkPagePath = paths => {\n        for (let path of paths)\n            if (props.history.location.pathname.indexOf(path) === 0) return true\n    }\n    const removeGutters =\n        !matches && checkPagePath(['/goals', '/posts', '/profile', '/account'])\n    return (\n        <>\n            <div className={cll.Layout}>\n                <Slide appear={false} direction=\"down\" in={scrollTrigger}>\n                    <AppBar elevation={4} color=\"secondary\">\n                        {props.isConnectingWS && !logedIn && (\n                            <LinearProgress\n                                style={{\n                                    width: '100%',\n                                    position: 'absolute',\n                                    top: 0,\n                                    left: 0,\n                                }}\n                            />\n                        )}\n\n                        <Toolbar disableGutters>\n                            <div\n                                tabIndex={0}\n                                ref={domRef}\n                                style={{ width: 0, height: 0 }}\n                            />\n                            <div className={classes.MenuButtonContiner}>\n                                <IconButton\n                                    onClick={() => props.history.goBack()}\n                                >\n                                    <ArrowBack color=\"primary\" />\n                                </IconButton>\n                            </div>\n                            {props.header}\n                        </Toolbar>\n                    </AppBar>\n                </Slide>\n                <Toolbar id=\"back-to-top-anchor\" />\n                <Container\n                    style={{ paddingTop: '20px', paddingBottom: '20px' }}\n                    disableGutters={Boolean(removeGutters)}\n                >\n                    {props.children}\n                </Container>\n                {logedIn && !isActivating && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial\"\n                        className={classes.speedDial}\n                        icon={<SpeedDialIcon />}\n                        onClose={() => {\n                            domRef.current.focus()\n                            setSpeedDialOpen(false)\n                        }}\n                        onOpen={() => setSpeedDialOpen(true)}\n                        open={speedDialOpen}\n                    >\n                        <SpeedDialAction\n                            icon={<Person />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    Add friend\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setAddFriendOpen(true)\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Star />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    Add goal\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartProgressVisible(true)\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                    </SpeedDial>\n                )}\n                {(logedIn || !props.isConnectingWS) &&\n                    (isActivating && 'Activate your account')}\n                {props.history.location.pathname === '/' && (\n                    <Slide appear={false} direction=\"right\" in={scrollTrigger}>\n                        <Link\n                            to=\"/blog\"\n                            style={{\n                                position: 'fixed',\n                                top: '50%',\n                                left: '0px',\n                                background: '#9c27b0',\n                                textOrientation: 'upright',\n                                writingMode: 'vertical-rl',\n                                padding: '10px 2px 10px 0px',\n                                borderRadius: '0px 9px 9px 0px',\n                                transform: 'none',\n                                color: 'white',\n                                fontWeight: 700,\n                            }}\n                        >\n                            Blog\n                        </Link>\n                    </Slide>\n                )}\n                {(logedIn && isActivating) ||\n                (!logedIn && props.isConnectingWS) ? (\n                    <Slide appear={false} direction=\"right\" in={scrollTrigger}>\n                        <Fab\n                            onClick={() => props.history.push('/logout')}\n                            variant=\"extended\"\n                            className={classes.logout}\n                            size=\"small\"\n                        >\n                            <Close />\n                            Logout\n                        </Fab>\n                    </Slide>\n                ) : (\n                    !logedIn && (\n                        <>\n                            <Slide\n                                appear={false}\n                                direction=\"left\"\n                                in={scrollTrigger}\n                            >\n                                <Fab\n                                    onClick={() =>\n                                        window.isRNWebView\n                                            ? window.ReactNativeWebView.postMessage(\n                                                  'showLogin'\n                                              )\n                                            : setLoginVisible(true)\n                                    }\n                                    color=\"primary\"\n                                    variant=\"extended\"\n                                    className={classes.login}\n                                >\n                                    <Person />\n                                    Login\n                                </Fab>\n                            </Slide>\n                            <Slide\n                                appear={false}\n                                direction=\"right\"\n                                in={scrollTrigger}\n                            >\n                                <Fab\n                                    onClick={() => openLink('/')}\n                                    // size=\"small\"\n                                    variant=\"extended\"\n                                    className={classes.logout}\n                                >\n                                    <HomeRounded />\n                                    Home\n                                </Fab>\n                            </Slide>\n                        </>\n                    )\n                )}\n                <Slide appear={false} direction=\"up\" in={!useScrollTrigger()}>\n                    <Box\n                        style={{\n                            position: 'fixed',\n                            bottom: '12px',\n                            width: '100%',\n                        }}\n                    >\n                        {logedIn && !isActivating && (\n                            <Box\n                                style={{\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                }}\n                            >\n                                <Paper\n                                    elevation={3}\n                                    style={{ borderRadius: '37px' }}\n                                >\n                                    <IconButton\n                                        onClick={() => openLink('/')}\n                                        color={\n                                            props.history.location.pathname ===\n                                            '/'\n                                                ? 'primary'\n                                                : 'default'\n                                        }\n                                    >\n                                        <HomeRounded fontSize=\"large\" />\n                                    </IconButton>\n                                    <IconButton\n                                        onClick={() => openLink('/posts')}\n                                        color={\n                                            props.history.location.pathname ===\n                                            '/posts'\n                                                ? 'primary'\n                                                : 'default'\n                                        }\n                                    >\n                                        <Badge\n                                            badgeContent={numberOfUnseenNots}\n                                            color=\"secondary\"\n                                        >\n                                            <Notifications fontSize=\"large\" />\n                                        </Badge>\n                                    </IconButton>\n                                    <IconButton\n                                        onClick={() =>\n                                            openLink('/profile/' + account._id)\n                                        }\n                                    >\n                                        <Badge\n                                            badgeContent={\n                                                account.friends.filter(\n                                                    item =>\n                                                        item.status ===\n                                                        'inviting'\n                                                ).length\n                                            }\n                                            color=\"secondary\"\n                                        >\n                                            <Avatar\n                                                classes={\n                                                    props.history.location\n                                                        .pathname ===\n                                                    '/profile/' + account._id\n                                                        ? {\n                                                              root:\n                                                                  classes.avatar,\n                                                          }\n                                                        : {}\n                                                }\n                                                src={getAvatar(\n                                                    account._id,\n                                                    account.image\n                                                )}\n                                            />\n                                        </Badge>\n                                    </IconButton>\n                                </Paper>\n                            </Box>\n                        )}\n                    </Box>\n                </Slide>\n            </div>\n            <LoginModal\n                loginVisible={loginVisible}\n                setLoginVisible={setLoginVisible}\n            />\n            {(logedIn || !props.isConnectingWS) && (!isActivating && <></>)}\n\n            {account._id && (\n                <>\n                    <DialogFullscreen\n                        open={addFriendOpen}\n                        close={() => {\n                            setAddFriendOpen(false)\n                        }}\n                        title=\"Add friend\"\n                    >\n                        <AddFriends\n                            close={() => setAddFriendOpen(false)}\n                            open={addFriendOpen}\n                            account={account}\n                            friendData={props.friendData}\n                        />\n                    </DialogFullscreen>\n\n                    <Dialog\n                        fullScreen\n                        open={startProgressVisible}\n                        onClose={() => {\n                            setStartProgressVisible(false)\n                        }}\n                        TransitionComponent={TransitionComponent}\n                    >\n                        <AddProgress\n                            setStartProgressVisible={setStartProgressVisible}\n                            account={account}\n                            friendData={props.friendData}\n                            cancel={() => setStartProgressVisible(false)}\n                        />\n                    </Dialog>\n                </>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n        lastNotifications: state.lastNotifications,\n        isConnectingWS: state.isConnectingWS,\n        friendData: state.friendData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(AccountLayout))\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport Modal from 'antd/es/modal'\nimport Activity from './Activity'\nimport Post from '../../components/Post/Post'\nimport AddPost from '../../components/Post/AddPost'\nimport pullData from '../../utils/pullData'\nimport Layout from '../../components/Layout/Layout'\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst Progress = props => {\n    const classes = useStyles()\n    const [state, setState] = useState({})\n\n    const [data, setData] = useState({})\n    const pathParts = props.history.location.pathname.split('/')\n    const progressId = pathParts.length > 2 ? pathParts[2] : ''\n    if (!progressId) return null\n    useEffect(() => {\n        if (props.isAuthed) {\n            props.setData({ currentProgress: progressId })\n            if (props.account._id)\n                wsActions.addRecentProgress(props.account._id, progressId)\n        } else {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n                const post = {}\n                for (let item of data.post) post[item._id] = item\n\n                props.setData({\n                    friendData,\n                    posts: post,\n                    account: {},\n                    progress: data.progress,\n                })\n            })\n        }\n    }, [props.isAuthed, props.history.location.pathname])\n\n    const { progress, account, friendData, posts } = props.isAuthed\n        ? props\n        : { ...data, account: {} }\n\n    if (!progress || !progress._id) return null\n    props.setData({ currentPosts: progress.posts })\n\n    const { goal } = progress\n    if (goal) props.setPageTitle({ main: goal.name, sub: progress.worker })\n    return goal && friendData ? (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {goal.name}\n                </Typography>\n            }\n        >\n            <div className=\"contentDiv\">\n                <Activity\n                    state={state}\n                    setState={setState}\n                    progress={progress}\n                    account={account}\n                    friendData={friendData}\n                />\n\n                {account._id && (\n                    <AddPost\n                        parent={progressId}\n                        account={account}\n                        parentType=\"progress\"\n                        // onSend={() => setEditingMessage('')}\n                    />\n                )}\n                {posts &&\n                    [...progress.posts]\n                        .sort((a, b) =>\n                            props.history.location.pathname.indexOf(a) > -1\n                                ? 1\n                                : props.history.location.pathname.indexOf(b) >\n                                  -1\n                                ? -1\n                                : 0\n                        )\n                        .map(postId => {\n                            if (posts[postId]) {\n                                const post = posts[postId]\n                                return (\n                                    <div\n                                        key={postId}\n                                        style={{ paddingTop: '10px' }}\n                                    >\n                                        <Post\n                                            friendData={friendData}\n                                            account={account}\n                                            post={post}\n                                        />\n                                    </div>\n                                )\n                            } else return null\n                        })\n                        .reverse()}\n\n                <Modal\n                    visible={state.previewImage}\n                    footer={null}\n                    onCancel={() => {\n                        setState({ ...state, previewImage: '' })\n                        document.body.removeAttribute('style')\n                    }}\n                >\n                    <img\n                        alt=\"example\"\n                        style={{ width: '100%' }}\n                        src={state.previewImage}\n                    />\n                </Modal>\n            </div>\n        </Layout>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        posts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Progress)\n)\n","import { Box, Divider, Paper, Typography } from '@material-ui/core'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\n\nexport default () => (\n    <Paper\n        style={{\n            padding: '10px',\n            background: 'rgba(128, 0, 128,.01)',\n        }}\n    >\n        <Box\n            style={{\n                textAlign: 'center',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'baseline',\n            }}\n        >\n            {/* <Typography>Welcome to </Typography> */}\n\n            <Link\n                to=\"/\"\n                style={{\n                    display: 'flex',\n                    alignItems: 'baseline',\n                }}\n            >\n                <img\n                    style={{\n                        height: '23px',\n                        margin: '0 4px 0 8px',\n                    }}\n                    src=\"/android-icon-36x36.png\"\n                />\n                <Typography>Addspire.com</Typography>\n            </Link>\n        </Box>\n        <Box>\n            <Typography align=\"center\" style={{ marginTop: '10px' }}>\n                Here we share and support our promises, ideas and resolutions\n            </Typography>\n        </Box>\n        <ImageCarousel\n            images={[\n                '/intro/1.png',\n                '/intro/2.png',\n                '/intro/3.png',\n                '/intro/4.png',\n            ]}\n            height=\"350px\"\n        />\n    </Paper>\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\nimport axios from 'axios'\nimport Layout from '../../components/Layout/Layout'\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\n\nconst styles = `<style> article,  aside,  details,  figcaption,  figure,  footer,  header,  hgroup,  menu,  nav,  section {      display: block;  }   html {      height: 100%;      padding: 0;      margin: 0;  }   body {      margin: auto;      font-weight: 300;      font-family: 'Open Sans', sans-serif !important;      color: #444;      font-size: 17px;      line-height: 1.231;      height: 100%;  }   .clearafter:after {      clear: both;      content: '.';      display: block;      height: 0;      visibility: hidden;  }   h1 {      margin: 0px;  }   .twofold a {      color: #888;      text-decoration: none;  }   .twofold a:hover {      color: #3665c1;  }   .twofold {      display: inline-block;      margin: 5px 0px;      width: 143px;      padding-left: 35px;      font-family: 'Open Sans', sans-serif !important;      color: #999;      font-size: 12px;  }   .twofold_mail {      display: inline-block;      margin: 5px 0px;      cursor: pointer;      color: #999;      padding-left: 35px;      width: 120px;      font-family: 'Open Sans', sans-serif !important;      font-size: 12px;  }   .twofold_mail:hover {      color: #4683ea;  }   .wrapp {      min-height: 100%;      position: relative;      margin: auto;  }   .cont {      width: 94%;      margin: auto;      padding-bottom: 320px;      text-align: center;  }   .logo_back {      padding: 9px 4%;  }   a.logo {      border: none;      text-decoration: none;  }   a img {      border: none;  }   .maintext0 {      font-weight: 300;      font-size: 45px;      color: #222;      margin: 50px auto 10px;      text-align: center;  }   .maintext1 {      font-size: 20px;      font-weight: 300;      letter-spacing: -1px;      margin: 0px auto 20px;      text-align: center;  }   .leftTitle {      font-size: 22px;      font-weight: 600;      margin: 20px auto 20px;      text-align: left;  }   .maintext2 {      font-size: 37px;      font-weight: 300;      text-align: center;      margin: 100px 0px 0px;      color: #222;  }   .maintext3 {      font-size: 22px;      font-weight: 300;      text-align: center;      margin: 50px 0px 20px;      color: #222;  }   .maintext4 {      font-size: 37px;      font-weight: 300;      text-align: center;      margin: 25px 0px 35px;      color: #222;  }   .contactusleft:hover {      background: #FF5935;  }   .facebookleft:hover {      background: #2350A2;  }   .googleleft:hover {      background: #d34836;  }   .linkedinleft:hover {      background: #006699;  }   .twitterleft:hover {      background: #00ACEF;  }   .twitterleft,  .linkedinleft,  .googleleft,  .facebookleft,  .contactusleft {      background: none;      border: none;      cursor: pointer;      width: 28px;      height: 34px;      outline: none;  }   .noselect {      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .totop {      position: absolute;      color: #2B7BC7;      bottom: 0px;      right: 0px;      text-decoration: none;      font-size: 15px;  }   .totop:hover {      text-decoration: underline;  }   .totopmap {      margin-left: 965px;      color: #2B7BC7;      text-decoration: none;      font-size: 15px;  }   .totopmap:hover {      text-decoration: underline;  }   .arrow {      padding-right: 15px;  }   .regulartitlemap {      color: #535353;      font-size: 25px;      font-weight: normal;      margin: 100px 0px 20px 20px;      font-weight: 600;  }   .regulartitleprice {      top: 0px;      color: #535353;      font-size: 25px;      font-weight: normal;      margin: 80px 0px 0px 20px;      font-weight: 600;  }   .even {      padding: 3px;      border-bottom: 1px solid #EEE;      height: 34px;  }   .even:hover {      background-color: #EAFBFB;  }   .pricing {      width: 700px;      margin: auto;      border: 0px solid black;      border-bottom: none;      border-bottom: 1px solid black;      border-collapse: collapse;      font-size: 17px;      text-align: center;      margin-top: 70px;  }   .countries {      list-style-type: none;      top: 0px;      margin: 100px 0px 100px;      text-align: left;  }   .countries li {      width: 188px;      margin: 5px 0 24px 0px;      display: inline-block;  }   .countries li.clear {      clear: left;  }   .countries li svg {      float: left;      margin: 0 10px 0 0;      border: 1px solid #e6e6e6;  }   .countries li a {      display: table;      width: 160px;      color: #666;      *display: block;      *position: relative;      cursor: pointer;      text-decoration: none;      vertical-align: middle;  }   .countries li a:hover {      color: #08c;  }   .countries li span {      display: table-cell;      width: 160px;      vertical-align: middle;      *display: block;      *position: absolute;      *top: 50%;  }   .countries li span span {      width: 100%;      *display: block;      *position: relative;      *top: -50%;  }   /* .menu { position:absolute; left:196px; top:27px; *font-family: arial, sans-serif; } .menu ul{ \tmargin:0px; \tlist-style-type: none; } .menu ul li{ \tfloat:left; \tpadding:0px; \tmargin:0px 35px 0px 5px; } .menu ul li a { \tdisplay:table; \tcolor:#999;     height:24px; \tcursor:pointer; \ttext-decoration:none; \tvertical-align:middle; } .menu ul li a:hover {  color:#333; } .menu ul li span { \tdisplay:table-cell;  padding: 0px;  font-size:14px; \tfont-weight:600; \tvertical-align:middle; \ttext-align:center; } .login {  font-size:14px;  font-weight:600;  text-align:center;  display:table;  color:#999;  cursor:pointer;  text-decoration:none;  line-height:0; } .login:hover {  color:#333; } .signup {  font-size:14px;  font-weight:600;  text-align:center;  display:table;  color:#999;  cursor:pointer;  text-decoration:none;  line-height:0; } .signup:hover {  color:#333; } */  .menu {      position: absolute;      right: 240px;      top: 27px;      *font-family: arial, sans-serif;  }   .menu ul {      margin: 0px;      list-style-type: none;  }   .menu ul li {      float: left;      padding: 0px;      margin: 0px 45px 0px 5px;  }   .menu ul li a {      display: table;      color: #888;      height: 24px;      cursor: pointer;      text-decoration: none;      vertical-align: middle;  }   .menu ul li a:hover {      color: #333;  }   .menu ul li span {      display: table-cell;      padding: 0px;      font-size: 14px;      font-weight: 600;      vertical-align: middle;      text-align: center;  }   .login {      font-size: 14px;      font-weight: 600;      text-align: center;      display: table;      color: #888;      cursor: pointer;      text-decoration: none;      line-height: 0;  }   .login:hover {      color: #333;  }   .signup {      font-size: 14px;      font-weight: 600;      text-align: center;      display: table;      color: #888;      cursor: pointer;      text-decoration: none;      line-height: 0;  }   .signup:hover {      color: #333;  }   .language {      cursor: pointer;  }   .language:hover {}   .language svg {      border: 1px solid #e6e6e6;  }   .download {      height: 24px;      background: #1EAB4B;      padding: 0px 25px 0px;      float: right;      border: none;      border-radius: 3px;      color: white;      font-family: 'Open Sans';      font-weight: 900;  }   button {      cursor: pointer;  }   .download:hover {      background: #27ae60;  }   .social_footer {      padding-left: 35px;      height: 12px;      display: inline-block;      margin: 5px 0px;      width: 120px;  }   .social_footer p {      float: left;      display: inline;      margin: 0px 13px;      color: #999;  }   .social_footer svg {      float: left;      display: inline;  }   .tmsdownloads {      background: #1EAB4B;      border: none;      line-height: 13px;      cursor: pointer;      min-height: 37px;      padding: 7px 0px;      color: #fff;      font-size: 15px;      font-family: 'Open Sans', sans-serif;      font-weight: 600;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   .tmsdownloads:hover {      background: #27ae60;  }   .blueBut {      background: #4683ea;      border: none;      cursor: pointer;      height: 37px;      color: #fff;      font-size: 15px;      font-family: 'Open Sans', sans-serif;      font-weight: 600;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   .blueBut:hover {      background: #4d92f7;  }   .orderBut {      background: #F6F9FF;      outline: none;  }   .orderBut:hover {      background: #dce9ff;  }   .hpLoginBlocks {      vertical-align: top;      max-width: 400px;      min-width: 310px;      width: 100%;      display: inline-block;      margin-bottom: 30px;  }   .market:hover {      box-shadow: 1px 2px #ddd;  }   #readMore {      margin: 30px auto 0px;      color: #0087e2;      fill: #0087e2;      cursor: pointer;  }   #readMore:hover,  #readMore:hover path {      color: #4d92f7;      fill: #4d92f7;  }   .simplelink {      text-decoration: none;      color: #333;  }   .simplelink:hover {      text-decoration: none;      color: #3665c1;  }   .right_submenu {      position: absolute;      height: 39px;      right: 45px;      top: 18px;      display: block;      border: 1px solid #E6E6E6;  }   footer {      font-size: 12px;      background: #f3f3f3;      background: -moz-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #f3f3f3), color-stop(100%, #fff));      background: -webkit-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -o-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: -ms-linear-gradient(top, #f3f3f3 0, #fff 100%);      background: linear-gradient(top, #f3f3f3 0, #fff 100%);      font-size: 12px;      padding: 30px 0 0px;      margin-top: 100px;      width: 100%;      height: 158px;      color: #888;      position: absolute;      bottom: 0px;  }   .footer_header {      font-weight: 300;      color: #555;      font-size: 13px;      text-align: left;      padding-left: 35px;  }   .flag svg {      border: 1px solid #e6e6e6;  }   .price {      width: 80%;      margin: auto;      border-collapse: collapse;  }   .price tr {      height: 36px;      border-bottom: 1px solid #ddd;  }   table .yel:hover td {      background: #e7f4fd;  }   .gre {      padding-left: 10px;      background: #fff;  }   .price button {      cursor: pointer;      font-size: 23px;      color: #fff;      border: none;      border-radius: 3px;      min-height: 40px;      box-shadow: 0px 2px 1px 1px #adadad;      padding: 0px 35px;  }   .doodle {      height: 0px;      position: relative;      bottom: 26px;  }   .signup_free {      background: #1EAB4B;  }   .signup_free:hover {      background: #27ae60;  }   .signup_pro {      background: #1548B8;  }   .signup_pro:hover {      background: #1851CE;  }   .free {      color: #1EAB4B;      font-size: 13px;      background: #f5f5f5;  }   .pro {      color: #1548B8;      font-size: 13px;      background: #f5f5f5;  }   .pricing_image {      margin: 85px auto 0px;      text-align: center;  }   .tworow {      width: 49.999%;      float: left;      display: inline;      text-align: center;      margin-top: 80px;  }   .tworow>div {      width: 30%;      max-width: 80px;      text-align: center;      margin: auto;  }   .half {      margin: 10px 10%;      text-align: center;      line-height: 1.6;  }   .oneimage {      text-align: center;      margin: auto;      margin-top: 85px;      max-width: 750px;      width: 100%;  }   #placeholder #lozenge {      fill: #666;  }   #placeholder:hover #lozenge {      fill: url(#SVGID_1_);  }   .passbut:hover {      text-decoration: underline;  }   #regbut:hover {      background: #21b951;  }   #loginbut:hover {      background: #70bcf0;  }   .passbut {      text-decoration: none;      color: #4683ea;  }   #regbut {      background: #1eab4b;  }   #loginbut {      background: #51aded;  }   input {      width: 300px;      height: 35px;      border: 1px solid #cccccc;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;      color: #555555;      font-size: 15px;  }   input[type='checkbox'] {      height: 16px;      width: 16px;  }   .linksimple {      color: #4683ea;      text-decoration: none;  }   .linksimple:hover {      color: #4683ea;      text-decoration: underline;  }   .linksimple:visited {      color: #4683ea;      text-decoration: none;  }   .LoginButton {      cursor: pointer;      border: none;      height: 62px;      color: white;      font-size: 16px;      font-weight: bold;      box-shadow: 0px 2px 1px 1px #adadad;      width: 330px;      margin: 15px auto 15px;      border-radius: 3px;      -webkit-border-radius: 3px;      -moz-border-radius: 3px;      -khtml-border-radius: 3px;  }   #reghome {      background: #1eab4b;  }   #reghome:hover {      background: #21b951;  }   .regtable {      width: 55%;      margin: auto;      border-collapse: collapse;      text-align: center;  }   .regtable tr {      height: 48px;  }   .regtable td {      width: 50%;  }   .regtable input {      padding-left: 5px;      height: 30px;      color: #111;      background: #fff;  }   ::-webkit-input-placeholder {      color: #999;  }   :-moz-placeholder {      color: #999;      opacity: 1;  }   ::-moz-placeholder {      color: #999;      opacity: 1;  }   :-ms-input-placeholder {      color: #999;  }   .logo_svg:hover polygon {      fill: #00CACD;  }   .logo_svg:hover path {      fill: #00CACD;  }   /* FLOAT DIV STYLES */  .floatDiv {      position: absolute;      background: grey;      width: 300px;      height: 200px;      resize: both;      overflow: hidden;      border: 1px solid #bbb;      top: 100px;      left: 300px;  }   .floatDivTH {      width: 100%;      height: 25px;      background: #eee;      border: 1px solid #bbb;      cursor: pointer;      line-height: 0px;  }   .floatDivTH td {      width: 25px;  }   .floatDivTH td:first-child {      width: auto;      white-space: nowrap;  }   .rollDiv {      left: 0px;      top: 0px;      width: 200px;      resize: none;  }   .expandDiv {      left: 0px;      top: 0px;      height: 100%;      width: 100%;      resize: none;      border: none;  }   .topPan {      width: 100%;      height: 25px;      background: #eee;  }   .topClose {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 2px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .topExpand {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 27px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .topRoll {      width: 25px;      height: 21px;      background: #eee;      top: 1px;      right: 53px;      text-align: center;      border: 1px solid #bbb;      cursor: pointer;  }   .dock {      left: 0px;      bottom: 0px;      height: 33px;      width: 200px;      resize: none;      position: absolute;      background: grey;      overflow: hidden;  }   .undock {      left: 0px;      bottom: 0px;      height: auto;      max-height: 100%;      width: 200px;      resize: none;      position: absolute;      background: grey;      overflow: hidden;      overflow-y: auto;  }   .expandDock {      position: absolute;      left: 199px;      bottom: 0px;      width: 33px;      height: 33px;      cursor: pointer;      background: #eee;  }   .expandDock table,  .expandDock table tr td {      border: 1px solid #bbb;      text-align: center;      width: 100%;      height: 100%;      line-height: 0;  }   .rollDiv .topPan {      cursor: pointer;  }   .floatDiv .topPan {      cursor: default;  }   .st0,  .floatDivTH path {      fill: #444 !important;  }   #ratioWrap {      width: 95%;      max-width: 640px;      display: inline-block;      position: relative;      margin: 40px auto 20px;      /* z-index:25; */  }   #ratioWrap:after {      padding-top: 56.25%;      display: block;      content: '';  }   #div1 {      margin: auto;      position: absolute;      top: 0;      bottom: 0;      right: 0;      left: 0;      cursor: pointer;      text-align: center;      background: #fff;      \" } #placeholder{   margin:auto;   position: absolute;   top: 0;   bottom: 0;   right: 0;   left: 0;   cursor:pointer;   text-align:center;   background:#fff;\"  }   #contLogin {      margin-top: 0px;      padding-top: 30px;      padding-bottom: 130px;  }   #header {      position: fixed;      height: 79px;      width: 100%;      display: block;      background: white;      z-index: 21;      top: 0px;  }   .prodList {      text-align: center;      width: 100%;      margin-top: 75px;  }   .prodList a {      color: inherit;      display: inline-block;      margin: 0px 46px;      width: 210px;      border: 1px solid #eee;      border-radius: 20px;      background: #F6F9FF;      box-shadow: 1px 2px #ddd;      cursor: pointer;      text-decoration: none;      vertical-align: top;  }   .prodList div {      display: inline-block;      margin: 0px 50px;      width: 210px;      border: 1px solid #eee;      border-radius: 20px;      background: #F6F9FF;      box-shadow: 1px 2px #ddd;      cursor: pointer;  }   .prodList table {      width: 100%;      border-collapse: collapse;      border: none;      text-align: center;  }   .prodList tr:first-child td {      padding-top: 33px;  }   .prodList tr:nth-child(2) td {      padding: 9px 20px 20px;  }   .prodList tr:last-child td {      padding: 0px 20px 33px;      font-size: 14px;  }   .appList {      text-align: center;      width: 100%;      margin-top: 75px;  }   .appList a {      color: inherit;  }   .appList div {      display: inline-block;      margin: 0px 50px;      width: 210px;      cursor: pointer;  }   .sharePan {      width: 100%;      list-style-type: none;      padding: 0;  }   .sharePan li {      width: 25%;      float: left;      box-sizing: border-box;      height: 30px;  }   .sharePan a {      color: white;      text-decoration: none;      display: block;      width: 100%;      height: 100%;      position: relative;  }   .sharePan a div {      position: absolute;      top: 5px;      left: 40px;      font-weight: 700;  }   .sharePan a svg {      margin: 8px 15px;  }   .sharePan li:nth-child(1) {      background: #3b5998;  }   .sharePan li:nth-child(2) {      background: #1da1f2;  }   .sharePan li:nth-child(3) {      background: #006fa6;  }   .sharePan li:nth-child(4) {      background: #db4437;  }   .tag {      display: inline-block;      border-radius: 3px;      padding: 4px 20px;      margin: 5px 10px 5px 0px;      border: 1px solid transparent;      cursor: pointer;      font-size: 15px;      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .processes .tag {      background: rgba(70, 131, 234, 0.2);  }   .processes .tag:hover {      border: 1px solid background:rgba(70, 131, 234, 0.5);      background: rgba(70, 131, 234, 0.4);  }   .processes .activeTag {      background: rgba(70, 131, 234, 1);      color: white;  }   .processes .activeTag:hover {      background: #4d92f7;      border: 1px solid #4d92f7;  }   .services .tag {      background: rgba(30, 171, 75, 0.2);  }   .services .tag:hover {      border: 1px solid background:rgba(30, 171, 75, 0.5);      background: rgba(30, 171, 75, 0.4);  }   .services .activeTag {      background: rgba(30, 171, 75, 1);      color: white;  }   .services .activeTag:hover {      background: #1EAB4B;      border: 1px solid #1EAB4B;  }   .articles {      text-align: center;  }   .articles>a {      text-align: left;      display: inline-block;      margin: 20px 10px 0px 10px;      border-radius: 3px;      border: 1px solid transparent;      cursor: pointer;      text-decoration: none;      color: #777;      max-width: 284px;      width: 100%;      vertical-align: top;  }   .articles>a:hover {      opacity: .8;  }   .toKnowledge {      margin: 50px auto 30px;      text-align: right;  }   .toKnowledge a {      padding: 10px 20px;      background: #0087e2;      border: 1px solid #bbb;      color: white;      border-radius: 3px;  }   .toKnowledge a:hover {      background: #4d92f7;      border: 1px solid #ccc;      text-decoration: none;  }   .blueLink {      text-decoration: none;      color: #0087e2;  }   .blueLink:hover {      text-decoration: underline;  }   .articleTags {      width: 100%;  }   .articleTags div {      display: inline-block;      border-radius: 3px;      padding: 2px 4px;      margin: 5px 5px 5px 0px;      cursor: pointer;      font-size: 14px;      -webkit-touch-callout: none;      -webkit-user-select: none;      -khtml-user-select: none;      -moz-user-select: none;      -ms-user-select: none;      user-select: none;  }   .artProcTag {      background: rgba(70, 131, 234, 0.2);      color: #777;  }   .artProcTag.active {      background: rgba(70, 131, 234, 1);      color: white;  }   .artServTag {      background: rgba(30, 171, 75, 0.2);      color: #777;  }   .artServTag,  .active {      background: rgba(30, 171, 75, 1);      color: white;  }   .article h3 {      font-weight: 600;      font-size: 20px;      margin: 7px 0px 10px;  }   .article p {      font-style: italic;      margin: 0px 0px 8px;      font-size: 15px;  }   /* ------------------ARTICLES--------------------- */  .artB {      color: #444;      font-size: 18px;      line-height: 26px;  }   .artB h1 {      font-size: 44px;      font-weight: 700;      color: #191919;      text-align: center;      line-height: 60px;  }   .artB h2 {      font-size: 30px;      font-weight: 400;      color: #191919;      text-align: center;      line-height: 35px;  }   .artB table {      width: 100%;      vertical-align: top;      border-collapse: collapse;  }   .artB table.twotd td {      width: 50%;      vertical-align: top;  }   .artB table.threetd td {      width: 33%;      vertical-align: top;  }   .artB td {      border: 1px solid #999;      padding-left: 10px;  }   .artB td ol {      margin: 0px;  }   .artB ol {      margin: 0px;      margin: 35px 0px -13px 0px;      font-style: italic;      font-weight: 600;  }   .artB ol p {      color: #444;      /*font-size: 17px;*/      line-height: 26px;      font-style: initial;      font-weight: 300;      margin-left: -40px;  }   .artB ol i p {      font-style: italic;      color: #008b8b;  }   .artB p.total {      color: #134f5c;      font-weight: bold;      margin-top: 0px;  }   .artB iframe {      margin: auto;      display: block;  }   @media screen and (min-width: 1200px) {       #mob-menu-but,      #mob-menu {          display: none !important;      }       #cont {          display: block !important;      }  }   @media screen and (max-width: 1100px) {      .footSep {          visibility: hidden;      }  }   @media screen and (max-width: 1200px) {       #menu,      #submenu {          display: none;      }       #mob-menu-but {          width: 30px;          height: 30px;          position: absolute;          right: 4%;          top: 21px;          display: block;      }       #mob-menu {          display: none;          width: 100%;          background: white;          z-index: 9999;          margin: 0px;          padding: 0px;          margin-top: 89px;      }       #mob-menu li {          text-align: center;          list-style: none;          margin: 20px;      }       #mob-menu a {          text-decoration: none;          font-size: 16px;          font-weight: 500;          color: #0F3F9F !important;          cursor: pointer;      }  }   @media screen and (max-width: 750px) {      .maintext0 {          font-size: 30px;      }       .maintext1 {          font-size: 18px;      }       .maintext2,      .maintext4 {          font-size: 26px;      }       .maintext4 {          margin: 15px 0px 30px;      }       .pricing_image {          margin: 70px auto 20px;      }       .half {          14px;      }       #cont {          margin-top: 50px;      }  }   @media screen and (max-width: 650px) {      .sharePan div {          display: none;      }       .articles>a {          margin: 50px 0px 0px 0px;      }  }   @media screen and (max-width: 450px) {      .artB h1 {          font-size: 26px;          font-weight: 400;          color: #191919;          text-align: center;          line-height: 40px;      }       .artB h2 {          font-size: 22px;          font-weight: 400;          font-style: italic;          color: #191919;          text-align: center;          line-height: 30px;      }       .maintext0 {          font-size: 26px;      }       .maintext1 {          font-size: 18px;      }       .maintext2 {          font-size: 25px;          margin: 50px 0px 0px;      }       .maintext4 {          font-size: 25px;          margin: 10px 0px 20px;      }       .pricing_image {          margin: 40px auto 20px;      }       .half {          14px;      }       .tworow {          width: 100%;      }       .hpLoginBlocks {          min-width: initial;      }       #cont {          margin-top: 30px;      }  }   /* ------------------------LOGOS---------------------------- */  .logo_svg_maintain:hover svg {      fill: #0044ff;  }   .logo_svg_order:hover svg {      fill: #ff4400;  }   /* ------------------------LOGOS END------------------------ */  /* ------------------------PRODUCTS MENU-------------------- */  #products_menu {      position: absolute;      right: -100px;      top: 35px;      width: 346px;      background: white;      border-radius: 3px;      border: 1px solid #ccc;      display: none;      box-shadow: 0 2px 10px rgba(0, 0, 0, .2);      box-sizing: border-box;      font-size: 15px;      color: #222;  }   #products_menu>div {      padding: 30px 30px 30px 30px;      box-sizing: border-box;  }   #products_menu>div>a {      display: inline-block;      width: 90px;      height: 90px;      border: 1px solid transparent;      vertical-align: top;      text-align: center;      cursor: pointer;      border-radius: 3px;      box-sizing: border-box;      text-decoration: none;      color: #222;  }   #products_menu>div>a:hover {      border: 1px solid #e6e6e6;  }   #products_menu>a>button {      width: 100%;      background: #eee;      height: 40px;      border: none;  }   #products_menu>a>button:hover {      width: 100%;      background: #e7e7e7;      height: 40px;      border: none;  }   /* ------------------------PRODUCTS MENU END----------------- */  /* ------------------------SUPPORT MENU---------------------- */  .collapseDiv {      width: 100%;      display: none;      padding: 15px 0px;      box-sizing: border-box;      background: #333;  }   .collapseDiv>a {      display: block;      text-decoration: none;      width: 100%;      background: #333;      padding: 5px 30px 5px 40px;      box-sizing: border-box;      cursor: pointer;      color: #fff;  }   .collapseDiv>a:hover {      background: #222;  }   .plusM {      float: right;      margin-right: 10px;  }   .supMen {      width: 100%;      background: #eee;      padding: 10px 20px;      box-sizing: border-box;      cursor: pointer;      border-top: 1px solid #ccc;  }   .supMen:hover {      background: #ddd;  }   .supMenAct {      width: 100%;      background: #c5c5c5;      padding: 10px 20px;      box-sizing: border-box;      cursor: pointer;      border-top: 1px solid #ccc;  }   .supMenAct:hover {      background: #bbb;  }   @media screen and (max-width: 400px) {      .plusM {          visibility: hidden;      }  }   .artImg {      width: 100%;  }   .supArtMenIt {      width: 100%;      padding: 10px 0px;  }   .supArtMenIt>a {      display: block;      text-decoration: none;      width: 100%;      cursor: pointer;      padding: 10px 10px;      font-size: 14px;      box-sizing: border-box;      color: #444;      text-align: left;  }   .supArtMenIt>a:hover {      background: #eee;  }   .supArtMenItAct {      color: blue;      border-left: 3px solid blue;      font-weight: 600;  }   .supMenArt {      vertical-align: top;      display: inline-block;      max-width: 280px;      min-width: 250px;      margin: 80px auto;      box-shadow: -10px 5px 20px -5px #ccc;      border-left: 1px solid #ccc;      box-sizing: border-box;      float: right;      color: #222;  }   @media screen and (max-width: 1070px) {      .supMenArt {          display: block;          float: none;          max-width: 600px;          min-width: 0px;          box-shadow: -4px 7px 50px -5px #ccc;      }  }   /* ------------------------SUPPORT MENU END------------------ */  /* ------------------------SUPPORT ARTICLE------------------- */  .artS {      max-width: 700px;      text-align: left;      margin-top: 68px;      color: #222;      font-size: 15px;      line-height: 31px;      display: inline-block;  }   .artS h1,  .artS h2 {      text-align: left;      font-weight: 400;  }   .artS h1 {      font-size: 40px;      line-height: 60px;  }   .artS img {      width: 100%;      height: auto;  }   .artS .emb {      width: 100%;      text-align: center;  }   .artS .emb div {      font-size: 27px;      margin: 43px auto;      color: #999;  }   .artS .emb img {      width: 90%;      margin: auto;  }   .artS .emb p {      text-align: left;  }   .artS .emb textarea {      width: 90%;      font-size: 15px;      height: 100px;  }   .artS .artImg {      width: 100%;      max-width: 120px;      float: right;      margin: 18px 10px 10px 40px;  }   .artS .clearD {      width: 100%;      height: 40px;      visibility: hidden;      clear: both;  }   .artS ol {      margin: 0px;      font-style: normal;      font-weight: inherit;  }   .artS a {      color: #4184f1;      text-decoration: none;  }   .artS a:hover {      text-decoration: underline;  }   .artS .aNewT:after {      content: '';      background: no-repeat url(http://www.logision.com/img/newBlank.png);      display: inline-block;      height: 10px;      margin: 0 3px 0 5px;      width: 10px;  }   /* ------------------------SUPPORT ARTICLE END--------------- */</style>`\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\n\nconst Blog = props => {\n    const classes = useStyles()\n    const [state, setState] = useState('')\n    const [title, setTitle] = useState('')\n    useEffect(() => {\n        const url = 'https://websiter.dev' + props.history.location.pathname\n        axios\n            .post('/api/blog', { url })\n            .then(res => {\n                setState(\n                    styles +\n                        res.data.body\n                            .replace(\n                                /\\/images\\/blog/gi,\n                                'https://websiter.dev/images/blog'\n                            )\n                            .replace(\n                                /href=\"https:\\/\\/websiter.dev/gi,\n                                'href=\"https://addspire.com'\n                            )\n                )\n                setTitle(res.data.title)\n            })\n            .catch(err => {})\n    }, [props.history.location.pathname])\n\n    return (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n            <Layout\n                header={\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                        noWrap\n                    >\n                        {title}\n                    </Typography>\n                }\n            >\n                <Welcome />\n                <div dangerouslySetInnerHTML={{ __html: state }} />\n            </Layout>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","export const friendsBreakPoints = {\n    default: 4,\n    1600: 3,\n    1100: 2,\n    600: 1,\n}\n\nexport const cardBreakPoints = {\n    default: 4,\n    1100: 3,\n    700: 2,\n    310: 1,\n}\n","import React from 'react'\nimport Masonry from 'react-masonry-css'\nimport {\n    cardBreakPoints,\n    friendsBreakPoints,\n} from '../utils/masonryBreakPoints'\n\nexport default props => (\n    <div style={{ ...props.style }}>\n        <Masonry\n            breakpointCols={3}\n            className=\"my-masonry-grid\"\n            columnClassName=\"my-masonry-grid_column\"\n            breakpointCols={\n                props.friends ? friendsBreakPoints : cardBreakPoints\n            }\n        >\n            {props.children}\n        </Masonry>\n    </div>\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nconst ProgressButton = props => {\n    const { id } = props\n    if (!props.progressData[id]) return null\n    const userName = id => props.progressData[id].goal.name\n\n    const handleClick = id => props.history.push('/goals/' + (id || props.id))\n    return (\n        <span\n            style={{ cursor: 'pointer', fontWeight: 'bold', ...props.style }}\n            onClick={e => {\n                e.stopPropagation()\n                handleClick()\n            }}\n        >\n            {userName(id)}\n        </span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        progressData: state.progressData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProgressButton))\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport { Map, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from './LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Grid,\n    Slider,\n    MenuItem,\n    Select,\n    Switch,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst MapSettings = props => {\n    const {\n        mapVisible,\n        setMapVisible,\n        setIsSearching,\n        setNoMore,\n        setFoundProgresses,\n        onSearch,\n        onGetPopular,\n        setSearch,\n        search,\n    } = props\n    const map = useRef(null)\n    const [radius, setRadius] = useState(false)\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n\n    const mapDragEnd = e => {\n        setSearch({\n            ...search,\n            zoom: e.target._zoom,\n            position: [e.target.getCenter().lat, e.target.getCenter().lng],\n            withMap: true,\n        })\n    }\n\n    useEffect(() => {\n        getRadius()\n    }, [props.search])\n\n    const getRadius = () => {\n        if (map && map.current && map.current.leafletElement) {\n            const metresPerPixel =\n                (40075016.686 *\n                    Math.abs(\n                        Math.cos(\n                            (map.current.leafletElement.getCenter().lat *\n                                Math.PI) /\n                                180\n                        )\n                    )) /\n                Math.pow(2, map.current.leafletElement.getZoom() + 8)\n\n            setRadius(\n                search.units === 'mi'\n                    ? (search.distance * 1609) / metresPerPixel\n                    : (search.distance * 1000) / metresPerPixel\n            )\n        }\n    }\n\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={mapVisible}\n            onClose={() => {\n                setMapVisible(false)\n                if (search.withMap || search.value) {\n                    setIsSearching(true)\n                    setNoMore(false)\n                    setFoundProgresses([])\n                    onSearch()\n                } else {\n                    onGetPopular()\n                }\n            }}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (search.withMap || search.value) {\n                                setIsSearching(true)\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                onSearch()\n                            } else {\n                                onGetPopular()\n                            }\n                        }}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        Search with location\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (search.withMap || search.value) {\n                                setIsSearching(true)\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                onSearch()\n                            } else {\n                                onGetPopular()\n                            }\n                        }}\n                    >\n                        Done\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Grid\n                container\n                style={{ padding: '15px', maxWidth: '800px' }}\n                alignItems=\"center\"\n            >\n                <Grid item xs={4} sm={4}>\n                    Search with location\n                </Grid>\n                <Grid item xs={8} sm={8}>\n                    <Switch\n                        checked={search.withMap}\n                        color=\"primary\"\n                        onChange={e => {\n                            setSearch({\n                                ...search,\n                                withMap: e.target.checked,\n                            })\n                        }}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    Distance\n                </Grid>\n                <Grid item xs={8}>\n                    <Slider\n                        valueLabelDisplay=\"auto\"\n                        min={1}\n                        max={500}\n                        onChange={(e, distance) =>\n                            setSearch({ ...search, distance })\n                        }\n                        value={search.distance}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    Units\n                </Grid>\n                <Grid item xs={8}>\n                    <Select\n                        value={search.units}\n                        onChange={event =>\n                            setSearch({ ...search, units: event.target.value })\n                        }\n                    >\n                        <MenuItem value=\"mi\">mi</MenuItem>\n                        <MenuItem value=\"km\">km</MenuItem>\n                    </Select>\n                </Grid>\n            </Grid>\n\n            <div\n                style={{\n                    position: 'relative',\n                    minHeight: '300px',\n                    flex: 1,\n                    marginTop: '30px',\n                    overflow: 'hidden',\n                }}\n            >\n                <Map\n                    whenReady={() => {\n                        getRadius()\n                    }}\n                    ref={map}\n                    center={search.position}\n                    zoom={search.zoom}\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        position: 'relative',\n                        zIndex: 1,\n                    }}\n                    ondragend={mapDragEnd}\n                    onmoveend={mapDragEnd}\n                    gestureHandling={true}\n                >\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <LocateControl />\n                </Map>\n                <div\n                    style={{\n                        backgroundImage: `url(${require('../../assets/images/pin.png')})`,\n                        width: '20px',\n                        height: '35px',\n                        position: 'absolute',\n                        zIndex: 3,\n                        left: 'calc(50% - 10px)',\n                        top: 'calc(50% - 35px)',\n                        pointerEvents: 'none',\n                        touchAction: 'none',\n                    }}\n                />\n                <div\n                    style={{\n                        background: 'rgba(82, 95, 165, .15)',\n                        width: 2 * radius + 'px',\n                        height: 2 * radius + 'px',\n                        position: 'absolute',\n                        zIndex: '2',\n                        left: 'calc(50% - ' + radius + 'px)',\n                        top: 'calc(50% - ' + radius + 'px)',\n                        pointerEvents: 'none',\n                        touchAction: 'none',\n                        borderRadius: radius + 'px',\n                        border: '1px rgba(82, 95, 165, .5) solid',\n                    }}\n                />\n            </div>\n        </Dialog>\n    )\n}\n\nexport default MapSettings\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport axios from 'axios'\nimport InfiniteScroll from 'react-infinite-scroller'\nimport message from 'antd/es/message'\n\nimport MasonryGrid from '../../components/MasonryGrid'\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport Helmet from 'react-helmet'\n\nimport 'leaflet/dist/leaflet.css'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    Box,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Divider,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { LocationOn, SearchOutlined } from '@material-ui/icons'\nimport MapSettings from './MapSettings'\nimport Layout from '../../components/Layout/Layout'\nimport { Link } from 'react-router-dom'\nimport ShareButton from '../../components/UI/ShareButton'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport Welcome from '../../components/Welcome'\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'relative',\n        },\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\n\nexport const sortProgresses = (a, b) => {\n    const valA = a.views || 0\n    const valB = b.views || 0\n    return valA > valB ? -1 : 1\n}\nconst Explore = props => {\n    const { account, progressData } = props\n    const [isSearching, setIsSearching] = useState(false)\n    const [mapVisible, setMapVisible] = useState(false)\n    const [foundProgresses, setFoundProgresses] = useState([])\n    const [progresses, setProgresses] = useState([])\n    const [noMore, setNoMore] = useState(false)\n    const [noMorePopular, setNoMorePopular] = useState(false)\n\n    const [search, setSearch] = useState({\n        value: '',\n        withMap: false,\n        distance: 20,\n        zoom: 7,\n        position: [40.689078, -74.044526],\n        units: 'mi',\n    })\n\n    const [value, setValue] = useState('')\n\n    const onSearch = (value, noNoMore) => {\n        if (!noMore || noNoMore) {\n            setNoMore(true)\n            axios\n                .post('/api/explore/search', {\n                    value: value ? { ...search, value } : search,\n                    skip: noNoMore ? 0 : foundProgresses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMore(res.data.noMore)\n                        setFoundProgresses(res.data.progresses)\n                        if (res.data.progresses.length === 0)\n                            message.warning('There are no progresses found.')\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(\n                                'Something is wrong with the data. Please try one more time with new data.'\n                            )\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n    const onGetPopular = () => {\n        if (!noMorePopular) {\n            setNoMorePopular(true)\n            axios\n                .post('/api/explore/popular', {\n                    skip: progresses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMorePopular(res.data.noMore)\n                        setProgresses([...progresses, ...res.data.progresses])\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(\n                                'Something is wrong with the data. Please try one more time with new data.'\n                            )\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n\n    const classes = useStyles()\n\n    let loadedProgresses = []\n    if (account._id && account.recentProgresses) {\n        loadedProgresses = account.recentProgresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n\n    return (\n        <Layout\n            header={\n                <Paper className={classes.root} variant=\"outlined\">\n                    <InputBase\n                        className={classes.input}\n                        placeholder=\"Search goals\"\n                        onChange={e => {\n                            if (!e.target.value && !search.withMap) {\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                setIsSearching(false)\n                                setSearch({ ...search, value: '' })\n                            }\n                            setValue(e.target.value)\n                        }}\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => {\n                            if (value) {\n                                setIsSearching(true)\n                                if (value !== search.value) {\n                                    setNoMore(false)\n                                    setFoundProgresses([])\n                                    setSearch({ ...search, value })\n                                    onSearch(value, true)\n                                }\n                            } else {\n                                setNoMore(false)\n                                setSearch({ ...search, value })\n                                setIsSearching(false)\n                            }\n                        }}\n                    >\n                        <SearchOutlined />\n                    </IconButton>\n                    <Divider\n                        className={classes.divider}\n                        orientation=\"vertical\"\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => setMapVisible(true)}\n                        color={search.withMap ? 'primary' : 'default'}\n                    >\n                        <LocationOn />\n                    </IconButton>\n                </Paper>\n            }\n        >\n            <div>\n                <Helmet>\n                    <title>\n                        Explore goals and ideas from around the World!\n                    </title>\n                    <meta\n                        name=\"description\"\n                        content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                    />\n                </Helmet>\n\n                <MapSettings\n                    mapVisible={mapVisible}\n                    setMapVisible={setMapVisible}\n                    setIsSearching={setIsSearching}\n                    setNoMore={setNoMore}\n                    setFoundProgresses={setFoundProgresses}\n                    onSearch={onSearch}\n                    onGetPopular={onGetPopular}\n                    setSearch={setSearch}\n                    search={search}\n                />\n                <Welcome />\n                <HorizontalScrollList\n                    title=\"Recently viewed goals by you\"\n                    items={loadedProgresses}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.goal.images.length > 0\n                                            ? item.goal.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                />\n                {/* {loadedProgresses.length > 0 ? ( */}\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Top goals and resolutions\n                </Typography>\n                {/* ) : null} */}\n                {isSearching ? (\n                    foundProgresses.length > 0 ? (\n                        <InfiniteScroll\n                            pageStart={0}\n                            loadMore={onSearch()}\n                            hasMore={!noMore}\n                            loader={\n                                <div className=\"loader\" key={0}>\n                                    Loading ...\n                                </div>\n                            }\n                        >\n                            <MasonryGrid>\n                                {foundProgresses\n                                    .sort(sortProgresses)\n                                    .map((item, index) => (\n                                        <MasonryCard\n                                            id={item._id}\n                                            key={index}\n                                            onClickLink={'/goals/' + item._id}\n                                            images={item.goal.images}\n                                            body={\n                                                <>\n                                                    {/* <UserButton\n                                                noName={true}\n                                                id={item.owner}\n                                                friendDataExp={friendData}\n                                            /> */}\n                                                    <span\n                                                        style={{\n                                                            fontWeight: 'bold',\n                                                        }}\n                                                    >\n                                                        {item.name}\n                                                    </span>\n                                                </>\n                                            }\n                                            actions={\n                                                <ShareButton\n                                                    link={\n                                                        'https://addspire.com/goals/' +\n                                                        item._id\n                                                    }\n                                                    title={\n                                                        item.name +\n                                                        ' goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                                                    }\n                                                    media={\n                                                        item.goal.images &&\n                                                        item.goal.images[0]\n                                                    }\n                                                />\n                                            }\n                                        />\n                                    ))}\n                            </MasonryGrid>\n                        </InfiniteScroll>\n                    ) : null\n                ) : (\n                    <InfiniteScroll\n                        pageStart={0}\n                        loadMore={onGetPopular}\n                        hasMore={!noMorePopular}\n                        loader={\n                            <div className=\"loader\" key={0}>\n                                Loading ...\n                            </div>\n                        }\n                    >\n                        <MasonryGrid>\n                            {progresses\n                                .sort(sortProgresses)\n                                .map((item, index) => (\n                                    <MasonryCard\n                                        id={item._id}\n                                        key={index}\n                                        onClickLink={'/goals/' + item._id}\n                                        images={item.goal.images}\n                                        body={\n                                            <>\n                                                {/* <UserButton\n                                            noName={true}\n                                            id={item.owner}\n                                            friendDataExp={friendData}\n                                        /> */}\n                                                <span\n                                                    style={{\n                                                        fontWeight: 'bold',\n                                                    }}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            </>\n                                        }\n                                        actions={\n                                            <ShareButton\n                                                link={\n                                                    'https://addspire.com/goals/' +\n                                                    item._id\n                                                }\n                                                title={\n                                                    item.name +\n                                                    ' goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                                                }\n                                                media={\n                                                    item.goal.images &&\n                                                    item.goal.images[0]\n                                                }\n                                            />\n                                        }\n                                    />\n                                ))}\n                        </MasonryGrid>\n                    </InfiniteScroll>\n                )}\n            </div>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        progressData: state.progressData,\n    }\n}\n\nexport default connect(mapStateToProps)(Explore)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Avatar from 'antd/es/avatar'\n\nimport FriendActionButton from '../../components/FriendActionButton'\n\nimport getAvatar from '../../utils/getAvatar'\nimport pullData from '../../utils/pullData'\nimport UserButton from '../../components/UserButton/UserButton'\nimport MasonryGrid from '../../components/MasonryGrid'\n\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport ProgressButton from '../../components/ProgressButton'\nimport FollowButton from '../../components/FollowButton'\n\nimport * as wsActions from '../../websocketActions'\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport * as classes from './Profile.module.css'\nimport TypographyA from 'antd/es/typography'\n\nimport message from 'antd/es/message'\n\nimport Helmet from 'react-helmet'\n\nimport {\n    Box,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Paper,\n    Typography,\n    Button,\n    Chip,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    CardActionArea,\n    CardMedia,\n    CardContent,\n    DialogContentText,\n    TextField,\n    Slide,\n} from '@material-ui/core'\nimport Layout from '../../components/Layout/Layout'\nimport { Edit } from '@material-ui/icons'\nimport fieldLength from '../../constants/fieldLength'\nimport Rewards from '../../components/Rewards/Rewards'\nimport moment from 'moment'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport AddProgress from '../Progresses/AddProgress'\nimport AddFriends from '../Friends/AddFriends'\nimport DialogFullscreen from '../../components/UI/DialogFullscreen'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { sortProgresses } from '../Explore/Explore'\nmoment.updateLocale('en', {\n    relativeTime: {\n        future: 'in %s',\n        past: '%s',\n        s: 'now',\n        ss: 'now',\n        m: '1 min',\n        mm: '%d mins',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 day',\n        dd: '%d days',\n        w: '1 wk',\n        ww: '%d wks',\n        M: '1 mth',\n        MM: '%d mths',\n        y: 'a year',\n        yy: '%d years',\n    },\n})\nmoment().format()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        sectionTitle: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\nconst Profile = props => {\n    const [currentTab, setCurrentTab] = useState('accounts')\n    const classesM = useStyles()\n    const [data, setData] = useState({})\n    const [followersVisible, setFollowersVisible] = useState('')\n\n    const { profile, account, progressData, transactionData } = props.isAuthed\n        ? props\n        : data\n    const [deleteVisible, setDeleteVisible] = useState()\n    const [deleteField, setDeleteField] = useState('')\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n\n    useEffect(() => {\n        const pathParts = props.history.location.pathname.split('/')\n        if (pathParts.length > 2) {\n            const profileId = pathParts[2]\n            if (props.isAuthed) {\n                props.setData({ currentProfile: profileId })\n            } else {\n                pullData(props, data, setData, { forceAuth: false }, data => {\n                    const friendData = {}\n                    for (let friend of data.friendData)\n                        friendData[friend._id] = friend\n                    const progressData = {}\n                    for (let progress of data.progressData)\n                        progressData[progress._id] = progress\n\n                    props.setData({\n                        // profile: data.profile,\n                        friendData,\n                        progressData,\n                        account: {},\n                    })\n                })\n            }\n        } else {\n            if (props.isAuthed) {\n                props.setData({ currentProfile: account._id })\n            }\n        }\n    }, [props.isAuthed, props.history.location.pathname, props.account._id])\n\n    if (!profile || !profile._id) return null\n\n    const isOwner = account && account._id && account._id === profile._id\n    props.setPageTitle({ main: profile.name, sub: '' })\n\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n    if (profile && profile.friends && account && account._id) {\n        for (let friend of account.friends) {\n            if (friend.status === 'friend') realFriends.push(friend)\n            else if (friend.status === 'invited') invitedFriends.push(friend)\n            else if (friend.status === 'inviting') invitingFriends.push(friend)\n        }\n    }\n\n    const loading = false\n\n    const { progresses, wishlist, transactions } =\n        props.history.location.pathname !== '/my' ? profile : account\n\n    let loadedProgresses\n    if (progresses) {\n        loadedProgresses = progresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n\n    const newTransactions =\n        (transactions &&\n            transactions\n                .filter(item => transactionData[item])\n                .map(item => transactionData[item])\n                .filter(item => item.status !== 'Confirmed')) ||\n        []\n\n    const recievedTransactions =\n        (transactions &&\n            transactions\n                .filter(item => transactionData[item])\n                .map(item => transactionData[item])\n                .filter(item => item.status === 'Confirmed')) ||\n        []\n\n    return (\n        <>\n            <Helmet>\n                <title>\n                    {profile.name} - Addspire - Explore goals and ideas from\n                    around the World!\n                </title>\n                <meta\n                    name=\"description\"\n                    content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                />\n            </Helmet>\n            <Layout\n                header={\n                    <Typography\n                        variant=\"h6\"\n                        className={classesM.title}\n                        color=\"inherit\"\n                        noWrap\n                    >\n                        {profile.name}\n                    </Typography>\n                }\n            >\n                <Paper style={{ padding: '15px' }}>\n                    <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                        {isOwner ? (\n                            <Upload\n                                name=\"avatar\"\n                                accept=\"image/*\"\n                                listType=\"picture-card\"\n                                className={classes.Avatar}\n                                showUploadList={false}\n                                customRequest={({ file }) => {\n                                    uploadFile(file, 800, 'avatar', url => {\n                                        if (url) props.increaseAvatarV()\n                                    })\n                                }}\n                            >\n                                <div\n                                    style={{\n                                        flex: 1,\n                                        display: 'flex',\n                                        height: '100%',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        flexDirection: 'column',\n                                    }}\n                                    onClick={e => {\n                                        if (window.isRNWebView) {\n                                            e.stopPropagation()\n                                            window.ReactNativeWebView.postMessage(\n                                                'uploadFile'\n                                            )\n                                            window.callback = url => {\n                                                props.increaseAvatarV()\n                                            }\n                                        }\n                                    }}\n                                >\n                                    {account.image ? (\n                                        <Avatar\n                                            src={getAvatar(\n                                                account._id,\n                                                account.image\n                                            )}\n                                            size={150}\n                                            style={{ margin: '25px' }}\n                                        />\n                                    ) : (\n                                        <>\n                                            {loading ? (\n                                                <LoadingOutlined />\n                                            ) : (\n                                                <PlusOutlined />\n                                            )}\n                                            <div className=\"ant-upload-text\">\n                                                Upload\n                                            </div>\n                                        </>\n                                    )}\n                                </div>\n                            </Upload>\n                        ) : (\n                            <Avatar\n                                src={getAvatar(profile._id, profile.image)}\n                                size={200}\n                            />\n                        )}\n                        <Box style={{ padding: '0 15px' }}>\n                            <TypographyA.Title\n                                level={2}\n                                editable={\n                                    isOwner\n                                        ? {\n                                              onChange: res =>\n                                                  wsActions.editAccount(\n                                                      { name: res },\n                                                      account._id\n                                                  ),\n                                              icon: (\n                                                  <IconButton color=\"primary\">\n                                                      <Edit />\n                                                  </IconButton>\n                                              ),\n                                              maxLength: fieldLength.name,\n                                              autoSize: {\n                                                  minRows: 1,\n                                                  maxRows: 1,\n                                              },\n                                          }\n                                        : false\n                                }\n                            >\n                                {profile.name}\n                            </TypographyA.Title>\n                        </Box>\n                        <Typography variant=\"h5\">({profile._id})</Typography>\n                        <Box\n                            style={{\n                                margin: '5px 0px',\n                            }}\n                        >\n                            <Button\n                                onClick={() => setFollowersVisible('followers')}\n                                style={{ marginRight: '20px' }}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {profile.followingAccounts.length} Followers\n                                </span>\n                            </Button>\n                            <Button\n                                onClick={() => setFollowersVisible('following')}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {profile.followProgresses.length +\n                                        profile.followAccounts.length}{' '}\n                                    Following\n                                </span>\n                            </Button>\n                        </Box>\n\n                        {/* {isOwner && (\n                            <div>\n                                <Button\n                                    startIcon={<PowerSettingsNew />}\n                                    onClick={() =>\n                                        props.history.push('/logout')\n                                    }\n                                    color=\"secondary\"\n                                >\n                                    Logout\n                                </Button>\n                            </div>\n                        )} */}\n                        <div>\n                            <ShareButton\n                                link={\n                                    'https://addspire.com/profile/' +\n                                    profile._id\n                                }\n                                media={\n                                    profile.image &&\n                                    getAvatar(profile._id, profile.image)\n                                }\n                                title={\n                                    profile.name +\n                                    ' account on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                                }\n                            />\n                            {account && account._id !== profile._id && (\n                                <span style={{ marginRight: '10px' }}>\n                                    {realFriends.find(\n                                        item => item.friend === profile._id\n                                    ) ? (\n                                        <Chip color=\"primary\" label=\"Friends\" />\n                                    ) : null}\n                                    {!account.followAccounts.includes(\n                                        profile._id\n                                    ) && (\n                                        <Button\n                                            color=\"primary\"\n                                            onClick={() =>\n                                                wsActions.followAccount(\n                                                    account._id,\n                                                    profile._id\n                                                )\n                                            }\n                                            style={{ marginRight: '20px' }}\n                                            variant=\"contained\"\n                                        >\n                                            Follow\n                                        </Button>\n                                    )}\n                                </span>\n                            )}\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={profile._id}\n                                additionalButtons={\n                                    isOwner\n                                        ? [\n                                              {\n                                                  onClick: () =>\n                                                      props.history.push(\n                                                          '/logout'\n                                                      ),\n                                                  title: 'Logout',\n                                              },\n                                          ]\n                                        : null\n                                }\n                                asText={true}\n                            />\n                        </div>\n                        <Box />\n                    </div>\n                </Paper>\n\n                <HorizontalScrollList\n                    title=\"Goals\"\n                    items={loadedProgresses.sort(sortProgresses)}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.goal.images.length > 0\n                                            ? item.goal.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                    withAdd={isOwner}\n                    addTitle=\"Add goal\"\n                    onAdd={() => setStartProgressVisible(true)}\n                />\n\n                {isOwner && invitedFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title=\"Pending friendships\"\n                            items={invitedFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box style={{ margin: '5px 0' }}>\n                                        <Button\n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.acceptFriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            Accept\n                                        </Button>\n                                    </Box>\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            Decline\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                {isOwner && invitingFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title=\"Awaiting approval\"\n                            items={invitingFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            Decline\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                <HorizontalScrollList\n                    title=\"Friends\"\n                    items={realFriends}\n                    content={item => (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <Box>\n                                <UserButton noName id={item.friend} size={80} />\n                            </Box>\n                            <UserButton\n                                noAva\n                                typography\n                                style={{\n                                    width: '100%',\n                                    margin: '3px 0 7px',\n                                }}\n                                id={item.friend}\n                            />\n\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={item.friend}\n                                asIcons={true}\n                                minimized\n                            />\n                        </CardContent>\n                    )}\n                    withAdd={isOwner}\n                    addTitle=\"Add friend\"\n                    onAdd={() => setAddFriendOpen(true)}\n                />\n\n                {/* <HorizontalScrollList\n                    title=\"Wishlist\"\n                    items={wishlist}\n                    withAdd\n                    addTitle=\"Add item\"\n                    onAdd={()=>}\n                    content={item => (\n                        <CardActionArea>\n                            <Link\n                                to={'/wishlist/' + profile._id + '/' + item._id}\n                            >\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.images.length > 0\n                                            ? item.images[0]\n                                            : placeholderImages[getPH(item.id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent  style={{padding: '5px'}}>\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                /> */}\n\n                <Rewards\n                    title=\"Available inspirations\"\n                    rewards={newTransactions.map(item => ({\n                        ...item.item,\n                        transaction: item,\n                    }))}\n                    readOnly\n                    empty\n                    withDate\n                    withConfirm\n                    isOwner={isOwner}\n                />\n\n                <Rewards\n                    title=\"Received inspirations\"\n                    rewards={recievedTransactions.map(item => ({\n                        ...item.item,\n                        transaction: item,\n                    }))}\n                    readOnly\n                    withDate\n                />\n\n                {isOwner && (\n                    <>\n                        <Typography\n                            className={classesM.sectionTitle}\n                            color=\"textSecondary\"\n                            gutterBottom\n                        >\n                            Settings\n                        </Typography>\n                        <Paper\n                            style={{\n                                padding: '15px',\n                            }}\n                        >\n                            <Box>\n                                <Button\n                                    onClick={() =>\n                                        props.history.push('/logout')\n                                    }\n                                    color=\"secondary\"\n                                >\n                                    Logout\n                                </Button>\n                            </Box>\n                            <Button\n                                onClick={() => setDeleteVisible(true)}\n                                color=\"secondary\"\n                            >\n                                Delete account\n                            </Button>\n                        </Paper>\n\n                        <Dialog open={Boolean(deleteVisible)}>\n                            <DialogTitle>{'Delete account'}</DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    <p>\n                                        Please enter your nickname (\n                                        {account._id}) and press Ok to delete\n                                        your account.\n                                    </p>\n                                    <TextField\n                                        onChange={e =>\n                                            setDeleteField(e.target.value)\n                                        }\n                                    />\n                                </DialogContentText>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button onClick={() => setDeleteVisible(false)}>\n                                    Cancel\n                                </Button>\n                                <Button\n                                    onClick={() => {\n                                        if (deleteField !== account._id) {\n                                            message.warning(\n                                                'The nickmanme is not correct.'\n                                            )\n                                        } else {\n                                            wsActions.deleteAccount(account._id)\n                                        }\n                                    }}\n                                    color=\"primary\"\n                                >\n                                    Delete\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n                    </>\n                )}\n            </Layout>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'following' ? 'Following' : 'Followers'\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible !== 'following' && 'Followers'}\n                    {followersVisible === 'following' && (\n                        <>\n                            <Button\n                                style={{ margin: '0px 20px 0px 0px' }}\n                                color={\n                                    currentTab === 'accounts'\n                                        ? 'primary'\n                                        : 'default'\n                                }\n                                onClick={() => setCurrentTab('accounts')}\n                                variant=\"contained\"\n                            >\n                                Accounts\n                            </Button>\n                            <Button\n                                color={\n                                    currentTab === 'goals'\n                                        ? 'primary'\n                                        : 'default'\n                                }\n                                onClick={() => setCurrentTab('goals')}\n                                variant=\"contained\"\n                            >\n                                Goals\n                            </Button>\n                        </>\n                    )}\n                </DialogTitle>\n                <DialogContent>\n                    {followersVisible === 'following' ? (\n                        currentTab === 'accounts' ? (\n                            profile.followAccounts.map(item => (\n                                <MasonryCard\n                                    friends={true}\n                                    noLink={true}\n                                    key={item}\n                                    actions={\n                                        <FollowButton\n                                            account={account}\n                                            id={item}\n                                        />\n                                    }\n                                    body={\n                                        <UserButton\n                                            span={true}\n                                            id={item}\n                                            size={50}\n                                        />\n                                    }\n                                />\n                            ))\n                        ) : (\n                            <MasonryGrid>\n                                {profile.followProgresses.map(item => (\n                                    <MasonryCard\n                                        id={item}\n                                        onClickLink={'/goals/' + item}\n                                        // noLink\n                                        key={item}\n                                        actions={\n                                            <FollowButton\n                                                type=\"progress\"\n                                                account={account}\n                                                id={item}\n                                            />\n                                        }\n                                        body={\n                                            <ProgressButton\n                                                span={true}\n                                                id={item}\n                                                size={50}\n                                            />\n                                        }\n                                        style={{\n                                            // maxHeight: '170px',\n                                            marginTop: '20px',\n                                        }}\n                                    />\n                                ))}\n                            </MasonryGrid>\n                        )\n                    ) : (\n                        profile.followingAccounts.map(item => (\n                            <MasonryCard\n                                friends={true}\n                                noLink={true}\n                                key={item}\n                                actions={\n                                    <FollowButton account={account} id={item} />\n                                }\n                                body={\n                                    <UserButton\n                                        span={true}\n                                        id={item}\n                                        size={50}\n                                    />\n                                }\n                            />\n                        ))\n                    )}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={startProgressVisible}\n                    onClose={() => {\n                        setStartProgressVisible(false)\n                    }}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <AddProgress\n                        setStartProgressVisible={setStartProgressVisible}\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setStartProgressVisible(false)}\n                    />\n                </Dialog>\n            )}\n            {isOwner && (\n                <DialogFullscreen\n                    open={addFriendOpen}\n                    close={() => {\n                        setAddFriendOpen(false)\n                    }}\n                    title=\"Add friend\"\n                >\n                    <AddFriends\n                        close={() => setAddFriendOpen(false)}\n                        open={addFriendOpen}\n                        account={account}\n                        friendData={props.friendData}\n                    />\n                </DialogFullscreen>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        profile: state.profile,\n        isAuthed: state.isAuthed,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        transactionData: state.transactionData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n        increaseAvatarV: () => dispatch(actions.increaseAvatarV()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Profile)\n)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport message from 'antd/es/message'\n\nimport Input from 'antd/es/input'\nimport Form from 'antd/es/form'\nimport { withRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport { nicknameRules, accountNameRules } from '../../constants/fieldRules'\nimport * as actions from '../../store/actions'\nimport { Layout } from 'antd'\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst ActivateAccount = props => {\n    const classes = useStyles()\n    if (!props.isAuthed) props.history.push('/logout')\n    useEffect(() => {\n        if (!props.accountNotActive) props.history.push('/settings')\n    }, [props.accountNotActive])\n    const onFinish = value => {\n        axios\n            .post('/api/activate-account', {\n                ...value,\n            })\n            .then(res => {\n                if (res.data.success) {\n                    message.success('Your account has been activated!')\n                    props.setAccountActivated(false)\n                } else {\n                    if (res.data.nicknameNotUnique) {\n                        message.warning(\n                            'The nickname is taken. Choose another nickname please.'\n                        )\n                    }\n                    if (res.data.errorCode) {\n                        message.error(\n                            'Something is wrong with the data. Please try one more time with new data.'\n                        )\n                    }\n                }\n            })\n            .catch(err => {})\n    }\n\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n\n    return (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    Activate account\n                </Typography>\n            }\n        >\n            <Form\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                {...layout}\n            >\n                <Form.Item label=\"Name\" name=\"name\" rules={accountNameRules}>\n                    <Input placeholder=\"Must be more than 1 character long\" />\n                </Form.Item>\n                <Form.Item\n                    label=\"Nickname\"\n                    name=\"nickname\"\n                    rules={nicknameRules}\n                >\n                    <Input placeholder=\"Must be more than 1 character long\" />\n                </Form.Item>\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                        Save\n                    </Button>\n                </Form.Item>\n            </Form>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        user: state.user,\n        account: state.account,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        setAccountActivated: value =>\n            dispatch(actions.setAccountActivated(value)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ActivateAccount)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\nconst NotificationsTracker = props => {\n    const { account, friendData, progressData } = props\n\n    const sortNotifiacations = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications,\n            ]\n    }\n\n    for (let friend of account.friends) {\n        if (\n            friendData[friend.friend] &&\n            friend.status === 'friend' &&\n            friendData[friend.friend].notifications\n        )\n            lastNotifications = [\n                ...lastNotifications,\n                ...friendData[friend.friend].notifications,\n            ]\n    }\n    const filterSameNot = (res, not, index, arr) => {\n        if (!res.find(item => item.notId === not.notId)) {\n            res.push(not)\n        }\n        return res\n    }\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n\n    lastNotifications = lastNotifications.sort(sortNotifiacations).slice(0, 100)\n\n    lastNotifications = [\n        ...lastNotifications,\n        ...account.myNotifications,\n    ].filter(item => item.code !== 'add post')\n\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n    lastNotifications = lastNotifications.sort(sortNotifiacations)\n    if (!isEqual(lastNotifications, props.lastNotifications)) {\n        props.setData({ lastNotifications })\n    }\n\n    return <span />\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(NotificationsTracker)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport * as actions from './store/actions'\n\nconst RNBridge = props => {\n    window.addEventListener('message', function(e) {\n        // window.isRNWebView = true\n\n        try {\n            const data = JSON.parse(e.data)\n            switch (data.message) {\n                case 'token':\n                    const token = data.token\n                    props.tryAuth(token)\n                    break\n                case 'callback':\n                    window.callback(data.url)\n                    break\n                case 'back':\n                    if (!props.history.location.key) {\n                        window.isRNWebView &&\n                            window.ReactNativeWebView.postMessage('exit')\n                    } else props.history.goBack()\n                    break\n                default:\n                    return\n            }\n        } catch (err) {\n            console.error('failed to parse message from react-native ' + err)\n            return\n        }\n    })\n\n    return <></>\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: token => dispatch(actions.tryAuth(token)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(RNBridge)\n)\n","import React, { useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Comment from 'antd/es/comment'\nimport Divider from 'antd/es/divider'\nimport moment from 'moment'\nimport { Card, CardContent } from '@material-ui/core'\nimport * as wsActions from '../../websocketActions'\n\nmoment().format()\n\nconst DashboardEvents = props => {\n    const { lastNotifications } = props\n    const getRewardText = item => (\n        <span style={{ fontWeight: 'bold' }}>\n            {item.details.reward.money\n                ? '$' + item.details.reward.money\n                : item.details.reward.simple || item.details.reward.itemName}\n        </span>\n    )\n\n    const getStageName = stage => {\n        let stageDate\n        if (stage.day) {\n            stageDate = moment()\n                .year(stage.year)\n                .dayOfYear(stage.day)\n            return stageDate.format('dddd D MMM YYYY')\n        } else if (stage.week) {\n            stageDate = moment()\n                .year(stage.year)\n                .week(stage.week)\n            return (\n                stageDate.startOf('week').format('wo [week] D MMM YYYY - ') +\n                stageDate.endOf('week').format('D MMM YYYY')\n            )\n        } else if (stage.month) {\n            stageDate = moment()\n                .year(stage.year)\n                .month(stage.month)\n            return stageDate.format('MMMM YYYY')\n        } else if (stage.year) {\n            stageDate = moment().year(stage.year)\n            return stageDate.format('YYYY')\n        }\n    }\n\n    useEffect(() => {\n        wsActions.setLastSeenNot(\n            props.account._id,\n            lastNotifications.reduce(function(p, v) {\n                v = parseInt(v.notId)\n                return p > v ? p : v\n            }, 0)\n        )\n    }, [lastNotifications])\n    return (\n        <Card>\n            <CardContent>\n                {lastNotifications.map((item, index) => {\n                    let text = null,\n                        stageName\n\n                    switch (item.code) {\n                        case 'change name':\n                            text = (\n                                <span>\n                                    {' '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' changed name.'}\n                                </span>\n                            )\n                            break\n                        case 'delete account':\n                            text = (\n                                <span>\n                                    {item.user}\n                                    deleted account.\n                                </span>\n                            )\n                            break\n                        case 'friend request':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' wants to become friends with you.'}\n                                </span>\n                            )\n                            break\n                        case 'friend add':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' and '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {' became friends.'}\n                                </span>\n                            )\n                            break\n                        case 'unfriend':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' and '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {' stopped being friends.'}\n                                </span>\n                            )\n                            break\n                        case 'add wishlist item':\n                        case 'edit wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add wishlist item'\n                                        ? 'added to wishlist a new item'\n                                        : 'edited in wishlist'}{' '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>{' '}\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' deleted '}\n                                    {item.details.itemName} from wishlist.\n                                </span>\n                            )\n                            break\n                        case 'add goal':\n                        case 'edit goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add goal'\n                                        ? 'added a new goal'\n                                        : 'edited goal'}{' '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {' .'}\n                                </span>\n                            )\n                            break\n                        case 'delete goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' deleted '}\n                                    {item.details.itemName} from goals.\n                                </span>\n                            )\n                            break\n                        case 'add perk':\n                        case 'edit perk':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add perk'\n                                        ? 'added to shop a new item'\n                                        : 'edited in shop'}{' '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {' .'}\n                                </span>\n                            )\n                            break\n                        case 'delete perk':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' deleted '}\n                                    {item.details.itemName} from shop.\n                                </span>\n                            )\n                            break\n                        case 'buy perk':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' bought '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName} ($\n                                        {item.details.price})\n                                    </span>\n                                    {' from '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.owner}\n                                    />\n                                    {' .'}\n                                </span>\n                            )\n                            break\n                        case 'cancel transaction':\n                        case 'confirm transaction':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'cancel transaction'\n                                        ? 'cancelled'\n                                        : 'confirmed'}\n                                    {' purchase of '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName} ($\n                                        {item.details.price})\n                                    </span>\n                                    {' by '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.buyer}\n                                    />\n                                    {' .'}\n                                </span>\n                            )\n                            break\n                        case 'start progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' started participating in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {' as '}\n                                    {item.details.as}.\n                                </span>\n                            )\n                            break\n                        case 'stage approve':\n                        case 'stage progress':\n                        case 'stage fail':\n                        case 'stage dismiss':\n                            stageName = getStageName(item.details)\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {item.code === 'stage approve'\n                                        ? ' approved  '\n                                        : item.code === 'stage progress'\n                                        ? ' put into process '\n                                        : item.code === 'stage fail'\n                                        ? ' marked as failed '\n                                        : ' dismissed '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {' for '}\n                                            <span\n                                                style={{ fontWeight: 'bold' }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n                                    .\n                                </span>\n                            )\n                            break\n\n                        case 'stage complete':\n                            text = (\n                                <span>\n                                    {'Progress '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {' for '}\n                                            <span\n                                                style={{ fontWeight: 'bold' }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n\n                                    {' was approved and finished.'}\n                                </span>\n                            )\n                            break\n                        case 'milestone finish':\n                            text = (\n                                <span>\n                                    Milestone {item.details.itemName}\n                                    {' in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {' was approved and finished.'}\n                                </span>\n                            )\n                            break\n                        case 'get reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' recieved '}\n                                    {getRewardText(item)}\n                                    {' as a reward from '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.from}\n                                    />\n                                    {' in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'leave progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' left goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'edit progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' edited goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {item.details.addedAccounts.length > 0 ? (\n                                        <>\n                                            {' and added '}\n                                            {item.details.addedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}{' '}\n                                        </>\n                                    ) : (\n                                        ''\n                                    )}\n                                    {item.details.droppedAccounts.length > 0 ? (\n                                        <>\n                                            {' and removed '}\n                                            {item.details.droppedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}\n                                            {' .'}\n                                        </>\n                                    ) : (\n                                        '.'\n                                    )}\n                                </span>\n                            )\n                            break\n                        case 'remove from progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' removed '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {' from goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add to progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' added '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {' to goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' added '}\n                                    {getRewardText(item)} as a reward for\n                                    {!item.details.for ||\n                                    item.details.for.length === 0\n                                        ? ' all '\n                                        : item.details.for.map(account => (\n                                              <>\n                                                  <UserButton\n                                                      noAva={true}\n                                                      span={true}\n                                                      id={account}\n                                                  />\n                                                  ,\n                                              </>\n                                          ))}\n                                    {' in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' removed '}\n                                    {getRewardText(item)}\n                                    {' as a reward for '}\n                                    {!item.details.for ||\n                                    item.details.for.length === 0\n                                        ? ' all '\n                                        : item.details.for.map(account => (\n                                              <>\n                                                  <UserButton\n                                                      span={true}\n                                                      noAva={true}\n                                                      id={account}\n                                                  />\n                                                  ,\n                                              </>\n                                          ))}\n                                    {' in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        default:\n                            text = 'New event'\n                            break\n                    }\n                    return (\n                        <div key={index}>\n                            {index !== 0 && (\n                                <Divider style={{ margin: '5px 0px' }} />\n                            )}\n                            <Comment\n                                avatar={\n                                    <UserButton\n                                        noName={true}\n                                        id={item.user}\n                                        span={true}\n                                    />\n                                }\n                                content={text}\n                            />\n                        </div>\n                    )\n\n                    // <Card>{text}</Card>\n                })}{' '}\n            </CardContent>\n        </Card>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(DashboardEvents))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const setLastSeenNot = (accountId, notId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'setLastSeenNot',\n                accountId,\n                notId,\n            })\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\n\nimport Post from '../../components/Post/Post'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Badge,\n    Button,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DashboardEvents from './DashboardEvents'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            fontWeight: 600,\n        },\n    })\n)\n\nconst DashboardPosts = props => {\n    const classes = useStyles()\n    const {\n        account,\n        friendData,\n        statePosts,\n        progressData,\n        currentPosts,\n    } = props\n\n    const [posts, setPosts] = useState([])\n    const [currentTab, setCurrentTab] = useState('posts')\n    const [startTime] = useState(new Date().getTime())\n\n    const sortPosts = (a, b) => {\n        const aN = a.notifications.filter(item => item.user !== account._id)\n        const bN = b.notifications.filter(item => item.user !== account._id)\n        if (aN.length === 0 && bN.length > 0) return 1\n        else if (aN.length > 0 && bN.length === 0) return -1\n        else if (aN.length === 0 && bN.length === 0) return 0\n        else\n            return new Date(aN[0].date).getTime() <\n                new Date(bN[0].date).getTime()\n                ? 1\n                : -1\n    }\n\n    const sortNotifications = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n\n    useEffect(() => {\n        if (currentPosts) {\n            const newPosts = currentPosts\n                .filter(item => statePosts[item])\n                .map(item => statePosts[item])\n\n            const newUnseenPosts = []\n            const newOldPosts = []\n            let oldPosts = [...posts]\n            for (let post of newPosts) {\n                let oldPostIndex = oldPosts.findIndex(item => {\n                    return item._id.toString() === post._id.toString()\n                })\n                if (oldPostIndex === -1) {\n                    if (\n                        post.notifications &&\n                        post.notifications.length > 0 &&\n                        new Date(post.notifications[0].date).getTime() >\n                            startTime\n                    ) {\n                        newUnseenPosts.push(post)\n                    } else {\n                        newOldPosts.push(post)\n                    }\n                } else {\n                    oldPosts[oldPostIndex] = post\n                }\n            }\n\n            for (let post of newOldPosts) {\n                const index = oldPosts.findIndex(item => {\n                    if (\n                        item &&\n                        item.notifications &&\n                        item.notifications.length > 0\n                    ) {\n                        return (\n                            new Date(item.notifications[0]).getTime() >\n                            new Date(post.notifications[0]).getTime()\n                        )\n                    } else return false\n                })\n                if (index === -1) {\n                    oldPosts.push(post)\n                } else {\n                    oldPosts.splice(index, 0, post)\n                }\n            }\n\n            let resultPosts = [...newUnseenPosts, ...oldPosts]\n            if (posts.length === 0) {\n                resultPosts = resultPosts.sort(sortPosts)\n            }\n            setPosts(resultPosts)\n        }\n    }, [currentPosts, statePosts])\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications.filter(\n                    item =>\n                        item.code === 'add post' && item.user !== account._id\n                ),\n            ]\n    }\n\n    lastNotifications = lastNotifications\n        .sort(sortNotifications)\n        .map(item => item.details.postId)\n        .slice(0, 10)\n\n    const neededPosts = [\n        ...new Set([\n            ...account.followPosts,\n            ...account.myPosts,\n            ...posts.map(post => post._id),\n            ...lastNotifications,\n        ]),\n    ]\n    if (!isEqual(currentPosts, neededPosts))\n        props.setData({ currentPosts: neededPosts })\n\n    props.setPageTitle({ main: 'Dashboard', sub: '' })\n\n    return (\n        <Layout\n            header={\n                <>\n                    <Button\n                        style={{ margin: '0px 20px' }}\n                        color={currentTab === 'posts' ? 'primary' : 'default'}\n                        onClick={() => setCurrentTab('posts')}\n                        variant=\"contained\"\n                    >\n                        Posts\n                    </Button>\n                    <Badge badgeContent={numberOfUnseenNots} color=\"secondary\">\n                        <Button\n                            color={\n                                currentTab === 'events' ? 'primary' : 'default'\n                            }\n                            onClick={() => setCurrentTab('events')}\n                            variant=\"contained\"\n                        >\n                            Events\n                        </Button>\n                    </Badge>\n                </>\n            }\n        >\n            {currentTab === 'posts' ? (\n                posts.map((item, index) => {\n                    let text = null\n                    const nots = item.notifications.filter(\n                        not => not.user !== account._id\n                    )\n                    const not = nots.length > 0 ? nots[0] : null\n                    if (not) {\n                        switch (not.code) {\n                            case 'edit wishlist item':\n                                text = 'edited item in wishlist.'\n\n                                break\n                            case 'edit goal':\n                                text = 'edited goal.'\n\n                                break\n                            case 'edit perk':\n                                text = 'edited item in shop.'\n\n                                break\n\n                            case 'comment':\n                                text = 'added a comment.'\n\n                                break\n                            case 'edit comment':\n                                text = 'edited a comment.'\n\n                                break\n                            case 'like':\n                                text = 'added a like.'\n\n                                break\n                            case 'dislike':\n                                text = 'removed a like.'\n\n                                break\n                            default:\n                                text = null\n                                break\n                        }\n                    }\n                    return (\n                        <div key={index} style={{ paddingTop: '10px' }}>\n                            {text && (\n                                <>\n                                    <Typography\n                                        className={classes.title}\n                                        color=\"textSecondary\"\n                                        gutterBottom\n                                    >\n                                        <span>\n                                            <UserButton\n                                                id={not.user}\n                                                noAva={true}\n                                                span={true}\n                                                style={{ fontWeight: 'bold' }}\n                                            />{' '}\n                                            {text}\n                                        </span>\n                                    </Typography>\n                                </>\n                            )}\n                            <Post\n                                friendData={friendData}\n                                account={account}\n                                post={item}\n                                progressData={progressData}\n                            />\n                        </div>\n                    )\n                })\n            ) : (\n                <DashboardEvents account={account} />\n            )}\n        </Layout>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        currentPosts: state.currentPosts,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(DashboardPosts)\n)\n","import React, { useEffect, useRef, useCallback } from 'react'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\nimport { PageView, initGA } from './components/TrackingGA'\n\nimport AuthTest from './containers/Auth/AuthTest'\nimport './components/UI/loadStyles'\nimport Progress from './containers/Progress/Progress'\nimport Blog from './containers/Blog/Blog'\n\nimport Profile from './containers/Profile/Profile'\n\nimport ActivateAccount from './containers/ActivateAccount/ActivateAccount'\n\nimport { connect } from 'react-redux'\nimport * as actions from './store/actions'\nimport ConnectWebsocket from './containers/ConnectWebsocket/ConnectWebsocket'\nimport NotificationsTracker from './containers/Dashboard/NotificationsTracker'\n\nimport RNBridge from './RNBridge'\nimport DashboardPosts from './containers/Dashboard/DashboardPosts'\nimport Explore from './containers/Explore/Explore'\n\nconst App = props => {\n    const mountedRef = useRef(true)\n\n    const { isAuthed } = props\n\n    const auth = useCallback(async () => {\n        try {\n            if (!mountedRef.current) return null\n            props.tryAuth()\n        } catch (error) {}\n    }, [mountedRef])\n    useEffect(() => {\n        if (!isAuthed) {\n            auth()\n        }\n        return () => {\n            mountedRef.current = false\n        }\n    }, [isAuthed])\n\n    useEffect(() => {\n        initGA('UA-45758937-4')\n    }, [])\n\n    useEffect(() => {\n        if (props.history.location.pathname.indexOf('/post/') === -1) {\n            window.scrollTo(0, 0)\n        }\n        PageView()\n    }, [props.history.location.pathname])\n\n    const Logout = () => {\n        props.logout()\n        window.isRNWebView && window.ReactNativeWebView.postMessage('logout')\n        return <Redirect to=\"/explore\" />\n    }\n\n    let routes = (\n        <Switch>\n            <Route path=\"/\" exact component={Explore} />\n            {isAuthed !== null && (\n                <Route path=\"/posts\" exact component={DashboardPosts} />\n            )}\n\n            <Route path=\"/goals\" component={Progress} />\n\n            <Route path=\"/profile\" component={Profile} />\n\n            {/* s */}\n            {/* <Route path=\"/shop\" component={Perk} /> */}\n            {/* <Route path=\"/wishlist\" component={WishlistItem} /> */}\n            <Route path=\"/logout\" exact component={Logout} />\n            <Route path=\"/ru\" component={Blog} />\n            <Route path=\"/blog\" component={Blog} />\n\n            <Route path=\"/activate-account\" exact component={ActivateAccount} />\n\n            {process.env.NODE_ENV === 'development' && !isAuthed && (\n                <Route path=\"/logintest\" exact component={AuthTest} />\n            )}\n            <Redirect to=\"/\" />\n        </Switch>\n    )\n\n    if (props.accountNotActive) {\n        routes = (\n            <Switch>\n                <Route path=\"/logout\" exact component={Logout} />\n\n                <Route\n                    path=\"/activate-account\"\n                    exact\n                    component={ActivateAccount}\n                />\n\n                {process.env.NODE_ENV === 'development' && !isAuthed && (\n                    <Route path=\"/logintest\" exact component={AuthTest} />\n                )}\n                {isAuthed ? (\n                    <Redirect to=\"/activate-account\" />\n                ) : (\n                    <Redirect to=\"/\" />\n                )}\n            </Switch>\n        )\n    }\n\n    return (\n        <>\n            {routes}\n            {isAuthed && <ConnectWebsocket />}\n            {isAuthed && <NotificationsTracker />}\n            <RNBridge />\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: () => dispatch(actions.tryAuth()),\n        logout: () => dispatch(actions.logout()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(App)\n)\n","import ReactGA from 'react-ga'\n\nexport const initGA = trackingID => {\n    ReactGA.initialize(trackingID)\n}\n\nexport const PageView = () => {\n    ReactGA.pageview(window.location.pathname + window.location.search)\n}\n\nexport const Event = (category, action, label) => {\n    ReactGA.event({\n        category: category,\n        action: action,\n        label: label,\n    })\n}\n","import { createReducer } from '@reduxjs/toolkit'\n\nexport const initialState = {\n    isAuthed: false,\n    user: null,\n    currentAccount: '',\n    account: {},\n    friendData: {},\n    transactionData: {},\n    progressData: {},\n    currentProfile: '',\n    profile: {},\n    currentProgress: '',\n    currentPosts: [],\n    progress: {},\n    post: {},\n    postData: {},\n    pageTitle: {},\n    friendSearchResult: [],\n    accountNotActive: false,\n    lastNotifications: [],\n    isConnectingWS: false,\n}\n\nconst reducer = createReducer(initialState, {\n    SET_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'isAuthed',\n                'currentAccount',\n                'currentProfile',\n                'currentPosts',\n                'profile',\n                'currentProgress',\n                'progress',\n                'lastNotifications',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    state[key] = action.data[key]\n                }\n            }\n            for (let key of [\n                'friendData',\n                'progressData',\n                'post',\n                'postData',\n                'transactionData',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    for (let attr in action.data[key]) {\n                        if (action.data[key][attr]) {\n                            state[key][attr] = action.data[key][attr]\n                        }\n                    }\n                }\n            }\n        }\n        if (state.user) {\n            if (state.user.currentAccount) {\n                state.currentAccount = state.user.currentAccount\n                state.accountNotActive = false\n            } else if (state.user.myAccount) {\n                state.currentAccount = state.user.myAccount\n                state.accountNotActive = false\n            } else {\n                state.accountNotActive = true\n            }\n        }\n    },\n    REMOVE_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of ['user', 'account', 'profile', 'progress']) {\n                for (let item of action.data[key]) {\n                    if (state[key]._id === item) {\n                        state[key] = {}\n                    }\n                }\n            }\n            for (let key of [\n                'post',\n                'friendData',\n                'progressData',\n                'postData',\n                'transactionData',\n            ]) {\n                for (let item of action.data[key]) {\n                    delete state[key][item]\n                }\n            }\n        }\n    },\n    SET_FRIEND_SEARCH_RESULT: (state: Object, action: Object) => {\n        state.friendSearchResult = action.data\n    },\n\n    SET_FRIENDS_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            state.account.friendsData = action.data\n        }\n        if (action.data.perk) state.perk = action.data.perk\n    },\n    SET_AVATAR_V: (state: Object, action: Object) => {\n        state.account.image = action.v\n    },\n    INCREASE_AVATAR_V: (state: Object) => {\n        state.account.image = state.account.image + 1\n    },\n    SET_IS_AUTHED: (state: Object, action: Object) => {\n        state.isAuthed = action.id\n    },\n    SET_PAGE_TITLE: (state: Object, action: Object) => {\n        state.pageTitle = action.title\n    },\n    SET_ACCOUNT_ACTIVATED: (state: Object, action: Object) => {\n        state.accountNotActive = action.value\n    },\n    SET_CONNECTING_WS: (state: Object, action: Object) => {\n        state.isConnectingWS = action.data\n    },\n})\n\nexport default reducer\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\n\nimport './index.css'\nimport App from './App'\nimport reducer from './store/reducer/reducer'\n//import * as serviceWorker from './serviceWorker';\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport { purple } from '@material-ui/core/colors'\n\nconst outerTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    typography: {\n        fontSize: 13,\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                backgroundColor: 'white',\n                color: '#333',\n            },\n        },\n    },\n})\n\nif (process.env.NODE_ENV === 'development') {\n    axios.defaults.baseURL = 'http://my.websiter.test:5000'\n} else {\n    axios.defaults.baseURL = 'https://addspire.com'\n}\n// axios.defaults.withCredentials = true\n\nexport const store = createStore(\n    reducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <ThemeProvider theme={outerTheme}>\n                <App />\n            </ThemeProvider>\n        </BrowserRouter>\n    </Provider>\n)\n\nconst root = document.getElementById('root')\n\nReactDOM.render(app, root)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}