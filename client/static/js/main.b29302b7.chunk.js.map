{"version":3,"sources":["components/Welcome/Welcome.module.scss","components/Layout/LoginModal.module.css","assets/images/pin.png","components/UI/ImageCarousel/imageCarousel.module.css","components/Layout/Layout.module.css","containers/Profile/Profile.module.css","containers/Auth/AuthTest.tsx","utils/processRes.js","store/actions/auth.tsx","store/actions/saveResources.tsx","containers/ConnectWebsocket/methods/getListOfNeededResources.js","containers/ConnectWebsocket/methods/compareVersionsAndRerequest.js","containers/ConnectWebsocket/methods/getResourcesToMonitor.js","containers/ConnectWebsocket/ConnectWebsocket.tsx","containers/ConnectWebsocket/methods/requestResource.tsx","store/actions/updateResource.tsx","websocketActions/progresses.tsx","websocketActions/rewards.tsx","websocketActions/posts.tsx","websocketActions/account.tsx","websocketActions/friends.tsx","utils/getAvatar.js","components/UserButton/UserButton.tsx","components/UI/HorizontalScrollList.tsx","components/MasonryCard.tsx","containers/Progress/ActivityTable.tsx","utils/uploadFile.js","components/UI/ImagePickerMulti.tsx","components/UI/TinyEditor.tsx","constants/fieldLength.js","constants/fieldRules.js","components/ProfileRewards/AddEditReward.tsx","components/Post/AddMessage.tsx","components/UI/ImageCarousel/ImageCarousel.tsx","components/UI/DialogFullscreen.tsx","components/FollowButton.tsx","components/UI/ReadMore.tsx","components/Post/EditPost.tsx","components/Post/Message.tsx","components/UI/ShareButton.tsx","components/Post/Post.tsx","utils/pullData.js","components/Layout/LoginModal.tsx","containers/Progresses/AddProgress.tsx","components/FriendActionButton.tsx","components/FriendCard.tsx","containers/Friends/AddFriends.tsx","components/LanguageSwitcher/LanguageSwitcher.tsx","components/Layout/Layout.tsx","containers/Reward/Reward.tsx","components/ProfileRewards/ProfileRewards.tsx","components/Rewards/Rewards.tsx","components/EditGoalAndProgressForm/ConnectionsSelect.tsx","containers/Explore/LocateControl.tsx","components/EditGoalAndProgressForm/EditGoalAndProgressForm.tsx","containers/Progress/EditProgress.tsx","containers/Progress/Activity.tsx","components/Post/AddPost.tsx","containers/Progress/Progress.tsx","components/Welcome/index.tsx","containers/Blog/Blog.tsx","utils/masonryBreakPoints.js","components/MasonryGrid.tsx","components/ProgressButton.tsx","containers/Explore/MapSettings.tsx","containers/Explore/Explore.tsx","containers/Profile/Profile.tsx","websocketActions/transactions.tsx","containers/ActivateAccount/ActivateAccount.tsx","containers/Dashboard/NotificationsTracker.tsx","RNBridge.tsx","containers/Dashboard/DashboardEvents.tsx","websocketActions/dashboard.tsx","containers/Dashboard/DashboardPosts.tsx","containers/Blog/BlogArticle.tsx","App.tsx","components/TrackingGA/index.tsx","store/reducer/reducer.tsx","translations/languages/index.tsx","translations/i18n.tsx","index.tsx"],"names":["module","exports","header__title","slider","slider__word","slider__words","wordSlider","videoWrapper","Container","socialButtons","Background","Dots","Layout","Header","Footer","HideHeader","FooterButton","TopHeader","BottomHeader","Main","MenuButtonContiner","QuickButtonContiner","PageTitle","Avatar","Cookies","processRes","res","props","data","logout","history","push","success","errorCode","message","warning","error","successCode","status","cookies","tryAuth","token","dispatch","sessionStorage","setItem","get","rememberMe","remove","path","userId","jwt_decode","axios","defaults","headers","post","put","delete","common","Accept","setIsAuthed","_id","id","type","setData","setPageTitle","title","setFriendSearchResult","getListOfNeededResources","store","requestedResources","user","account","progress","reward","progressData","friendData","postData","transactionData","rewardData","neededResources","isAuthed","currentAccount","_i","_arr","concat","Object","toConsumableArray","progresses","followProgresses","recentProgresses","length","_step","_iterator","getListOfNeededResources_createForOfIteratorHelper","followPosts","s","n","done","value","err","e","f","_step2","_iterator2","myPosts","_step3","_iterator3","transactions","transaction","_step4","_iterator4","friends","friend","_step5","_iterator5","rewards","_i2","_arr2","followingAccounts","followAccounts","item","currentProfile","profile","_i3","_arr3","_step6","_iterator6","rewardId","_step7","_iterator7","_step8","_iterator8","_i4","_arr4","currentProgress","participants","owner","users","likes","_step9","_iterator9","_step10","_iterator10","posts","_step11","_iterator11","stages","stage","_step12","_iterator12","currentPosts","_step13","_iterator13","postEl","_step14","_iterator14","parent","parentType","parentId","currentReward","_step15","_iterator15","friendSearchResult","_step16","_iterator16","reduce","obj","attr","Array","from","Set","notNeededExist","notNeededResources","check1","key","mode","includes","check2","removeData","compareVersionsAndRerequest","versions","state","webSocket","checkData","requestResource","check","__v","getResourcesToMonitor","resources","addData","listOfGroups","ConnectWebsocket","start","pingTimeout","WebSocket","heartbeat","_this","clearTimeout","setTimeout","close","readyState","send","JSON","stringify","messageCode","onopen","event","resourcesToMonitor","initializeRequestResources","onmessage","news","parse","onlineUsers","messageText","setFriendsData","friendsData","saveResource","newOnlineUsers","updateResource","code","update","set","expires","Date","getTime","text","onclose","checkInterval","clearInterval","setInterval","reRequestResourcesInterval","reRequestResources","ConnectWebsocket_createForOfIteratorHelper","group","ids","nextProps","newRequestedResources","_loop","filter","setState","this","setConnectingToWS","prevProps","prevState","_loop2","Component","withRouter","connect","pulledFrom","actions","getState","myAccount","find","_createForOfIteratorHelper","notRequestedIds","applyDelta","source","delta","watchFields","result","cloneDeep","del","applyWithDot","keys","shift","split","applyUpdateToPart","updatedFields","applyDeleteToPart","splice","updateResource_createForOfIteratorHelper","removedFields","field","indexOf","parState","element","defineProperty","updateData","changeLikesProgress","accountId","progressId","add","changeLikesReward","changeLikesMessage","messageId","postId","followProgress","unfollowProgress","followAccount","accountFollow","unfollowAccount","addFriend","friendId","acceptFriend","unfriend","getAvatar","nickname","version","friendDataExp","getUserData","userName","name","typography","react_default","a","createElement","Typography","noWrap","userAvatar","ava","avatar","src","image","size","noClick","style","noName","margin","badge","color","onlyName","onClick","stopPropagation","Group","map","Fragment","noAva","span","react_router_dom","objectSpread","cursor","fontWeight","to","inline","es_button","padding","height","useStyles","makeStyles","theme","createStyles","fontSize","textTransform","addBox","palette","primary","main","display","alignItems","HorizontalScrollList","classes","items","empty","customEmpty","withAdd","className","gutterBottom","Paper","overflowX","paddingBottom","Card","borderRadius","flexShrink","width","marginRight","position","minHeight","CardActionArea","justifyContent","onAdd","CardContent","flex","Box","flexDirection","AddCircle","textAlign","addTitle","index","content","placeholderImages","getPH","matches","match","imagePH","parseInt","Math","abs","round","x","makeRand","images","picture","maxWidth","boxShadow","noLink","wordBreak","body","marginLeft","onClickLink","moment","format","redTheme","createMuiTheme","red","overrides","MuiSelect","selectMenu","select","&:focus","backgroundColor","fade","blueTheme","blue","greenTheme","green","orangeTheme","orange","customTheme","purple","MuiListItem","secondaryAction","paddingRight","paddingLeft","_useState","useState","_useState2","slicedToArray","showEarnedRewards","setShowEarnedRewards","isOwner","lastStages","slice","max","sort","b","aS","aF","bS","bF","old","day","year","dayOfYear","startOf","endOf","week","month","now","min","diff","nowStageId","stageId","ThemeProvider","tabs","defaultActiveKey","findIndex","toString","stageDate","getStatus","dismissed","failBy","approvedBy","getStatusText","myStatus","stageStatus","getTag","Select","labelId","onChange","target","MenuItem","Chip","label","userStatus","ListItem","ListItemAvatar","components_UserButton_UserButton","ListItemText","ListItemSecondaryAction","variant","tabTitle","TabPane","tab","List","dense","paid","Button","CardMedia","backgroundSize","uploadFile","file","filename","callback","alert","reader","FileReader","onload","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","resizeImageToSpecificSize","urltoFile","then","getSignedRequest","stop","_x","apply","arguments","readAsArrayBuffer","url","mimeType","fetch","arrayBuffer","buf","File","cb","resizeImageFromSrcToSpecificSize","readAsDataURL","img","Image","widthCoef","heightCoef","oc","document","octx","getContext","drawImage","toDataURL","onerror","_unused","fileName","response","doUploadFile","catch","signedRequest","Content-Type","ImagePickerMulti","setImages","_useState3","_useState4","previewImage","setPreviewImage","useEffect","onValueChange","upload","accept","listType","fileList","uid","onPreview","customRequest","_ref2","undefined","window","isRNWebView","ReactNativeWebView","postMessage","PlusOutlined_default","Dialog","open","Boolean","onClose","DialogTitle","DialogContent","dividers","DialogActions","TinyEditor","contentState","blocksFromHtml","htmlToDraft","contentBlocks","entityMap","ContentState","createFromBlockArray","convertToRaw","react_draft_wysiwyg","assign","placeholder","readOnly","wrapperClassName","editorClassName","defaultContentState","onContentStateChange","onEditorChange","onEditorChangePlain","convertFromRaw","getPlainText","toolbar","inDropdown","list","link","toolbarHidden","options","fieldLength","nicknameRules","required","whitespace","pattern","nameRules","accountNameRules","TransitionComponent","Slide","direction","root","media","paddingTop","expand","transform","transition","transitions","create","duration","shortest","expandOpen","appBar","spacing","layout","labelCol","wrapperCol","editedReward","setEditedReward","wish","fullScreen","AppBar","Toolbar","IconButton","edge","aria-label","Close","autoFocus","wsActions","Form","Item","UI_ImagePickerMulti","rules","Input","fullWidth","description","values","descriptionText","&>div::after","border","&>div::before","& textarea","setImageLoading","_useState5","_useState6","_useState7","replyToUser","_useState8","setMessageText","isTop","background","TextField","multiline","messageValue","replyToMessage","editedMessage","replyTo","editingMessage","onSend","spanStyle","showUploadList","cancel","ImageCarousel","carousel","dots","autoplay","backgroundImage","backgroundPosition","backgroundRepeat","Modal","visible","footer","onCancel","alt","DialogFullscreen","save","saveText","children","FollowButton","preventDefault","ReadMore","overflow","setOverflow","setOpen","descRef","useRef","current","offsetHeight","initialHeight","contentEditor","maxHeight","ref","dangerouslySetInnerHTML","__html","bottom","opacity","left","EditPost","handleSave","handleCancel","marginTop","updateLocale","relativeTime","future","past","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","Message","replies","isStart","replyVisible","setReplyVisible","setLikes","setReplyToUser","setEditingMessage","_useState9","_useState10","showReplies","setShowReplies","_useState11","_useState12","anchorEl","setAnchorEl","_useState13","_useState14","editMessageOpen","setEditMessageOpen","handleEditPostCancel","author","Post_AddMessage","date","fromNow","startMessage","messageType","currentTarget","MoreVertOutlined","Menu","keepMounted","Post_EditPost","Badge","anchorOrigin","vertical","horizontal","overlap","badgeContent","icon","ThumbUp","UI_ImageCarousel_ImageCarousel","reply","details","itemId","UI_ReadMore","MasonryCard","components_FollowButton","alertVisible","setAlertVisible","basicProps","location","href","Tooltip","enterDelay","leaveDelay","startIcon","Share","FacebookShareButton","quote","FacebookIcon","TwitterShareButton","TwitterIcon","TelegramShareButton","TelegramIcon","PinterestShareButton","PinterestIcon","LinkedinShareButton","LinkedinIcon","VKShareButton","VKIcon","EmailShareButton","subject","EmailIcon","lib","onCopy","FileCopy","Snackbar","autoHideDuration","Alert","severity","isPostPage","pathname","postOpen","setPostOpen","postRef","scrollTo","top","offsetTop","behavior","elevation","noStartMessage","Post_Message","marginBottom","Divider","noPostControls","ThumbUpOutlined","AddCommentOutlined","UI_ShareButton","messages","Post_createForOfIteratorHelper","getNumberOfMessages","pullData","cookieConsent","setCookieConsent","checkCookieConsent","remeberMeParam","basicURL","loginVisible","setLoginVisible","lineHeight","dist","FormControlLabel","control","Checkbox","checked","DialogContentText","maxAge","AddProgress","components_EditGoalAndProgressForm_EditGoalAndProgressForm","onFinish","setStartProgressVisible","removeAttribute","FriendActionButton","invitingFriends","invitedFriends","realFriends","handleClose","handleClick","additionalButtons","button","minimized","asText","noFollow","forceAuth","components_FriendActionButton","asIcons","input","iconButton","searchResult","setSearchField","searchField","AddFriends_createForOfIteratorHelper","fullFriend","align","InputBase","search","SearchOutlined","components_FriendCard","language","languageText","breakpoints","up","languageIcon","currentLanguage","_useTranslation","useTranslation","i18n","t","languageMenu","setLanguageMenu","handleLanguageMenuClose","changeLanguage","LANGUAGES_LABEL","aria-owns","aria-haspopup","data-ga-event-category","data-ga-event-action","Language_default","settings","join","ExpandMore_default","component","data-no-link","selected","speedDial","right","login","home","blogLabel","blogIcon","lastNotifications","isConnectingWS","domRef","useMediaQuery","startProgressVisible","addFriendOpen","setAddFriendOpen","speedDialOpen","setSpeedDialOpen","openLink","isActivating","numberOfUnseenNots","Layout_createForOfIteratorHelper","not","notId","lastSeenNot","logedIn","scrollTrigger","useScrollTrigger","removeGutters","paths","checkPagePath","hide","cll","white","appear","in","LinearProgress","tabIndex","header","Link","visibility","components_LanguageSwitcher_LanguageSwitcher","Book","disableGutters","SpeedDial","ariaLabel","SpeedDialIcon","focus","onOpen","SpeedDialAction","Person","tooltipTitle","whiteSpace","tooltipOpen","Star","HomeRounded","Notifications","Layout_LoginModal","Friends_AddFriends","Progresses_AddProgress","pageTitle","likesVisible","setLikesVisible","deleteVisible","setDeleteVisible","addRewardOpen","setAddRewardOpen","pathParts","Reward_createForOfIteratorHelper","dropDownMeuItems","getDropDownMeuItems","Helmet","components_Post_Post","goBack","ProfileRewards_AddEditReward","rewardPreview","setRewardPreview","additionalButton","openInDialog","containers_Reward_Reward","deleteRewardVisible","setDeleteRewardVisible","rewardsIds","components_ProfileRewards_ProfileRewards","newRewards","ConnectionsSelect","es_select","getPopupContainer","trigger","parentNode","Option","LocateControl","leaflet","lc","Locate","strings","onActivate","drawCircle","keepCurrentZoomLevel","addTo","withLeaflet","divider","EditGoalAndProgressForm","leafletElement","ELG","GestureHandling","coordinates","setPosition","zoom","setZoom","descriptionPlain","setDescriptionPlain","_Form$useForm","useForm","form","mapDragEnd","_zoom","getCenter","lat","lng","setFieldsValue","nomap","goalId","submit","es_form","autoComplete","initialValues","repeat","days","onValuesChange","changedFields","allValues","valuePropName","getValueFromEvent","noStyle","shouldUpdate","prevValues","currentValues","getFieldValue","components_Rewards_Rewards","Map","center","ondragend","onmoveend","zIndex","gestureHandling","TileLayer","attribution","Explore_LocateControl","require","pointerEvents","touchAction","EditProgress","editProgressOpen","heading","pxToRem","secondaryHeading","verticalAlign","column","flexBasis","helper","borderLeft","textDecoration","&:hover","followersVisible","setFollowersVisible","Progress_ActivityTable","RetweetOutlined_default","getRepeatType","acc","val","getDay","light","Progress_EditProgress","Progress_createForOfIteratorHelper","Progress_Activity","Post_AddPost","reverse","modal","frameborder","allowfullscreen","flexGrow","setPosts","setTitle","all","setAll","method","query","json","components_Welcome","Grid","container","xs","md","xl","subtitle","published_at","friendsBreakPoints","default","1600","1100","600","cardBreakPoints","700","310","MasonryGrid","react_masonry_css_es5_default","breakpointCols","columnClassName","MapSettings","mapVisible","setMapVisible","setIsSearching","setNoMore","setFoundProgresses","onSearch","onGetPopular","setSearch","radius","setRadius","withMap","getRadius","metresPerPixel","cos","PI","pow","getZoom","units","distance","sm","Switch","Slider","valueLabelDisplay","whenReady","sortProgresses","views","isSearching","foundProgresses","setProgresses","noMore","noMorePopular","setNoMorePopular","_useState15","_useState16","setValue","noNoMore","skip","newFriendData","Explore_createForOfIteratorHelper","loadedProgresses","console","log","navigator","Explore_MapSettings","orientation","LocationOn","react_infinite_scroller_default","pageStart","loadMore","hasMore","loader","sectionTitle","increaseAvatarV","currentTab","setCurrentTab","classesM","deleteField","setDeleteField","profileId","Profile_createForOfIteratorHelper","sub","Title","level","editable","Edit","maxLength","autoSize","minRows","maxRows","rewardObject","components_ProgressButton","accountNotActive","setAccountActivated","es_layout","nicknameNotUnique","offset","htmlType","statePosts","sortNotifiacations","NotificationsTracker_createForOfIteratorHelper","notifications","filterSameNot","arr","myNotifications","isEqual","addEventListener","getRewardText","money","simple","itemName","p","v","stageName","price","buyer","as","getStageName","progressName","addedAccounts","ac","droppedAccounts","for","comment","startTime","sortPosts","aN","bN","DashboardPosts_createForOfIteratorHelper","newPosts","newUnseenPosts","newOldPosts","oldPosts","oldPostIndex","_newOldPosts","resultPosts","neededPosts","nots","Dashboard_DashboardEvents","backToBlog","setPost","fbAsyncInit","FB","init","appId","cookie","xfbml","js","fjs","getElementsByTagName","getElementById","insertBefore","XFBML","ReactHtmlParser","data-href","data-numposts","data-width","setLanguage","mountedRef","auth","useCallback","abrupt","t0","trackingID","ReactGA","initialize","pageview","Logout","react_router","routes","exact","Explore","DashboardPosts","Progress","Reward","Profile","Blog","BlogArticle","ActivateAccount","process","containers_ConnectWebsocket_ConnectWebsocket","Dashboard_NotificationsTracker","src_RNBridge","reducer","createReducer","SET_DATA","action","REMOVE_DATA","reducer_createForOfIteratorHelper","SET_FRIEND_SEARCH_RESULT","SET_FRIENDS_DATA","perk","SET_AVATAR_V","SET_LANGUAGE","INCREASE_AVATAR_V","SET_IS_AUTHED","SET_PAGE_TITLE","SET_ACCOUNT_ACTIVATED","SET_CONNECTING_WS","languages","en","translation","ru","use","LanguageDetector","initReactI18next","fallbackLng","keySeparator","interpolation","escapeValue","nonExplicitSupportedLngs","__webpack_require__","__webpack_exports__","src_store","outerTheme","MuiAppBar","colorSecondary","baseURL","createStore","composeWithDevTools","applyMiddleware","thunk","app","es","src_App","ReactDOM","render"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,cAAA,+BAAAC,OAAA,wBAAAC,aAAA,8BAAAC,cAAA,+BAAAC,WAAA,4BAAAC,aAAA,oDCAlBP,EAAAC,QAAA,CAAkBO,UAAA,8BAAAC,cAAA,kCAAAC,WAAA,mDCDlBV,EAAAC,QAAA,soDCCAD,EAAAC,QAAA,CAAkBU,KAAA,kDCAlBX,EAAAC,QAAA,CAAkBW,OAAA,uBAAAC,OAAA,uBAAAC,OAAA,uBAAAC,WAAA,2BAAAC,aAAA,6BAAAC,UAAA,0BAAAC,aAAA,6BAAAC,KAAA,qBAAAC,mBAAA,mCAAAC,oBAAA,oCAAAC,UAAA,gDCAlBtB,EAAAC,QAAA,CAAkBsB,OAAA,ilBCOF,IAAIC,+SCNLC,EAAA,SAACC,EAAKC,GAEjB,GADID,EAAIE,KAAKC,QAAQF,EAAMG,QAAQC,KAAK,YACf,IAArBL,EAAIE,KAAKI,QACT,GAAIN,EAAIE,KAAKK,UACT,OAAQP,EAAIE,KAAKK,WACb,IAAK,aACDC,IAAQC,QAAQ,uCAChB,MACJ,IAAK,WACDD,IAAQE,MACJ,sDAEJ,MACJ,IAAK,iBACDF,IAAQC,QAAQ,iCAChB,MACJ,QACID,IAAQC,QACJ,mDAKZD,IAAQE,MAAM,yBAGlB,GAAIV,EAAIE,KAAKS,YACT,OAAQX,EAAIE,KAAKS,aACb,IAAK,eACDH,IAAQF,QAAQ,sCAChB,MACJ,IAAK,UACDE,IAAQF,QAAQ,YAChB,MACJ,IAAK,aACDE,IAAQF,QAAQ,iBAChB,MACJ,IAAK,kBACDE,IAAQF,QAAQ,yBAChB,MACJ,QACIE,IAAQF,QAAQ,YAK5BN,EAAIE,KAAKU,QAA8B,eAApBZ,EAAIE,KAAKU,QAC5BX,EAAMG,QAAQC,KAAK,sBC3CrBQ,EAAU,IAAIf,IAEPgB,EAAU,SAAAC,GAAK,OAAI,SAACC,GAE7B,GADAC,eAAeC,QAAQ,gBAAiB,MACnCH,EAAO,CACRA,EAAQF,EAAQM,IAAI,cACpB,IAAMC,EAAaP,EAAQM,IAAI,cAC3BC,IACAP,EAAQQ,OAAO,aAAc,CACzBC,KAAM,MAES,UAAfF,GACAP,EAAQQ,OAAO,aAAc,CACzBC,KAAM,OAMtB,IAAMC,EAASC,YAAWT,GAC1BU,IAAMC,SAASC,QAAQC,KAAK,gBAAkB,mBAC9CH,IAAMC,SAASC,QAAQE,IAAI,gBAAkB,mBAC7CJ,IAAMC,SAASC,QAAQG,OAAO,gBAAkB,mBAChDL,IAAMC,SAASC,QAAQI,OAAOC,OAAS,mBACnCjB,GAASQ,GACTE,IAAMC,SAASC,QAAQI,OAAO,gBAAkBhB,EAChDU,IAAMC,SAASC,QAAQC,KAAK,gBAAkBb,EAC9CU,IAAMC,SAASC,QAAQR,IAAI,gBAAkBJ,EAC7CU,IAAMC,SAASC,QAAQG,OAAO,gBAAkBf,EAChDU,IAAMC,SAASC,QAAQE,IAAI,gBAAkBd,EAC7CC,EAASiB,EAAYV,EAAOW,OAE5BlB,EAASiB,EAAY,SAIvBA,EAAc,SAAAE,GAAE,MAAK,CACvBC,KAAM,gBACND,OAQShC,EAAS,kBAAM,SAAAa,GACxBH,EAAQQ,OAAO,aAAc,CACzBC,KAAM,MAEVT,EAAQQ,OAAO,aAAc,CACzBC,KAAM,aAEHG,IAAMC,SAASC,QAAQI,OAAO,uBAC9BN,IAAMC,SAASC,QAAQC,KAAK,uBAC5BH,IAAMC,SAASC,QAAQR,IAAI,uBAC3BM,IAAMC,SAASC,QAAQG,OAAO,uBAC9BL,IAAMC,SAASC,QAAQE,IAAI,gBAClCb,EAASiB,GAAY,MAGZI,EAAU,SAAAnC,GAAI,MAAK,CAC5BkC,KAAM,WACNlC,SA2BSoC,EAAe,SAAAC,GAAK,MAAK,CAClCH,KAAM,iBACNG,UAqDSC,EAAwB,SAAAtC,GAAI,MAAK,CAC1CkC,KAAM,2BACNlC,6hCCvJG,6kCCFQ,IAAAuC,EAAA,SAAAxC,GACX,IAYQyC,EAAUzC,EAAVyC,MACFC,EAbwB,CAC1BC,KAAM,GACNC,QAAS,GACTC,SAAU,GACVC,OAAQ,GACRnB,KAAM,GACNoB,aAAc,GACdC,WAAY,GACZC,SAAU,GACVC,gBAAiB,GACjBC,WAAY,IAIVC,EAdwB,CAC1BT,KAAM,GACNC,QAAS,GACTC,SAAU,GACVC,OAAQ,GACRnB,KAAM,GACNoB,aAAc,GACdC,WAAY,GACZC,SAAU,GACVC,gBAAiB,GACjBC,WAAY,IAKhB,GAAIV,EAAMY,SACN,GAAKZ,EAAME,KAEJ,CAEH,GADAS,EAAgBT,KAAKvC,KAAKqC,EAAME,KAAKV,KACjCQ,EAAMa,eACN,GAAIb,EAAMG,QAAQX,MAAQQ,EAAMa,eAC5BZ,EAAmBE,QAAQxC,KAAKqC,EAAMa,oBACnC,CACHF,EAAgBR,QAAQxC,KAAKqC,EAAMG,QAAQX,KAC3C,QAAAsB,EAAA,EAAAC,EAAA,GAAAC,OAAAC,OAAAC,EAAA,EAAAD,CACOjB,EAAMG,QAAQgB,YADrBF,OAAAC,EAAA,EAAAD,CAEOjB,EAAMG,QAAQiB,kBAFrBH,OAAAC,EAAA,EAAAD,CAGOjB,EAAMG,QAAQkB,mBAHrBP,EAAAC,EAAAO,OAAAR,IAIG,CAJE,IAAIV,EAAQW,EAAAD,GAKRd,EAAMM,aAAaF,IACpBH,EAAmBK,aAAa3C,KAAKyC,GAEzCO,EAAgBL,aAAa3C,KAAKyC,GAVnC,IAAAmB,EAAAC,EAAAC,EAaczB,EAAMG,QAAQuB,aAb5B,IAaH,IAAAF,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAA4C,KAAnC3C,EAAmCqC,EAAAO,MACnC9B,EAAMQ,SAAStB,IAChBe,EAAmBO,SAAS7C,KAAKuB,GAErCyB,EAAgBH,SAAS7C,KAAKuB,IAjB/B,MAAA6C,IAAAP,EAAAQ,EAAAD,IAAA,QAAAP,EAAAS,IAAA,IAAAC,EAAAC,EAAAV,EAmBczB,EAAMG,QAAQiC,SAnB5B,IAmBH,IAAAD,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAwC,KAA/B3C,EAA+BgD,EAAAJ,MAC/B9B,EAAMQ,SAAStB,IAChBe,EAAmBO,SAAS7C,KAAKuB,GAErCyB,EAAgBH,SAAS7C,KAAKuB,IAvB/B,MAAA6C,IAAAI,EAAAH,EAAAD,IAAA,QAAAI,EAAAF,IAAA,IAAAI,EAAAC,EAAAb,EAyBqBzB,EAAMG,QAAQoC,cAzBnC,IAyBH,IAAAD,EAAAX,MAAAU,EAAAC,EAAAV,KAAAC,MAAoD,KAA3CW,EAA2CH,EAAAP,MAC3C9B,EAAMS,gBAAgB+B,IACvBvC,EAAmBQ,gBAAgB9C,KAAK6E,GAE5C7B,EAAgBF,gBAAgB9C,KAAK6E,IA7BtC,MAAAT,IAAAO,EAAAN,EAAAD,IAAA,QAAAO,EAAAL,IAAA,IAAAQ,EAAAC,EAAAjB,EA+BgBzB,EAAMG,QAAQwC,SA/B9B,IA+BH,IAAAD,EAAAf,MAAAc,EAAAC,EAAAd,KAAAC,MAA0C,KAAjCe,EAAiCH,EAAAX,MACjC9B,EAAMO,WAAWqC,EAAOA,SACzB3C,EAAmBM,WAAW5C,KAAKiF,EAAOA,QAE9CjC,EAAgBJ,WAAW5C,KAAKiF,EAAOA,SAnCxC,MAAAb,IAAAW,EAAAV,EAAAD,IAAA,QAAAW,EAAAT,IAAA,IAAAY,EAAAC,EAAArB,EAqCgBzB,EAAMG,QAAQ4C,SArC9B,IAqCH,IAAAD,EAAAnB,MAAAkB,EAAAC,EAAAlB,KAAAC,MAA0C,KAAjCxB,EAAiCwC,EAAAf,MACjC9B,EAAMU,WAAWL,IAClBJ,EAAmBS,WAAW/C,KAAK0C,GAEvCM,EAAgBD,WAAW/C,KAAK0C,IAzCjC,MAAA0B,IAAAe,EAAAd,EAAAD,IAAA,QAAAe,EAAAb,IA2CH,QAAAe,EAAA,EAAAC,EAAA,GAAAjC,OAAAC,OAAAC,EAAA,EAAAD,CACOjB,EAAMG,QAAQ+C,mBADrBjC,OAAAC,EAAA,EAAAD,CAEOjB,EAAMG,QAAQgD,iBAFrBH,EAAAC,EAAA3B,OAAA0B,IAGG,CAHE,IAAII,EAAIH,EAAAD,GAIJhD,EAAMO,WAAW6C,IAClBnD,EAAmBM,WAAW5C,KAAKyF,GAEvCzC,EAAgBJ,WAAW5C,KAAKyF,IAI5C,GAAIpD,EAAMqD,eACN,GAAIrD,EAAMsD,QAAQ9D,MAAQQ,EAAMqD,eAC5BpD,EAAmBE,QAAQxC,KAAKqC,EAAMqD,oBACnC,CACH1C,EAAgBR,QAAQxC,KAAKqC,EAAMsD,QAAQ9D,KAC3C,QAAA+D,EAAA,EAAAC,EAAA,GAAAxC,OAAAC,OAAAC,EAAA,EAAAD,CACOjB,EAAMsD,QAAQnC,YADrBF,OAAAC,EAAA,EAAAD,CAEOjB,EAAMsD,QAAQlC,mBAFrBmC,EAAAC,EAAAlC,OAAAiC,IAGG,CAHE,IAAInD,EAAQoD,EAAAD,GAIRvD,EAAMM,aAAaF,IACpBH,EAAmBK,aAAa3C,KAAKyC,GAEzCO,EAAgBL,aAAa3C,KAAKyC,GATnC,IAAAqD,EAAAC,EAAAjC,EAYqBzB,EAAMsD,QAAQf,cAZnC,IAYH,IAAAmB,EAAA/B,MAAA8B,EAAAC,EAAA9B,KAAAC,MAAoD,KAA3CW,EAA2CiB,EAAA3B,MAChD,GAAK9B,EAAMS,gBAAgB+B,GAEpB,CACH,IAAMmB,EACF3D,EAAMS,gBAAgB+B,GAAanC,OAClCL,EAAMU,WAAWiD,IAClB1D,EAAmBS,WAAW/C,KAAKgG,GAEvChD,EAAgBD,WAAW/C,KAAKgG,QAPhC1D,EAAmBQ,gBAAgB9C,KAAK6E,GAS5C7B,EAAgBF,gBAAgB9C,KAAK6E,IAvBtC,MAAAT,IAAA2B,EAAA1B,EAAAD,IAAA,QAAA2B,EAAAzB,IAAA,IAAA2B,EAAAC,EAAApC,EA0BgBzB,EAAMsD,QAAQX,SA1B9B,IA0BH,IAAAkB,EAAAlC,MAAAiC,EAAAC,EAAAjC,KAAAC,MAA0C,KAAjCe,EAAiCgB,EAAA9B,MACjC9B,EAAMO,WAAWqC,EAAOA,SACzB3C,EAAmBM,WAAW5C,KAAKiF,EAAOA,QAE9CjC,EAAgBJ,WAAW5C,KAAKiF,EAAOA,SA9BxC,MAAAb,IAAA8B,EAAA7B,EAAAD,IAAA,QAAA8B,EAAA5B,IAAA,IAAA6B,EAAAC,EAAAtC,EAgCgBzB,EAAMsD,QAAQP,SAhC9B,IAgCH,IAAAgB,EAAApC,MAAAmC,EAAAC,EAAAnC,KAAAC,MAA0C,KAAjCxB,EAAiCyD,EAAAhC,MACjC9B,EAAMU,WAAWL,IAClBJ,EAAmBS,WAAW/C,KAAK0C,GAEvCM,EAAgBD,WAAW/C,KAAK0C,IApCjC,MAAA0B,IAAAgC,EAAA/B,EAAAD,IAAA,QAAAgC,EAAA9B,IAsCH,QAAA+B,EAAA,EAAAC,EAAA,GAAAjD,OAAAC,OAAAC,EAAA,EAAAD,CACOjB,EAAMsD,QAAQJ,mBADrBjC,OAAAC,EAAA,EAAAD,CAEOjB,EAAMsD,QAAQH,iBAFrBa,EAAAC,EAAA3C,OAAA0C,IAGG,CAHE,IAAIZ,EAAIa,EAAAD,GAIJhE,EAAMO,WAAW6C,IAClBnD,EAAmBM,WAAW5C,KAAKyF,GAEvCzC,EAAgBJ,WAAW5C,KAAKyF,IAK5C,GAAIpD,EAAMkE,gBACN,GAAIlE,EAAMI,SAASZ,MAAQQ,EAAMkE,gBAC7BjE,EAAmBG,SAASzC,KAAKqC,EAAMkE,qBACpC,CACHvD,EAAgBP,SAASzC,KAAKqC,EAAMI,SAASZ,KAC7C,IAAI2E,EAAe,GACfnE,EAAMI,SAASgE,OACfD,EAAaxG,KAAKqC,EAAMI,SAASgE,OACjCpE,EAAMI,SAASiE,QACfF,EAAeA,EAAanD,OAAOhB,EAAMI,SAASiE,QAClDrE,EAAMI,SAASkE,QACfH,EAAeA,EAAanD,OAAOhB,EAAMI,SAASkE,QAClDtE,EAAMI,SAAS8C,oBACfiB,EAAeA,EAAanD,OACxBhB,EAAMI,SAAS8C,oBAXpB,IAAAqB,EAAAC,EAAA/C,EAcgB0C,GAdhB,IAcH,IAAAK,EAAA7C,MAAA4C,EAAAC,EAAA5C,KAAAC,MAAiC,KAAxBe,EAAwB2B,EAAAzC,MACxB9B,EAAMO,WAAWqC,IAClB3C,EAAmBM,WAAW5C,KAAKiF,GAEvCjC,EAAgBJ,WAAW5C,KAAKiF,IAlBjC,MAAAb,IAAAyC,EAAAxC,EAAAD,IAAA,QAAAyC,EAAAvC,IAAA,IAAAwC,EAAAC,EAAAjD,EAoBczB,EAAMI,SAASuE,OApB7B,IAoBH,IAAAD,EAAA/C,MAAA8C,EAAAC,EAAA9C,KAAAC,MAAuC,KAA9B3C,EAA8BuF,EAAA3C,MAC9B9B,EAAMQ,SAAStB,IAChBe,EAAmBO,SAAS7C,KAAKuB,GAErCyB,EAAgBH,SAAS7C,KAAKuB,IAxB/B,MAAA6C,IAAA2C,EAAA1C,EAAAD,IAAA,QAAA2C,EAAAzC,IA0BH,IA1BG2C,EA0BC7B,EAAU/C,EAAMI,SAAS2C,QA1B1B8B,EAAApD,EA2BezB,EAAMI,SAAS0E,QA3B9B,IA2BH,IAAAD,EAAAlD,MAAAiD,EAAAC,EAAAjD,KAAAC,MAAyC,KAAhCkD,EAAgCH,EAAA9C,MACrCiB,EAAO,GAAA/B,OAAAC,OAAAC,EAAA,EAAAD,CAAO8B,GAAP,CAAgBgC,EAAMhC,WA5B9B,MAAAhB,IAAA8C,EAAA7C,EAAAD,IAAA,QAAA8C,EAAA5C,IAAA,IAAA+C,GAAAC,GAAAxD,EA+BgBsB,GA/BhB,IA+BH,IAAAkC,GAAAtD,MAAAqD,GAAAC,GAAArD,KAAAC,MAA4B,KAAnBxB,GAAmB2E,GAAAlD,MACnB9B,EAAMU,WAAWL,KAClBJ,EAAmBS,WAAW/C,KAAK0C,IAEvCM,EAAgBD,WAAW/C,KAAK0C,KAnCjC,MAAA0B,IAAAkD,GAAAjD,EAAAD,IAAA,QAAAkD,GAAAhD,KAuCX,GAAIjC,EAAMkF,aAAc,KAAAC,GAAAC,GAAA3D,EACHzB,EAAMkF,cADH,IACpB,IAAAE,GAAAzD,MAAAwD,GAAAC,GAAAxD,KAAAC,MAAqC,KAA5B3C,GAA4BiG,GAAArD,MAC3BuD,GAASrF,EAAMd,KAAKA,IAC1B,GAAKmG,GAEE,CACH1E,EAAgBzB,KAAKvB,KAAKuB,IADvB,IAAAoG,GAAAC,GAAA9D,EAEgB4D,GAAOhB,OAFvB,IAEH,IAAAkB,GAAA5D,MAAA2D,GAAAC,GAAA3D,KAAAC,MAAiC,KAAxBe,GAAwB0C,GAAAxD,MACxB9B,EAAMO,WAAWqC,KAClB3C,EAAmBM,WAAW5C,KAAKiF,IAEvCjC,EAAgBJ,WAAW5C,KAAKiF,KANjC,MAAAb,IAAAwD,GAAAvD,EAAAD,IAAA,QAAAwD,GAAAtD,IAQC/C,GAAKsG,SAC0B,aAA3BtG,GAAKsG,OAAOC,YACZ9E,EAAgBL,aAAa3C,KACzBuB,GAAKsG,OAAOE,UAEW,WAA3BxG,GAAKsG,OAAOC,YACZ9E,EAAgBD,WAAW/C,KACvBuB,GAAKsG,OAAOE,gBAhBxBzF,EAAmBf,KAAKvB,KAAKuB,KAJjB,MAAA6C,IAAAqD,GAAApD,EAAAD,IAAA,QAAAqD,GAAAnD,KA0BxB,GAAIjC,EAAM2F,cACN,GAAI3F,EAAMK,OAAOb,MAAQQ,EAAM2F,cAC3B1F,EAAmBI,OAAO1C,KAAKqC,EAAM2F,mBAClC,CACHhF,EAAgBN,OAAO1C,KAAKqC,EAAMK,OAAOb,KADtC,IAAAoG,GAAAC,GAAApE,EAEgBzB,EAAMK,OAAOiE,OAF7B,IAEH,IAAAuB,GAAAlE,MAAAiE,GAAAC,GAAAjE,KAAAC,MAAuC,KAA9Be,GAA8BgD,GAAA9D,MAC9B9B,EAAMO,WAAWqC,KAClB3C,EAAmBM,WAAW5C,KAAKiF,IAEvCjC,EAAgBJ,WAAW5C,KAAKiF,KANjC,MAAAb,IAAA8D,GAAA7D,EAAAD,IAAA,QAAA8D,GAAA5D,IASEjC,EAAMd,KAAKc,EAAMK,OAAOnB,OACzBe,EAAmBf,KAAKvB,KAAKqC,EAAMK,OAAOnB,MAE9CyB,EAAgBzB,KAAKvB,KAAKqC,EAAMK,OAAOnB,MAG/C,GAAIc,EAAM8F,oBAAsB9F,EAAM8F,mBAAmBxE,OAAS,EAAlE,KAAAyE,GAAAC,GAAAvE,EACuBzB,EAAM8F,oBAD7B,IACI,IAAAE,GAAArE,MAAAoE,GAAAC,GAAApE,KAAAC,MAA6C,KAApCe,GAAoCmD,GAAAjE,MACpC9B,EAAMO,WAAWqC,GAAOpD,MACzBS,EAAmBM,WAAW5C,KAAKiF,GAAOpD,KAE9CmB,EAAgBJ,WAAW5C,KAAKiF,GAAOpD,MAL/C,MAAAuC,IAAAiE,GAAAhE,EAAAD,IAAA,QAAAiE,GAAA/D,WAvMAhC,EAAmBC,KAAKvC,KAAKqC,EAAMY,UAiN3C,IAAMqF,GAAS,SAAAC,GACX,IAAK,IAAIC,KAAQD,EACTA,EAAIC,KACJD,EAAIC,GAAQC,MAAMC,KAAK,IAAIC,IAAIJ,EAAIC,OAK/CF,GAAOtF,GACP,IAEI4F,GAFEC,GA3OwB,CAC1BtG,KAAM,GACNC,QAAS,GACTC,SAAU,GACVC,OAAQ,GACRnB,KAAM,GACNoB,aAAc,GACdC,WAAY,GACZC,SAAU,GACVC,gBAAiB,GACjBC,WAAY,IAkOhB8F,GAAmBlD,QAAU,GAE7B,IAAMmD,GAAS,SAACC,EAAKC,GAEb3G,EAAM2G,GAAMnH,MACXmB,EAAgB+F,GAAKE,SAAS5G,EAAM2G,GAAMnH,OAE3CgH,GAAmBG,GAAMhJ,KAAKqC,EAAM2G,GAAMnH,KAC1C+G,IAAiB,IAGnBM,GAAS,SAAAH,GACX,IAAK,IAAIP,KAAQnG,EAAM0G,GACd/F,EAAgB+F,GAAKE,SAAST,KAC/BK,GAAmBE,GAAK/I,KAAKwI,GAC7BI,IAAiB,IAqB7B,OAjBAE,GAAO,UAAW,WAClBA,GAAO,UAAW,WAClBA,GAAO,WAAY,YACnBA,GAAO,SAAU,UACjBI,GAAO,QACPA,GAAO,cACPA,GAAO,cACPA,GAAO,gBACPA,GAAO,mBACPA,GAAO,YAEHN,IACAhJ,EAAMuJ,WAAWN,IAGrBP,GAAOhG,GAEAA,GC/QI8G,EAAA,SAACC,EAAUC,EAAOjH,EAAOkH,GACpC,IAAMV,EAAqB,CACvBtG,KAAM,GACNC,QAAS,GACTC,SAAU,GACVlB,KAAM,GACNmB,OAAQ,GACRC,aAAc,GACdC,WAAY,GACZC,SAAU,GACVC,gBAAiB,GACjBC,WAAY,IAGVyG,EAAY,SAAAT,GACd,IAAK,IAAIP,KAAQa,EAASN,GACa,qBAAxBM,EAASN,GAAKP,KACjBnG,EAAM0G,GAAKP,GACPnG,EAAM0G,GAAKP,KAAUa,EAASN,GAAKP,IACnCiB,GAAgBV,EAAK,CAACP,GAAOc,GAE9BT,EAAmBE,GAAK/I,KAAKwI,KAK1CkB,EAAQ,SAAAX,GACV,IAAK,IAAIP,KAAQa,EAASN,GACa,qBAAxBM,EAASN,GAAKP,KACjBnG,EAAM0G,GAAKlH,MAAQ2G,GACfnG,EAAM0G,GAAKY,MAAQN,EAASN,GAAKP,IACjCiB,GAAgBV,EAAK,CAACP,GAAOc,GAE5BjH,EAAM0G,GAAKlH,KAAKgH,EAAmBE,GAAK/I,KAAKwI,IAC/CK,EAAmBE,GAAK/I,KAAKwI,KAKhD,IAAK,IAAIA,KAAQa,EAAS9G,KACa,qBAAxB8G,EAAS9G,KAAKiG,KACjBnG,EAAME,KAAKV,MAAQ2G,EACfnG,EAAME,KAAKoH,MAAQN,EAAS9G,KAAKiG,IACjCiB,GAAgB,OAAQ,CAACjB,GAAOc,GAEjCT,EAAmBtG,KAAKvC,KAAKwI,IAI5C,IAAK,IAAIA,KAAQa,EAAS7G,QACgB,qBAA3B6G,EAAS7G,QAAQgG,KACpBnG,EAAMG,QAAQX,MAAQ2G,GAClBnG,EAAMG,QAAQmH,MAAQN,EAAS7G,QAAQgG,IACvCiB,GAAgB,UAAW,CAACjB,GAAOc,GAGvCjH,EAAMsD,QAAQ9D,MAAQ2G,IAClBnG,EAAMsD,QAAQgE,MAAQN,EAAS7G,QAAQgG,IACvCiB,GAAgB,UAAW,CAACjB,GAAOc,GAElCjH,EAAMG,QAAQX,KAAKgH,EAAmBrG,QAAQxC,KAAKwI,KAG5DnG,EAAMG,QAAQX,MAAQ2G,GAAQnG,EAAMsD,QAAQ9D,MAAQ2G,GACpDK,EAAmBrG,QAAQxC,KAAKwI,GAaxC,GAVAkB,EAAM,YACNA,EAAM,UAENF,EAAU,QACVA,EAAU,cACVA,EAAU,gBACVA,EAAU,cACVA,EAAU,YACVA,EAAU,mBAGNX,EAAmBtG,KAAKoB,OAAS,GACjCkF,EAAmBrG,QAAQmB,OAAS,GACpCkF,EAAmBpG,SAASkB,OAAS,GACrCkF,EAAmBtH,KAAKoC,OAAS,GACjCkF,EAAmBjG,WAAWe,OAAS,GACvCkF,EAAmBlG,aAAagB,OAAS,GACzCkF,EAAmBhG,SAASc,OAAS,GACrCkF,EAAmB/F,gBAAgBa,OAAS,EAE5C,OAAOkF,GCzFAe,EAAA,SAAAhK,GAAS,IACZyC,EAAUzC,EAAVyC,MACFwH,EAAY,CACdtH,KAAM,GACNC,QAAS,GACTC,SAAU,GACVlB,KAAM,GACNmB,OAAQ,GACRI,gBAAiB,GACjBF,WAAY,GACZD,aAAc,GACdE,SAAU,GACVE,WAAY,IAGZV,EAAME,MAAQF,EAAME,KAAKV,MACzBgI,EAAUtH,KAAKF,EAAME,KAAKV,KAAOQ,EAAME,KAAKoH,KAG5CtH,EAAMG,QAAQX,MACdgI,EAAUrH,QAAQH,EAAMG,QAAQX,KAAOQ,EAAMG,QAAQmH,KAErDtH,EAAMsD,QAAQ9D,MACdgI,EAAUrH,QAAQH,EAAMsD,QAAQ9D,KAAOQ,EAAMsD,QAAQgE,KAErDtH,EAAMI,SAASZ,MACfgI,EAAUpH,SAASJ,EAAMI,SAASZ,KAAOQ,EAAMI,SAASkH,KAExDtH,EAAMK,OAAOb,MACbgI,EAAUnH,OAAOL,EAAMK,OAAOb,KAAOQ,EAAMK,OAAOiH,KAGtD,IAAMG,EAAU,SAAAf,GACZ,IAAK,IAAItD,KAAQpD,EAAM0G,GACa,qBAArB1G,EAAM0G,GAAKtD,IACdpD,EAAM0G,GAAKtD,GAAM5D,MACjBgI,EAAUd,GAAK1G,EAAM0G,GAAKtD,GAAM5D,KAAOQ,EAAM0G,GAAKtD,GAAMkE,MAaxE,OAPAG,EAAQ,QACRA,EAAQ,cACRA,EAAQ,YACRA,EAAQ,gBACRA,EAAQ,cACRA,EAAQ,mBAEDD,uhCCrCJ,IAAIN,GAAY,EACjB/I,EAAU,IAAIf,IACdsK,EAAe,CACjB,OACA,UACA,WACA,SACA,OACA,WACA,eACA,aACA,kBACA,cAEEC,8MACFV,MAAQ,CACJ/G,KAAM,GACNC,QAAS,GACTC,SAAU,GACVC,OAAQ,GACRnB,KAAM,GACNqB,WAAY,GACZD,aAAc,GACdE,SAAU,GACVC,gBAAiB,GACjBC,WAAY,MAEhBkH,MAAQ,WACJ,IAMIC,EACJX,EAAY,IAAIY,UAHN,sBAKV,IAAMC,EAAY,SAAAf,GACd,IAAIR,EACAQ,IACAR,EAAqBO,EACjBC,EACAgB,EAAKf,MACLe,EAAKzK,MAAMyC,MACXkH,IAGRe,aAAaJ,GAEbA,EAAcK,WAAW,WACrBhB,EAAUiB,SACX,MACCjB,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,YACbhC,yBAMhBU,EAAUuB,OAAS,SAAAC,GACf,IAAMC,EAAqBpB,EAAsBS,EAAKzK,OACtD2J,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,OACbtI,KAAMnB,IAAMC,SAASC,QAAQI,OAAO,gBACpCsJ,wBAIRX,EAAKY,2BAA2BZ,EAAKzK,OACrCwK,KAGJb,EAAU2B,UAAY,SAAAH,GAClB,IAAMI,EAAOR,KAAKS,MAAML,EAAMlL,MAE9B,OAAQsL,EAAKN,aACT,IAAK,YACDT,EAAUe,EAAK9B,UACfgB,EAAKzK,MAAMoC,QAAQ,CAAEqJ,YAAaF,EAAKE,cACvC,MACJ,IAAK,SACDhB,EAAKzK,MAAME,SACXuK,EAAKzK,MAAMG,QAAQC,KAAK,WACxB,MAEJ,IAAK,iBACDG,IAAQF,QAAQkL,EAAKG,aACrB,MACJ,IAAK,eACDnL,IAAQE,MAAM8K,EAAKG,aACnB,MACJ,IAAK,cACDjB,EAAKzK,MAAM2L,eAAeJ,EAAKK,aAC/B,MACJ,IAAK,uBACDnB,EAAKzK,MAAMG,QAAQC,KAAK,UACxB,MACJ,IAAK,cACDqK,EAAKzK,MAAM6L,aACPN,EAAKtB,UACLsB,EAAKpJ,KACLoJ,EAAKO,gBAET,MACJ,IAAK,iBACDrB,EAAKzK,MAAM+L,eACPR,EAAKS,KACLT,EAAKrJ,GACLqJ,EAAKU,OACLxB,EAAKf,OAET,MACJ,IAAK,qBACDe,EAAKzK,MAAMuC,sBAAsBgJ,EAAKtL,MACtC,MACJ,IAAK,OACDwK,EAAKzK,MAAMG,QAAQC,KAAKmL,EAAKG,aAC7B,MAuBJ,IAAK,cACDlK,IAAMC,SAASC,QAAQI,OAAO,iBAC1BlB,EAAQsL,IACJ,aACA1K,IAAMC,SAASC,QAAQI,OAAO,gBAC9B,CACIT,KAAM,IACN8K,QAAS,IAAIC,MACT,IAAIA,MAAOC,UACP,UAIpB,MACJ,IAAK,QACD9L,IAAQE,MAAM8K,EAAKe,QAS/B3C,EAAU4C,QAAU,SAAApB,GAChBT,aAAaJ,OAWrBkC,cAAgB,OAEhB1C,MAAQ,WACCH,GAAsC,IAAzBA,EAAUkB,aACxB4B,cAAchC,EAAK+B,eACnB/B,EAAK+B,cAAgBE,YAAYjC,EAAKX,MAAO,KAC7CW,EAAKJ,YAObsC,2BAA6B,OAC7BC,mBAAqB,WAAM,IAAA5I,EAAAC,EAAA4I,EACL1C,GADK,IACvB,IAAAlG,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAgC,KAAvBwI,EAAuB9I,EAAAO,MACxBkG,EAAKf,MAAMoD,GAAO/I,OAAS,GACvB4F,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,kBACb8B,IAAKtC,EAAKf,MAAMoD,GAChB3K,KAAM2K,MARH,MAAAtI,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,QA4C3B2G,2BAA6B,SAAA2B,GACzB,IADsCrI,EAChCsI,EAAwBzK,EAAyBwK,GADjBpI,EAAAiI,EAEpB1C,GAFoB,QAAA+C,EAAA,eAE7BJ,EAF6BnI,EAAAJ,MAG9B0I,EAAsBH,GAAO/I,OAAS,GAClC4F,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,kBACb8B,IAAKE,EAAsBH,GAAOK,OAC9B,SAAAtH,GAAI,OAAK4E,EAAKf,MAAMoD,GAAOzD,SAASxD,KAExC1D,KAAM2K,MAT1B,IAAAlI,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAgC4I,IAFM,MAAA1I,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,IAiBtC+F,EAAK2C,SAAS,kBAAMH,IACpBR,cAAchC,EAAKkC,4BACnBlC,EAAKkC,2BAA6BD,YAC9BjC,EAAKmC,mBACL,4FAhDJH,cAAcY,KAAKb,eACf7C,GACAA,EAAUiB,QAEdyC,KAAKrN,MAAMsN,mBAAkB,+CAG7BD,KAAKb,cAAgBE,YAAYW,KAAKvD,MAAO,IAC7CuD,KAAKrN,MAAMsN,mBAAkB,8CAEdC,EAAWC,GACtBD,EAAU9K,MAAMa,iBAAmB+J,KAAKrN,MAAMyC,MAAMa,gBAChDqG,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,iBACb/I,GAAImL,KAAKrN,MAAMyC,MAAMa,mDA6DrC,OAAO,wDAzBqB0J,EAAWtD,GACvC,IAD8C5E,EACxCmI,EAAwBzK,EAAyBwK,GADTjI,EAAA8H,EAE5B1C,GAF4B,QAAAsD,EAAA,eAErCX,EAFqChI,EAAAP,MAGtC0I,EAAsBH,GAAO/I,OAAS,GAClC4F,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,kBACb8B,IAAKE,EAAsBH,GAAOK,OAC9B,SAAAtH,GAAI,OAAK6D,EAAMoD,GAAOzD,SAASxD,KAEnC1D,KAAM2K,MAT1B,IAAA/H,EAAAX,MAAAU,EAAAC,EAAAV,KAAAC,MAAgCmJ,IAFc,MAAAjJ,GAAAO,EAAAN,EAAAD,GAAA,QAAAO,EAAAL,IAsB9C,OAAOuI,SA/QgBS,aA8ShBC,eACXC,YA1BoB,SAAAlE,GACpB,MAAO,CACHjH,MAAOiH,IAIY,SAAC3I,GACxB,MAAO,CACHqB,QAAS,SAACnC,EAAM4N,GAAP,OACL9M,EAAS+M,EAAgB7N,KAC7BsJ,WAAY,SAAAtJ,GAAI,OAAIc,EL5OF,SAAAd,GAAI,MAAK,CAC/BkC,KAAM,cACNlC,QK0OiC6N,CAAmB7N,KAChD4L,aAAc,SAAC5L,EAAMkC,EAAM2J,GAAb,OACV/K,EJzTgB,SAACd,EAAMkC,EAAM2J,GAAb,OAAgC,SACxD/K,EACAgN,GAEA,GAAI9N,EAAK8D,OAAS,EAAG,CACjB,IAAM2F,EAAQqE,IACd,OAAQ5L,GACJ,IAAK,OACD,IAAMQ,EAAO1C,EAAK,GACdqD,EAAiBX,EAAKW,eACrBA,IAAgBA,EAAiBX,EAAKqL,WAG3CjN,EAASqB,EAAQ,CAAEO,OAAMW,oBACzB,MACJ,IAAK,UACD,IAAMV,EAAU3C,EAAKgO,KACjB,SAAApI,GAAI,OAAIA,EAAK5D,MAAQyH,EAAMpG,iBAE3BV,GACA7B,EAASqB,EAAQ,CAAEQ,UAASkJ,oBAGhC,IAAM/F,EAAU9F,EAAKgO,KACjB,SAAApI,GAAI,OAAIA,EAAK5D,MAAQyH,EAAM5D,iBAE3BC,GACAhF,EAASqB,EAAQ,CAAE2D,UAAS+F,oBAGhC,MACJ,IAAK,WACD,IAAMjJ,EAAW5C,EAAKgO,KAClB,SAAApI,GAAI,OAAIA,EAAK5D,MAAQyH,EAAM/C,kBAE3B9D,GACA9B,EAASqB,EAAQ,CAAES,cAEvB,MAEJ,IAAK,OACD,IADJmB,EACQrC,EAAO,GADfsC,EAAAiK,EAEqBjO,GAFrB,IAEI,IAAAgE,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAuB,KAAduB,EAAc7B,EAAAO,MACnB5C,EAAKkE,EAAK5D,KAAO4D,GAHzB,MAAArB,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAKI3D,EAASqB,EAAQ,CAAET,UACnB,MAEJ,IAAK,SACD,IAAMmB,EAAS7C,EAAKgO,KAChB,SAAApI,GAAI,OAAIA,EAAK5D,MAAQyH,EAAMtB,gBAE3BtF,GACA/B,EAASqB,EAAQ,CAAEU,YAEvB,MAEJ,IAAK,aACD,IADJ6B,EACQ3B,EAAa,GADrB4B,EAAAsJ,EAEqBjO,GAFrB,IAEI,IAAA2E,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAuB,KAAduB,EAAclB,EAAAJ,MACnBvB,EAAW6C,EAAK5D,KAAO4D,GAH/B,MAAArB,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,IAKI3D,EAASqB,EAAQ,CAAEY,aAAY8I,oBAC/B,MACJ,IAAK,eACD,IADJhH,EACQ/B,EAAe,GADvBgC,EAAAmJ,EAEqBjO,GAFrB,IAEI,IAAA8E,EAAAX,MAAAU,EAAAC,EAAAV,KAAAC,MAAuB,KAAduB,EAAcf,EAAAP,MACnBxB,EAAa8C,EAAK5D,KAAO4D,GAHjC,MAAArB,GAAAO,EAAAN,EAAAD,GAAA,QAAAO,EAAAL,IAKI3D,EAASqB,EAAQ,CAAEW,kBACnB,MACJ,IAAK,kBACD,IADJmC,EACQhC,EAAkB,GAD1BiC,EAAA+I,EAEqBjO,GAFrB,IAEI,IAAAkF,EAAAf,MAAAc,EAAAC,EAAAd,KAAAC,MAAuB,KAAduB,EAAcX,EAAAX,MACnBrB,EAAgB2C,EAAK5D,KAAO4D,GAHpC,MAAArB,GAAAW,EAAAV,EAAAD,GAAA,QAAAW,EAAAT,IAKI3D,EAASqB,EAAQ,CAAEc,qBACnB,MACJ,IAAK,WACD,IADJoC,EACQrC,EAAW,GADnBsC,EAAA2I,EAEqBjO,GAFrB,IAEI,IAAAsF,EAAAnB,MAAAkB,EAAAC,EAAAlB,KAAAC,MAAuB,KAAduB,EAAcP,EAAAf,MACnBtB,EAAS4C,EAAK5D,KAAO4D,GAH7B,MAAArB,GAAAe,EAAAd,EAAAD,GAAA,QAAAe,EAAAb,IAKI3D,EAASqB,EAAQ,CAAEa,cACnB,MACJ,IAAK,aACD,IADJiD,EACQ/C,EAAa,GADrBgD,EAAA+H,EAEqBjO,GAFrB,IAEI,IAAAkG,EAAA/B,MAAA8B,EAAAC,EAAA9B,KAAAC,MAAuB,KAAduB,EAAcK,EAAA3B,MACnBpB,EAAW0C,EAAK5D,KAAO4D,GAH/B,MAAArB,GAAA2B,EAAA1B,EAAAD,GAAA,QAAA2B,EAAAzB,IAKI3D,EAASqB,EAAQ,CAAEe,mBI+Nd2K,CAAqB7N,EAAMkC,EAAM2J,KAC9CH,eAAgB,SAAA1L,GAAI,OAAIc,EL1OF,SAAAd,GAAI,MAAK,CACnCkC,KAAM,mBACNlC,QKwOqC6N,CAAuB7N,KAExD8L,eAAgB,SAACC,EAAM9J,EAAI+J,EAAQvC,GAAnB,OACZ3I,EAAS+M,GAAuB9B,EAAM9J,EAAI+J,EAAQvC,KACtDnH,sBAAuB,SAAAtC,GAAI,OACvBc,EAAS+M,EAA8B7N,KAC3CqN,kBAAmB,SAAArN,GAAI,OAAIc,EL1PF,SAAAd,GAAI,MAAK,CACtCkC,KAAM,oBACNlC,QKwPwC6N,CAA0B7N,KAE9DC,OAAQ,kBAAMa,EAAS+M,QAK3BF,CAGExD,KC1USP,GAAA,SAAC1H,EAAM4K,EAAKrD,GACvB,IAAMyE,EAAkBpB,EAAII,OAAO,SAAAjL,GAAE,OAAKwH,EAAMvH,GAAMkH,SAASnH,KAC3DyH,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,kBACb8B,IAAKoB,EACLhM,wjCCLhB,IAAMiM,GAAa,SAACC,EAAQC,EAAOC,GAM/B,IAAMC,EAASC,KAAUJ,IAEC,SAACtO,EAAK2O,EAAKH,GACjC,IAAMI,EAAe,SAAfA,EAAgB5O,EAAK6O,EAAMF,GACzBE,EAAK7K,OAAS,EAEd4K,EAAa5O,EADD6O,EAAKC,SACMD,EAAMF,GAEV,iBAAR3O,EACPA,EAAIK,KAAKsO,GAET3O,EAAI6O,EAAK,IAAMF,GAI3B,IAAK,IAAI9F,KAAQ8F,EAAK,CAClB,IAAME,EAAOhG,EAAKkG,MAAM,KACnBP,IAAeA,EAAYlF,SAASuF,EAAK,KACjB,qBAAdF,EAAI9F,IACX+F,EAAa5O,EAAK6O,EAAMF,EAAI9F,KAM5CmG,CAAkBP,EAAQF,EAAMU,cAAeT,GAE/C,IAjC+CvK,EAiCzCiL,EAAoB,SAApBA,EAAqBT,EAAQI,GAC3BA,EAAK7K,OAAS,EAEdkL,EAAkBT,EADNI,EAAKC,SACcD,GAET,kBAAXJ,SACAA,EAAOI,EAAK,IACM,iBAAXJ,GACdA,EAAOU,OAAON,EAAK,GAAI,IAzCY3K,EAAAkL,GA8C7Bb,EAAMc,eA9CuB,IA8C/C,IAAAnL,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAuC,KAA9B+K,EAA8BrL,EAAAO,MACnC,GAAI8K,EAAMC,QAAQ,MAAQ,EAAG,CACzB,IAAMV,EAAOS,EAAMP,MAAM,KACpBP,IAAeA,EAAYlF,SAASuF,EAAK,KAC1CK,EAAkBT,EAAQI,eAEvBJ,EAAOa,IApDyB,MAAA7K,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAyD/C,OAAO8J,GAGEzC,GAAiB,SAACC,EAAM9J,EAAI+J,EAAQsD,GAAnB,OAAgC,SAC1DxO,EACAgN,GAEA,GAAI9B,GAAU/J,GAAM8J,EAAM,CACtB,IAAMtC,EAAQqE,IACRjE,EAAQ,SAAAX,GACV,GAAIO,EAAMP,GAAKlH,MAAQC,EACnB,GAAIwH,EAAMP,GAAKY,MAAQkC,EAAO+C,cAAcjF,IAAM,EAAG,CACjD,IAAMyF,EAAUpB,GAAW1E,EAAMP,GAAM8C,GACvClL,EAAS+M,EAAApK,OAAA+L,EAAA,EAAA/L,CAAA,GAAmByF,EAAMqG,UAE9B9F,EAAMP,GAAKjH,IAAI2H,GAAgBmC,EAAM,CAAC9J,GAAKqN,IAIrDjG,EAAS,SAACH,EAAKoF,GACjB,IAAImB,EAAUhM,OAAA+L,EAAA,EAAA/L,CAAA,GACTyF,EAAMsF,KAAU/E,EAAMP,KAErB9D,EAASqK,EAAWvG,GAAKjH,GAC3BmD,IACIA,EAAO0E,MAAQkC,EAAO+C,cAAcjF,IAAM,GAC1C2F,EAAWvG,GAAKjH,GAAMkM,GAClB/I,EACA4G,EACAsC,GAEJxN,EAAS+M,EAAgB4B,KAEzB7F,GAAgBmC,EAAM,CAAC9J,GAAKqN,KAIxC,OAAQvD,GACJ,IAAK,OACDlC,EAAM,QACN,MACJ,IAAK,UACDA,EAAM,WACNA,EAAM,WACN,MACJ,IAAK,WACDA,EAAM,YACN,MACJ,IAAK,SACDA,EAAM,UACN,MACJ,IAAK,OACD/I,EAAS+M,EAAgBxE,EAAO0C,KAChC,MACJ,IAAK,aACDjL,EACI+M,EACIxE,EAAO0C,EAAM,CAAC,OAAQ,QAAS,gBAAiB,UAGxD,MACJ,IAAK,eACDjL,EACI+M,EACIxE,EAAO0C,EAAM,CACT,QACA,SACA,OACA,gBACA,UAIZ,MACJ,IAAK,aACDjL,EACI+M,EACIxE,EAAO0C,EAAM,CACT,OACA,QACA,SACA,QACA,UAIZ,MACJ,IAAK,WACDjL,EACI+M,EAAgBxE,EAAO0C,EAAM,CAAC,gBAAiB,UAEnD,MAEJ,IAAK,kBACDjL,EAAS+M,EAAgBxE,EAAO0C,SCvDnC2D,GAAsB,SAACC,EAAWC,EAAYC,GACnDnG,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,sBACb2E,YACAC,aACAC,UC5FHC,GAAoB,SAACH,EAAWxJ,EAAU0J,GAC/CnG,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,oBACb2E,YACAxJ,WACA0J,UCGHE,GAAqB,SAC9B/E,EACAgF,EACAL,EACAM,GAEIvG,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,cACAgF,YACAL,YACAM,aCZHC,GAAiB,SAACP,EAAWC,GAClClG,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,iBACb2E,YACAC,iBAKHO,GAAmB,SAACR,EAAWC,GACpClG,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,mBACb2E,YACAC,iBAMHQ,GAAgB,SAACT,EAAWU,GACjC3G,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,gBACb2E,YACAU,oBAKHC,GAAkB,SAACX,EAAWU,GACnC3G,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,kBACb2E,YACAU,oBCpDHE,GAAY,SAACZ,EAAWa,GAC7B9G,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,YACb2E,YACAa,eAMHC,GAAe,SAACd,EAAWa,GAChC9G,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,eACb2E,YACAa,eAMHE,GAAW,SAACf,EAAWa,GAC5B9G,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,WACb2E,YACAa,mCC3CDG,GAAA,SAACC,EAAUC,GACtB,OAAKD,EAGG,+CACAA,EACA,cACCC,GAAW,GANE,wBCqHXnD,eAAWC,YAXF,SAAAlE,GACpB,MAAO,CACHrG,SAAUqG,EAAMrG,SAChBT,QAAS8G,EAAM9G,QACfmD,QAAS2D,EAAM3D,QACf/C,WAAY0G,EAAM1G,WAClBuF,mBAAoBmB,EAAMnB,mBAC1BkD,YAAa/B,EAAM+B,cAIDmC,CA5GP,SAAA5N,GAAS,IAChB4C,EAA0D5C,EAA1D4C,QAASmD,EAAiD/F,EAAjD+F,QAAS7D,EAAwClC,EAAxCkC,GAAIqG,EAAoCvI,EAApCuI,mBAAoBkD,EAAgBzL,EAAhByL,YAC5CzI,EAAahD,EAAM+Q,eAAiB/Q,EAAMgD,WAC1CgO,EAAc,SAAA9O,GAAE,OAClBA,IAAOU,EAAQX,IACTW,EACAV,IAAO6D,EAAQ9D,IACf8D,EACA7D,IAAOqG,EAAmBtG,IAC1BsG,EACAvF,EAAWd,IACf+O,EAAW,SAAA/O,GACb,IAAMoK,EAAO0E,EAAY9O,GAAM8O,EAAY9O,GAAIgP,KAAOhP,EACtD,OAAOlC,EAAMmR,WAAaC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAYC,QAAM,GAAElF,GAAqBA,GAEjEmF,EAAa,SAAAvP,GACf,IAAMwP,EACFN,EAAAC,EAAAC,cAACK,GAAA,EAAD,CACIC,IAAKhB,GAAU1O,EAAI8O,EAAY9O,GAAI2P,OACnCC,KAAM9R,EAAM8R,OAAS9R,EAAM+R,QAAU,GAAK,IAC1CC,MAAOhS,EAAM8M,OAAS9M,EAAMiS,OAAS,GAAK,CAAEC,OAAQ,YAG5D,OAAOlB,EAAY9O,GACfuJ,EAAYpC,SAASnH,GACjBkP,EAAAC,EAAAC,cAAA,QAAMnI,IAAKjH,GACPkP,EAAAC,EAAAC,cAACa,GAAA,EAAD,CAAOC,MAAM,SAASV,IAG1BN,EAAAC,EAAAC,cAAA,QAAMnI,IAAKjH,GAAKwP,GAEpB,MAGR,OAAO1R,EAAMqS,SACTpB,EAAS/O,GACTlC,EAAM8M,MACNsE,EAAAC,EAAAC,cAAA,QAAMgB,QAAS,SAAA7N,GAAC,OAAIA,EAAE8N,oBAClBnB,EAAAC,EAAAC,cAACK,GAAA,EAAOa,MAAR,CAAcR,MAAO,CAAEE,OAAQ,WAC1BlS,EAAM+M,IAAI0F,IAAI,SAAAvQ,GAAE,OAAIuP,EAAWvP,OAGxClC,EAAM+R,QACNX,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,MACM1S,EAAM2S,OAASlB,EAAWvP,IAC1BlC,EAAMiS,QAAUhB,EAAS/O,IAE/BlC,EAAM4S,KACNxB,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACIb,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,CACDqP,OAAQ,UACRC,WAAY,QACThT,EAAMgS,OAGbM,QAAS,SAAA7N,GACLA,EAAE8N,mBAENU,GAAI,aAAe/Q,GAAMlC,EAAMkC,MAE7BlC,EAAM2S,OAASlB,EAAWvP,IAC1BlC,EAAMiS,QAAUhB,EAAS/O,IAE/BlC,EAAMkT,OACN9B,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACIb,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,CACDqP,OAAQ,UACRC,WAAY,QACThT,EAAMgS,OAEbM,QAAS,SAAA7N,GACLA,EAAE8N,mBAENU,GAAI,aAAe/Q,GAAMlC,EAAMkC,MAE7BlC,EAAM2S,OAASlB,EAAWvP,IAC1BlC,EAAMiS,QAAUhB,EAAS/O,IAG/BkP,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACIP,QAAS,SAAA7N,GACLA,EAAE8N,mBAENU,GAAI,aAAe/Q,GAAMlC,EAAMkC,KAE/BkP,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CACIhR,KAAK,OACL6P,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,CAAI0P,QAAS,UAAWC,OAAQ,QAAWrT,EAAMgS,SAEpDhS,EAAM2S,OAASlB,EAAWvP,IAE1BlC,EAAMiS,QAAUhB,EAAS/O,oTCtFrCoR,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTnR,MAAO,CACHoR,SAAU,GACVxB,OAAQ,iBACRyB,cAAe,YACfX,WAAY,KAEhBY,OAAQ,CACJxB,MAAOoB,EAAMK,QAAQC,QAAQC,KAC7BC,QAAS,OACTC,WAAY,cAITC,GAAA,SAAAlU,GACX,IAAMmU,EAAUb,KAChB,OAAOtT,EAAMoU,MAAMrQ,OAAS,GACxB/D,EAAMqU,OACNrU,EAAMsU,aACNtU,EAAMuU,QACNnD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK1S,EAAMsC,OACH8O,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAEXzU,EAAMsC,OAGf8O,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CACI1C,MAAO,CACHoB,QAAS,OACTY,QAAS,OACTW,UAAW,OACXC,cAAe,SAGK,IAAvB5U,EAAMoU,MAAMrQ,QAAgB/D,EAAMqU,MAC/BrU,EAAMsU,aAAelD,EAAAC,EAAAC,cAAC+C,GAAA,EAAD,MAErBjD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK1S,EAAMuU,SACHnD,EAAAC,EAAAC,cAACuD,GAAA,EAAD,CACI7C,MAAO,CACH8C,aAAc,OACd/B,OAAQ,UACRgC,WAAY,EACZC,MAAO,QACPC,YAAa,OACbC,SAAU,WACVC,UAAW,UAGf/D,EAAAC,EAAAC,cAAC8D,GAAA,EAAD,CACIpD,MAAO,CACHqB,OAAQ,OACRW,QAAS,OACTC,WAAY,SACZoB,eAAgB,UAEpB/C,QAAS,kBAAMtS,EAAMsV,UAErBlE,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACHwD,KAAM,EACNxB,QAAS,OACTC,WAAY,SACZoB,eAAgB,SAChBjC,QAAS,QAGbhC,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACH0D,cAAe,UAEnBlB,UAAWL,EAAQP,QAEnBxC,EAAAC,EAAAC,cAACqE,GAAA,EAAD,MACAvE,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CAAE4D,UAAW,WAEnB5V,EAAM6V,UAAY,WAO1C7V,EAAMoU,MAAM3B,IAAI,SAAC5M,EAAMiQ,GAAP,OACb1E,EAAAC,EAAAC,cAACuD,GAAA,EAAD,CACI7C,MAAO,CACH8C,aAAc,OACd/B,OAAQ,UACRgC,WAAY,EACZC,MAAO,QACPC,YAAa,OACbC,SAAU,aAGblV,EAAM+V,QAAQlQ,EAAMiQ,MAG7B1E,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEgD,MAAO,OAAQD,WAAY,QAKzD,MCxHKiB,GAAoB,CAC7B,8EACA,0FACA,4FACA,iFACA,+FACA,6FACA,6FACA,uFAESC,GAAQ,SAAA/T,GACjB,IAAKA,EAAI,OAAO,EAChB,IAKMgU,EAAUhU,EAAGiU,MAAM,QACnBC,EAAUF,GAAWA,EAAQnS,OAAS,EAAIsS,SAASH,EAAQ,IAAM,EACvE,OAAOI,KAAKC,IACRD,KAAKE,MARQ,SAAAC,GAEb,IADAA,EAAIH,KAAKC,IAAIE,GACNA,EAAI,GAAGA,GAAQ,GACtB,OAAOA,EAKIC,CAASN,IAAYJ,GAAkBjS,OAAS,MAGpD4J,eAAW,SAAA3N,GACtB,IAAM2W,EAAS3W,EAAM2W,QAAU,GAEzBC,EAAW5W,EAAMoF,QAiBnB,KAhBAgM,EAAAC,EAAAC,cAAA,OACIU,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,CACDmT,SAAU,OACV3E,OAAQ,OACR8B,QAAS,QACTc,aAAc,OACdgC,UACI,wGACD9W,EAAMgS,OAEbJ,IACI+E,EAAO5S,OAAS,EACV4S,EAAO,GACPX,GAAkBC,GAAMjW,EAAMkC,OAKhD,OAAOlC,EAAM+W,OACT3F,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACKkE,EACDxF,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHoB,QAAS,UACT4D,UAAW,aACXhD,QAAS,OACTC,WAAY,WAGhB7C,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEwD,KAAM,IAAMxV,EAAMiX,MAC/BjX,EAAM8N,SACHsD,EAAAC,EAAAC,cAAA,OAAKU,MAAO,CAAEkF,WAAY,SAAWlX,EAAM8N,WAKvDsD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAMI,GAAIjT,EAAMmX,YAAanF,MAAO,CAAEe,OAAQ,YACzC6D,GAELxF,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHoB,QAAS,UACT4D,UAAW,aACXhD,QAAS,OACTC,WAAY,WAGhB7C,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACII,GAAIjT,EAAMmX,YACVnF,MAAO,CAAEe,OAAQ,UAAWyC,KAAM,IAEjCxV,EAAMiX,MAEVjX,EAAM8N,SACHsD,EAAAC,EAAAC,cAAA,OAAKU,MAAO,CAAEkF,WAAY,SAAWlX,EAAM8N,aCxD/DsJ,OAASC,SAET,IAAMC,GAAWC,aAAe,CAC5B1D,QAAS,CAAEC,QAAS,CAAEC,KAAMyD,KAAI,OAChCC,UAAW,CACPC,UAAW,CACPC,WAAY,CAAEvF,MAAOoF,KAAI,MACzBI,OAAQ,CACJC,UAAW,CACPC,gBAAiBC,gBAAKP,KAAI,KAAM,WAM9CQ,GAAYT,aAAe,CAC7B1D,QAAS,CAAEC,QAAS,CAAEC,KAAMkE,KAAK,OACjCR,UAAW,CACPC,UAAW,CACPC,WAAY,CAAEvF,MAAO6F,KAAK,MAC1BL,OAAQ,CACJC,UAAW,CACPC,gBAAiBC,gBAAKE,KAAK,KAAM,WAM/CC,GAAaX,aAAe,CAC9B1D,QAAS,CAAEC,QAAS,CAAEC,KAAMoE,KAAM,OAClCV,UAAW,CACPC,UAAW,CACPC,WAAY,CAAEvF,MAAO+F,KAAM,MAC3BP,OAAQ,CACJC,UAAW,CACPC,gBAAiBC,gBAAKI,KAAM,KAAM,WAMhDC,GAAcb,aAAe,CAC/B1D,QAAS,CAAEC,QAAS,CAAEC,KAAMsE,KAAO,OACnCZ,UAAW,CACPC,UAAW,CACPC,WAAY,CAAEvF,MAAOiG,KAAO,MAC5BT,OAAQ,CACJC,UAAW,CACPC,gBAAiBC,gBAAKM,KAAO,KAAM,WAOjDC,GAAcf,aAAe,CAC/B1D,QAAS,CACLC,QAAS,CACLC,KAAMwE,KAAO,OAGrBd,UAAW,CACPe,YAAa,CACTC,gBAAiB,CACbC,aAAc,QACdC,YAAa,OA8ZdhL,eAAWC,YANF,SAAAlE,GACpB,MAAO,CACHvG,WAAYuG,EAAMvG,aAIAyK,CAxZJ,SAAA5N,GAAS,IAAA4Y,EACuBC,oBAAS,GADhCC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACpBI,EADoBF,EAAA,GACDG,EADCH,EAAA,GAEnBjW,EAAkC7C,EAAlC6C,SAAUD,EAAwB5C,EAAxB4C,QAASO,EAAenD,EAAfmD,WAErB+V,EAAUtW,GAAWA,EAAQX,MAAQY,EAASgE,MAEhDsS,EAAatW,EAAS0E,OACrB6R,MAAM9C,KAAK+C,IAAIxW,EAAS0E,OAAOxD,OAAS,EAAG,IAC3CuV,KAAK,SAACjI,EAAGkI,GACN,IAAIC,EAAIC,EAAIC,EAAIC,EAChB,GAAItI,EAAEuI,MAAQL,EAAEK,IAAK,OAAO,EACvB,GAAIL,EAAEK,MAAQvI,EAAEuI,IAAK,OAAQ,EAmE9B,GAjEIvI,EAAEwI,KACFL,EAAKpC,OACA0C,KAAKzI,EAAEyI,MACPC,UAAU1I,EAAEwI,KACZG,QAAQ,OACbP,EAAKrC,OACA0C,KAAKzI,EAAEyI,MACPC,UAAU1I,EAAEwI,KACZI,MAAM,OACXP,EAAKtC,OACA0C,KAAKP,EAAEO,MACPC,UAAUR,EAAEM,KACZG,QAAQ,OACbL,EAAKvC,OACA0C,KAAKP,EAAEO,MACPC,UAAUR,EAAEM,KACZI,MAAM,QACJ5I,EAAE6I,MACTV,EAAKpC,OACA0C,KAAKzI,EAAEyI,MACPI,KAAK7I,EAAE6I,MACPF,QAAQ,QACbP,EAAKrC,OACA0C,KAAKzI,EAAEyI,MACPI,KAAK7I,EAAE6I,MACPD,MAAM,QACXP,EAAKtC,OACA0C,KAAKP,EAAEO,MACPI,KAAKX,EAAEW,MACPF,QAAQ,QACbL,EAAKvC,OACA0C,KAAKP,EAAEO,MACPI,KAAKX,EAAEW,MACPD,MAAM,SACJ5I,EAAE8I,OACTX,EAAKpC,OACA0C,KAAKzI,EAAEyI,MACPK,MAAM9I,EAAE8I,OACRH,QAAQ,SACbP,EAAKrC,OACA0C,KAAKzI,EAAEyI,MACPK,MAAM9I,EAAE8I,OACRF,MAAM,SACXP,EAAKtC,OACA0C,KAAKP,EAAEO,MACPK,MAAMZ,EAAEY,OACRH,QAAQ,SACbL,EAAKvC,OACA0C,KAAKP,EAAEO,MACPK,MAAMZ,EAAEY,OACRF,MAAM,UACJ5I,EAAEyI,OACTN,EAAKpC,OACA0C,KAAKzI,EAAEyI,MACPE,QAAQ,QACbP,EAAKrC,OACA0C,KAAKzI,EAAEyI,MACPG,MAAM,QACXP,EAAKtC,OACA0C,KAAKP,EAAEO,MACPE,QAAQ,QACbL,EAAKvC,OACA0C,KAAKP,EAAEO,MACPG,MAAM,SAEXT,EAAI,CACJ,IAAMY,EAAMhD,OAEZ,OACId,KAAK+D,IACD/D,KAAKC,IAAI6D,EAAIE,KAAKd,IAClBlD,KAAKC,IAAI6D,EAAIE,KAAKb,MAEtBnD,KAAK+D,IAAI/D,KAAKC,IAAI6D,EAAIE,KAAKZ,IAAMpD,KAAKC,IAAI6D,EAAIE,KAAKX,MAE3C,EACA,EAGpB,OAAO,IAGTY,EAAapB,EAAWpV,OAAS,EAAIoV,EAAW,GAAGqB,QAAU,EAInE,OAA6B,KAF7BrB,EAAatW,EAAS0E,QAEJxD,OAAe,KAC7BqN,EAAAC,EAAAC,cAACmJ,GAAA,EAAD,CAAkBjH,MAAO8E,IACrBlH,EAAAC,EAAAC,cAACoJ,GAAA,EAAD,CAEIvY,KAAK,OACLwY,iBACIJ,EACMpB,EACKyB,UAAU,SAAA/U,GAAI,OAAIA,EAAK2U,UAAYD,IACnCM,WACL,KAIT1B,EAAW1G,IAAI,SAACjL,EAAOsO,GACpB,IA8HIgF,EA9HEC,EAAY,SAAA7Y,GACd,OAAIgX,GAAW1R,EAAMwT,UAAkB,YACnCxT,EAAMyT,OAAOhN,KAAK,SAAApI,GAAI,OAAIA,EAAK+J,YAAc1N,IACtC,OAEPsF,EAAM0T,WAAWjN,KAAK,SAAApI,GAAI,OAAIA,EAAK+J,YAAc1N,IAE1C,WACJ,WAGLiZ,EAAgB,SAAAjZ,GAElB,OADe6Y,EAAU7Y,IAErB,IAAK,OACD,MAAO,SACX,IAAK,WACD,MAAO,WACX,IAAK,YACD,MAAO,YACX,QACI,MAAO,eAGbkZ,EACFxY,GAAWA,EAAQX,KAAO8Y,EAAUnY,EAAQX,KAE1CoZ,EAAcN,EAAUlY,EAASgE,OAEjCyU,EAAS,SAAApZ,GACX,OAAOA,IAAOU,EAAQX,IAClBmP,EAAAC,EAAAC,cAACiK,GAAA,EAAD,CACIC,QAAQ,2BACRtZ,GAAG,qBACHqC,MAAO6W,EACPK,SAAU,SAAAhX,GAAC,OTxPfF,ES0PYE,EAAEiX,OAAOnX,MT1PdqL,ES2PKhN,EAAQX,IT3PF4N,ES4PNhN,EAASZ,IT5PSuY,ES6PlBhT,EAAMgT,aT5PtC7Q,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,cACb1G,QACAsL,aACAD,YACA4K,cARW,IAACjW,EAAOqL,EAAWC,EAAY2K,ISiQ1BpJ,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CAAUpX,MAAM,YAAhB,YACA6M,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CAAUpX,MAAM,WAAhB,cACA6M,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CAAUpX,MAAM,QAAhB,QACA6M,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CAAUpX,MAAM,aAAhB,cAGJ6M,EAAAC,EAAAC,cAACsK,GAAA,EAAD,CAAMxJ,MAAM,UAAUyJ,MAAOV,EAAcjZ,MAI7C4E,EAAQjE,EAASiE,MAClBqG,OAAO,SAAAtH,GAAI,OAAIA,IAAShD,EAASgE,QACjC4L,IAAI,SAAA9P,GACD,IAAMmZ,EAAaf,EAAUpY,GAC7B,OACIyO,EAAAC,EAAAC,cAACyK,GAAA,EAAD,KACI3K,EAAAC,EAAAC,cAAC0K,GAAA,EAAD,KACI5K,EAAAC,EAAAC,cAAC2K,GAAD,CAAYhK,QAAQ,EAAM/P,GAAIS,KAElCyO,EAAAC,EAAAC,cAAC4K,GAAA,EAAD,CACIpI,QACI1C,EAAAC,EAAAC,cAAC2K,GAAD,CACI/Z,GAAIS,EACJgQ,OAAO,EACPC,MAAM,EACNP,UAAU,MAItBjB,EAAAC,EAAAC,cAAC6K,GAAA,EAAD,KACI/K,EAAAC,EAAAC,cAACmJ,GAAA,EAAD,CACIjH,MACmB,YAAfsI,EACM9D,GACe,aAAf8D,EACA5D,GACe,SAAf4D,EACAxE,GACAc,IAGTkD,EAAO3Y,QAO1BkE,EAAQ,CACVuK,EAAAC,EAAAC,cAACyK,GAAA,EAAD,KACI3K,EAAAC,EAAAC,cAAC0K,GAAA,EAAD,KACI5K,EAAAC,EAAAC,cAAC2K,GAAD,CAAYhK,QAAQ,EAAM/P,GAAIW,EAASgE,SAE3CuK,EAAAC,EAAAC,cAAC4K,GAAA,EAAD,CACIpI,QACI1C,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAYC,QAAM,EAAC4K,QAAQ,SACvBhL,EAAAC,EAAAC,cAAC2K,GAAD,CACI/Z,GAAIW,EAASgE,MACb8L,OAAO,EACPC,MAAM,EACNP,UAAU,OAK1BjB,EAAAC,EAAAC,cAAC6K,GAAA,EAAD,KACI/K,EAAAC,EAAAC,cAACmJ,GAAA,EAAD,CACIjH,MACoB,YAAhB6H,EACMrD,GACgB,aAAhBqD,EACAnD,GACgB,SAAhBmD,EACA/D,GACAc,IAGTkD,EAAOzY,EAASgE,WAM7BwV,EAAWjL,EAAAC,EAAAC,cAAA,4BA4Cf,OA3CI9J,EAAMqS,KACNiB,EAAY1D,OACP0C,KAAKtS,EAAMsS,MACXC,UAAUvS,EAAMqS,KACrBwC,EACIjL,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAA,WAAMwJ,EAAUzD,OAAO,SACvBjG,EAAAC,EAAAC,cAAA,WAAMwJ,EAAUzD,OAAO,eAGxB7P,EAAM0S,MACbY,EAAY1D,OACP0C,KAAKtS,EAAMsS,MACXI,KAAK1S,EAAM0S,MAChBmC,EACIjL,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAA,WAAMwJ,EAAUzD,OAAO,MAAvB,SACAjG,EAAAC,EAAAC,cAAA,WACKwJ,EACId,QAAQ,QACR3C,OAAO,aAEhBjG,EAAAC,EAAAC,cAAA,WACKwJ,EAAUb,MAAM,QAAQ5C,OAAO,eAIrC7P,EAAM2S,OACbW,EAAY1D,OACP0C,KAAKtS,EAAMsS,MACXK,MAAM3S,EAAM2S,OACjBkC,EACIjL,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAA,WAAMwJ,EAAUzD,OAAO,SACvBjG,EAAAC,EAAAC,cAAA,WAAMwJ,EAAUzD,OAAO,WAGxB7P,EAAMsS,OACbgB,EAAY1D,OAAS0C,KAAKtS,EAAMsS,MAEhCuC,EAAWjL,EAAAC,EAAAC,cAAA,WAAMwJ,EAAUzD,OAAO,UAIlCjG,EAAAC,EAAAC,cAACoJ,GAAA,EAAK4B,QAAN,CACIC,IACInL,EAAAC,EAAAC,cAACa,GAAA,EAAD,CACIC,MACoB,aAAhBiJ,EACM,QACgB,cAAhBA,EACA,SACgB,SAAhBA,EACA,UACA,QAGVjK,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACH0B,SAAU,OACVC,cAAe,YACfiC,UAAW,WAGdyG,IAIblT,IAAK2M,GAEL1E,EAAAC,EAAAC,cAACkL,GAAA,EAAD,CAAMC,OAAO,GACR5V,EACAC,GAGJU,EAAMkV,KAAK3Y,OAAS,GACjBqN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KAOItB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBACL2G,GACKD,IAGT5G,MAAM,UACNJ,MAAO,KAELgH,EAAoB,OAAS,QAC3B,mBAEPA,GACG5H,EAAAC,EAAAC,cAAC4C,GAAD,CACIE,MAAO5M,EAAMkV,KACRjK,IAAI,SAAA5M,GAAI,OAAI1C,EAAW0C,KACvBsH,OAAO,SAAAtH,GAAI,OAAIA,IACpBkQ,QAAS,SAAAlQ,GAAI,OACTuL,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACH4D,UAAW,SACXV,SAAU,WACV9B,QAAS,QAGbhC,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACII,GACI,YACApN,EAAK5D,KAGTmP,EAAAC,EAAAC,cAACsL,GAAA,EAAD,CACI5K,MAAO,CACHqB,OAAQ,QACRwJ,eACI,WAERhL,MACIhM,EAAK8Q,OACA5S,OAAS,EACR8B,EACK8Q,OAAO,GACZX,GACIC,GACIpQ,EAAK5D,MAIvBK,MAAOuD,EAAKqL,OAEhBE,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACHoB,QAAS,QAGbhC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,QACR5K,QAAM,GAEL3L,EAAKqL,kKClezD4L,GAAa,SAACC,EAAMjL,EAAMkL,EAAUC,GAC7C,GAAY,MAARF,EACA,OAAOG,MAAM,qBAGjB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAP,eAAAC,EAAA5Z,OAAA6Z,EAAA,EAAA7Z,CAAA8Z,EAAAnM,EAAAoM,KAAgB,SAAAC,EAAMvS,GAAN,OAAAqS,EAAAnM,EAAAsM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACZC,GAA0BhB,EAAM,CAAE/H,MAAOlD,EAAMuB,OAAQvB,GAAQ,SAAA7R,GACtDA,EAGD+d,GAAU/d,EAAM,QAAQge,KAAK,SAASlB,GAClCmB,GAAiBnB,EAAMC,EAAUC,KAHrCA,MAHI,wBAAAW,EAAAO,SAAAT,MAAhB,gBAAAU,GAAA,OAAAd,EAAAe,MAAAhR,KAAAiR,YAAA,GAYAnB,EAAOoB,kBAAkBxB,IAGvBiB,GAAY,SAACQ,EAAKxB,EAAUyB,GAE9B,OADAA,EAAWA,IAAaD,EAAIrI,MAAM,mBAAqB,IAAI,GACpDuI,MAAMF,GACRP,KAAK,SAASle,GACX,OAAOA,EAAI4e,gBAEdV,KAAK,SAASW,GACX,OAAO,IAAIC,KAAK,CAACD,GAAM5B,EAAU,CAAE7a,KAAM,kBAI/C4b,GAA4B,SAAChB,EAAMjL,EAAMgN,GAC3C,GAAI/B,EAAM,CACN,IAAII,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAASlS,GACrB4T,GAAiC5T,EAAMuQ,OAAOlN,OAAQsD,EAAMgN,IAEhE3B,EAAO6B,cAAcjC,KAIvBgC,GAAmC,SAACnN,EAAKE,EAAMgN,GACjD,IACI,IAAI7e,EACAgf,EAAM,IAAIC,MACdD,EAAI5B,OAAS,WACT,IAAM8B,EAAYF,EAAIjK,MAAQlD,EAAKkD,MAC7BoK,EAAaH,EAAI5L,OAASvB,EAAKuB,OACjCgM,EAAKC,SAAShO,cAAc,UAC5BiO,EAAOF,EAAGG,WAAW,MACzBH,EAAGrK,MAAQiK,EAAIjK,MACfqK,EAAGhM,OAAS4L,EAAI5L,OAChBkM,EAAKE,UAAUR,EAAK,EAAG,IACnBE,EAAY,GAAKC,EAAa,KAC1BH,EAAIjK,MAAQiK,EAAI5L,QAChBgM,EAAGhM,OAAU4L,EAAI5L,OAAS4L,EAAIjK,MAASlD,EAAKkD,MAC5CqK,EAAGrK,MAAQlD,EAAKkD,QAEhBqK,EAAGrK,MAASiK,EAAIjK,MAAQiK,EAAI5L,OAAUvB,EAAKkD,MAC3CqK,EAAGhM,OAASvB,EAAKkD,QAGzBuK,EAAKE,UAAUJ,EAAI,EAAG,EAAGA,EAAGrK,MAAOqK,EAAGhM,QACtCkM,EAAKE,UAAUR,EAAK,EAAG,EAAGI,EAAGrK,MAAOqK,EAAGhM,QACvCpT,EAAOof,EAAGK,UAAU,aAAc,IAClCZ,EAAG7e,IAEPgf,EAAIU,QAAU,WACVb,KAEJG,EAAIrN,IAAMA,EACZ,MAAAgO,MAGA1B,GAAmB,SAACnB,EAAM8C,EAAU5C,GACtC,OAAOzb,IACFG,KAAK,eAAgB,CAClBke,aAEH5B,KAAK,SAAA6B,GACFC,GAAahD,EAAM+C,EAAS7f,KAAMgd,KAErC+C,MAAM,SAAAxb,OAGTub,GAAe,SAAChD,EAAM9c,EAAMgd,GAC9B,OAAOzb,IACFI,IAAI3B,EAAKggB,cAAelD,EAAM,CAC3Brb,QAAS,CACLwe,eAAgB,yBAGvBjC,KAAK,SAAA6B,GACF7C,EAAShd,EAAKue,KACdje,IAAQF,QAAQ,+BAEnB2f,MAAM,SAAAxb,OCPA2b,GAhFU,SAAAngB,GAAS,IAAA4Y,EACFC,mBAAS7Y,EAAM2W,QAAU,IADvBmC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACvBjC,EADuBmC,EAAA,GACfsH,EADetH,EAAA,GAAAuH,EAEUxH,qBAFVyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAEvBE,EAFuBD,EAAA,GAETE,EAFSF,EAAA,GAQ9B,OAJAG,oBAAU,WACNzgB,EAAM0gB,cAAc/J,IACrB,CAACA,IAGAvF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACqP,GAAA,EAAD,CACIC,OAAO,UACPC,SAAS,eACTC,SAAUnK,EAAOlE,IAAI,SAACZ,EAAOiE,GAAR,MAAmB,CACpC0I,IAAK3M,EACLkP,IAAKjL,KAETkL,UAAW,SAAAjE,GACPyD,EAAgBzD,EAAKyB,MAEzB/C,SAAU,SAAA6B,GAAA,IAAGwD,EAAHxD,EAAGwD,SAAH,OACNV,EAAUU,EAASrO,IAAI,SAAA5M,GAAI,OAAIA,EAAK2Y,QAExCyC,cAAe,SAAAC,GAAc,IAAXnE,EAAWmE,EAAXnE,KACdD,GAAWC,EAAM,SAAKoE,EAAW,SAAA3C,GAIzB4B,EAHC5B,EAGQ,GAAA/a,OAAAC,OAAAC,EAAA,EAAAD,CAAKiT,GAAL,CAAa6H,IAFZ9a,OAAAC,EAAA,EAAAD,CAAIiT,QAOzBA,EAAO5S,QAAU,EAAI,KAClBqN,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHwD,KAAM,EACNxB,QAAS,OACTX,OAAQ,OACRY,WAAY,SACZoB,eAAgB,SAChBK,cAAe,UAEnBpD,QAAS,SAAA7N,GACD2c,OAAOC,cACP5c,EAAE8N,kBACF6O,OAAOE,mBAAmBC,YACtB,cAEJH,OAAOnE,SAAW,SAAAuB,GACd4B,EAAS,GAAA3c,OAAAC,OAAAC,EAAA,EAAAD,CAAKiT,GAAL,CAAa6H,SAKlCpN,EAAAC,EAAAC,cAACkQ,GAAAnQ,EAAD,MACAD,EAAAC,EAAAC,cAAA,OAAKkD,UAAU,mBAAf,YAIZpD,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIC,KAAMC,QAAQpB,GACdqB,QAAS,kBAAMpB,MAEfpP,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,CAAa3f,GAAG,uBAAhB,iBAGAkP,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,CAAeC,UAAU,GACrB3Q,EAAAC,EAAAC,cAAA,OAAKM,IAAK2O,EAAcvO,MAAO,CAAEgD,MAAO,WAE5C5D,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAMkO,KAAmBpO,MAAM,WAAhD,+DC7EL6P,GAAA,SAAAjiB,GACX,IAAIkiB,EACJ,GAA2B,kBAAhBliB,EAAMuE,MAAoB,CACjC,IAAM4d,EAAiBC,KAAYpiB,EAAMuE,OACjC8d,EAA6BF,EAA7BE,cAAeC,EAAcH,EAAdG,UACvBJ,EAAeK,gBAAaC,qBACxBH,EACAC,GAEJJ,EAAeO,wBAAaP,QACzBA,EAAeliB,EAAMuE,MAC5B,OAUI6M,EAAAC,EAAAC,cAACoR,GAAA,OAADhf,OAAAif,OAAA,CACIC,YAAY,gBACZC,SAAU7iB,EAAM6iB,SAEhBC,iBAAiB,gBACX9iB,EAAM6iB,SAEN,CAAEX,aAAcA,GADhB,CAAEa,gBAAiB,eAN7B,CAQIC,oBAAqBd,EACrBe,qBAAsB,SAAA1e,GAClBvE,EAAMkjB,gBAAkBljB,EAAMkjB,eAAe3e,GAC7CvE,EAAMmjB,qBACFnjB,EAAMmjB,oBACFC,0BAAe7e,GAAO8e,aAAa,OAG/CC,QAAS,CACLpQ,OAAQ,CAAEqQ,YAAY,GACtBC,KAAM,CAAED,YAAY,GACpB3N,UAAW,CAAE2N,YAAY,GACzBE,KAAM,CAAEF,YAAY,GACpBpjB,QAAS,CAAEojB,YAAY,IAE3BG,cAAe1jB,EAAM6iB,SACrBc,SACK3jB,EAAM6iB,UAAY,CACf,SACA,YACA,WACA,aACA,OACA,YACA,cACA,OACA,QACA,SACA,eChELe,GACL,IADKA,GAEE,IAFFA,GAGF,ICDAC,GAAgB,CACzB,CACIC,UAAU,EACVvjB,QAAS,8CACTwjB,YAAY,EACZ1J,IAAK,GAET,CACI9Z,QAAO,2CAAAkD,OAA6CmgB,GAA7C,KACPG,YAAY,EACZ1K,IAAKuK,IAET,CACII,QAAS,mBACTzjB,QAAS,gEAIJ0jB,GAAY,CACrB,CACIH,UAAU,EACVzJ,IAAK,EACL0J,YAAY,EACZxjB,QAAS,2CAEb,CACI8Y,IAAKuK,GACLrjB,QAAO,uCAAAkD,OAAyCmgB,GAAzC,OAIFM,GAAmB,CAC5B,CACIJ,UAAU,EACVzJ,IAAK,EACL0J,YAAY,EACZxjB,QAAS,2CAEb,CACI8Y,IAAKuK,GACLrjB,QAAO,uCAAAkD,OAAyCmgB,GAAzC,OCtBTO,ID6BS,8CAAA1gB,OACHmgB,GADG,KAcA,0CAAAngB,OACHmgB,GADG,KC3Ca,SAAA5jB,GAAK,OAAIoR,EAAAC,EAAAC,cAAC8S,GAAA,EAAD1gB,OAAAif,OAAA,CAAO0B,UAAU,QAAWrkB,MAC3DsT,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC8Q,KAAM,GAGNC,MAAO,CACHlR,OAAQ,EACRmR,WAAY,UAEhBC,OAAQ,CACJC,UAAW,eACXxN,WAAY,OACZyN,WAAYnR,EAAMoR,YAAYC,OAAO,YAAa,CAC9CC,SAAUtR,EAAMoR,YAAYE,SAASC,YAG7CC,WAAY,CACRN,UAAW,kBAGfO,OAAQ,CACJ/P,SAAU,SAEd5S,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,MAIR2P,GAAS,CACXC,SAAU,CAAExS,KAAM,GAClByS,WAAY,CAAEzS,KAAM,KA4HThF,eANS,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,UAIRgL,CAzHO,SAAA5N,GAClB,IAAMmU,EAAUb,KADWsF,EAEaC,mBACpC7Y,EAAM8C,QAAU,CAAE6T,OAAQ,KAHHmC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAEpB0M,EAFoBxM,EAAA,GAENyM,EAFMzM,EAAA,GAK3B2H,oBAAU,WACN8E,EAAgBvlB,EAAM8C,QAAU,CAAE6T,OAAQ,MAC3C3W,EAAM0hB,MAPkB,IAQnB8D,EAASxlB,EAATwlB,KACR,OACIpU,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIgE,YAAU,EACV/D,KAAM1hB,EAAM0hB,KACZE,QAAS5hB,EAAM4K,MACfuZ,oBAAqBA,IAEpBnkB,EAAM0hB,MACHtQ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACoU,GAAA,EAAD,CAAQlR,UAAWL,EAAQ8Q,OAAQ7S,MAAM,WACrChB,EAAAC,EAAAC,cAACqU,GAAA,EAAD,KACIvU,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACIC,KAAK,QACLzT,MAAM,UACNE,QAAStS,EAAM4K,MACfkb,aAAW,SAEX1U,EAAAC,EAAAC,cAACyU,GAAA,EAAD,OAEJ3U,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACR5H,UAAWL,EAAQ7R,MACnB8P,MAAM,YAEHpS,EAAM8C,OAAsB,QAAb,aACb0iB,EAAO,OAAS,WAEzBpU,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIqJ,WAAS,EACT5T,MAAM,UACNE,QAAS,Yd3Ff,SAAC1C,EAAW9M,EAAQ0iB,GACtC7b,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,aACb2E,YACA9M,SACA0iB,UcqFoBS,CACIjmB,EAAM4C,QAAQX,IACdqjB,EACAE,GAEJxlB,EAAM4K,UATd,UAgBRwG,EAAAC,EAAAC,cAACqU,GAAA,EAAD,MACAvU,EAAAC,EAAAC,cAAC4U,GAAA,EAADxiB,OAAAif,OAAA,CACI3Q,MAAO,CACH6E,SAAU,SACV3E,OAAQ,SACRkB,QAAS,OACT4B,MAAO,QAEX9D,KAAK,cACDiU,IAEJ/T,EAAAC,EAAAC,cAAC4U,GAAA,EAAKC,KAAN,CACIjV,KAAK,SACL2K,MAAM,UAGNzK,EAAAC,EAAAC,cAAC8U,GAAD,CACIzP,OAAQ2O,EAAa3O,OACrB+J,cAAe,SAAA/J,GAAM,OACjB4O,EAAgB7hB,OAAAoP,EAAA,EAAApP,CAAA,GACT4hB,EADQ,CAEX3O,gBAMhBvF,EAAAC,EAAAC,cAAC4U,GAAA,EAAKC,KAAN,CAAWtK,MAAM,OAAOwK,MAAOpC,IAC3B7S,EAAAC,EAAAC,cAACgV,GAAA,EAAD,CACIC,WAAW,EACXhiB,MAAO+gB,EAAapU,KACpBuK,SAAU,SAAA6B,GAAA,IAAa/Y,EAAb+Y,EAAG5B,OAAUnX,MAAb,OACNghB,EAAgB7hB,OAAAoP,EAAA,EAAApP,CAAA,GACT4hB,EADQ,CAEXpU,KAAM3M,SAKtB6M,EAAAC,EAAAC,cAAC4U,GAAA,EAAKC,KAAN,CAAWtK,MAAM,eACbzK,EAAAC,EAAAC,cAAC2Q,GAAD,CACI1d,MAAO+gB,EAAakB,YACpBtD,eAAgB,SAAA3e,GACZghB,EAAgB,SAAAkB,GAAM,OAAA/iB,OAAAoP,EAAA,EAAApP,CAAA,GACf+iB,EADe,CAElBD,YAAajiB,OAGrB4e,oBAAqB,SAAA5e,GAAK,OACtBghB,EAAgB,SAAAkB,GAAM,OAAA/iB,OAAAoP,EAAA,EAAApP,CAAA,GACf+iB,EADe,CAElBC,gBAAiBniB,yBCjJnD+O,GAAYC,aAAW,CACzBjH,KAAM,CACFqa,eAAgB,CAAEC,OAAQ,QAC1BC,gBAAiB,CAAED,OAAQ,mBAC3BE,aAAc,CACVpT,SAAU,WAgIP/F,eA5HI,SAAA3N,GACf,IAAMmU,EAAUb,KADQsF,EAEgBC,mBAAS,IAFzBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAAAyH,GAAAvH,EAAA,GAAAA,EAAA,GAGgBD,oBAAS,IAHzByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAGH0G,GAHGzG,EAAA,GAAAA,EAAA,IAAA0G,EAIInO,mBAAS7Y,EAAM2W,QAAU,IAJ7BsQ,EAAAvjB,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,GAIjBrQ,EAJiBsQ,EAAA,GAIT7G,EAJS6G,EAAA,GAKhBtlB,EAAkB3B,EAAlB2B,KAAMiB,EAAY5C,EAAZ4C,QALUskB,EAOcrO,mBAClC7Y,EAAM+V,UACD/V,EAAMmnB,YAAc,IAAMnnB,EAAMmnB,YAAc,IAAM,KATrCC,EAAA1jB,OAAAqV,EAAA,EAAArV,CAAAwjB,EAAA,GAOjBxb,EAPiB0b,EAAA,GAOJC,EAPID,EAAA,GAYxB3G,oBAAU,WACN4G,EACIrnB,EAAM+V,UACD/V,EAAMmnB,YAAc,IAAMnnB,EAAMmnB,YAAc,IAAM,MAE9D,CAACnnB,EAAMmnB,YAAannB,EAAM+V,UAQ7B,OAAOpU,GAAQiB,EAAQX,IACnBmP,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEgC,QAAS,OAAQgB,MAAO,OAAQ9C,OAAQ,aAClDd,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEiD,YAAa,SACvB7D,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAQ,EACR/P,GAAIU,EAAQX,IACZ2Q,MAAM,EACNd,KAAM9R,EAAMsnB,MAAQ,GAAK,MAGjClW,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEwD,KAAM,IAChBpE,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHuV,WAAY,UACZnU,QAAS,WACT0B,aAAc,SAGlB1D,EAAAC,EAAAC,cAACkW,GAAA,EAAD,CACIC,WAAS,EACTljB,MAAOmH,EACP+P,SAAU,SAAAhX,GAAC,OAAI4iB,EAAe5iB,EAAEiX,OAAOnX,QACvC2N,OAAO,QACP0Q,YAAY,gBACZpO,UAAWL,EAAQ7H,KACnBia,WAAS,IAEZ5P,EAAO5S,OAAS,GACbqN,EAAAC,EAAAC,cAAC8U,GAAD,CACIzP,OAAQA,EACR+J,cAAe,SAAAnc,GAAK,OAAI6b,EAAU7b,MAG1C6M,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,Wd9EN,IACvB1C,EACAM,EACAwX,EACA7V,EACA8V,EACAC,EALAhY,Ec+E4BhN,EAAQX,Id9EpCiO,Ec+E4BvO,EAAKM,Id9EjCylB,Ec+E4Bhc,Ed9E5BmG,Ec+E4B8E,Ed9E5BgR,Ec+E4B3nB,EAAM6nB,Qd9ElCD,Ec+E4B5nB,EAAM8nB,ed7E9Bne,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,cACbyc,eACA7V,QACA3B,SACAN,YACA+X,iBACAC,mBcsEYP,EAAe,IACfjH,EAAU,IACNpgB,EAAM+nB,QAAQ/nB,EAAM+nB,WAG5B3W,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IAAb,SAEJ5W,EAAAC,EAAAC,cAACqP,GAAA,EAAD,CACIC,OAAO,UACPqH,gBAAgB,EAChBhH,cAAe,SAAA3D,GAAc,IAAXP,EAAWO,EAAXP,KACVpG,EAAO5S,OAAS,EAChBxD,QAAQC,QACJ,2CAIRumB,GAAgB,GAChBjK,GAAWC,EAAM,SAAKoE,EAAW,SAAA3C,GAC7BuI,GAAgB,GAIZ3G,EAHC5B,EAGQ,GAAA/a,OAAAC,OAAAC,EAAA,EAAAD,CAAKiT,GAAL,CAAa6H,IAFZ9a,OAAAC,EAAA,EAAAD,CAAIiT,SAO1BvF,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,SAAA7N,GACD2c,OAAOC,cACP5c,EAAE8N,kBACF6O,OAAOE,mBAAmBC,YACtB,cAEJH,OAAOnE,SAAW,SAAAuB,GACduI,GAAgB,GAChB3G,EAAS,GAAA3c,OAAAC,OAAAC,EAAA,EAAAD,CAAKiT,GAAL,CAAa6H,SAKlCpN,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IAAb,WAGPhoB,EAAMkoB,QACH9W,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAStS,EAAMkoB,QACnB9W,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IAAb,cAMpB,+CCrFOG,GApDO,SAAAnoB,GAAS,IAAA4Y,EACaC,oBAAS,GADtBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACpB2H,EADoBzH,EAAA,GACN0H,EADM1H,EAAA,GAG3B,OAAO9Y,EAAM2W,QAAU3W,EAAM2W,OAAO5S,OAAS,EACzCqN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAC8W,GAAA,EAAD,CACIpW,MAAO,CAAEgD,MAAOhV,EAAM8R,MAAQ,OAAQI,OAAQ,UAC9CmW,KAAM,CAAE7T,UAAWL,KAAQnV,MAC3BspB,UAAQ,GAEPtoB,EAAM2W,OAAOlE,IACV,SAACZ,EAAOiE,GAAR,OACIjE,GACIT,EAAAC,EAAAC,cAAA,OACInI,IAAK2M,EACLxD,QAAS,kBAAMkO,EAAgB3O,KAE/BT,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHuW,gBAAiB,QAAU1W,EAAQ,KACnCgL,eAAgB7c,EAAMmC,MAAQ,UAC9BqmB,mBAAoB,SACpBxT,MAAOhV,EAAM8R,MAAQ,OACrBuB,OACIrT,EAAMqT,QACNrT,EAAM8R,MACN,QACJ+E,SAAU,QACV4R,iBAAkB,YAClB3T,aAAc,OACd5C,OAAQ,cAOpCd,EAAAC,EAAAC,cAACoX,GAAA,EAAD,CACIC,QAASpI,EACTqI,OAAQ,KACRC,SAAU,kBAAMrI,EAAgB,MAEhCpP,EAAAC,EAAAC,cAAA,OACIwX,IAAI,UACJ9W,MAAO,CAAEgD,MAAO,QAChBpD,IAAK2O,MAIjB,0BCvCF4D,GAAsB,SAAAnkB,GAAK,OAAIoR,EAAAC,EAAAC,cAAC8S,GAAA,EAAD1gB,OAAAif,OAAA,CAAO0B,UAAU,MAASrkB,KAEzDsT,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTwR,OAAQ,CACJ/P,SAAU,SAEd5S,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,OAIHuT,GAAA,SAAA/oB,GACX,IAAMmU,EAAUb,KAEhB,OACIlC,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIgE,YAAU,EACV/D,KAAM1hB,EAAM0hB,KACZE,QAAS5hB,EAAM4K,MACfuZ,oBAAqBA,IAErB/S,EAAAC,EAAAC,cAACoU,GAAA,EAAD,CAAQlR,UAAWL,EAAQ8Q,OAAQ7S,MAAM,WACrChB,EAAAC,EAAAC,cAACqU,GAAA,EAAD,KACIvU,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACIC,KAAK,QACLzT,MAAM,UACNE,QAAStS,EAAM4K,MACfkb,aAAW,SAEX1U,EAAAC,EAAAC,cAACyU,GAAA,EAAD,OAEJ3U,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACR5H,UAAWL,EAAQ7R,MACnB8P,MAAM,WAELpS,EAAMsC,OAEVtC,EAAMgpB,MACH5X,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQqJ,WAAS,EAAC5T,MAAM,UAAUE,QAAStS,EAAMgpB,MAC5ChpB,EAAMipB,UAAY,UAKnC7X,EAAAC,EAAAC,cAACqU,GAAA,EAAD,MACC3lB,EAAMkpB,WCDJC,GA1DM,SAAAnpB,GAAS,IAClB4C,EAAsB5C,EAAtB4C,QAAST,EAAanC,EAAbmC,KAAMD,EAAOlC,EAAPkC,GACvB,OAAIU,GAAWA,EAAQX,KAAOW,EAAQX,MAAQC,EAC7B,aAATC,EACOS,EAAQiB,iBAAiBwF,SAASnH,GACrCkP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIP,QAAQ,YACR9J,QAAS,SAAA7N,GACLA,EAAE8N,kBACF9N,EAAE2kB,iBACFnD,GAA2BrjB,EAAQX,IAAKC,KALhD,YAWAkP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNgK,QAAQ,YACR9J,QAAS,SAAA7N,GACLA,EAAE8N,kBACF9N,EAAE2kB,iBACFnD,GAAyBrjB,EAAQX,IAAKC,KAN9C,UAaGU,EAAQgD,eAAeyD,SAASnH,GACnCkP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIP,QAAQ,YACR9J,QAAS,SAAA7N,GACLA,EAAE8N,kBACF9N,EAAE2kB,iBACFnD,GAA0BrjB,EAAQX,IAAKC,KAL/C,YAWAkP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNgK,QAAQ,YACR9J,QAAS,SAAA7N,GACLA,EAAE8N,kBACF9N,EAAE2kB,iBACFnD,GAAwBrjB,EAAQX,IAAKC,KAN7C,UAcL,0BCgBImnB,GAvEE,SAAArpB,GAAS,IAAA4Y,EACUC,oBAAS,GADnBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACf0Q,EADexQ,EAAA,GACLyQ,EADKzQ,EAAA,GAAAuH,EAEExH,oBAAS,GAFXyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAEfqB,EAFepB,EAAA,GAETkJ,EAFSlJ,EAAA,GAGhBmJ,EAAUC,iBAAO,MAcvB,OAZAjJ,oBAAU,WAEFgJ,EAAQE,SACRF,EAAQE,QAAQC,aAAe5pB,EAAM6pB,eAErCN,GAAY,IAEjB,CACCE,EAAQE,SAAWF,EAAQE,QAAQC,aACnC5pB,EAAM+V,QACN/V,EAAM8pB,gBAGN1Y,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACH+X,UAAWrI,EAAO,UAAY1hB,EAAM6pB,cAAgB,KACpDP,SAAU,SACVpU,SAAU,WACVN,cAAe0U,GAAY5H,EAAO,OAAS,QAG9C1hB,EAAM+V,SACH3E,EAAAC,EAAAC,cAAA,OACI0Y,IAAKP,EACLQ,wBAAyB,CAAEC,OAAQlqB,EAAM+V,WAGhD/V,EAAM8pB,eACH1Y,EAAAC,EAAAC,cAAA,OAAK0Y,IAAKP,GACNrY,EAAAC,EAAAC,cAAC2Q,GAAD,CAAYY,UAAQ,EAACte,MAAOvE,EAAM8pB,iBAGzCR,GACGlY,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHkD,SAAU,WACViV,OAAQ,EACRnV,MAAO,SAIX5D,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACH2S,WAAY,gBACZyF,QAAS1I,EAAO,EAAI,EACpB6G,gBACI,+DACJxS,QAAS,GACT1C,OAAQ,OACR2B,MAAO,OAEPmV,OAAQ,IACRE,KAAM,IACNnV,SAAU,cAIlB9D,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQvK,MAAM,UAAUE,QAAS,kBAAMkX,GAAS9H,KAC3CA,EAAO,YAAc,gBC7DxCpO,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClR,MAAO,CACHoR,SAAU,GACVxB,OAAQ,iBACRyB,cAAe,YACfX,WAAY,QA6FLsX,GAzFE,SAAAtqB,GACb,IAAMmU,EAAUb,KADMsF,EAGMC,mBAAS7Y,EAAM2W,QAAU,IAH/BmC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAGfjC,EAHemC,EAAA,GAGPsH,EAHOtH,EAAA,GAAAuH,EAKgBxH,mBAAS7Y,EAAM+V,SAAW,IAL1CuK,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAKf3U,EALe4U,EAAA,GAKF+G,EALE/G,EAAA,GAOtBG,oBAAU,WACNL,EAAUpgB,EAAM2W,QAAU,IAC1B0Q,EAAernB,EAAM+V,SAAW,KACjC,CAAC/V,EAAM0hB,OAEV,IAAM6I,EAAa,WACfvqB,EAAMgpB,KAAKrS,EAAQjL,GACnB8e,KAGEA,EAAe,WACjBpK,EAAU,IACViH,EAAe,IACfrnB,EAAMkoB,UAGV,OACI9W,EAAAC,EAAAC,cAACyX,GAAD,CACIrH,KAAM1hB,EAAM0hB,KACZ9W,MAAO4f,EACPloB,MAAOtC,EAAMsC,MACb0mB,KAAMuB,GAENnZ,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHoB,QAAS,SACTyD,SAAU,SACV3E,OAAQ,SACR8C,MAAO,SAGX5D,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,eAOArD,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAAC2Q,GAAD,CACI1d,MAAOmH,EACPwX,eAAgB,SAAA3e,GAAK,OAAI8iB,EAAe9iB,OAGhD6M,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,UAOArD,EAAAC,EAAAC,cAAC8U,GAAD,CACIzP,OAAQA,EACR+J,cAAe,SAAAnc,GAAK,OAAI6b,EAAU7b,MAEtC6M,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACH4D,UAAW,QACX6U,UAAW,SAGfrZ,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQ7K,KAAK,QAAQQ,QAASkY,GAA9B,UAGApZ,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNgK,QAAQ,YACRtK,KAAK,QACLE,MAAO,CACHkF,WAAY,OACZjC,YAAa,QAEjB3C,QAASiY,GARb,YC9DpBnT,KAAOsT,aAAa,KAAM,CACtBC,aAAc,CACVC,OAAQ,QACRC,KAAM,KACNzmB,EAAG,MACH0mB,GAAI,MACJC,EAAG,QACHC,GAAI,UACJC,EAAG,OACHC,GAAI,SACJC,EAAG,QACHC,GAAI,UACJC,EAAG,OACHC,GAAI,SACJC,EAAG,QACHC,GAAI,UACJC,EAAG,SACHC,GAAI,cAGZtU,OAASC,SAEF,IAAM2Q,GAAY,CACrBtU,SAAU,OACVtB,MAAO,OACPuB,cAAe,QAkaJhG,eAhaC,SAAVge,EAAU3rB,GAAS,IAEjB4C,EAOA5C,EAPA4C,QACArC,EAMAP,EANAO,QACAyC,EAKAhD,EALAgD,WAEArB,GAGA3B,EAJA+C,aAIA/C,EAHA2B,MACAiqB,EAEA5rB,EAFA4rB,QACAC,EACA7rB,EADA6rB,QARiBjT,EAUmBC,oBAAS,GAV5BC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAUdkT,EAVchT,EAAA,GAUAiT,EAVAjT,EAAA,GAAAuH,EAWKxH,mBAAS,MAXdyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAWdtZ,EAXcuZ,EAAA,GAWP0L,EAXO1L,EAAA,GAAA0G,EAYiBnO,mBAAS,IAZ1BoO,EAAAvjB,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,GAYdG,EAZcF,EAAA,GAYDgF,EAZChF,EAAA,GAAAC,EAauBrO,mBAAS,IAbhCuO,EAAA1jB,OAAAqV,EAAA,EAAArV,CAAAwjB,EAAA,GAadY,EAbcV,EAAA,GAaE8E,EAbF9E,EAAA,GAAA+E,EAciBtT,oBAAS,GAd1BuT,EAAA1oB,OAAAqV,EAAA,EAAArV,CAAAyoB,EAAA,GAcdE,EAdcD,EAAA,GAcDE,EAdCF,EAAA,GAAAG,EAeW1T,mBAAS,MAfpB2T,EAAA9oB,OAAAqV,EAAA,EAAArV,CAAA6oB,EAAA,GAedE,EAfcD,EAAA,GAeJE,EAfIF,EAAA,GAAAG,EAgByB9T,oBAAS,GAhBlC+T,EAAAlpB,OAAAqV,EAAA,EAAArV,CAAAipB,EAAA,GAgBdE,EAhBcD,EAAA,GAgBGE,EAhBHF,EAAA,GAwBfG,EAAuB,WACzBD,GAAmB,IAGvB,OAAOlqB,GAAWI,EACdoO,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK9P,EAAQX,MAAQ1B,EAAQysB,QAAWlF,EA+VhC1W,EAAAC,EAAAC,cAAC2b,GAAD,CACItrB,KAAMA,EACNiB,QAASA,EACTilB,QAAStnB,EAAQ0P,UACjB6X,eAAgBA,EAChB/R,QAASxV,EAAQ+L,KACjBqK,OAAQpW,EAAQsR,MAChBkW,OAAQ,kBAAMmE,EAAkB,KAChChE,OAAQ,kBAAMgE,EAAkB,OAtWpC9a,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK1S,EAAM6rB,QACHza,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHgC,QAAS,OACTgB,MAAO,OACP9C,OAAQ,aAGZd,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEiD,YAAa,SACvB7D,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAQ,EACR/P,GAAI3B,EAAQysB,OACZpa,MAAM,KAGdxB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEwD,KAAM,IAChBpE,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACHI,MAAO,OACPY,WAAY,OACZU,SAAU,SAGdtC,EAAAC,EAAAC,cAAC2K,GAAD,CACI/Z,GAAI3B,EAAQysB,OACZpa,MAAM,EACND,OAAO,IACR,IACHvB,EAAAC,EAAAC,cAAA,OACIU,MAAOgW,GACP1V,QAAS,kBACLtS,EAAMG,QAAQC,KAEN,aADJuB,EAAKsG,OAAOC,YAER,UACIvG,EAAKsG,OAAOE,SACZ,SACAxG,EAAKM,OAIpBmV,KAAO7W,EAAQ2sB,MAAMC,WAiBzBxrB,EAAKyrB,cACF,CAAC,WAAY,OAAQ,QAAQ/jB,SACzB1H,EAAKyrB,aAAaC,cAElBjc,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEe,OAAQ,WACjBT,QAAS,kBACLtS,EAAMG,QAAQC,KACV,YACIG,EAAQysB,UAKC,aADpBrrB,EAAKyrB,aACDC,YACC,WAGA,UAFA1rB,EAAKyrB,aACAC,YAEL,QACA,UAKzBzqB,EAAQX,MAAQ1B,EAAQysB,QACrB5b,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACItT,QAAS,SAAAnH,GAAK,OACVuhB,EAAYvhB,EAAMmiB,iBAGtBlc,EAAAC,EAAAC,cAACic,GAAA,EAAD,OAEJnc,EAAAC,EAAAC,cAACkc,GAAA,EAAD,CACItrB,GAAG,cACHuqB,SAAUA,EACVgB,aAAW,EACX/L,KAAMC,QAAQ8K,GACd7K,QAAS,kBAAM8K,EAAY,QAE3Btb,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIrJ,QAAS,WACLwa,GAAmB,GACnBJ,EAAY,QAHpB,SASJtb,EAAAC,EAAAC,cAACoc,GAAD,CACIhM,KAAMmL,EACN3E,OAAQ6E,EACRzqB,MAAM,YACN0mB,KA9HT,SAACrS,EAAQjL,IpBLhB,SAACkE,EAAWM,EAAQwX,EAAc/Q,GAClDhN,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,WACb2E,YACAM,SACAwX,eACA/Q,YoBFRsP,CAAmBrjB,EAAQX,IAAKN,EAAKM,IAAKyJ,EAAaiL,GACnD3W,EAAM+nB,QAAQ/nB,EAAM+nB,SACxBgF,KA4HgCpW,OAAQpW,EAAQsR,MAChBkE,QAASxV,EAAQ+L,SAMjC8E,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEgC,QAAS,OAAQgB,MAAO,SAClC5D,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEiD,YAAa,SACvB7D,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAQ,EACR/P,GAAI3B,EAAQysB,OACZpa,MAAM,EACNd,KAAM9R,EAAMsnB,MAAQ,GAAK,MAGjClW,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEwD,KAAM,IAChBpE,EAAAC,EAAAC,cAACqc,GAAA,EAAD,CACIC,aAAc,CACVC,SAAU,SACVC,WAAY,SAEhBC,QAAQ,SACRC,aACIztB,EAAQwG,MAAMhD,OACVqN,EAAAC,EAAAC,cAACsK,GAAA,EAAD,CACIqS,KAAM7c,EAAAC,EAAAC,cAAC4c,GAAA,EAAD,MACN9b,MAAM,UACNyJ,MAAOtb,EAAQwG,MAAMhD,OACrB+N,KAAK,QACLQ,QAAS,kBACL0Z,EAASzrB,EAAQwG,UAIzB,GAIRqK,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHuV,WAAY,UACZnU,QAAS,WACT0B,aAAc,SAGlB1D,EAAAC,EAAAC,cAAC2K,GAAD,CACI/Z,GAAI3B,EAAQysB,OACZpa,MAAM,EACND,OAAO,IAEVpS,EAAQsR,OACLtR,EAAQsR,MAAM9N,OAAS,GACnBqN,EAAAC,EAAAC,cAAC6c,GAAD,CACIxX,OAAQpW,EAAQsR,MAChBwB,OAAO,SACPlR,KAAK,YAGhB5B,EAAQ+L,MACL8E,EAAAC,EAAAC,cAAA,KACIU,MAAO,CACHgF,UAAW,eAGdzW,EAAQ+L,QAKzB8E,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAAA,QACIU,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,GACEskB,GADF,CAED/S,YAAa,UAGhBmC,KAAO7W,EAAQ2sB,MAAMC,WAG1B/b,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBACL2T,GACI1lB,EAAQwG,MAAMsC,SACVzG,EAAQX,KAEN,iBACA,cACN1B,EAAQ0P,UACRrN,EAAQX,IACRN,EAAKM,OAIbmP,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IACRznB,EAAQwG,MAAMsC,SACXzG,EAAQX,KAEN,SACA,SAIb1B,EAAQysB,SAAWpqB,EAAQX,KACxBmP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,WACDtS,EAAM+rB,iBACN/rB,EAAM+rB,iBACF,GAEJ/rB,EAAMisB,eACFjsB,EAAMO,QAAQysB,UAGlBjB,GAAgB,GAChBE,EAAe,KAEnBK,GAAe,KAGnBlb,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IAAb,UAKPznB,EAAQysB,SAAWpqB,EAAQX,KACxBmP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBACL4Z,EACI3rB,EAAQ0P,aAIhBmB,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IAAb,UAMXhoB,EAAMsnB,OACPsE,GACAA,EAAQ7nB,OAAS,EACbsoB,EACIT,EAAQnZ,IAAI,SAAC2b,EAAOtY,GAAR,OACR1E,EAAAC,EAAAC,cAACqa,EAAD,CACIxiB,IAAK2M,EACLvV,QAAS6tB,EACTzsB,KAAMA,EACNiB,QAASA,EACTI,WAAYA,EACZ+oB,gBACIA,EAEJE,eACIA,MAKZ7a,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBACLga,GAAe,KAGnBlb,EAAAC,EAAAC,cAAA,QACIU,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,GACEskB,GADF,CAEDtU,SAAU,UAHlB,QAMUkY,EAAQ7nB,OAAQ,IAN1B,YAWR,KAEH/D,EAAMsnB,OAASwE,EACZ1a,EAAAC,EAAAC,cAAC2b,GAAD,CACItrB,KAAMA,EACNiB,QAASA,EACTilB,QAAStnB,EAAQ0P,UACjBkX,YAAaA,EACbe,OAAQ,kBACJ6D,GAAgB,MAGxB,QAMnBF,EACGza,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KAC6B,aAAxBnS,EAAQ8sB,aACLjc,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK,IACDtB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACHgB,WAAY,OACZD,OAAQ,UACRb,OAAQ,iBAEZI,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,aAAAqD,OAEQlD,EAAQ8tB,QAAQxnB,MAFxB,KAAApD,OAGQlD,EAAQ8tB,QAAQC,WAI3B/tB,EAAQ8tB,QAAQnd,OAI5B3Q,EAAQ+L,MACL8E,EAAAC,EAAAC,cAACid,GAAD,CACI1E,cAAe,IACfC,cAAevpB,EAAQ+L,OAG9B/L,EAAQsR,OAAStR,EAAQsR,MAAM9N,OAAS,GACrCqN,EAAAC,EAAAC,cAAC6c,GAAD,CACIxX,OAAQpW,EAAQsR,MAChBwB,OAAO,SACPlR,KAAK,aAKjBiP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,OAeZtB,EAAAC,EAAAC,cAACyX,GAAD,CACIrH,KAAMC,QAAQ5a,GACd6D,MAAO,kBAAMohB,EAAS,OACtB1pB,MAAM,iBAELyE,GACGA,EAAM0L,IAAI,SAAA5M,GAAI,OACVuL,EAAAC,EAAAC,cAACkd,GAAD,CACIppB,SAAS,EACT2R,QAAQ,EACR5N,IAAKtD,EACLiI,QACIsD,EAAAC,EAAAC,cAACmd,GAAD,CAAc7rB,QAASA,EAASV,GAAI2D,IAExCoR,KACI7F,EAAAC,EAAAC,cAAC2K,GAAD,CAAYrJ,MAAM,EAAM1Q,GAAI2D,EAAMiM,KAAM,WAMhE,6OCjPOnE,eAlKK,SAAA3N,GAAS,IAAA4Y,EACeC,oBAAS,GADxBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAClB8V,EADkB5V,EAAA,GACJ6V,EADI7V,EAAA,GAAAuH,EAEDxH,oBAAS,GAFRyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAElBqB,EAFkBpB,EAAA,GAEZkJ,EAFYlJ,EAAA,GAGnBsO,EAAa,CACfpQ,IAAKxe,EAAMyjB,MAAQrC,OAAOyN,SAASC,KACnCxsB,MAAOtC,EAAMsC,MACbiiB,MAAOvkB,EAAMukB,OAAS,gCACtBvS,MAAO,CACHE,OAAQ,OACR8B,QAAS,eACT4B,UAAW,SACX7C,OAAQ,YAGhB,OACI3B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACyd,GAAA,EAAD,CAASzsB,MAAM,QAAQ0sB,WAAY,IAAKC,WAAY,KAC/CjvB,EAAM2B,KACHyP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAMkX,GAAQ,IAAO0F,UAAW9d,EAAAC,EAAAC,cAAC6d,GAAA,EAAD,OAC7C/d,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IAAb,UAGJ5W,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CAEI5T,MAAOhS,EAAMgS,MACbM,QAAS,kBAAMkX,GAAQ,KAEvBpY,EAAAC,EAAAC,cAAC6d,GAAA,EAAD,QAIZ/d,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CAAQC,KAAMA,EAAME,QAAS,kBAAM4H,GAAQ,KACvCpY,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,kBACAzQ,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KACI1Q,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KACI1Q,EAAAC,EAAAC,cAAC8d,GAAA,EAAD1rB,OAAAif,OAAA,GACQiM,EADR,CAEIS,MAAOrvB,EAAMsC,QAEb8O,EAAAC,EAAAC,cAACge,GAAA,EAAD,CAAcxd,KAAM,GAAI0E,OAAK,IAC7BpF,EAAAC,EAAAC,cAACmE,GAAA,EAAD,kBAQJrE,EAAAC,EAAAC,cAACie,GAAA,EAAuBX,EACpBxd,EAAAC,EAAAC,cAACke,GAAA,EAAD,CAAa1d,KAAM,GAAI0E,OAAK,IAC5BpF,EAAAC,EAAAC,cAACmE,GAAA,EAAD,iBAEJrE,EAAAC,EAAAC,cAACme,GAAA,EAAwBb,EACrBxd,EAAAC,EAAAC,cAACoe,GAAA,EAAD,CAAc5d,KAAM,GAAI0E,OAAK,IAC7BpF,EAAAC,EAAAC,cAACmE,GAAA,EAAD,kBAEJrE,EAAAC,EAAAC,cAACqe,GAAA,EAAyBf,EACtBxd,EAAAC,EAAAC,cAACse,GAAA,EAAD,CAAe9d,KAAM,GAAI0E,OAAK,IAC9BpF,EAAAC,EAAAC,cAACmE,GAAA,EAAD,mBAWJrE,EAAAC,EAAAC,cAACue,GAAA,EAAwBjB,EACrBxd,EAAAC,EAAAC,cAACwe,GAAA,EAAD,CAAche,KAAM,GAAI0E,OAAK,IAC7BpF,EAAAC,EAAAC,cAACmE,GAAA,EAAD,kBA2BJrE,EAAAC,EAAAC,cAACye,GAAA,EAADrsB,OAAAif,OAAA,GAAmBiM,EAAnB,CAA+B/c,MAAO7R,EAAMukB,QACxCnT,EAAAC,EAAAC,cAAC0e,GAAA,EAAD,CAAQle,KAAM,GAAI0E,OAAK,IACvBpF,EAAAC,EAAAC,cAACmE,GAAA,EAAD,YAqBJrE,EAAAC,EAAAC,cAAC2e,GAAA,EAADvsB,OAAAif,OAAA,GACQiM,EADR,CAEIsB,QAASlwB,EAAMsC,MACf2U,KAAK,SAEL7F,EAAAC,EAAAC,cAAC6e,GAAA,EAAD,CAAWre,KAAM,GAAI0E,OAAK,IAC1BpF,EAAAC,EAAAC,cAACmE,GAAA,EAAD,eAGJrE,EAAAC,EAAAC,cAAC8e,GAAA,gBAAD1sB,OAAAif,OAAA,CACIrW,KAAMsiB,EAAWpQ,KACboQ,EAFR,CAGIyB,OAAQ,kBAAM1B,GAAgB,MAE9Bvd,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAACgf,GAAA,EAAD,CAAUte,MAAO,CAAE0B,SAAU,MAC7BtC,EAAAC,EAAAC,cAACmE,GAAA,EAAD,qBAKhBrE,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAMkX,GAAQ,KAA/B,WAGRpY,EAAAC,EAAAC,cAACif,GAAA,EAAD,CACI7O,KAAMgN,EACN8B,iBAAkB,IAClB5O,QAAS,kBAAM+M,GAAgB,KAE/Bvd,EAAAC,EAAAC,cAACmf,GAAA,EAAD,CACI7O,QAAS,kBAAM+M,GAAgB,IAC/B+B,SAAS,WAFb,+jCC3LhB,IAAMpd,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClR,MAAO,CACHoR,SAAU,GACVxB,OAAQ,iBACRyB,cAAe,YACfX,WAAY,QA0NLrF,eAtNF,SAAA3N,GACT,IAAMmU,EAAUb,KACR3R,EAA4C3B,EAA5C2B,KAAMiB,EAAsC5C,EAAtC4C,QAASI,EAA6BhD,EAA7BgD,WAAYD,EAAiB/C,EAAjB+C,aAC7B4tB,EAAa3wB,EAAMG,QAAQ0uB,SAAS+B,SAASthB,QAAQ3N,EAAKM,MAAQ,EAHtD2W,EAIcC,mBAAS7Y,EAAMqsB,aAAesE,GAJ5C7X,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAIXiY,EAJW/X,EAAA,GAIDgY,EAJChY,EAAA,GAAAuH,EAKQxH,mBAAS,MALjByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAKXtZ,EALWuZ,EAAA,GAKJ0L,EALI1L,EAAA,GAaZyQ,EAAUrH,iBAAO,MAWvB,OATAjJ,oBAAU,WACFkQ,GAAcI,EAAQpH,UACtBvI,OAAO4P,SAAS,CACZC,IAAKF,EAAQpH,QAAQuH,UAAY,GACjCC,SAAU,WAEdL,GAAY,KAEjB,CAACH,IACGhvB,EACHyP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACKie,GACGvf,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,aAQJrD,EAAAC,EAAAC,cAACuD,GAAA,EAAD,CAAMuc,UAAWT,GAAc,GAC3Bvf,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CAAayU,IAAK+G,IACZ/wB,EAAMqxB,gBACJjgB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACggB,GAAD,CACI/wB,QAASoB,EAAKyrB,aACdzrB,KAAMA,EACNiB,QAASA,EACTI,WAAYA,EACZD,aAAcA,EACd6oB,QAAS,GACTC,SAAS,IAGZlqB,EAAKyrB,aAAarmB,MAAMhD,OAAS,GAC9BqN,EAAAC,EAAAC,cAACsK,GAAA,EAAD,CACIqS,KAAM7c,EAAAC,EAAAC,cAAC4c,GAAA,EAAD,MACN9b,MAAM,UACNyJ,MAAOla,EAAKyrB,aAAarmB,MAAMhD,OAC/B+N,KAAK,QACLQ,QAAS,kBACL0Z,EAASrqB,EAAKyrB,aAAarmB,QAE/BiL,MAAO,CAAEuf,aAAc,UAG/BngB,EAAAC,EAAAC,cAACkgB,GAAA,EAAD,OAIRpgB,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACH4D,UAAW,OAEXV,SAAU,cAGZlV,EAAMyxB,gBACJrgB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHgC,QAAS,OACTqB,eAAgB,iBAGpBjE,EAAAC,EAAAC,cAAA,QAAMnI,IAAI,sBACNiI,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBACL2T,GACItkB,EAAKyrB,aAAarmB,MAAMsC,SACpBzG,EAAQX,KAEN,iBACA,cACNN,EAAKyrB,aAAand,UAClBrN,EAAQX,IACRN,EAAKM,MAGbitB,UAAW9d,EAAAC,EAAAC,cAACogB,GAAA,EAAD,OAEXtgB,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IACRrmB,EAAKyrB,aAAarmB,MAAMsC,SACrBzG,EAAQX,KAEN,SACA,UAIlBmP,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMwe,GAAY,IAC3B5B,UAAW9d,EAAAC,EAAAC,cAACqgB,GAAA,EAAD,OAEXvgB,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IAAb,aAKR5W,EAAAC,EAAAC,cAAA,QAAMnI,IAAI,sBACNiI,EAAAC,EAAAC,cAACsgB,GAAD,CACIjwB,MAAI,EACJ8hB,KAEQ,aADJ9hB,EAAKsG,OAAOC,YAEZ,8BACIvG,EAAKsG,OAAOE,SACZ,SACAxG,EAAKM,IAEbsiB,MACI5iB,EAAKyrB,aAAavb,OAClBlQ,EAAKyrB,aAAavb,MAAM9N,OACpB,GACJpC,EAAKyrB,aAAavb,MAAM,GAE5BvP,MACI,2GAKhB8O,EAAAC,EAAAC,cAACkgB,GAAA,EAAD,OAGNX,EAgBEzf,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAC2b,GAAD,CACItrB,KAAMA,EACNiB,QAASA,EACT0kB,OAAO,IAEV3lB,EAAKkwB,UAAYlwB,EAAKkwB,SAAS9tB,OAC1BpC,EAAKkwB,SAASpf,IAAI,SAAClS,EAASuV,GAAV,OACd1E,EAAAC,EAAAC,cAACggB,GAAD,CACInoB,IAAK2M,EACLvV,QAASA,EACToB,KAAMA,EACNiB,QAASA,EACTI,WAAYA,EACZ4oB,QAASrrB,EAAQqrB,QACjBtE,OAAO,MAGf,MAjCV3lB,EAAKkwB,SAAS9tB,OAAS,GACnBqN,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAMwe,GAAY,KAC/B1f,EAAAC,EAAAC,cAAA,QACIU,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,GACEskB,GADF,CAEDtU,SAAU,UAHlB,OAMS,IAhJb,SAAAme,GACxB,IADoC7tB,EAChCwK,EAAS,EADuBvK,EAAA6tB,GAEnBD,GAFmB,IAEpC,IAAA5tB,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MACIkK,EAASA,EAAS,EADKxK,EAAAO,MACIqnB,QAAQ7nB,OAHH,MAAAS,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAKpC,OAAO8J,EA4I0BujB,CAAoBpwB,EAAKkwB,UAAW,IAPzC,gBAqCxBzgB,EAAAC,EAAAC,cAACyX,GAAD,CACIrH,KAAMC,QAAQ5a,GACd6D,MAAO,kBAAMohB,EAAS,OACtB1pB,MAAM,iBAELyE,GACGA,EAAM0L,IAAI,SAAA5M,GAAI,OACVuL,EAAAC,EAAAC,cAACkd,GAAD,CACIppB,SAAS,EACT2R,QAAQ,EACR5N,IAAKtD,EACLiI,QACIsD,EAAAC,EAAAC,cAACmd,GAAD,CAAc7rB,QAASA,EAASV,GAAI2D,IAExCoR,KACI7F,EAAAC,EAAAC,cAAC2K,GAAD,CAAYrJ,MAAM,EAAM1Q,GAAI2D,EAAMiM,KAAM,UAK3D6e,GACGvf,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,gBASR,OCnPOud,GAAA,SAAChyB,EAAOC,EAAMmC,EAASuhB,EAAS1G,GAc3Czb,IACKN,IAAI,OAASlB,EAAMG,QAAQ0uB,SAAS+B,UACpC3S,KAAK,SAAAle,GACFD,EAAWC,EAAKC,GAOhBoC,EAAQrC,EAAIE,MACZgd,EAASld,EAAIE,QAEhB+f,MAAM,SAAAxb,oECNT5D,GAAU,IAAIf,IACdskB,GAAsB,SAAAnkB,GAAK,OAAIoR,EAAAC,EAAAC,cAAC8S,GAAA,EAAD1gB,OAAAif,OAAA,CAAO0B,UAAU,MAASrkB,KAmJhD2N,eAjJI,SAAA3N,GAAS,IAAA4Y,EACEC,oBAAS,GADXC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACjBlP,EADiBoP,EAAA,GACV1L,EADU0L,EAAA,GAAAuH,EAEkBxH,oBAAS,GAF3ByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAEjB4R,EAFiB3R,EAAA,GAEF4R,EAFE5R,EAAA,GAIxBG,oBAAU,WACN0R,MAGJ,IAAIC,EAAiB,oBACjB1oB,IACA0oB,EAAiB,oBAGrB,IAAMD,EAAqB,WACAvxB,GAAQM,IAAI,oBAE/BgxB,GAAiB,IAWnBG,EAEI,iCAEV,OAAOryB,EAAMsyB,aACRL,EA4BG7gB,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIgE,YAAU,EACV/D,KAAM1hB,EAAMsyB,aACZ1Q,QAAS,kBAAM5hB,EAAMuyB,iBAAgB,IACrCpO,oBAAqBA,IAErB/S,EAAAC,EAAAC,cAAA,OAAKkD,UAAU,cACXpD,EAAAC,EAAAC,cAAA,OACIkD,UAAWL,KAAQtV,UACnBmT,MAAO,CACH6E,SAAU,QACV3E,OAAQ,WAGZd,EAAAC,EAAAC,cAAA,MACIU,MAAO,CACHgB,WAAY,OACZwf,WAAY,QACZjB,aAAc,EACd7d,SAAU,UALlB,wBAUAtC,EAAAC,EAAAC,cAAA,oDACAF,EAAAC,EAAAC,cAAA,OACIkD,UAAWL,KAAQrV,cACnBkT,MAAO,CAAEuf,aAAc,SAEvBngB,EAAAC,EAAAC,cAACmhB,GAAA,oBAAD,CACIngB,QAAS,kBACJ8O,OAAOyN,SACJwD,EAAQ,iBAAA5uB,OACS2uB,MAG7BhhB,EAAAC,EAAAC,cAACmhB,GAAA,kBAAD,CACIngB,QAAS,kBACJ8O,OAAOyN,SACJwD,EAAQ,eAAA5uB,OACO2uB,MAG3BhhB,EAAAC,EAAAC,cAACmhB,GAAA,qBAAD,CACIngB,QAAS,kBACJ8O,OAAOyN,SACJwD,EAAQ,kBAAA5uB,OACU2uB,MAG9BhhB,EAAAC,EAAAC,cAACmhB,GAAA,kBAAD,CACIngB,QAAS,kBACJ8O,OAAOyN,SACJwD,EAAQ,eAAA5uB,OACO2uB,OAI/BhhB,EAAAC,EAAAC,cAACohB,GAAA,EAAD,CACIC,QACIvhB,EAAAC,EAAAC,cAACshB,GAAA,EAAD,CACIC,QAASnpB,EACT+R,SAAU,kBAAMrO,GAAU1D,IAC1B0I,MAAM,YAGdyJ,MAAM,gBAGVzK,EAAAC,EAAAC,cAACkgB,GAAA,EAAD,CAASxf,MAAO,CAAEE,OAAQ,UAE1Bd,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMtS,EAAMuyB,iBAAgB,IACrCngB,MAAM,aAFV,2BAOJhB,EAAAC,EAAAC,cAAA,OAAKkD,UAAWL,KAAQpV,eAzGhCqS,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CAAQC,MAAOuQ,GACX7gB,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,KAAc,mBACdzQ,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KACI1Q,EAAAC,EAAAC,cAACwhB,GAAA,EAAD,gHAKJ1hB,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,WACLtS,EAAMuyB,iBAAgB,GACtBL,GAAiB,KAHzB,YAQA9gB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QA/BK,WACrB1R,GAAQsL,IAAI,kBAAmB,OAAQ,CACnC7K,KAAM,IACN0xB,OAAQ,SAEZZ,KA2BgB/f,MAAM,UACN4T,WAAS,GAHb,WA4FZ,iBCrJOgN,GAdK,SAAAhzB,GAAK,OACrBA,EAAM4C,QAAQX,IACVmP,EAAAC,EAAAC,cAAC2hB,GAAD,CACIC,SAAU,SAAA3uB,I3BsDO,SAACqL,EAAWrL,GACjCoF,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,gBACb2E,YACArL,W2B3DA0hB,CAAwBjmB,EAAM4C,QAAQX,IAAKsC,GAC3CvE,EAAMmzB,yBAAwB,GAC9B7T,SAASrI,KAAKmc,gBAAgB,UAElCxwB,QAAS5C,EAAM4C,QACfI,WAAYhD,EAAMgD,WAClBklB,OAAQloB,EAAMkoB,SAElB,wICqMOmL,GA/MY,SAAArzB,GAAS,IAAA4Y,EACAC,mBAAS,MADTC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACzB6T,EADyB3T,EAAA,GACf4T,EADe5T,EAAA,GAExBwa,EAA+DtzB,EAA/DszB,gBAAiBC,EAA8CvzB,EAA9CuzB,eAAgBC,EAA8BxzB,EAA9BwzB,YAAavxB,EAAiBjC,EAAjBiC,IAAKW,EAAY5C,EAAZ4C,QACrDgN,EAAYhN,EAAUA,EAAQX,IAAM,GAC1C,IAAK2N,EAAW,OAAO,KACvB,IAAM6jB,EAAc,WAChB/G,EAAY,OAEVgH,EAAc,SAAAvoB,GAChBuhB,EAAYvhB,EAAMmiB,gBAGtB,OAAI1d,IAAc3N,EACPjC,EAAM2zB,kBACTviB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CAAYtT,QAAS,SAAA7N,GAAC,OAAIivB,EAAYjvB,KAClC2M,EAAAC,EAAAC,cAACic,GAAA,EAAD,OAEJnc,EAAAC,EAAAC,cAACkc,GAAA,EAAD,CACIf,SAAUA,EACVgB,aAAW,EACX/L,KAAMC,QAAQ8K,GACd7K,QAAS6R,GAERzzB,EAAM2zB,kBAAkBlhB,IAAI,SAACmhB,EAAQ9d,GAAT,OACzB1E,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAK2M,EAAQ,IACbxD,QAAS,WACLshB,EAAOthB,UACPmhB,MAGHG,EAAOtxB,WAKxB,KAGJ8O,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK1S,EAAM6zB,UACH7zB,EAAM8zB,OACF1iB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,SAAA7N,GAAC,OAAIivB,EAAYjvB,IAC1B2X,QAAQ,YACRhK,MAAM,WAHV,WAQAhB,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CAAYtT,QAAS,SAAA7N,GAAC,OAAIivB,EAAYjvB,KAClC2M,EAAAC,EAAAC,cAACic,GAAA,EAAD,OAGR+F,EAAgBrlB,KAAK,SAAApI,GAAI,OAAIA,EAAKR,SAAWpD,IAC7CmP,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNE,QAAS,SAAA7N,GACLA,EAAE2kB,iBACF3kB,EAAE8N,kBACF0T,GAAuBrW,EAAW3N,KAL1C,qBAUAmP,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CAAYtT,QAAS,SAAA7N,GAAC,OAAIivB,EAAYjvB,KAClC2M,EAAAC,EAAAC,cAACic,GAAA,EAAD,QAGP,GAAA9pB,OAAAC,OAAAC,EAAA,EAAAD,CAAI8vB,GAAJ9vB,OAAAC,EAAA,EAAAD,CAAoB4vB,GAApB5vB,OAAAC,EAAA,EAAAD,CAAwC6vB,IAAgBtlB,KACvD,SAAApI,GAAI,OAAIA,EAAKR,SAAWpD,IAiB1BjC,EAAM8zB,OACN1iB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,SAAA7N,GAAC,OAAIivB,EAAYjvB,IAC1B2X,QAAQ,YACRhK,MAAM,WAHV,WAQAhB,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CAAYtT,QAAS,SAAA7N,GAAC,OAAIivB,EAAYjvB,KAClC2M,EAAAC,EAAAC,cAACic,GAAA,EAAD,OAzBJnc,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNE,QAAS,SAAA7N,GACLA,EAAE2kB,iBACF3kB,EAAE8N,kBACF0T,GAAoBrW,EAAW3N,KALvC,kBAUAmP,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CAAYtT,QAAS,SAAA7N,GAAC,OAAIivB,EAAYjvB,KAClC2M,EAAAC,EAAAC,cAACic,GAAA,EAAD,QAgBZnc,EAAAC,EAAAC,cAACkc,GAAA,EAAD,CACIf,SAAUA,EACVgB,aAAW,EACX/L,KAAMC,QAAQ8K,GACd7K,QAAS6R,GAERzzB,EAAM6zB,WACHP,EAAgBrlB,KAAK,SAAApI,GAAI,OAAIA,EAAKR,SAAWpD,KACzCmP,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAK,EACLmJ,QAAS,WACL2T,GAAuBrW,EAAW3N,GAClCwxB,MAJR,qBAUPzzB,EAAM6zB,YACF,GAAApwB,OAAAC,OAAAC,EAAA,EAAAD,CACM8vB,GADN9vB,OAAAC,EAAA,EAAAD,CAEM4vB,GAFN5vB,OAAAC,EAAA,EAAAD,CAGM6vB,IACLtlB,KAAK,SAAApI,GAAI,OAAIA,EAAKR,SAAWpD,KAC3BmP,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAK,EACLmJ,QAAS,WACL2T,GAAoBrW,EAAW3N,GAC/BwxB,MAJR,kBAUPzzB,EAAM2zB,mBACH3zB,EAAM2zB,kBAAkBlhB,IAAI,SAACmhB,EAAQ9d,GAAT,OACxB1E,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAK2M,EAAQ,IACbxD,QAAS,WACLshB,EAAOthB,QACPmhB,MAGHG,EAAOtxB,SAGnBgxB,EAAgBrlB,KAAK,SAAApI,GAAI,OAAIA,EAAKR,SAAWpD,IAC1CmP,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAI,IACJmJ,QAAS,WACL2T,GAAmBrW,EAAW3N,GAC9BwxB,MAJR,WASAF,EAAetlB,KAAK,SAAApI,GAAI,OAAIA,EAAKR,SAAWpD,IAC5CmP,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAI,IACJmJ,QAAS,WACL2T,GAAmBrW,EAAW3N,GAC9BwxB,MAJR,qBASAD,EAAYvlB,KAAK,SAAApI,GAAI,OAAIA,EAAKR,SAAWpD,IACzCmP,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAI,IACJmJ,QAAS,WACL2T,GAAmBrW,EAAW3N,GAC9BwxB,MAJR,YASA,KACHzzB,EAAM+zB,SAAW,KAAOnxB,EAAQgD,eAAeyD,SAC1CpH,GAEFmP,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAI,IACJmJ,QAAS,WACL2T,GAA0BrW,EAAW3N,GACrCwxB,MAJR,YAUAriB,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIxS,IAAI,IACJmJ,QAAS,WACL2T,GAAwBrW,EAAW3N,GACnCwxB,MAJR,aClJL9lB,eACXC,YAjBoB,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,QACfS,SAAUqG,EAAMrG,WAIG,SAACtC,GACxB,MAAO,CACHqB,QAAS,SAACnC,EAAM4N,GAAP,OACL9M,EAAS+M,EAAgB7N,KAC7BY,QAAS,SAACb,EAAOg0B,GAAR,OACLjzB,EAAS+M,EAAgB9N,OAKjC4N,CA7Ce,SAAA5N,GACf,OACIoR,EAAAC,EAAAC,cAACkd,GAAD,CACIppB,SAAS,EACT2R,QAAQ,EACRjJ,QACIsD,EAAAC,EAAAC,cAAC2iB,GAAD,CACIrxB,QAAS5C,EAAM4C,QACf4wB,YAAaxzB,EAAMwzB,YACnBD,eAAgBvzB,EAAMuzB,eACtBD,gBAAiBtzB,EAAMszB,gBACvBrxB,IAAKjC,EAAMqF,OAAOpD,IAClB0xB,kBAAmB,CACf,CACIrxB,MAAO,cACPgQ,QAAS,kBACLtS,EAAMG,QAAQC,KACV,YAAcJ,EAAMqF,OAAOpD,QAI3CiyB,SAAS,IAGjBjd,KAAM7F,EAAAC,EAAAC,cAAC2K,GAAD,CAAYrJ,MAAM,EAAM1Q,GAAIlC,EAAMqF,OAAOpD,IAAK6P,KAAM,sjCChBtE,IAAMwB,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACT6Q,KAAM,CACFlR,QAAS,UACTY,QAAS,OACTC,WAAY,SACZ4C,SAAU,IACV7B,MAAO,OACP9C,OAAQ,aAEZiiB,MAAO,CACHjd,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,EACNtD,OAAQ,QAEZkiB,WAAY,CACRhhB,QAAS,QA6ENxF,eAbS,SAAAlE,GACpB,MAAO,CACH2qB,aAAc3qB,EAAMnB,qBAID,SAACxH,GACxB,MAAO,CACHwB,sBAAuB,SAAAtC,GAAI,OACvBc,EAAS+M,EAA8B7N,OAIpC2N,CAzEI,SAAA5N,GACf,IAAMmU,EAAUb,KAChBmN,oBAAU,WACNzgB,EAAMuC,sBAAsB,IAC5B+xB,EAAe,KAChB,CAACt0B,EAAM0hB,OALc,IAAA9I,EAMcC,mBAAS,IANvBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAMjB2b,EANiBzb,EAAA,GAMJwb,EANIxb,EAAA,GAOhBlW,EAAsC5C,EAAtC4C,QAASI,EAA6BhD,EAA7BgD,WAAYqxB,EAAiBr0B,EAAjBq0B,aAE7B,IAAKzxB,EAAQX,IAAK,OAAO,KACzB,IAAMuxB,EAAc,GAChBD,EAAiB,GACjBD,EAAkB,GAEtB,GAAI1wB,EAAQwC,QAAS,KAAApB,EAAAC,EAAAuwB,GACE5xB,EAAQwC,SADV,IACjB,IAAAnB,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAoC,KAA3Be,EAA2BrB,EAAAO,MAC1BkwB,EAAU/wB,OAAAoP,EAAA,EAAApP,CAAA,GAAQV,EAAWqC,EAAOA,QAAYA,GAClDovB,IAC0B,WAAtBA,EAAW9zB,OAAqB6yB,EAAYpzB,KAAKq0B,GACtB,YAAtBA,EAAW9zB,OAChB4yB,EAAenzB,KAAKq0B,GACO,aAAtBA,EAAW9zB,QAChB2yB,EAAgBlzB,KAAKq0B,KARhB,MAAAjwB,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,KAarB,OACI0M,EAAAC,EAAAC,cAACzS,GAAA,EAAD,CAAWmT,MAAO,CAAEwS,WAAY,OAAQ3N,SAAU,UAC9CzF,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,QAAQsY,MAAM,UAAlC,sEAIAtjB,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAOF,UAAWL,EAAQmQ,MACtBlT,EAAAC,EAAAC,cAACqjB,GAAA,EAAD,CACIngB,UAAWL,EAAQggB,MACnBvR,YAAY,gBACZnH,SAAU,SAAAhX,GAAC,OAAI6vB,EAAe7vB,EAAEiX,OAAOnX,UAE3C6M,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACIpR,UAAWL,EAAQigB,WACnB9hB,QAAS,kB1B5EAsiB,E0B4E8BL,O1B3EnD5qB,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,gBACb2pB,aALa,IAAAA,I0B8ETxjB,EAAAC,EAAAC,cAACujB,GAAA,EAAD,QAGPR,EAAatwB,OAAS,GACnBswB,EAAa5hB,IAAI,SAAApN,GAAM,OACnB+L,EAAAC,EAAAC,cAACwjB,GAADpxB,OAAAif,OAAA,GACQ3iB,EADR,CAEIqF,OAAQA,EACRmuB,YAAaA,EACbF,gBAAiBA,EACjBC,eAAgBA,8DCjFlCjgB,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTshB,SAAU,CACN7iB,OAAQsB,EAAM0R,QAAQ,EAAG,GAAK,EAAG,IAErC8P,aAAatxB,OAAA+L,EAAA,EAAA/L,CAAA,CACTsQ,QAAS,QACRR,EAAMyhB,YAAYC,GAAG,MAAQ,CAC1BlhB,QAAS,UAGjBmhB,aAAazxB,OAAA+L,EAAA,EAAA/L,CAAA,CACTsQ,QAAS,SACRR,EAAMyhB,YAAYC,GAAG,MAAQ,CAC1BlhB,QAAS,aAoFVpG,eANS,SAAAlE,GACpB,MAAO,CACH0rB,gBAAiB1rB,EAAMqrB,WAIhBnnB,CA/EU,SAAA5N,GAAS,IACtBo1B,EAAoBp1B,EAApBo1B,gBADsBC,EAEVC,eAAZC,EAFsBF,EAEtBE,KAAMC,EAFgBH,EAEhBG,EACRrhB,EAAUb,KAHcsF,EAKUC,mBAAS,MALnBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAKvB6c,EALuB3c,EAAA,GAKT4c,EALS5c,EAAA,GASxB6c,EAA0B,SAAA3pB,GACxBA,GAAMupB,EAAKK,eAAe5pB,GAC9B0pB,EAAgB,OAEdG,EAAkB,CACpB,CAAE7pB,KAAM,KAAMM,KAAM,WACpB,CAAEN,KAAM,KAAMM,KAAM,+CAGxB,OACI8E,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACyd,GAAA,EAAD,CAASzsB,MAAOkzB,EAAE,kBAAmBxG,WAAY,KAC7C5d,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACN0jB,YAAWL,EAAe,qBAAkBtU,EAC5C4U,gBAAc,OACdzjB,QAnBgB,SAAAnH,GAC5BuqB,EAAgBvqB,EAAMmiB,gBAmBV0I,yBAAuB,SACvBC,uBAAqB,YAErB7kB,EAAAC,EAAAC,cAAC4kB,GAAA7kB,EAAD,CAAcmD,UAAWL,EAAQghB,eACjC/jB,EAAAC,EAAAC,cAAA,QACIkD,UACIxU,EAAMm2B,SACAhiB,EAAQ4gB,SACR,CAAC5gB,EAAQ4gB,SAAU5gB,EAAQ6gB,cAAcoB,KACrC,MAIbP,EAAgB1oB,OACb,SAAA4nB,GAAQ,OAAIA,EAAS/oB,OAASopB,IAChCrxB,OAAS,EACL8xB,EAAgB1oB,OACZ,SAAA4nB,GAAQ,OAAIA,EAAS/oB,OAASopB,IAChC,GAAG9oB,KACLupB,EAAgB,GAAGvpB,MAE7B8E,EAAAC,EAAAC,cAAC+kB,GAAAhlB,EAAD,CAAgBqC,SAAS,YAIjCtC,EAAAC,EAAAC,cAACkc,GAAA,EAAD,CACItrB,GAAG,gBACHuqB,SAAUgJ,EACV/T,KAAMC,QAAQ8T,GACd7T,QAAS,kBAAM+T,MAEdE,EAAgBpjB,IAAI,SAAAsiB,GAAQ,OACzB3jB,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACI2a,UAAU,IACVC,eAAa,OACbptB,IAAK4rB,EAAS/oB,KACdwqB,SAAUjB,EAAKR,WAAaA,EAAS/oB,KACrCsG,QAAS,kBAAMqjB,EAAwBZ,EAAS/oB,QAE/C+oB,EAASzoB,oiCC/ClC,IAAMgH,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTgjB,UAAW,CACPC,MAAO,OAEPvM,OAAQ,OACRjV,SAAU,SAEdhV,OAAQ,CACJmqB,KAAM7W,EAAM0R,QAAQ,GACpBiF,OAAQ3W,EAAM0R,QAAQ,GACtBhQ,SAAU,SAEdyhB,MAAO,CACHD,MAAO,OACPvM,OAAQ,OACRjV,SAAU,SAEd0hB,KAAM,CACFF,MAAO,OACPvM,OAAQ,OACRjV,SAAU,SAEdvD,OAAQ,CACJiV,OAAQ,aAAepT,EAAMK,QAAQC,QAAQC,MAEjDzR,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,GAEVqhB,UAAUnzB,OAAA+L,EAAA,EAAA/L,CAAA,CACNwO,OAAQsB,EAAM0R,QAAQ,EAAG,GAAK,EAAG,GACjClR,QAAS,QACRR,EAAMyhB,YAAYC,GAAG,MAAQ,CAC1BlhB,QAAS,WAGjB8iB,SAASpzB,OAAA+L,EAAA,EAAA/L,CAAA,CACLsQ,QAAS,UACRR,EAAMyhB,YAAYC,GAAG,MAAQ,CAC1BlhB,QAAS,aAMnBmQ,GAAsB,SAAAnkB,GAAK,OAAIoR,EAAAC,EAAAC,cAAC8S,GAAA,EAAD1gB,OAAAif,OAAA,CAAO0B,UAAU,MAASrkB,KA2chD2N,eAAWC,YAXF,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,QACfS,SAAUqG,EAAMrG,SAChB0zB,kBAAmBrtB,EAAMqtB,kBACzBC,eAAgBttB,EAAMstB,eACtBh0B,WAAY0G,EAAM1G,WAClB+xB,SAAUrrB,EAAMqrB,WAIEnnB,CAzcJ,SAAA5N,GAClB,IAD2BgE,EACrBizB,EAASvN,mBACTxT,EAAUghB,aAAc,SAAA1jB,GAAK,OAAIA,EAAMyhB,YAAYC,GAAG,QACpDtyB,EAAsB5C,EAAtB4C,QAASmyB,EAAa/0B,EAAb+0B,SAHUnc,EAKaC,oBAAS,GALtBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAKpB0Z,EALoBxZ,EAAA,GAKNyZ,EALMzZ,EAAA,GAAAuH,EAM6BxH,oBAAS,GANtCyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAMpB8W,EANoB7W,EAAA,GAME6S,EANF7S,EAAA,GAAA0G,EAOenO,oBAAS,GAPxBoO,EAAAvjB,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,GAOpBoQ,EAPoBnQ,EAAA,GAOLoQ,EAPKpQ,EAAA,GAAAC,EAQerO,oBAAS,GARxBuO,EAAA1jB,OAAAqV,EAAA,EAAArV,CAAAwjB,EAAA,GAQpBoQ,EARoBlQ,EAAA,GAQLmQ,EARKnQ,EAAA,GAUrBoQ,EAAW,SAAAhZ,GAAG,OAAIxe,EAAMG,QAAQC,KAAKoe,IAErCiZ,EAAmD,sBAApCz3B,EAAMG,QAAQ0uB,SAAS+B,SAExC8G,EAAqB,EAdEzzB,EAAA0zB,GAgBX33B,EAAM+2B,mBAhBK,IAgB3B,IAAA9yB,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAyC,KAAhCszB,EAAgC5zB,EAAAO,MACjC8R,SAASuhB,EAAIC,OAASxhB,SAASzT,EAAQk1B,aAAe,IACtDJ,KAlBmB,MAAAlzB,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAoB3B,IAAMqzB,EAAU/3B,EAAMqD,UAAYT,EAAQX,IAEpCkS,EAAUb,KACV0kB,GAAiBC,eAKjBC,GACDhiB,GALiB,SAAAiiB,GAAS,IAAAxzB,EAAAC,EAAA+yB,GACVQ,GADU,IAC3B,IAAAvzB,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAA,KAASjD,EAATsD,EAAAJ,MACI,GAAsD,IAAlDvE,EAAMG,QAAQ0uB,SAAS+B,SAASthB,QAAQjO,GAAa,OAAO,GAFzC,MAAAmD,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,KAKf0zB,CAAc,CAAC,SAAU,SAAU,WAAY,aAC/D,OAAOp4B,EAAMq4B,KACTr4B,EAAMkpB,SAEN9X,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAA,OACIkD,UAAW8jB,UACXtmB,MAAOhS,EAAMu4B,MAAQ,CAAEhR,WAAY,QAAW,IAE9CnW,EAAAC,EAAAC,cAAC8S,GAAA,EAAD,CAAOoU,QAAQ,EAAOnU,UAAU,OAAOoU,GAAIT,GACvC5mB,EAAAC,EAAAC,cAACoU,GAAA,EAAD,CAAQ0L,UAAW,EAAGhf,MAAM,aACvBpS,EAAMg3B,iBAAmBe,GACtB3mB,EAAAC,EAAAC,cAAConB,GAAA,EAAD,CACI1mB,MAAO,CACHgD,MAAO,OACPE,SAAU,WACV+b,IAAK,EACL5G,KAAM,KAKlBjZ,EAAAC,EAAAC,cAACqU,GAAA,EAAD,KACIvU,EAAAC,EAAAC,cAAA,OACIqnB,SAAU,EACV3O,IAAKiN,EACLjlB,MAAO,CAAEgD,MAAO,EAAG3B,OAAQ,KAS7BzQ,EAAQX,KAAOjC,EAAM44B,QACnBxnB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEgC,QAAS,OAAQwB,KAAM,IACjCpE,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEgC,QAAS,OAAQwB,KAAM,IACjCpE,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQ2Z,UAAWuC,IAAM5lB,GAAI,KACzB7B,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHqB,OAAQ,OACR6B,SAAU,WACVmV,KAAM,GAEVzY,IAAI,4BAERR,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHqB,OAAQ,OACRylB,WAAY,UAEhBlnB,IAAI,4BAERR,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,SACR5H,UAAWL,EAAQ0iB,WAFvB,cAQRzlB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEgC,QAAS,SACnB5C,EAAAC,EAAAC,cAACynB,GAAD,MAEA3nB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACI2Z,UAAWuC,IACX5lB,GAAE,IAAAxP,OACe,OAAbsxB,EACMA,EAAW,IACX,GAHR,QAKF/iB,MAAO,CAAEiD,YAAa,SAEtB7D,EAAAC,EAAAC,cAAC0nB,GAAA,EAAD,CACIxkB,UAAWL,EAAQ2iB,WAEvB1lB,EAAAC,EAAAC,cAAA,QAAMkD,UAAWL,EAAQ0iB,WAAzB,SAKFkB,GAAWN,IACXM,GAAW/3B,EAAMg3B,eACf5lB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBACLtS,EAAMG,QAAQC,KACV,YAGRoU,UAAWL,EAAQjU,QANvB,WAWC0C,EAAQX,KACLmP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIP,QAAQ,YACRhK,MAAM,UAENE,QAAS,kBACLigB,GAAgB,KALxB,cAkBhCnhB,EAAAC,EAAAC,cAACqU,GAAA,EAAD,CAASzjB,GAAG,uBACZkP,EAAAC,EAAAC,cAACzS,GAAA,EAAD,CACImT,MAAO,CAAEwS,WAAY,OAAQ5P,cAAe,QAC5CqkB,eAAgBtX,QAAQuW,IAEvBl4B,EAAMkpB,UAGX9X,EAAAC,EAAAC,cAACqU,GAAA,EAAD,CACI3T,MAAO,CACHyY,UAAW,OACXlD,WAAY,OACZ/C,WAAY,OACZ5P,cAAe,SAGnBxD,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEgC,QAAS,OAAQwB,KAAM,IACjCpE,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHgC,QAAS,OACTwB,KAAM,EACNH,eAAgB,WAGpBjE,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACII,GAAG,IACHjB,MAAO,CACHgC,QAAS,OACTC,WAAY,aAGhB7C,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHqB,OAAQ,QAEZzB,IAAI,4BAERR,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,UAApB,gBAQf2b,IAAYN,GACTrmB,EAAAC,EAAAC,cAAC4nB,GAAA,EAAD,CACIC,UAAU,YACV3kB,UAAWL,EAAQsiB,UACnBxI,KAAM7c,EAAAC,EAAAC,cAAC8nB,GAAA,EAAD,MACNxX,QAAS,WACLqV,EAAOtN,QAAQ0P,QACf9B,GAAiB,IAErB+B,OAAQ,kBAAM/B,GAAiB,IAC/B7V,KAAM4V,GAENlmB,EAAAC,EAAAC,cAACioB,GAAA,EAAD,CACItL,KAAM7c,EAAAC,EAAAC,cAACkoB,GAAA,EAAD,MACNC,aACIroB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACH0nB,WAAY,WAFpB,cAQJC,aAAW,EACXrnB,QAAS,WACL2kB,EAAOtN,QAAQ0P,QACfhC,GAAiB,GACjBE,GAAiB,MAGzBnmB,EAAAC,EAAAC,cAACioB,GAAA,EAAD,CACItL,KAAM7c,EAAAC,EAAAC,cAACsoB,GAAA,EAAD,MACNH,aACIroB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACH0nB,WAAY,WAFpB,YAQJC,aAAW,EACXrnB,QAAS,WACL2kB,EAAOtN,QAAQ0P,QACflG,GAAwB,GACxBoE,GAAiB,QAK/BQ,IAAY/3B,EAAMg3B,iBACfS,GAAgB,wBA8ErBrmB,EAAAC,EAAAC,cAAC8S,GAAA,EAAD,CAAOoU,QAAQ,EAAOnU,UAAU,KAAKoU,IAAKR,gBACtC7mB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHkD,SAAU,QACViV,OAAQ,OACRnV,MAAO,SAGV+iB,IAAYN,GACTrmB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHgC,QAAS,OACTqB,eAAgB,WAGpBjE,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CACI0c,UAAW,EACXpf,MAAO,CAAE8C,aAAc,SAEvB1D,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACItT,QAAS,kBAAMklB,EAAS,MACxBplB,MAEI,MADApS,EAAMG,QAAQ0uB,SAAS+B,SAEjB,UACA,WAGVxf,EAAAC,EAAAC,cAACuoB,GAAA,EAAD,CAAanmB,SAAS,WAE1BtC,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACItT,QAAS,kBAAMklB,EAAS,WACxBplB,MAEI,WADApS,EAAMG,QAAQ0uB,SAAS+B,SAEjB,UACA,WAGVxf,EAAAC,EAAAC,cAACqc,GAAA,EAAD,CACIK,aAAc0J,EACdtlB,MAAM,aAENhB,EAAAC,EAAAC,cAACwoB,GAAA,EAAD,CAAepmB,SAAS,YAGhCtC,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACItT,QAAS,kBACLklB,EAAS,YAAc50B,EAAQX,OAGnCmP,EAAAC,EAAAC,cAACqc,GAAA,EAAD,CACIK,aACIprB,EAAQwC,QAAQ+H,OACZ,SAAAtH,GAAI,MAEA,aADAA,EAAKlF,SAEXoD,OAENqO,MAAM,aAENhB,EAAAC,EAAAC,cAAC1R,GAAA,EAAD,CACIuU,QACInU,EAAMG,QAAQ0uB,SACT+B,WACL,YAAchuB,EAAQX,IAChB,CACIqiB,KACInQ,EAAQxC,QAEhB,GAEVC,IAAKhB,GACDhO,EAAQX,IACRW,EAAQiP,gBAWhDT,EAAAC,EAAAC,cAACyoB,GAAD,CACIzH,aAAcA,EACdC,gBAAiBA,KAEnBwF,IAAY/3B,EAAMg3B,kBAAqBS,GAAgBrmB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,MAExD9P,EAAQX,KACLmP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACyX,GAAD,CACIrH,KAAM0V,EACNxsB,MAAO,WACHysB,GAAiB,IAErB/0B,MAAM,cAEN8O,EAAAC,EAAAC,cAAC0oB,GAAD,CACIpvB,MAAO,kBAAMysB,GAAiB,IAC9B3V,KAAM0V,EACNx0B,QAASA,EACTI,WAAYhD,EAAMgD,cAI1BoO,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIgE,YAAU,EACV/D,KAAMyV,EACNvV,QAAS,WACLuR,GAAwB,IAE5BhP,oBAAqBA,IAErB/S,EAAAC,EAAAC,cAAC2oB,GAAD,CACI9G,wBAAyBA,EACzBvwB,QAASA,EACTI,WAAYhD,EAAMgD,WAClBklB,OAAQ,kBAAMiL,GAAwB,8iCChflE,IAAM7f,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTnR,MAAO,CACHoR,SAAU,GACVxB,OAAQ,iBACRyB,cAAe,YACfX,WAAY,KAEhBknB,UAAW,CACPhjB,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,OAoSH7H,eACXC,YApBoB,SAAAlE,GACpB,MAAO,CACHrG,SAAUqG,EAAMrG,SAChBT,QAAS8G,EAAM9G,QACfwE,MAAOsC,EAAM/H,KACbsB,SAAUyG,EAAMzG,SAChBH,OAAQ4G,EAAM5G,OACdE,WAAY0G,EAAM1G,aAIC,SAACjC,GACxB,MAAO,CACHqB,QAAS,SAAAnC,GACLc,EAAS+M,EAAgB7N,OAMjC2N,CAjSW,SAAA5N,GACX,IAAMmU,EAAUb,KADIsF,EAEoBC,oBAAS,GAF7BC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAEbuhB,EAFarhB,EAAA,GAECshB,EAFDthB,EAAA,GAAAuH,EAGYxH,mBAAS,MAHrByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAGboM,EAHanM,EAAA,GAGHoM,EAHGpM,EAAA,GAAA0G,EAIsBnO,oBAAS,GAJ/BoO,EAAAvjB,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,GAIbqT,EAJapT,EAAA,GAIEqT,EAJFrT,EAAA,GAAAC,EAKsBrO,oBAAS,GAL/BuO,EAAA1jB,OAAAqV,EAAA,EAAArV,CAAAwjB,EAAA,GAKbqT,EALanT,EAAA,GAKEoT,EALFpT,EAAA,GAAA+E,EAMItT,mBAAS,IANbuT,EAAA1oB,OAAAqV,EAAA,EAAArV,CAAAyoB,EAAA,GAMblsB,EANamsB,EAAA,GAMPhqB,EANOgqB,EAAA,GAOdqO,EAAYz6B,EAAMG,QAAQ0uB,SAAS+B,SAAS9hB,MAAM,KAClD1I,EACFpG,EAAMoG,WAAaq0B,EAAU12B,OAAS,EAAI02B,EAAU,GAAK,IAC7D,IAAKr0B,EAAU,OAAO,KACtB,IAAMof,EAAwB,aAAjBiV,EAAU,GACvBha,oBAAU,WACFzgB,EAAMqD,SACNrD,EAAMoC,QAAQ,CAAEgG,cAAehC,IAE/B4rB,GAAShyB,EAAOC,EAAMmC,EAAS,EAAsB,SAAAnC,GACjD,IADyD+D,EACnDhB,EAAa,GADsCiB,EAAAy2B,GAEtCz6B,EAAK+C,YAFiC,IAEzD,IAAAiB,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAA,KAASe,EAATrB,EAAAO,MACIvB,EAAWqC,EAAOpD,KAAOoD,GAH4B,MAAAb,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAIzD,IAJyDC,EAInDhD,EAAO,GAJ4CiD,EAAA81B,GAKxCz6B,EAAKmH,OALmC,IAKzD,IAAAxC,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAA,KAASuB,EAATlB,EAAAJ,MAA6B5C,EAAKkE,EAAK5D,KAAO4D,GALW,MAAArB,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,IAOzD1E,EAAMoC,QAAQ,CACVY,aACArB,OACAiB,QAAS,GACTE,OAAQ7C,EAAK6C,YAI1B,CAAC9C,EAAMqD,SAAUrD,EAAMG,QAAQ0uB,SAAS+B,WA/BvB,IAAAtT,EAiC2Btd,EAAMqD,SAC/CrD,EADyC0D,OAAAoP,EAAA,EAAApP,CAAA,GAEpCzD,EAFoC,CAE9BmH,MAAOpH,EAAMoH,MAAOxE,QAAS,KAFtCE,EAjCYwa,EAiCZxa,OAAQF,EAjCI0a,EAiCJ1a,QAASI,EAjCLsa,EAiCKta,WAAYoE,EAjCjBkW,EAiCiBlW,MAGrC,IAAKtE,IAAWA,EAAOb,IAAK,OAAO,KAGnC,IA2CM04B,EAAmB/3B,EAAQX,IA3CL,WACxB,IAAMmS,EAAQ,GAuCd,OAtCIxR,EAAQX,MAAQa,EAAO+D,OACvBuN,EAAMhU,KACFgR,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIrJ,QAAS,WACLkoB,GAAiB,GACjB9N,EAAY,QAHpB,SASRtY,EAAMhU,KACFgR,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIrJ,QAAS,WACLgoB,GAAiB,GACjB5N,EAAY,QAHpB,WAUA5pB,EAAOiE,MAAMsC,SAASzG,EAAQX,MAC9BmS,EAAMhU,KACFgR,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIrJ,QAAS,WACL2T,GACIrjB,EAAQX,IACRa,EAAOb,KACP,GAEJyqB,EAAY,QAPpB,WAcDtY,EAAMrQ,OAAS,GAAKqQ,EAGQwmB,GAAwB,KAC/D,OAAO53B,EACHoO,EAAAC,EAAAC,cAACrS,GAAD,CACI25B,OACIxnB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACR5H,UAAWL,EAAQ+lB,UACnB9nB,MAAM,UACNZ,QAAM,GAEL1O,EAAOoO,MAGhBmnB,KAAMr4B,EAAMoG,UAEZgL,EAAAC,EAAAC,cAACupB,GAAA,EAAD,KACIzpB,EAAAC,EAAAC,cAAA,aACKxO,EAAOoO,OAASsU,EAAO,gBAAkB,UAD9C,MAC4D,IACvD1iB,EAAO+D,OAAS,SAFrB,gBAIAuK,EAAAC,EAAAC,cAAA,QAAMJ,KAAK,cAAc6E,QAASjT,EAAO4jB,mBAE7CtV,EAAAC,EAAAC,cAAA,OAAKkD,UAAU,cACXpD,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAO1C,MAAO,CAAEoB,QAAS,SACpBtQ,EAAO6T,OAAO5S,OAAS,GACpBqN,EAAAC,EAAAC,cAAC6c,GAAD,CAAexX,OAAQ7T,EAAO6T,SAElCvF,EAAAC,EAAAC,cAAA,OAAKU,MAAO,CAAE4D,UAAW,SAAU6U,UAAW,SAC1CrZ,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,MAAMtZ,EAAOoO,MACjCE,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHE,OAAQ,YAGZd,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAM8nB,GAAgB,KACnChpB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACH2B,cAAe,SAGlB7Q,EAAOiE,MAAMhD,OALlB,WAQJqN,EAAAC,EAAAC,cAACsgB,GAAD,CACItvB,MACIQ,EAAOoO,MACNsU,EAAO,kBAAoB,YAC5B,iGAEJjB,MAAOzhB,EAAO6T,QAAU7T,EAAO6T,OAAO,KAEzCgkB,GAAoB/3B,GAAWA,EAAQX,KACpCmP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACItT,QAAS,SAAAnH,GAAK,OACVuhB,EAAYvhB,EAAMmiB,iBAGtBlc,EAAAC,EAAAC,cAACic,GAAA,EAAD,OAEJnc,EAAAC,EAAAC,cAACkc,GAAA,EAAD,CACIf,SAAUA,EACVgB,aAAW,EACX/L,KAAMC,QAAQ8K,GACd7K,QAAS,kBAAM8K,EAAY,QAE1BiO,KAKjBvpB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHE,OAAQ,iBAGXtP,GACGA,EAAQX,MACPa,EAAOiE,MAAMsC,SAASzG,EAAQX,MAC3BmP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNgK,QAAQ,YACR9J,QAAS,kBACL2T,GACIrjB,EAAQX,IACRa,EAAOb,KACP,KAPZ,UAgBhBmP,EAAAC,EAAAC,cAACid,GAAD,CACI1E,cAAe,IACfC,cAAehnB,EAAO0jB,eAI9BpV,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,YAQCrN,GAASA,EAAMtE,EAAOnB,OACnByP,EAAAC,EAAAC,cAAA,OAAKnI,IAAKrG,EAAOnB,KAAMqQ,MAAO,CAAEwS,WAAY,SACxCpT,EAAAC,EAAAC,cAACwpB,GAAD,CACI93B,WAAYA,EACZJ,QAASA,EACTjB,KAAMyF,EAAMtE,EAAOnB,MACnB0vB,gBAAc,EACdI,gBAAc,EACdpF,aAAW,MAK3Bjb,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIC,KAAMyY,EACNvY,QAAS,kBAAMwY,GAAgB,IAC/B93B,MAAOkjB,EAAO,aAAe,eAC7Be,WAAS,EACT1P,SAAS,MAETzF,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,qBACAzQ,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KACKhf,EAAOiE,MAAM0L,IAAI,SAAA5M,GAAI,OAClBuL,EAAAC,EAAAC,cAACkd,GAAD,CACIppB,SAAS,EACT2R,QAAQ,EACR5N,IAAKtD,EACLiI,QACIsD,EAAAC,EAAAC,cAACmd,GAAD,CAAc7rB,QAASA,EAASV,GAAI2D,IAExCoR,KACI7F,EAAAC,EAAAC,cAAC2K,GAAD,CAAYrJ,MAAM,EAAM1Q,GAAI2D,EAAMiM,KAAM,UAKxDV,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAM8nB,GAAgB,IAC/BhoB,MAAM,WAFV,WAQRhB,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CAAQC,KAAMC,QAAQ0Y,IAClBjpB,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,sBACAzQ,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KACI1Q,EAAAC,EAAAC,cAACwhB,GAAA,EAAD,oDAIJ1hB,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAMgoB,GAAiB,KAAxC,UAGAlpB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,WhC7QL,IAAC1C,EAAWxJ,EAAXwJ,EgC8QsBhN,EAAQX,IhC9QnBmE,EgC8QwBtD,EAAOb,IhC7Q/D0H,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,eACb2E,YACAxJ,cgCyQYk0B,GAAiB,GACjBt6B,EAAMG,QAAQ46B,UAElB3oB,MAAM,WANV,YAYPxP,EAAQX,MAAQa,EAAO+D,OACpBuK,EAAAC,EAAAC,cAAC0pB,GAAD,CACItZ,KAAM6Y,EACN3vB,MAAO,kBAAM4vB,GAAiB,IAC9B13B,OAAQA,KAIpB,QChMO6K,eAAWC,YARF,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,QACfI,WAAY0G,EAAM1G,WAClBG,WAAYuG,EAAMvG,aAIAyK,CAxGH,SAAA5N,GAAS,IAAA4Y,EACcC,oBAAS,GADvBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACrB2hB,EADqBzhB,EAAA,GACN0hB,EADM1hB,EAAA,GAAAuH,EAEcxH,mBAAS,IAFvByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAErB4a,EAFqB3a,EAAA,GAEN4a,EAFM5a,EAAA,GAIpB1d,EAAuD5C,EAAvD4C,QAASiE,EAA8C7G,EAA9C6G,MAAO1D,EAAuCnD,EAAvCmD,WAAYqiB,EAA2BxlB,EAA3BwlB,KAAM2V,EAAqBn7B,EAArBm7B,iBACpCjiB,EAAUtW,GAAWA,EAAQX,KAAOW,EAAQX,MAAQ4E,EAAM5E,IAChE,OACImP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAC4C,GAAD,CACI5R,MAAOkjB,EAAO,WAAa,UAC3BpR,MAAOvN,EAAK,QACP4L,IAAI,SAAA5M,GAAI,OAAI1C,EAAW0C,KACvBsH,OACG,SAAAtH,GAAI,OAAIA,GAAQ8b,QAAQ6D,KAAU7D,QAAQ9b,EAAK2f,QAEvDzP,QAAS,SAAAlQ,GACL,IAAMkQ,EACF3E,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK,IACDtB,EAAAC,EAAAC,cAACsL,GAAA,EAAD,CACI5K,MAAO,CACHqB,OAAQ,QACRwJ,eAAgB,WAEpBhL,MACIhM,EAAK8Q,OAAO5S,OAAS,EACf8B,EAAK8Q,OAAO,GACZX,GAAkBC,GAAMpQ,EAAK5D,MAEvCK,MAAOuD,EAAKqL,OAEhBE,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CAAavD,MAAO,CAAEoB,QAAS,QAC3BhC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,QAAQ5K,QAAM,GAC7B3L,EAAKqL,QAKtB,OACIE,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACH4D,UAAW,SACXV,SAAU,WACV9B,QAAS,QAGZpT,EAAMo7B,aACHhqB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKnD,QAAS,kBAAM4oB,EAAiBr1B,EAAK5D,OACrC8T,GAGL3E,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACII,IACKuS,EAAO,aAAe,aACvB3f,EAAK5D,KAGR8T,GAGRolB,GAAoBA,EAAiBt1B,KAIlD0O,QAAS2E,EACTrD,SAAU2P,EAAO,WAAa,aAC9BlQ,MAAO,kBAAMklB,GAAiB,MAEjCthB,GACG9H,EAAAC,EAAAC,cAAC0pB,GAAD,CACItZ,KAAM6Y,EACN3vB,MAAO,kBAAM4vB,GAAiB,IAC9BhV,KAAMA,IAGbxlB,EAAMo7B,cACHhqB,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIC,KAAMC,QAAQsZ,GACdrZ,QAAS,kBAAMsZ,EAAiB,KAChC3U,WAAS,EACT1P,SAAS,MAETzF,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CAAYtT,QAAS,kBAAM4oB,EAAiB,MACxC9pB,EAAAC,EAAAC,cAACyU,GAAA,EAAD,QAGR3U,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KACKmZ,GAAiB7pB,EAAAC,EAAAC,cAAC+pB,GAAD,CAAQj1B,SAAU60B,UCsF7CttB,eACXC,YAfoB,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,QACfI,WAAY0G,EAAM1G,WAClBG,WAAYuG,EAAMvG,aAIC,SAACpC,GACxB,MAAO,CACHqB,QAAS,SAAAnC,GAAI,OAAIc,EAAS+M,EAAgB7N,OAK9C2N,CA5KY,SAAA5N,GAAS,IAAA4Y,EAEqBC,oBAAS,GAF9BC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAEd2hB,EAFczhB,EAAA,GAEC0hB,EAFD1hB,EAAA,GAAAuH,EAGiCxH,oBAAS,GAH1CyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAGdib,EAHchb,EAAA,GAGOib,EAHPjb,EAAA,GAKbnd,EAA0DnD,EAA1DmD,WAAYP,EAA8C5C,EAA9C4C,QAASC,EAAqC7C,EAArC6C,SAAU2C,EAA2BxF,EAA3BwF,QAASkb,EAAkB1gB,EAAlB0gB,cAS1C8a,GAAc9a,EAAgBlb,EAAU3C,EAAS2C,UAAY,GACnE,OAAO3C,GAAY6d,EACftP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAC4C,GAAD,CACI5R,MAAM,UACN8R,MAAOonB,EACF/oB,IAAI,SAAA5M,GAAI,OAAI1C,EAAW0C,KACvBsH,OAAO,SAAAtH,GAAI,OAAIA,IACpBkQ,QAAS,SAAAlQ,GAAI,OACTuL,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACH4D,UAAW,SACXV,SAAU,WACV9B,QAAS,QAGbhC,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAMI,GAAI,YAAcpN,EAAK5D,KACzBmP,EAAAC,EAAAC,cAACsL,GAAA,EAAD,CACI5K,MAAO,CACHqB,OAAQ,QACRwJ,eAAgB,WAEpBhL,MACIhM,EAAK8Q,OAAO5S,OAAS,EACf8B,EAAK8Q,OAAO,GACZX,GAAkBC,GAAMpQ,EAAK5D,MAEvCK,MAAOuD,EAAKqL,OAEhBE,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CAAavD,MAAO,CAAEoB,QAAS,QAC3BhC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,QAAQ5K,QAAM,GAC7B3L,EAAKqL,SAIhBtO,EAAQX,MAAQ4D,EAAKgB,OACnBjE,EAAQX,MAAQY,EAASgE,OACzBrB,IACA4L,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,WACLipB,EAAuB11B,EAAK5D,OAFpC,YA6BZsS,QAASoN,QAAQ/e,EAAQX,KACzB4T,SAAS,aACTP,MAAO,kBAAMklB,GAAiB,MAElCppB,EAAAC,EAAAC,cAACyX,GAAD,CACIrH,KAAM6Y,EACN3vB,MAAO,kBAAM4vB,GAAiB,IAC9Bl4B,MAAM,sBAEN8O,EAAAC,EAAAC,cAACmqB,GAAD,CACI50B,MAAOjE,EACPw4B,cAAY,EACZD,iBAAkB,SAAAt1B,GAAI,OAClBuL,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNE,QAAS,WnCMF,IAAC1C,EAAWC,EAAYzJ,EmCLvBsa,EACAA,EAAa,GAAAjd,OAAAC,OAAAC,EAAA,EAAAD,CAAK83B,GAAL,CAAiB31B,EAAK5D,QnCInC2N,EmCDIhN,EAAQX,InCCD4N,EmCAPhN,EAASZ,InCAUmE,EmCCnBP,EAAK5D,InCArC0H,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,sBACb2E,YACAC,aACAzJ,emCJgBo0B,GAAiB,KAXzB,cAmBZppB,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIC,KAAMC,QAAQ2Z,GACd1Z,QAAS,kBAAM2Z,GAAuB,KAEtCnqB,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,uGAKAzQ,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMipB,GAAuB,IACtCnpB,MAAM,WAFV,YAMAhB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,WACL,GAAIoO,EAAe,CACf,IAAIgb,EAAUh4B,OAAAC,EAAA,EAAAD,CAAO83B,GACrBE,EAAWxsB,OACPwsB,EAAWpsB,QAAQgsB,GACnB,GAEJ5a,EAAcgb,QnC/CL9rB,EmCkDLhN,EAAQX,InClDQ4N,EmCmDhBhN,EAASZ,InCnDmBmE,EmCoD5Bk1B,EnCnD5B3xB,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,2BACb2E,YACAC,aACAzJ,cAPwB,IAACwJ,EAAWC,EAAYzJ,EmCuDpCm1B,GAAuB,IAE3BnpB,MAAM,WAlBV,YAyBZ,kBC5KOupB,GAAA,SAAA37B,GAAK,OAChBoR,EAAAC,EAAAC,cAACsqB,GAAA,EAAD,CACIxyB,KAAK,WACL4I,MAAO,CAAEgD,MAAO,QAChB4N,YAAY,gBACZre,MAAOvE,EAAMuE,MACbkX,SAAUzb,EAAMyb,SAChBogB,kBAAmB,SAAAC,GAAO,OAAIA,EAAQC,aAErC,CACG/7B,EAAM4C,SADTa,OAAAC,OAAAC,EAAA,EAAAD,CAEM1D,EAAM4C,QAAQwC,QACZ+H,OAAO,SAAA9H,GAAM,MAAsB,WAAlBA,EAAO1E,SACxB8R,IAAI,SAAApN,GAAM,OAAIrF,EAAMgD,WAAWqC,EAAOA,YAC7CoN,IACE,SAAA5M,GAAI,OACAA,GACAA,EAAK5D,KACDmP,EAAAC,EAAAC,cAACsqB,GAAA,EAAOI,OAAR,CAAe7yB,IAAKtD,EAAK5D,KACrBmP,EAAAC,EAAAC,cAAC2K,GAAD,CAAY/Z,GAAI2D,EAAK5D,IAAK8P,SAAS,wFCnBrDkqB,uMACkB,IACRxpB,EAAQpF,KAAKrN,MAAMk8B,QAAnBzpB,IAEF0pB,EAAK,IAAIC,KAAO,CAClBlnB,SAAU,UACVmnB,QAAS,CACL/5B,MAAO,eAEXg6B,WAAY,aACZC,YAAY,EACZC,sBAAsB,IAE1BL,EAAGM,MAAMhqB,GAET0pB,EAAG9xB,yCAIH,OAAO,YAnBaqD,cAuBbgvB,gBAAYT,cCGnBD,WAAWzgB,KAAXygB,QAEF1oB,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACT6Q,KAAM,CACFlR,QAAS,UACTY,QAAS,OACTC,WAAY,SACZ4C,SAAU,IACV7B,MAAO,QAEXmf,MAAO,CACHjd,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,GAEV4e,WAAY,CACRhhB,QAAS,IAEbupB,QAAS,CACLtpB,OAAQ,GACRnB,OAAQ,GAEZ+S,OAAQ,CACJ/P,SAAU,SAEd5S,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,OA+PHonB,GA3PiB,SAAA58B,GAC5B,IAAMyS,EAAMiX,iBAAO,MACnBjJ,oBAAU,WACFhO,GAAOA,EAAIkX,SAAWlX,EAAIkX,QAAQkT,kBAClC,IAAIC,cAAgBL,MAAMhqB,EAAIkX,QAAQkT,gBACtC,IAAIE,mBAAgBtqB,EAAIkX,QAAQkT,kBAErC,IAPkC,IAQ7Bh6B,EAAkC7C,EAAlC6C,SAAUD,EAAwB5C,EAAxB4C,QAASI,EAAehD,EAAfgD,WARU4V,EAWLC,mBAC5BhW,GAAYA,EAASqS,UAAYrS,EAASqS,SAAS8nB,YAC7C,CACIn6B,EAASqS,SAAS8nB,YAAY,GAC9Bn6B,EAASqS,SAAS8nB,YAAY,IAL7B,CAAC,WAAY,YAVSlkB,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAW9B1D,EAX8B4D,EAAA,GAWpBmkB,EAXoBnkB,EAAA,GAAAuH,EAoBbxH,mBAAS,IApBIyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAoB9B6c,EApB8B5c,EAAA,GAoBxB6c,EApBwB7c,EAAA,GAAA0G,EAqBWnO,mBAC5ChW,GAAYA,EAAS6jB,iBAtBYO,EAAAvjB,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,GAqB9BoW,EArB8BnW,EAAA,GAqBZoW,EArBYpW,EAAA,GAAAqW,EAyCtBpX,IAAKqX,UAAbC,EAzC8B95B,OAAAqV,EAAA,EAAArV,CAAA45B,EAAA,MA2C/BG,EAAa,SAAAh5B,GACf04B,EAAQ14B,EAAEiX,OAAOgiB,OAEjBT,EAAY,CAACx4B,EAAEiX,OAAOiiB,YAAYC,IAAKn5B,EAAEiX,OAAOiiB,YAAYE,MAC5DL,EAAKM,eAAe,CAAEC,OAAO,KAE3B5pB,EAAUb,KAEhB,OAAQtT,EAAMg+B,QAAUn7B,EACpBuO,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACoU,GAAA,EAAD,CAAQlR,UAAWL,EAAQ8Q,OAAQ7S,MAAM,WACrChB,EAAAC,EAAAC,cAACqU,GAAA,EAAD,KACIvU,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACIC,KAAK,QACLzT,MAAM,UACNE,QAAStS,EAAMkoB,OACfpC,aAAW,SAEX1U,EAAAC,EAAAC,cAACyU,GAAA,EAAD,OAEJ3U,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACR5H,UAAWL,EAAQ7R,MACnB8P,MAAM,WAHV,gBAOAhB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIqJ,WAAS,EACT5T,MAAM,UACNE,QAAS,kBAAMkrB,EAAKS,WAHxB,UASR7sB,EAAAC,EAAAC,cAACqU,GAAA,EAAD,MAEAvU,EAAAC,EAAAC,cAAC4sB,EAAA,EAADx6B,OAAAif,OAAA,CACI3Q,MAAO,CACH6E,SAAU,SACV3E,OAAQ,OACRkB,QAAS,OACT4B,MAAO,QAEXwoB,KAAMA,EACNtsB,KAAK,yBACLgiB,SAjEK,SAAA3uB,GACbvE,EAAMkzB,SAANxvB,OAAAoP,EAAA,EAAApP,CAAA,GACOa,EADP,CAEImiB,gBAAiB0W,EACjBloB,SAAU,CACN/S,KAAM,QACN66B,YAAa,CAAC9nB,EAAS,GAAIA,EAAS,SA4DpCipB,aAAa,MACbC,cACIv7B,GAAY,CACRqO,KAAM,kBACNmtB,OAAQ,KACRC,KAAM,CAAC,KACPP,OAAO,IA7DZ,CACX3Y,SAAU,CAAExS,KAAM,GAClByS,WAAY,CAAEzS,KAAM,KA2ChB,CAoBI2rB,eAAgB,SAACC,EAAeC,GAC5BA,EAAUH,MACNd,EAAKM,eAAe,CAChBQ,KAAM56B,OAAAC,EAAA,EAAAD,CAAI+6B,EAAUH,MAAMhlB,YAItClI,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CACIjV,KAAK,SACL2K,MAAM,SACN6iB,cAAc,SACd5C,QAAQ,iBAER1qB,EAAAC,EAAAC,cAAC8U,GAAD,OAEJhV,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CACItK,MAAM,OACN3K,KAAK,OACLmV,MAAOpC,GACP0a,kBAAmB,SAAAxzB,GAAK,OAAIA,EAAMuQ,OAAOnX,QAEzC6M,EAAAC,EAAAC,cAACgV,GAAA,EAAD,CAAOC,WAAW,KAEtBnV,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CACItK,MAAM,cACN3K,KAAK,cAEL4qB,QAAQ,kBAER1qB,EAAAC,EAAAC,cAAC2Q,GAAD,CACIkB,oBAAqB,SAAA5e,GAAK,OACtB84B,EAAoB94B,OAIhC6M,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CAAWtK,MAAM,YAAY3K,KAAK,SAC9BE,EAAAC,EAAAC,cAACqqB,GAAD,CACI/4B,QAASA,EACTI,WAAYA,KAIpBoO,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CAAWtK,MAAM,SAAS3K,KAAK,UAC3BE,EAAAC,EAAAC,cAACsqB,GAAA,EAAD,CAAQC,kBAAmB,SAAAC,GAAO,OAAIA,EAAQC,aAC1C3qB,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,MAAd,aACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,OAAd,aACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,WAAd,qBACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,QAAd,cACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,SAAd,eACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,QAAd,gBAGR6M,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CACIyY,SAAO,EACPC,aAAc,SAACC,EAAYC,GAAb,OACVD,EAAWT,SAAWU,EAAcV,SAGvC,SAAA/gB,GACG,MAAmC,aAA5B0hB,EADa1hB,EAApB0hB,eACqB,UACjB5tB,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CAAWtK,MAAM,eAAe3K,KAAK,QACjCE,EAAAC,EAAAC,cAACsqB,GAAA,EAAD,CACIxyB,KAAK,OACLyyB,kBAAmB,SAAAC,GAAO,OACtBA,EAAQC,aAGZ3qB,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,KAAd,UACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,KAAd,UACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,KAAd,WACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,KAAd,aACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,KAAd,YACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,KAAd,UACA6M,EAAAC,EAAAC,cAAC0qB,GAAD,CAAQz3B,MAAM,KAAd,cAGR,OAGZ6M,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CACIjV,KAAK,UACL2K,MAAM,UACN6iB,cAAc,UACd5C,QAAQ,iBAER1qB,EAAAC,EAAAC,cAAC2tB,GAAD,OAEJ7tB,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CAAWtK,MAAM,SACbzK,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHkD,SAAU,WACV7B,OAAQ,UAGZjC,EAAAC,EAAAC,cAAC4tB,GAAA,EAAD,CACIlV,IAAKvX,EACL0sB,OAAQjqB,EACRgoB,KAAMA,EACNkC,UAAW3B,EACX4B,UAAW5B,EACXzrB,MAAO,CACHgD,MAAO,OACP3B,OAAQ,OACR6B,SAAU,WACVoqB,OAAQ,GAEZC,iBAAiB,GAEjBnuB,EAAAC,EAAAC,cAACkuB,GAAA,EAAD,CACIC,YAAY,0EACZjhB,IAAI,uDAERpN,EAAAC,EAAAC,cAACouB,GAAD,OAEJtuB,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHuW,gBAAe,OAAA9kB,OAASk8B,EAAQ,KAAjB,KACf3qB,MAAO,OACP3B,OAAQ,OACR6B,SAAU,WACVoqB,OAAQ,EACRjV,KAAM,mBACN4G,IAAK,mBACL2O,cAAe,OACfC,YAAa,YAK7BzuB,EAAAC,EAAAC,cAAA,OAAKU,MAAO,CAAE4D,UAAW,QAAS6U,UAAW,SACzCrZ,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQ7K,KAAK,QAAQQ,QAAS,kBAAMtS,EAAMkoB,QAAO,KAAjD,UAGA9W,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNgK,QAAQ,YACRja,KAAK,SACL2P,KAAK,QACLE,MAAO,CACHkF,WAAY,OACZjC,YAAa,SAPrB,WAeZ,MC9RO6qB,GApBM,SAAA9/B,GAAS,IAClB6C,EAAmD7C,EAAnD6C,SAAUD,EAAyC5C,EAAzC4C,QAAS8G,EAAgC1J,EAAhC0J,MAAO0D,EAAyBpN,EAAzBoN,SAAUpK,EAAehD,EAAfgD,WAQ5C,OAAOH,EACHuO,EAAAC,EAAAC,cAAC2hB,GAAD,CACIpwB,SAAUA,EACVqwB,SATS,SAAA3uB,IvCyCa,SAACtE,EAAMsE,GACjCoF,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,qBACb4E,WAAY5P,EAAK4C,SAASZ,IAC1B2N,UAAW3P,EAAK2C,QAAQX,IACxBsC,WuC/CR0hB,CAA6BjmB,EAAOuE,GACpC6I,EAAS1J,OAAAoP,EAAA,EAAApP,CAAA,GAAKgG,EAAN,CAAaq2B,kBAAkB,KACvCzgB,SAASrI,KAAKmc,gBAAgB,UAO1BxwB,QAASA,EACTI,WAAYA,EACZklB,OAAQloB,EAAMkoB,SAElB,2BCsBF/D,GAAsB,SAAAnkB,GAAK,OAAIoR,EAAAC,EAAAC,cAAC8S,GAAA,EAAD1gB,OAAAif,OAAA,CAAO0B,UAAU,MAASrkB,KACzDsT,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC8Q,KAAM,CACFtP,MAAO,QAEXgrB,QAAS,CACLtsB,SAAUF,EAAMrC,WAAW8uB,QAAQ,KAEvCC,iBAAkB,CACdxsB,SAAUF,EAAMrC,WAAW8uB,QAAQ,KAEvChS,KAAM,CACFkS,cAAe,SACf9sB,OAAQ,GACR2B,MAAO,IAEXqZ,QAAS,CACLpa,WAAY,UAEhBmsB,OAAQ,CACJC,UAAW,UAEfC,OAAQ,CACJC,WAAU,aAAA98B,OAAe+P,EAAMK,QAAQ8oB,SACvCvpB,QAASI,EAAM0R,QAAQ,EAAG,IAE9BzB,KAAM,CACFrR,MAAOoB,EAAMK,QAAQC,QAAQC,KAC7BysB,eAAgB,OAChBC,UAAW,CACPD,eAAgB,cAGxBl+B,MAAO,CACHoR,SAAU,GACVxB,OAAQ,iBACRyB,cAAe,YACfX,WAAY,QAgWLrF,eA5VE,SAAA3N,GACb,IAAMmU,EAAUb,KACR1Q,EAAmD5C,EAAnD4C,QAASC,EAA0C7C,EAA1C6C,SAAU6G,EAAgC1J,EAAhC0J,MAAO0D,EAAyBpN,EAAzBoN,SAAUpK,EAAehD,EAAfgD,WAFtB4V,EAI0BC,mBAAS,IAJnCC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAIf8nB,EAJe5nB,EAAA,GAIG6nB,EAJH7nB,EAAA,GAAAuH,EAKUxH,mBAAS,MALnByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAKfoM,EALenM,EAAA,GAKLoM,EALKpM,EAAA,GA2GhBqa,EAAmB/3B,EAAQX,IA7DL,WACxB,IAAMmS,EAAQ,GAyDd,OAxDIxR,EAAQX,MAAQY,EAASgE,OACzBuN,EAAMhU,KACFgR,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIrJ,QAAS,WACLlF,EAAS1J,OAAAoP,EAAA,EAAApP,CAAA,GACFgG,EADC,CAEJq2B,kBAAkB,KAEtBrT,EAAY,QANpB,SAaJ9pB,EAAQiB,iBAAiBwF,SAASxG,EAASZ,MAC3CmS,EAAMhU,KACFgR,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIrJ,QAAS,WACL2T,GAA2BrjB,EAAQX,IAAKY,EAASZ,KACjDyqB,EAAY,QAHpB,aAUJ7pB,EAASkE,MAAMsC,SAASzG,EAAQX,MAChCmS,EAAMhU,KACFgR,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIrJ,QAAS,WACL2T,GACIrjB,EAAQX,IACRY,EAASZ,KACT,GAEJyqB,EAAY,QAPpB,WAcJ9pB,EAAQgB,YACRhB,EAAQgB,WAAWyF,SAASxG,EAASZ,IAAI4Y,aAEzCzG,EAAMhU,KACFgR,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CACIrJ,QAAS,WxCrKA,IAAArS,IwCsKmBD,ExCrKxC2J,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,gBACb4E,WAAY5P,EAAK4C,SAASZ,IAC1B2N,UAAW3P,EAAK2C,QAAQX,OwCiKhByqB,EAAY,QAHpB,UASDtY,EAAMrQ,OAAS,GAAKqQ,EAGQwmB,GAAwB,KAC/D,OAAO/3B,EACHuO,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACupB,GAAA,EAAD,KACIzpB,EAAAC,EAAAC,cAAA,aACKzO,EAASqO,KADd,OACwBrO,EAASgE,MADjC,gBAGAuK,EAAAC,EAAAC,cAAA,QAAMJ,KAAK,cAAc6E,QAASlT,EAAS6jB,mBAE/CtV,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAO1C,MAAO,CAAEoB,QAAS,SACpBvQ,EAAS8T,OAAO5S,OAAS,GACtBqN,EAAAC,EAAAC,cAAC6c,GAAD,CAAexX,OAAQ9T,EAAS8T,SAEpCvF,EAAAC,EAAAC,cAAA,OAAKU,MAAO,CAAE4D,UAAW,SAAU6U,UAAW,SAC1CrZ,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,MAAMvZ,EAASqO,MACnCE,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHE,OAAQ,YAGZd,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMquB,EAAoB,cACnC3uB,MAAO,CAAEiD,YAAa,SAEtB7D,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACH2B,cAAe,SAGlB9Q,EAAS8C,kBAAkB5B,OALhC,eAQJqN,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAMquB,EAAoB,WACvCvvB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACH2B,cAAe,SAGlB9Q,EAASkE,MAAMhD,OALpB,WAQJqN,EAAAC,EAAAC,cAACsgB,GAAD,CACItvB,MACIO,EAASqO,KACT,uGAEJqT,MAAO1hB,EAAS8T,QAAU9T,EAAS8T,OAAO,KAE7CgkB,GAAoB/3B,GAAWA,EAAQX,KACpCmP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACItT,QAAS,SAAAnH,GAAK,OACVuhB,EAAYvhB,EAAMmiB,iBAGtBlc,EAAAC,EAAAC,cAACic,GAAA,EAAD,OAEJnc,EAAAC,EAAAC,cAACkc,GAAA,EAAD,CACIf,SAAUA,EACVgB,aAAW,EACX/L,KAAMC,QAAQ8K,GACd7K,QAAS,kBAAM8K,EAAY,QAE1BiO,KAKjBvpB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHE,OAAQ,iBAGXtP,GACGA,EAAQX,MACPW,EAAQiB,iBAAiBwF,SACtBxG,EAASZ,MAETmP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNE,QAAS,kBACL2T,GACIrjB,EAAQX,IACRY,EAASZ,MAGjB+P,MAAO,CAAEiD,YAAa,QACtBmH,QAAQ,aATZ,UAePxZ,GACGA,EAAQX,MACPY,EAASkE,MAAMsC,SAASzG,EAAQX,MAC7BmP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNgK,QAAQ,YACR9J,QAAS,kBACL2T,GACIrjB,EAAQX,IACRY,EAASZ,KACT,KAPZ,WAiBpBmP,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,YAOArD,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAO1C,MAAO,CAAEoB,QAAS,SACrBhC,EAAAC,EAAAC,cAACsvB,GAAD,CACI/9B,SAAUA,EACVD,QAASA,EACT8G,MAAOA,EACP0D,SAAUA,KAGlBgE,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,eAOArD,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAO1C,MAAO,CAAEoB,QAAS,SACA,OAApBvQ,EAASw7B,QACNjtB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAACuvB,GAAAxvB,EAAD,MACC,YA1NH,SAAAgtB,GAClB,OAAQA,GACJ,IAAK,MACD,MAAO,YACX,IAAK,UACD,MAAO,oBACX,IAAK,OACD,MAAO,aACX,IAAK,QACD,MAAO,cACX,IAAK,OACD,MAAO,aACX,QACI,MAAO,IA8MMyC,CAAcj+B,EAASw7B,SACC,YAApBx7B,EAASw7B,OACJ,KACAx7B,EAASy7B,KAAK51B,OACV,SAACq4B,EAAKC,EAAKlrB,GAAX,OACIirB,GACCjrB,EAAQ,EAAI,KAAO,IAvP/C,SAAA+D,GACX,OAAQA,GACJ,IAAK,IACD,MAAO,SACX,IAAK,IACD,MAAO,SACX,IAAK,IACD,MAAO,UACX,IAAK,IACD,MAAO,YACX,IAAK,IACD,MAAO,WACX,IAAK,IACD,MAAO,SACX,IAAK,IACD,MAAO,WAEX,QACI,MAAO,IAsOuBonB,CAAOD,IACX,IAEJ,KACA,MAEd5vB,EAAAC,EAAAC,cAACkgB,GAAA,EAAD,CACI0P,OAAK,EACL9kB,QAAQ,SACRpK,MAAO,CAAEuf,aAAc,WAKnCngB,EAAAC,EAAAC,cAACid,GAAD,CACI1E,cAAe,IACfC,cAAejnB,EAAS2jB,eAGhCpV,EAAAC,EAAAC,cAAC2tB,GAAD,CAASp8B,SAAUA,IACnBuO,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,sBAQArD,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIgE,YAAU,EACV/D,KAAMhY,EAAMq2B,iBACZne,QAAS,kBAAMxU,EAAS1J,OAAAoP,EAAA,EAAApP,CAAA,GAAKgG,EAAN,CAAaq2B,kBAAkB,MACtD5b,oBAAqBA,IAErB/S,EAAAC,EAAAC,cAAC6vB,GAAD,CACIt+B,SAAUA,EACVD,QAASA,EACT8G,MAAOA,EACP0D,SAAUA,EACVpK,WAAYA,EACZklB,OAAQ,kBACJ9a,EAAS1J,OAAAoP,EAAA,EAAApP,CAAA,GAAKgG,EAAN,CAAaq2B,kBAAkB,SAInD3uB,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIC,KAAMC,QAAQ+e,GACd9e,QAAS,kBAAM+e,EAAoB,KACnCr+B,MACyB,UAArBo+B,EACM,aACA,iBAEVna,WAAS,EACT1P,SAAS,MAETzF,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,KAC0B,UAArB6e,EACK,aACA,kBAEVtvB,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KACKjf,EACwB,UAArB69B,EACM,QACA,qBACRjuB,IAAI,SAAA5M,GAAI,OACNuL,EAAAC,EAAAC,cAACkd,GAAD,CACIppB,SAAS,EACT2R,QAAQ,EACR5N,IAAKtD,EACLiI,QACIsD,EAAAC,EAAAC,cAACmd,GAAD,CAAc7rB,QAASA,EAASV,GAAI2D,IAExCoR,KACI7F,EAAAC,EAAAC,cAAC2K,GAAD,CAAYrJ,MAAM,EAAM1Q,GAAI2D,EAAMiM,KAAM,UAKxDV,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMquB,EAAoB,KACnCvuB,MAAM,WAFV,YASZ,OC/WOzE,eAvDC,SAAA3N,GAAS,IAAA4Y,EACWC,oBAAS,GADpBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACdiY,EADc/X,EAAA,GACJgY,EADIhY,EAAA,GAGb7Q,EAAgCjI,EAAhCiI,OAAQrF,EAAwB5C,EAAxB4C,QAASsF,EAAelI,EAAfkI,WAQnBsiB,EAAe,WACjBsG,GAAY,IAGhB,OAAOluB,EAAQX,IACXmP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACuD,GAAA,EAAD,CAAMuc,UAAW,GACbhgB,EAAAC,EAAAC,cAACiE,GAAA,EAAD,KACInE,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEgC,QAAS,OAAQgB,MAAO,SAClC5D,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEiD,YAAa,SACvB7D,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAQ,EACR/P,GAAIU,EAAQX,IACZ2Q,MAAM,EACNd,KAAM,MAGdV,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEwD,KAAM,IAChBpE,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHuV,WAAY,UACZnU,QAAS,WACT0B,aAAc,OACd1C,MAAO,UACPW,OAAQ,WAEZT,QAAS,kBAAMwe,GAAY,KAR/B,wBAcR1f,EAAAC,EAAAC,cAACoc,GAAD,CACIhM,KAAMmP,EACN3I,OAAQsC,EACRloB,MAAM,oBACN0mB,KA1CD,SAACrS,EAAQjL,IvC8BT,SACnBkE,EACAzH,EACAD,EACAwf,EACA/Q,GAEIhN,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,UACb2E,YACAzH,WACAD,aACAwf,eACA/Q,YuC5CRsP,CAAkBrjB,EAAQX,IAAKgG,EAAQC,EAAYwD,EAAaiL,GAC5D3W,EAAM+nB,QAAQ/nB,EAAM+nB,SACxByC,UA4CA,+hCC7CR,IAAMlX,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTnR,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,OAyIH7H,eACXC,YAnBoB,SAAAlE,GACpB,MAAO,CACHrG,SAAUqG,EAAMrG,SAChBT,QAAS8G,EAAM9G,QACfwE,MAAOsC,EAAM/H,KACbkB,SAAU6G,EAAM7G,SAChBG,WAAY0G,EAAM1G,aAIC,SAACjC,GACxB,MAAO,CACHqB,QAAS,SAAAnC,GACLc,EAAS+M,EAAgB7N,OAMjC2N,CAtIa,SAAA5N,GACb,IAAMmU,EAAUb,KADMsF,EAEIC,mBAAS,IAFbC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAEflP,EAFeoP,EAAA,GAER1L,EAFQ0L,EAAA,GAAAuH,EAIExH,mBAAS,IAJXyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAIfpgB,EAJeqgB,EAAA,GAITle,EAJSke,EAAA,GAKhBma,EAAYz6B,EAAMG,QAAQ0uB,SAAS+B,SAAS9hB,MAAM,KAClDe,EAAa4qB,EAAU12B,OAAS,EAAI02B,EAAU,GAAK,GACzD,IAAK5qB,EAAY,OAAO,KACxB4Q,oBAAU,WACFzgB,EAAMqD,UACNrD,EAAMoC,QAAQ,CAAEuE,gBAAiBkJ,IAC7B7P,EAAM4C,QAAQX,KvCqCG,SAAC2N,EAAWC,GACrClG,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,oBACb2E,YACAC,gBuC1CAoW,CAA4BjmB,EAAM4C,QAAQX,IAAK4N,IAEnDmiB,GAAShyB,EAAOC,EAAMmC,EAAS,EAAsB,SAAAnC,GACjD,IADyD+D,EACnDhB,EAAa,GADsCiB,EAAAm9B,GAEtCnhC,EAAK+C,YAFiC,IAEzD,IAAAiB,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAA,KAASe,EAATrB,EAAAO,MACIvB,EAAWqC,EAAOpD,KAAOoD,GAH4B,MAAAb,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAIzD,IAJyDC,EAInDhD,EAAO,GAJ4CiD,EAAAw8B,GAKxCnhC,EAAKmH,OALmC,IAKzD,IAAAxC,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAA,KAASuB,EAATlB,EAAAJ,MAA6B5C,EAAKkE,EAAK5D,KAAO4D,GALW,MAAArB,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,IAOzD1E,EAAMoC,QAAQ,CACVY,aACArB,OACAiB,QAAS,GACTC,SAAU5C,EAAK4C,cAI5B,CAAC7C,EAAMqD,SAAUrD,EAAMG,QAAQ0uB,SAAS+B,WA7BrB,IAAAtT,EA+B2Btd,EAAMqD,SACjDrD,EAD2C0D,OAAAoP,EAAA,EAAApP,CAAA,GAEtCzD,EAFsC,CAEhCmH,MAAOpH,EAAMoH,MAAOxE,QAAS,KAFtCC,EA/Bcya,EA+Bdza,SAAUD,EA/BI0a,EA+BJ1a,QAASI,EA/BLsa,EA+BKta,WAAYoE,EA/BjBkW,EA+BiBlW,MAIvC,OAAKvE,GAAaA,EAASZ,KAC3BjC,EAAMoC,QAAQ,CAAEuF,aAAc9E,EAASuE,QAEhCpE,EACHoO,EAAAC,EAAAC,cAACrS,GAAD,CACI25B,OACIxnB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACR5H,UAAWL,EAAQ7R,MACnB8P,MAAM,UACNZ,QAAM,GAEL3O,EAASqO,OAIlBE,EAAAC,EAAAC,cAAA,OAAKkD,UAAU,cACXpD,EAAAC,EAAAC,cAAC+vB,GAAD,CACI33B,MAAOA,EACP0D,SAAUA,EACVvK,SAAUA,EACVD,QAASA,EACTI,WAAYA,IAGfJ,EAAQX,KACLmP,EAAAC,EAAAC,cAACgwB,GAAD,CACIr5B,OAAQ4H,EACRjN,QAASA,EACTsF,WAAW,aAIlBd,GACG1D,OAAAC,EAAA,EAAAD,CAAIb,EAASuE,OACRkS,KAAK,SAACjI,EAAGkI,GAAJ,OACFvZ,EAAMG,QAAQ0uB,SAAS+B,SAASthB,QAAQ+B,IAAM,EACxC,EACArR,EAAMG,QAAQ0uB,SAAS+B,SAASthB,QAAQiK,IACvC,GACA,EACD,IAET9G,IAAI,SAAAvC,GACD,GAAI9I,EAAM8I,GAAS,CACf,IAAMvO,EAAOyF,EAAM8I,GACnB,OACIkB,EAAAC,EAAAC,cAAA,OACInI,IAAK+G,EACL8B,MAAO,CAAEwS,WAAY,SAErBpT,EAAAC,EAAAC,cAACwpB,GAAD,CACI93B,WAAYA,EACZJ,QAASA,EACTjB,KAAMA,KAIf,OAAO,OAEjB4/B,UAETnwB,EAAAC,EAAAC,cAACkwB,GAAA,EAAD,CACI7Y,QAASjf,EAAM6W,aACfqI,OAAQ,KACRC,SAAU,WACNzb,EAAS1J,OAAAoP,EAAA,EAAApP,CAAA,GAAKgG,EAAN,CAAa6W,aAAc,MACnCjB,SAASrI,KAAKmc,gBAAgB,WAGlChiB,EAAAC,EAAAC,cAAA,OACIwX,IAAI,UACJ9W,MAAO,CAAEgD,MAAO,QAChBpD,IAAKlI,EAAM6W,kBAK3B,MA9EmC,4BC0B5B3S,eANS,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,UAIRgL,CA/EC,SAAA5N,GAAS,IAAA4Y,EACmBC,oBAAS,GAD5BC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACd0Z,EADcxZ,EAAA,GACAyZ,EADAzZ,EAAA,GAErB,OACI1H,EAAAC,EAAAC,cAACzS,GAAA,EAAD,KACIuS,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAAA,UAAQkD,UAAWL,WACf/C,EAAAC,EAAAC,cAAA,MAAIkD,UAAWL,kBACX/C,EAAAC,EAAAC,cAAA,WAAM,YACNF,EAAAC,EAAAC,cAAA,OAAKkD,UAAWL,WACZ/C,EAAAC,EAAAC,cAAA,MAAIkD,UAAWL,kBACX/C,EAAAC,EAAAC,cAAA,MAAIkD,UAAWL,iBAAf,kBAGA/C,EAAAC,EAAAC,cAAA,MAAIkD,UAAWL,iBAAf,aAGA/C,EAAAC,EAAAC,cAAA,MAAIkD,UAAWL,iBAAf,gBAGA/C,EAAAC,EAAAC,cAAA,MAAIkD,UAAWL,iBAAf,YAGA/C,EAAAC,EAAAC,cAAA,MAAIkD,UAAWL,iBAAf,uBAQpB/C,EAAAC,EAAAC,cAAA,OAAKkD,UAAWL,iBACZ/C,EAAAC,EAAAC,cAAA,UACI0D,MAAM,MACN3B,OAAO,MACPzB,IAAI,4CACJ6vB,YAAY,IACZC,iBAAe,MAGrB1hC,EAAM4C,QAAQX,KACZmP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHE,OAAQ,iBACR0D,UAAW,WAGfxE,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIP,QAAQ,YACRhK,MAAM,UACNN,KAAK,QACLQ,QAAS,kBAAMigB,GAAgB,KAJnC,8BASJnhB,EAAAC,EAAAC,cAACyoB,GAAD,CACIzH,aAAcA,EACdC,gBAAiBA,KAI7BnhB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACRsY,MAAM,SACN1iB,MAAO,CAAEE,OAAQ,mBAHrB,gEC9CZkF,OAASC,SAET,IAAM/D,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTnR,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,GAEV8O,KAAM,CACFqd,SAAU,EACVlX,UAAW,QAEflG,MAAO,CACHlR,OAAQ,EACRmR,WAAY,SACZ3H,eAAgB,eAoIblP,eACXC,YAboB,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,UAII,SAAC7B,GACxB,MAAO,CACHsB,aAAc,SAAAC,GAAK,OAAIvB,EAAS+M,EAAqBxL,OAKzDsL,CAhIS,SAAA5N,GACT,IAAMmU,EAAUb,KADEsF,EAEQC,mBAAS,IAFjBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAEXxR,EAFW0R,EAAA,GAEJ8oB,EAFI9oB,EAAA,GAAAuH,EAGQxH,mBAAS,IAHjByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAGX/d,EAHWge,EAAA,GAGJuhB,EAHIvhB,EAAA,GAAA0G,EAIInO,oBAAS,GAJboO,EAAAvjB,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,GAIX8a,EAJW7a,EAAA,GAIN8a,EAJM9a,EAAA,GA0ClB,OArCAxG,oBAAU,WACN/B,MAAM,8CAA+C,CACjDsjB,OAAQ,OACRtgC,QAAS,CAAEwe,eAAgB,oBAC3BjJ,KAAMlM,KAAKC,UAAU,CACjBi3B,MAAK,8CAAAx+B,OAITq+B,EAMK,GANN,sBAAAr+B,OAE6D,IAAnDzD,EAAMG,QAAQ0uB,SAAS+B,SAASthB,QAAQ,OAClC,KACA,KAJhB,QAJU,qIAwBR2O,KAAK,SAAAle,GAAG,OAAIA,EAAImiC,SAChBjkB,KAAK,SAAAhe,GACF2hC,EAAS3hC,EAAKA,KAAKmH,OACnBy6B,EACI,mGAGb,CAAC7hC,EAAMG,QAAQ0uB,SAAS+B,SAAUkR,IAEjC1wB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACKpQ,GACG8O,EAAAC,EAAAC,cAACupB,GAAA,EAAD,KACIzpB,EAAAC,EAAAC,cAAA,aAAQhP,IAGhB8O,EAAAC,EAAAC,cAACrS,GAAD,CAAQs5B,OAAK,GACTnnB,EAAAC,EAAAC,cAAC6wB,GAAD,MACA/wB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAMyvB,GAAQD,IAAM1vB,MAAM,WACtC0vB,EACK,mCACA,kCAEV1wB,EAAAC,EAAAC,cAAA,OAAKkD,UAAWL,EAAQmQ,MACpBlT,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CAAMC,WAAS,EAACnd,QAAS,GACpB9d,EAAMqL,IAAI,SAAA9Q,GAAI,OACXyP,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CAAMv8B,MAAI,EAACy8B,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1BpxB,EAAAC,EAAAC,cAACuD,GAAA,EAAD,KACIzD,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACII,GACIjT,EAAMG,QAAQ0uB,SAAS+B,SACvB,IACAjvB,EAAK6c,IAAI1P,MAAM,KAAK,IAGxBsC,EAAAC,EAAAC,cAAC8D,GAAA,EAAD,KACIhE,EAAAC,EAAAC,cAACsL,GAAA,EAAD,CACIpI,UAAWL,EAAQoQ,MACnB1S,MACIlQ,EAAK4e,cACL5e,EAAK4e,aAAa/B,IAEtBlc,MAAOX,EAAKW,QAEhB8O,EAAAC,EAAAC,cAACiE,GAAA,EAAD,KACInE,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIkD,cAAY,EACZ2H,QAAQ,KACRka,UAAU,MAET30B,EAAKW,OAEV8O,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIkD,cAAY,EACZ2H,QAAQ,aAEPza,EAAK8gC,UAGVrxB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACImjB,MAAM,QACNtY,QAAQ,SACRhK,MAAM,gBACNkkB,UAAU,KAETlf,KACGzV,EAAK+gC,cACPrrB,OAAO,uDC7IhDsrB,GAAqB,CAC9BC,QAAS,EACTC,KAAM,EACNC,KAAM,EACNC,IAAK,GAGIC,GAAkB,CAC3BJ,QAAS,EACTE,KAAM,EACNG,IAAK,EACLC,IAAK,GCJMC,GAAA,SAAAnjC,GAAK,OAChBoR,EAAAC,EAAAC,cAAA,OAAKU,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,GAAO1D,EAAMgS,QACnBZ,EAAAC,EAAAC,cAAC8xB,GAAA/xB,EAAD3N,OAAA+L,EAAA,EAAA/L,CAAA,CACI2/B,eAAgB,EAChB7uB,UAAU,kBACV8uB,gBAAgB,0BAHpB,iBAKQtjC,EAAMoF,QAAUu9B,GAAqBK,IAGxChjC,EAAMkpB,YCYJvb,eAAWC,YANF,SAAAlE,GACpB,MAAO,CACH3G,aAAc2G,EAAM3G,eAIF6K,CAzBH,SAAA5N,GAAS,IACpBkC,EAAOlC,EAAPkC,GACR,IAAKlC,EAAM+C,aAAab,GAAK,OAAO,KAIpC,OACIkP,EAAAC,EAAAC,cAAA,QACIU,MAAKtO,OAAAoP,EAAA,EAAApP,CAAA,CAAIqP,OAAQ,UAAWC,WAAY,QAAWhT,EAAMgS,OACzDM,QAAS,SAAA7N,GAJG,IAAAvC,EAKRuC,EAAE8N,kBALYvS,EAAMG,QAAQC,KAAK,WAAa8B,GAAMlC,EAAMkC,OAFrD,SAAAA,GAAE,OAAIlC,EAAM+C,aAAab,GAAIgP,KAWrCD,CAAS/O,gGCUhBiiB,GAAsB,SAAAnkB,GAAK,OAAIoR,EAAAC,EAAAC,cAAC8S,GAAA,EAAD1gB,OAAAif,OAAA,CAAO0B,UAAU,MAASrkB,KACzDsT,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACT6Q,KAAM,CACFlR,QAAS,UACTY,QAAS,OACTC,WAAY,SACZ4C,SAAU,IACV7B,MAAO,QAEXmf,MAAO,CACHjd,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,GAEV4e,WAAY,CACRhhB,QAAS,IAEbupB,QAAS,CACLtpB,OAAQ,GACRnB,OAAQ,GAEZ+S,OAAQ,CACJ/P,SAAU,SAEd5S,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,OAkPH+tB,GA9OK,SAAAvjC,GAAS,IAErBwjC,EASAxjC,EATAwjC,WACAC,EAQAzjC,EARAyjC,cACAC,EAOA1jC,EAPA0jC,eACAC,EAMA3jC,EANA2jC,UACAC,EAKA5jC,EALA4jC,mBACAC,EAIA7jC,EAJA6jC,SACAC,EAGA9jC,EAHA8jC,aACAC,EAEA/jC,EAFA+jC,UACAnP,EACA50B,EADA40B,OAEEniB,EAAMiX,iBAAO,MAZM9Q,EAaGC,oBAAS,GAbZC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAalBorB,EAbkBlrB,EAAA,GAaVmrB,EAbUnrB,EAAA,GAezB2H,oBAAU,WACFhO,GAAOA,EAAIkX,SAAWlX,EAAIkX,QAAQkT,kBAClC,IAAIC,cAAgBL,MAAMhqB,EAAIkX,QAAQkT,gBACtC,IAAIE,mBAAgBtqB,EAAIkX,QAAQkT,kBAErC,IAEH,IAAMY,EAAa,SAAAh5B,GACfs/B,EAAUrgC,OAAAoP,EAAA,EAAApP,CAAA,GACHkxB,EADE,CAELsI,KAAMz4B,EAAEiX,OAAOgiB,MACfxoB,SAAU,CAACzQ,EAAEiX,OAAOiiB,YAAYC,IAAKn5B,EAAEiX,OAAOiiB,YAAYE,KAC1DqG,SAAS,MAIjBzjB,oBAAU,WACN0jB,KACD,CAACnkC,EAAM40B,SAEV,IAAMuP,EAAY,WACd,GAAI1xB,GAAOA,EAAIkX,SAAWlX,EAAIkX,QAAQkT,eAAgB,CAClD,IAAMuH,EACD,aACG9tB,KAAKC,IACDD,KAAK+tB,IACA5xB,EAAIkX,QAAQkT,eAAec,YAAYC,IACpCtnB,KAAKguB,GACL,MAGhBhuB,KAAKiuB,IAAI,EAAG9xB,EAAIkX,QAAQkT,eAAe2H,UAAY,GAEvDP,EACqB,OAAjBrP,EAAO6P,MACkB,KAAlB7P,EAAO8P,SAAmBN,EACR,IAAlBxP,EAAO8P,SAAmBN,KAKvCjwB,EAAUb,KAEhB,OACIlC,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIgE,YAAU,EACV/D,KAAM8hB,EACN5hB,QAAS,WACL6hB,GAAc,GACV7O,EAAOsP,SAAWtP,EAAOrwB,OACzBm/B,GAAe,GACfC,GAAU,GACVC,EAAmB,IACnBC,KAEAC,KAGR3f,oBAAqBA,IAErB/S,EAAAC,EAAAC,cAACoU,GAAA,EAAD,CAAQlR,UAAWL,EAAQ8Q,OAAQ7S,MAAM,WACrChB,EAAAC,EAAAC,cAACqU,GAAA,EAAD,KACIvU,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACIC,KAAK,QACLzT,MAAM,UACNE,QAAS,WACLmxB,GAAc,GACV7O,EAAOsP,SAAWtP,EAAOrwB,OACzBm/B,GAAe,GACfC,GAAU,GACVC,EAAmB,IACnBC,KAEAC,KAGRhe,aAAW,SAEX1U,EAAAC,EAAAC,cAACyU,GAAA,EAAD,OAEJ3U,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACR5H,UAAWL,EAAQ7R,MACnB8P,MAAM,WAHV,wBAOAhB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIqJ,WAAS,EACT5T,MAAM,UACNE,QAAS,WACLmxB,GAAc,GACV7O,EAAOsP,SAAWtP,EAAOrwB,OACzBm/B,GAAe,GACfC,GAAU,GACVC,EAAmB,IACnBC,KAEAC,MAXZ,UAmBR1yB,EAAAC,EAAAC,cAACqU,GAAA,EAAD,MAEAvU,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CACIC,WAAS,EACTrwB,MAAO,CAAEoB,QAAS,OAAQyD,SAAU,SACpC5C,WAAW,UAEX7C,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CAAMv8B,MAAI,EAACy8B,GAAI,EAAGqC,GAAI,GAAtB,wBAGAvzB,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CAAMv8B,MAAI,EAACy8B,GAAI,EAAGqC,GAAI,GAClBvzB,EAAAC,EAAAC,cAACszB,GAAA,EAAD,CACI/R,QAAS+B,EAAOsP,QAChB9xB,MAAM,UACNqJ,SAAU,SAAAhX,GACNs/B,EAAUrgC,OAAAoP,EAAA,EAAApP,CAAA,GACHkxB,EADE,CAELsP,QAASz/B,EAAEiX,OAAOmX,eAKlCzhB,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CAAMv8B,MAAI,EAACy8B,GAAI,GAAf,YAGAlxB,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CAAMv8B,MAAI,EAACy8B,GAAI,GACXlxB,EAAAC,EAAAC,cAACuzB,GAAA,EAAD,CACIC,kBAAkB,OAClBzqB,IAAK,EACLhB,IAAK,IACLoC,SAAU,SAAChX,EAAGigC,GAAJ,OACNX,EAAUrgC,OAAAoP,EAAA,EAAApP,CAAA,GAAKkxB,EAAN,CAAc8P,eAE3BngC,MAAOqwB,EAAO8P,YAGtBtzB,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CAAMv8B,MAAI,EAACy8B,GAAI,GAAf,SAGAlxB,EAAAC,EAAAC,cAAC8wB,GAAA,EAAD,CAAMv8B,MAAI,EAACy8B,GAAI,GACXlxB,EAAAC,EAAAC,cAACiK,GAAA,EAAD,CACIhX,MAAOqwB,EAAO6P,MACdhpB,SAAU,SAAAtQ,GAAK,OACX44B,EAAUrgC,OAAAoP,EAAA,EAAApP,CAAA,GAAKkxB,EAAN,CAAc6P,MAAOt5B,EAAMuQ,OAAOnX,WAG/C6M,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CAAUpX,MAAM,MAAhB,MACA6M,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CAAUpX,MAAM,MAAhB,SAKZ6M,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHkD,SAAU,WACVC,UAAW,QACXK,KAAM,EACNiV,UAAW,OACXnB,SAAU,WAGdlY,EAAAC,EAAAC,cAAC4tB,GAAA,EAAD,CACI6F,UAAW,WACPZ,KAEJna,IAAKvX,EACL0sB,OAAQvK,EAAO1f,SACfgoB,KAAMtI,EAAOsI,KACblrB,MAAO,CACHgD,MAAO,OACP3B,OAAQ,OACR6B,SAAU,WACVoqB,OAAQ,GAEZF,UAAW3B,EACX4B,UAAW5B,EACX8B,iBAAiB,GAEjBnuB,EAAAC,EAAAC,cAACkuB,GAAA,EAAD,CACIC,YAAY,0EACZjhB,IAAI,uDAERpN,EAAAC,EAAAC,cAACouB,GAAD,OAEJtuB,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHuW,gBAAe,OAAA9kB,OAASk8B,EAAQ,KAAjB,KACf3qB,MAAO,OACP3B,OAAQ,OACR6B,SAAU,WACVoqB,OAAQ,EACRjV,KAAM,mBACN4G,IAAK,mBACL2O,cAAe,OACfC,YAAa,UAGrBzuB,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHuV,WAAY,yBACZvS,MAAO,EAAIgvB,EAAS,KACpB3wB,OAAQ,EAAI2wB,EAAS,KACrB9uB,SAAU,WACVoqB,OAAQ,IACRjV,KAAM,cAAgB2Z,EAAS,MAC/B/S,IAAK,cAAgB+S,EAAS,MAC9BpE,cAAe,OACfC,YAAa,OACb/qB,aAAckvB,EAAS,KACvBpd,OAAQ,gkCCvPhC,IAAMtT,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACT6Q,KAAM,CACFlR,QAAS,UACTY,QAAS,OACTC,WAAY,SACZ4C,SAAU,IACV7B,MAAO,QAEXmf,MAAO,CACH3e,KAAM,GAEV4e,WAAY,CACRhhB,QAAS,IAEbupB,QAAS,CACLtpB,OAAQ,GACRnB,OAAQ,GAEZ+S,OAAQ,CACJ/P,SAAU,YAEd5S,MAAO,CACHoR,SAAU,GACVxB,OAAQ,iBACRyB,cAAe,YACfX,WAAY,SAKXgyB,GAAiB,SAAC3zB,EAAGkI,GAG9B,OAFalI,EAAE4zB,OAAS,IACX1rB,EAAE0rB,OAAS,IACF,EAAI,GAqUfr3B,eAPS,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,QACfG,aAAc2G,EAAM3G,eAIb6K,CAnUC,SAAA5N,GACEs1B,eAANE,EADa,IAGb5yB,EAA0B5C,EAA1B4C,QAASG,EAAiB/C,EAAjB+C,aAHI6V,EAIiBC,oBAAS,GAJ1BC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAIdssB,EAJcpsB,EAAA,GAID4qB,EAJC5qB,EAAA,GAAAuH,EAKexH,oBAAS,GALxByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAKdmjB,EALcljB,EAAA,GAKFmjB,EALEnjB,EAAA,GAAA0G,EAMyBnO,mBAAS,IANlCoO,EAAAvjB,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,GAMdme,EANcle,EAAA,GAMG2c,EANH3c,EAAA,GAAAC,EAOerO,mBAAS,IAPxBuO,EAAA1jB,OAAAqV,EAAA,EAAArV,CAAAwjB,EAAA,GAOdtjB,EAPcwjB,EAAA,GAOFge,EAPEhe,EAAA,GAAA+E,EAQOtT,oBAAS,GARhBuT,EAAA1oB,OAAAqV,EAAA,EAAArV,CAAAyoB,EAAA,GAQdkZ,EARcjZ,EAAA,GAQNuX,EARMvX,EAAA,GAAAG,EASqB1T,oBAAS,GAT9B2T,EAAA9oB,OAAAqV,EAAA,EAAArV,CAAA6oB,EAAA,GASd+Y,EATc9Y,EAAA,GASC+Y,EATD/Y,EAAA,GAAAG,EAWO9T,mBAAS,CACjCtU,MAAO,GACP2/B,SAAS,EACTQ,SAAU,GACVxH,KAAM,EACNhoB,SAAU,CAAC,WAAY,WACvBuvB,MAAO,OAjBU7X,EAAAlpB,OAAAqV,EAAA,EAAArV,CAAAipB,EAAA,GAWdiI,EAXchI,EAAA,GAWNmX,EAXMnX,EAAA,GAAA4Y,EAoBK3sB,mBAAS,IApBd4sB,EAAA/hC,OAAAqV,EAAA,EAAArV,CAAA8hC,EAAA,GAoBdjhC,EApBckhC,EAAA,GAoBPC,EApBOD,EAAA,GAsBf5B,EAAW,SAACt/B,EAAOohC,GAChBN,IAAUM,IACXhC,GAAU,GACVniC,IACKG,KAAK,sBAAuB,CACzB4C,MAAOA,EAAKb,OAAAoP,EAAA,EAAApP,CAAA,GAAQkxB,EAAR,CAAgBrwB,UAAUqwB,EACtCgR,KAAMD,EAAW,EAAIR,EAAgBphC,SAExCka,KAAK,SAAAle,GACF,GAAIA,EAAIE,KAAKI,QAAS,CAClBsjC,EAAU5jC,EAAIE,KAAKolC,QACnBzB,EAAmB7jC,EAAIE,KAAK2D,YACO,IAA/B7D,EAAIE,KAAK2D,WAAWG,QACpBxD,IAAQC,QAAQ,kCACpB,IALkBwD,EAKZ6hC,EAAgB,GALJ5hC,EAAA6hC,GAMC/lC,EAAIE,KAAKmF,SANV,IAMlB,IAAAnB,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAqC,KAA5Be,EAA4BrB,EAAAO,MACjCshC,EAAcxgC,EAAOpD,KAAOoD,GAPd,MAAAb,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,UAUd3E,EAAIE,KAAKK,WACTC,IAAQE,MACJ,+EAKfuf,MAAM,SAAAxb,QAGbs/B,EAAe,WACZwB,IACDC,GAAiB,GACjB/jC,IACKG,KAAK,uBAAwB,CAC1BikC,KAAMhiC,EAAWG,SAEpBka,KAAK,SAAAle,GACF,GAAIA,EAAIE,KAAKI,QAAS,CAClBklC,EAAiBxlC,EAAIE,KAAKolC,QAC1BD,EAAa,GAAA3hC,OAAAC,OAAAC,EAAA,EAAAD,CAAKE,GAALF,OAAAC,EAAA,EAAAD,CAAoB3D,EAAIE,KAAK2D,cAC1C,IAHkBe,EAGZkhC,EAAgB,GAHJjhC,EAAAkhC,GAIC/lC,EAAIE,KAAKmF,SAJV,IAIlB,IAAAR,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAqC,KAA5Be,EAA4BV,EAAAJ,MACjCshC,EAAcxgC,EAAOpD,KAAOoD,GALd,MAAAb,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,UAQd3E,EAAIE,KAAKK,WACTC,IAAQE,MACJ,+EAKfuf,MAAM,SAAAxb,QAIb2P,EAAUb,KAEZyyB,EAAmB,GAOvB,OANInjC,EAAQX,KAAOW,EAAQkB,mBACvBiiC,EAAmBnjC,EAAQkB,iBACtBqJ,OAAO,SAAAtH,GAAI,OAAI9C,EAAa8C,KAC5B4M,IAAI,SAAA5M,GAAI,OAAI9C,EAAa8C,MAElCmgC,QAAQC,IAAI7kB,OAAO8kB,WAEf90B,EAAAC,EAAAC,cAACrS,GAAD,CAAQs5B,OAAK,GACTnnB,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACupB,GAAA,EAAD,KACIzpB,EAAAC,EAAAC,cAAA,+DAGAF,EAAAC,EAAAC,cAAA,QACIJ,KAAK,cACL6E,QAAQ,sGAIhB3E,EAAAC,EAAAC,cAAC60B,GAAD,CACI3C,WAAYA,EACZC,cAAeA,EACfC,eAAgBA,EAChBC,UAAWA,EACXC,mBAAoBA,EACpBC,SAAUA,EACVC,aAAcA,EACdC,UAAWA,EACXnP,OAAQA,IAEZxjB,EAAAC,EAAAC,cAAC6wB,GAAD,MAEA/wB,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAOF,UAAWL,EAAQmQ,KAAMlI,QAAQ,YACpChL,EAAAC,EAAAC,cAACqjB,GAAA,EAAD,CACIngB,UAAWL,EAAQggB,MACnBvR,YAAY,eACZnH,SAAU,SAAAhX,GACDA,EAAEiX,OAAOnX,OAAUqwB,EAAOsP,UAC3BP,GAAU,GACVC,EAAmB,IACnBF,GAAe,GACfK,EAAUrgC,OAAAoP,EAAA,EAAApP,CAAA,GAAKkxB,EAAN,CAAcrwB,MAAO,OAElCmhC,EAASjhC,EAAEiX,OAAOnX,UAG1B6M,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACIpR,UAAWL,EAAQigB,WACnB9hB,QAAS,WACD/N,GACAm/B,GAAe,GACXn/B,IAAUqwB,EAAOrwB,QACjBo/B,GAAU,GACVC,EAAmB,IACnBG,EAAUrgC,OAAAoP,EAAA,EAAApP,CAAA,GAAKkxB,EAAN,CAAcrwB,WACvBs/B,EAASt/B,GAAO,MAGpBo/B,GAAU,GACVI,EAAUrgC,OAAAoP,EAAA,EAAApP,CAAA,GAAKkxB,EAAN,CAAcrwB,WACvBm/B,GAAe,MAIvBtyB,EAAAC,EAAAC,cAACujB,GAAA,EAAD,OAEJzjB,EAAAC,EAAAC,cAACkgB,GAAA,EAAD,CACIhd,UAAWL,EAAQwoB,QACnByJ,YAAY,aAEhBh1B,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CACIpR,UAAWL,EAAQigB,WACnB9hB,QAAS,kBAAMmxB,GAAc,IAC7BrxB,MAAOwiB,EAAOsP,QAAU,UAAY,WAEpC9yB,EAAAC,EAAAC,cAAC+0B,GAAA,EAAD,QAIRj1B,EAAAC,EAAAC,cAAC4C,GAAD,CACI5R,MAAM,+BACN8R,MAAO2xB,EACPhwB,QAAS,SAAAlQ,GAAI,OACTuL,EAAAC,EAAAC,cAAC8D,GAAA,EAAD,KACIhE,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAMI,GAAI,UAAYpN,EAAK5D,KACvBmP,EAAAC,EAAAC,cAACsL,GAAA,EAAD,CACI5K,MAAO,CACHqB,OAAQ,QACRwJ,eAAgB,WAEpBhL,MACIhM,EAAK8Q,OAAO5S,OAAS,EACf8B,EAAK8Q,OAAO,GACZX,GAAkBC,GAAMpQ,EAAK5D,MAEvCK,MAAOuD,EAAKqL,OAEhBE,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CAAavD,MAAO,CAAEoB,QAAS,QAC3BhC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,QAAQ5K,QAAM,GAC7B3L,EAAKqL,YAQ9BE,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAHhB,6BAQCywB,EACGC,EAAgBphC,OAAS,EACrBqN,EAAAC,EAAAC,cAACg1B,GAAAj1B,EAAD,CACIk1B,UAAW,EACXC,SAAU3C,IACV4C,SAAUpB,EACVqB,OACIt1B,EAAAC,EAAAC,cAAA,OAAKkD,UAAU,SAASrL,IAAK,GAA7B,gBAKJiI,EAAAC,EAAAC,cAAC6xB,GAAD,KACKgC,EACI7rB,KAAK0rB,IACLvyB,IAAI,SAAC5M,EAAMiQ,GAAP,OACD1E,EAAAC,EAAAC,cAACkd,GAAD,CACItsB,GAAI2D,EAAK5D,IACTkH,IAAK2M,EACLqB,YAAa,UAAYtR,EAAK5D,IAC9B0U,OAAQ9Q,EAAK8Q,OACbM,KACI7F,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KAMItB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACHgB,WAAY,SAGfnN,EAAKqL,OAIlBpD,QACIsD,EAAAC,EAAAC,cAACsgB,GAAD,CACInO,KACI,8BACA5d,EAAK5D,IAETK,MACIuD,EAAKqL,KACL,uGAEJqT,MACI1e,EAAK8Q,QACL9Q,EAAK8Q,OAAO,WAQ5C,KAEJvF,EAAAC,EAAAC,cAACg1B,GAAAj1B,EAAD,CACIk1B,UAAW,EACXC,SAAU1C,EACV2C,SAAUnB,EACVoB,OACIt1B,EAAAC,EAAAC,cAAA,OAAKkD,UAAU,SAASrL,IAAK,GAA7B,gBAKJiI,EAAAC,EAAAC,cAAC6xB,GAAD,KACKv/B,EACI0V,KAAK0rB,IACLvyB,IAAI,SAAC5M,EAAMiQ,GAAP,OACD1E,EAAAC,EAAAC,cAACkd,GAAD,CACItsB,GAAI2D,EAAK5D,IACTkH,IAAK2M,EACLqB,YAAa,UAAYtR,EAAK5D,IAC9B0U,OAAQ9Q,EAAK8Q,OACbM,KACI7F,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KAMItB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACHgB,WAAY,SAGfnN,EAAKqL,OAIlBpD,QACIsD,EAAAC,EAAAC,cAACsgB,GAAD,CACInO,KACI,8BACA5d,EAAK5D,IAETK,MACIuD,EAAKqL,KACL,uGAEJqT,MACI1e,EAAK8Q,QACL9Q,EAAK8Q,OAAO,uiCCvThES,KAAOsT,aAAa,KAAM,CACtBC,aAAc,CACVC,OAAQ,QACRC,KAAM,KACNzmB,EAAG,MACH0mB,GAAI,MACJC,EAAG,QACHC,GAAI,UACJC,EAAG,OACHC,GAAI,SACJC,EAAG,QACHC,GAAI,UACJC,EAAG,OACHC,GAAI,SACJC,EAAG,QACHC,GAAI,UACJC,EAAG,SACHC,GAAI,cAGZtU,OAASC,SACT,IAAM8M,GAAsB,SAAAnkB,GAAK,OAAIoR,EAAAC,EAAAC,cAAC8S,GAAA,EAAD1gB,OAAAif,OAAA,CAAO0B,UAAU,MAASrkB,KAEzDsT,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTnR,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,GAEVmxB,aAAc,CACVjzB,SAAU,GACVxB,OAAQ,iBACRyB,cAAe,YACfX,WAAY,SA+1BTrF,eACXC,YAxBoB,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,QACfmD,QAAS2D,EAAM3D,QACf1C,SAAUqG,EAAMrG,SAChBL,WAAY0G,EAAM1G,WAClBD,aAAc2G,EAAM3G,aACpBG,gBAAiBwG,EAAMxG,gBACvBC,WAAYuG,EAAMvG,WAClBsI,YAAa/B,EAAM+B,cAIA,SAAC1K,GACxB,MAAO,CACHqB,QAAS,SAAAnC,GAAI,OAAIc,EAAS+M,EAAgB7N,KAC1CoC,aAAc,SAAAC,GAAK,OAAIvB,EAAS+M,EAAqBxL,KACrDzB,QAAS,SAACb,EAAOg0B,GAAR,OACLjzB,EAAS+M,EAAgB9N,KAC7B4mC,gBAAiB,kBAAM7lC,E1Dp2BO,CAClCoB,KAAM,yB0Dw2BNyL,CA51BY,SAAA5N,GAAS,IAAA4Y,EACeC,mBAAS,YADxBC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GACdiuB,EADc/tB,EAAA,GACFguB,EADEhuB,EAAA,GAEfiuB,EAAWzzB,KAFI+M,EAGGxH,mBAAS,IAHZyH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAGdpgB,EAHcqgB,EAAA,GAGRle,EAHQke,EAAA,GAAA0G,EAI2BnO,mBAAS,IAJpCoO,EAAAvjB,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,GAId0Z,EAJczZ,EAAA,GAII0Z,EAJJ1Z,EAAA,GAAA3J,EAYjBtd,EAAMqD,SAAWrD,EAAQC,EALzB8F,EAPiBuX,EAOjBvX,QACAnD,EARiB0a,EAQjB1a,QACAG,EATiBua,EASjBva,aACAG,EAViBoa,EAUjBpa,gBACAC,EAXiBma,EAWjBna,WAXiB+jB,EAaqBrO,qBAbrBuO,EAAA1jB,OAAAqV,EAAA,EAAArV,CAAAwjB,EAAA,GAadmT,EAbcjT,EAAA,GAaCkT,EAbDlT,EAAA,GAAA+E,EAciBtT,mBAAS,IAd1BuT,EAAA1oB,OAAAqV,EAAA,EAAArV,CAAAyoB,EAAA,GAcd6a,EAdc5a,EAAA,GAcD6a,EAdC7a,EAAA,GAAAG,EAemC1T,oBAAS,GAf5C2T,EAAA9oB,OAAAqV,EAAA,EAAArV,CAAA6oB,EAAA,GAed4K,EAfc3K,EAAA,GAeQ2G,EAfR3G,EAAA,GAAAG,EAgBqB9T,oBAAS,GAhB9B+T,EAAAlpB,OAAAqV,EAAA,EAAArV,CAAAipB,EAAA,GAgBdyK,EAhBcxK,EAAA,GAgBCyK,EAhBDzK,EAAA,GAqDrB,GAnCAnM,oBAAU,WACN,IAAMga,EAAYz6B,EAAMG,QAAQ0uB,SAAS+B,SAAS9hB,MAAM,KACxD,GAAI2rB,EAAU12B,OAAS,EAAG,CACtB,IAAMmjC,EAAYzM,EAAU,GACxBz6B,EAAMqD,SACNrD,EAAMoC,QAAQ,CAAE0D,eAAgBohC,IAEhClV,GAAShyB,EAAOC,EAAMmC,EAAS,EAAsB,SAAAnC,GACjD,IADyD+D,EACnDhB,EAAa,GADsCiB,EAAAkjC,GAEtClnC,EAAK+C,YAFiC,IAEzD,IAAAiB,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAA,KAASe,EAATrB,EAAAO,MACIvB,EAAWqC,EAAOpD,KAAOoD,GAH4B,MAAAb,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAIzD,IAJyDC,EAInD5B,EAAe,GAJoC6B,EAAAuiC,GAKpClnC,EAAK8C,cAL+B,IAKzD,IAAA6B,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAA,KAASzB,EAAT8B,EAAAJ,MACIxB,EAAaF,EAASZ,KAAOY,GANwB,MAAA2B,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,IAQzD,IARyDI,EAQnD3B,EAAa,GARsC4B,EAAAoiC,GAStClnC,EAAKkD,YATiC,IASzD,IAAA4B,EAAAX,MAAAU,EAAAC,EAAAV,KAAAC,MAAA,KAASxB,EAATgC,EAAAP,MACIpB,EAAWL,EAAOb,KAAOa,GAV4B,MAAA0B,GAAAO,EAAAN,EAAAD,GAAA,QAAAO,EAAAL,IAYzD1E,EAAMoC,QAAQ,CACV2D,QAAS9F,EAAK8F,QACd/C,aACAD,eACAI,aACAP,QAAS,YAKjB5C,EAAMqD,UACNrD,EAAMoC,QAAQ,CAAE0D,eAAgBlD,EAAQX,OAGjD,CAACjC,EAAMqD,SAAUrD,EAAMG,QAAQ0uB,SAAS+B,SAAU5wB,EAAM4C,QAAQX,OAE9D8D,IAAYA,EAAQ9D,IAAK,OAAO,KAErC,IAAMiX,EAAUtW,GAAWA,EAAQX,KAAOW,EAAQX,MAAQ8D,EAAQ9D,IAClEjC,EAAMqC,aAAa,CAAE0R,KAAMhO,EAAQmL,KAAMk2B,IAAK,KAE9C,IAAM5T,EAAc,GAChBD,EAAiB,GACjBD,EAAkB,GACtB,GAAIvtB,GAAWA,EAAQX,SAAWxC,GAAWA,EAAQX,IAAK,KAAAiD,EAAAC,EAAAgiC,GACnCvkC,EAAQwC,SAD2B,IACtD,IAAAD,EAAAf,MAAAc,EAAAC,EAAAd,KAAAC,MAAoC,KAA3Be,EAA2BH,EAAAX,MACV,WAAlBc,EAAO1E,OAAqB6yB,EAAYpzB,KAAKiF,GACtB,YAAlBA,EAAO1E,OAAsB4yB,EAAenzB,KAAKiF,GAC/B,aAAlBA,EAAO1E,QAAuB2yB,EAAgBlzB,KAAKiF,IAJV,MAAAb,GAAAW,EAAAV,EAAAD,GAAA,QAAAW,EAAAT,KAQ1D,IAGIqhC,EADIniC,EAA6BmC,EAA7BnC,WAAYoB,EAAiBe,EAAjBf,aAwBpB,OAtBIpB,IACAmiC,EAAmBniC,EACduJ,OAAO,SAAAtH,GAAI,OAAI9C,EAAa8C,KAC5B4M,IAAI,SAAA5M,GAAI,OAAI9C,EAAa8C,MAoB9BuL,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACupB,GAAA,EAAD,KACIzpB,EAAAC,EAAAC,cAAA,aACKvL,EAAQmL,KADb,gEAIAE,EAAAC,EAAAC,cAAA,QACIJ,KAAK,cACL6E,QAAQ,sGAGhB3E,EAAAC,EAAAC,cAACrS,GAAD,CACI25B,OACIxnB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACR5H,UAAWuyB,EAASzkC,MACpB8P,MAAM,UACNZ,QAAM,GAELzL,EAAQmL,OAIjBE,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAO1C,MAAO,CAAEoB,QAAS,SACrBhC,EAAAC,EAAAC,cAAA,OAAKU,MAAO,CAAE4D,UAAW,SAAU6U,UAAW,SACzCvR,EACG9H,EAAAC,EAAAC,cAACqP,GAAA,EAAD,CACIzP,KAAK,SACL0P,OAAO,UACPC,SAAS,eACTrM,UAAWL,UACX8T,gBAAgB,EAChBhH,cAAe,SAAAC,GAAc,IAAXnE,EAAWmE,EAAXnE,KACdD,GAAWC,EAAM,IAAK,SAAU,SAAAyB,GACxBA,GAAKxe,EAAM4mC,sBAIvBx1B,EAAAC,EAAAC,cAAA,OACIU,MAAO,CACHwD,KAAM,EACNxB,QAAS,OACTX,OAAQ,OACRY,WAAY,SACZoB,eAAgB,SAChBK,cAAe,UAEnBpD,QAAS,SAAA7N,GACD2c,OAAOC,cACP5c,EAAE8N,kBACF6O,OAAOE,mBAAmBC,YACtB,cAEJH,OAAOnE,SAAW,SAAAuB,GACdxe,EAAM4mC,sBAKjBhkC,EAAQiP,MACLT,EAAAC,EAAAC,cAACK,GAAA,EAAD,CACIC,IAAKhB,GACDhO,EAAQX,IACRW,EAAQiP,OAEZC,KAAM,IACNE,MAAO,CAAEE,OAAQ,UAGrBd,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KAIQtB,EAAAC,EAAAC,cAACkQ,GAAAnQ,EAAD,MAEJD,EAAAC,EAAAC,cAAA,OAAKkD,UAAU,mBAAf,aAQhBpD,EAAAC,EAAAC,cAACK,GAAA,EAAD,CACIC,IAAKhB,GAAU7K,EAAQ9D,IAAK8D,EAAQ8L,OACpCC,KAAM,MAIdV,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEoB,QAAS,WAClBpT,EAAMyL,YAAYpC,SAASzG,EAAQX,MAChCmP,EAAAC,EAAAC,cAACa,GAAA,EAAD,CAAOC,MAAM,QAAQ9F,KAAK,WAE9B8E,EAAAC,EAAAC,cAACH,GAAA,EAAYk2B,MAAb,CACIC,MAAO,EACPC,WACIruB,GACM,CACIuC,SAAU,SAAA1b,GAAG,O/C9R/BwE,E+CgS0B,CAAE2M,KAAMnR,G/ChS3BmC,E+CiSmBU,EAAQX,S/ChStD0H,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,cACbiG,KAAM3M,EAAM2M,KACZtB,UAAW1N,MANA,IAACqC,EAAOrC,G+CmSW+rB,KACI7c,EAAAC,EAAAC,cAACsU,GAAA,EAAD,CAAYxT,MAAM,WACdhB,EAAAC,EAAAC,cAACk2B,GAAA,EAAD,OAGRC,UAAW7jB,GACX8jB,SAAU,CACNC,QAAS,EACTC,QAAS,KAM1B7hC,EAAQmL,OAGjBE,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,MAApB,IAA2BrW,EAAQ9D,IAAnC,KACAmP,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CACIzD,MAAO,CACHE,OAAQ,YAGZd,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMquB,EAAoB,cACnC3uB,MAAO,CAAEiD,YAAa,SAEtB7D,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACH2B,cAAe,SAGlB5N,EAAQJ,kBAAkB5B,OAL/B,eAQJqN,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMquB,EAAoB,eAEnCvvB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CACH2B,cAAe,SAGlB5N,EAAQlC,iBAAiBE,OACtBgC,EAAQH,eAAe7B,OAAQ,IANvC,eAYRqN,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACsgB,GAAD,CACInO,KACI,gCACA1d,EAAQ9D,IAEZsiB,MACIxe,EAAQ8L,OACRjB,GAAU7K,EAAQ9D,IAAK8D,EAAQ8L,OAEnCvP,MACIyD,EAAQmL,KACR,4GAGPtO,GAAWA,EAAQX,MAAQ8D,EAAQ9D,KAChCmP,EAAAC,EAAAC,cAAA,QAAMU,MAAO,CAAEiD,YAAa,SACvBue,EAAYvlB,KACT,SAAApI,GAAI,OAAIA,EAAKR,SAAWU,EAAQ9D,MAEhCmP,EAAAC,EAAAC,cAACsK,GAAA,EAAD,CAAMxJ,MAAM,UAAUyJ,MAAM,YAC5B,KACHjZ,EAAQgD,iBACJhD,EAAQgD,eAAeyD,SACpBtD,EAAQ9D,MAERmP,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNE,QAAS,kBACL2T,GACIrjB,EAAQX,IACR8D,EAAQ9D,MAGhB+P,MAAO,CAAEiD,YAAa,QACtBmH,QAAQ,aATZ,WAgBhBhL,EAAAC,EAAAC,cAAC2iB,GAAD,CACIrxB,QAASA,EACT4wB,YAAaA,EACbD,eAAgBA,EAChBD,gBAAiBA,EACjBrxB,IAAK8D,EAAQ9D,IACb0xB,kBACIza,EACM,CACI,CACI5G,QAAS,kBACLtS,EAAMG,QAAQC,KACV,YAERkC,MAAO,WAGf,KAEVwxB,QAAQ,KAGhB1iB,EAAAC,EAAAC,cAACmE,GAAA,EAAD,QAIRrE,EAAAC,EAAAC,cAAC4C,GAAD,CACI5R,MAAM,QACN8R,MAAO2xB,EAAiBzsB,KAAK0rB,IAC7BjvB,QAAS,SAAAlQ,GAAI,OACTuL,EAAAC,EAAAC,cAAC8D,GAAA,EAAD,KACIhE,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAMI,GAAI,UAAYpN,EAAK5D,KACvBmP,EAAAC,EAAAC,cAACsL,GAAA,EAAD,CACI5K,MAAO,CACHqB,OAAQ,QACRwJ,eAAgB,WAEpBhL,MACIhM,EAAK8Q,OAAO5S,OAAS,EACf8B,EAAK8Q,OAAO,GACZX,GAAkBC,GAAMpQ,EAAK5D,MAEvCK,MAAOuD,EAAKqL,OAEhBE,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CAAavD,MAAO,CAAEoB,QAAS,QAC3BhC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,QAAQ5K,QAAM,GAC7B3L,EAAKqL,UAM1BqD,QAAS2E,EACTrD,SAAS,WACTP,MAAO,kBAAM6d,GAAwB,MAGxCja,GAAWqa,EAAexvB,OAAS,GAChCqN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAC4C,GAAD,CACI5R,MAAM,sBACN8R,MAAOmf,EACPxd,QAAS,SAAAlQ,GAAI,OACTuL,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACH4D,UAAW,SACXxC,QAAS,QAGbhC,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAM,EACN/P,GAAI2D,EAAKR,OACTyM,KAAM,MAGdV,EAAAC,EAAAC,cAAC2K,GAAD,CACItJ,OAAK,EACLxB,YAAU,EACVa,MAAO,CACHgD,MAAO,OACP9C,OAAQ,aAEZhQ,GAAI2D,EAAKR,SAEb+L,EAAAC,EAAAC,cAACmE,GAAA,EAAD,CAAKzD,MAAO,CAAEE,OAAQ,UAClBd,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNgK,QAAQ,YACRtK,KAAK,QACLQ,QAAS,kBACL2T,GACIrjB,EAAQX,IACR4D,EAAKR,UAPjB,WAcJ+L,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACI7K,KAAK,QACLQ,QAAS,kBACL2T,GACIrjB,EAAQX,IACR4D,EAAKR,UALjB,iBAkBvB6T,GAAWoa,EAAgBvvB,OAAS,GACjCqN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAC4C,GAAD,CACI5R,MAAM,oBACN8R,MAAOkf,EACPvd,QAAS,SAAAlQ,GAAI,OACTuL,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACH4D,UAAW,SACXxC,QAAS,QAGbhC,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAM,EACN/P,GAAI2D,EAAKR,OACTyM,KAAM,MAGdV,EAAAC,EAAAC,cAAC2K,GAAD,CACItJ,OAAK,EACLxB,YAAU,EACVa,MAAO,CACHgD,MAAO,OACP9C,OAAQ,aAEZhQ,GAAI2D,EAAKR,SAEb+L,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACI7K,KAAK,QACLQ,QAAS,kBACL2T,GACIrjB,EAAQX,IACR4D,EAAKR,UALjB,iBAkBxB+L,EAAAC,EAAAC,cAAC4C,GAAD,CACI5R,MAAM,UACN8R,MAAOof,EACPzd,QAAS,SAAAlQ,GAAI,OACTuL,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACH4D,UAAW,SACXV,SAAU,WACV9B,QAAS,QAGbhC,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAAC2K,GAAD,CAAYhK,QAAM,EAAC/P,GAAI2D,EAAKR,OAAQyM,KAAM,MAE9CV,EAAAC,EAAAC,cAAC2K,GAAD,CACItJ,OAAK,EACLxB,YAAU,EACVa,MAAO,CACHgD,MAAO,OACP9C,OAAQ,aAEZhQ,GAAI2D,EAAKR,SAGb+L,EAAAC,EAAAC,cAAC2iB,GAAD,CACIrxB,QAASA,EACT4wB,YAAaA,EACbD,eAAgBA,EAChBD,gBAAiBA,EACjBrxB,IAAK4D,EAAKR,OACV6uB,SAAS,EACTL,WAAS,MAIrBtf,QAAS2E,EACTrD,SAAS,aACTP,MAAO,kBAAM+hB,GAAiB,MAGlCjmB,EAAAC,EAAAC,cAAC4C,GAAD,CACI5R,MAAM,6BACN8R,MAAOpP,EACFyN,IAAI,SAAA5M,GAAI,OAAI3C,EAAgB2C,KAC5BsH,OAAO,SAAAtH,GAAI,OAAIA,IACfsH,OAAO,SAAAtH,GAAI,OAAI1C,EAAW0C,EAAK/C,UAC/B2P,IAAI,SAAA5M,GAAI,OAAAnC,OAAAoP,EAAA,EAAApP,CAAA,GACFmC,EADE,CAELgiC,aAAc1kC,EAAW0C,EAAK/C,YAEjCwW,KAAK,SAACjI,EAAGkI,GACN,GACiB,cAAblI,EAAE1Q,QACW,cAAb4Y,EAAE5Y,OAEF,OAAO,EACX,GACiB,cAAb0Q,EAAE1Q,QACW,cAAb4Y,EAAE5Y,OAEF,OAAQ,EACZ,GACiB,cAAb0Q,EAAE1Q,QACW,cAAb4Y,EAAE5Y,OACJ,CACE,GACI0Q,EAAE4B,KAAOlN,EAAQ9D,KACjBsX,EAAEtG,KAAOlN,EAAQ9D,IAEjB,OAAO,EACX,GACIoP,EAAE4B,KAAOlN,EAAQ9D,KACjBsX,EAAEtG,KAAOlN,EAAQ9D,IAEjB,OAAQ,EAEhB,OAAO,IAAImK,KAAKiF,EAAE6b,MAAM7gB,UACpB,IAAID,KAAKmN,EAAE2T,MAAM7gB,UACf,GACC,IAEf0J,QAAS,SAAAlQ,GAAI,OACTuL,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACH4D,UAAW,SACXV,SAAU,WACV9B,QAAS,QAGbhC,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAMI,GAAI,YAAcpN,EAAKgiC,aAAa5lC,KACtCmP,EAAAC,EAAAC,cAACsL,GAAA,EAAD,CACI5K,MAAO,CACHqB,OAAQ,QACRwJ,eAAgB,WAEpBhL,MACIhM,EAAKgiC,aAAalxB,OAAO5S,OAAS,EAC5B8B,EAAKgiC,aAAalxB,OAAO,GACzBX,GAAkBC,GAAMpQ,EAAK5D,MAEvCK,MAAOuD,EAAKgiC,aAAa32B,OAE7BE,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CACIvD,MAAO,CACHoB,QAAS,QAGbhC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,QAAQ5K,QAAM,GAC7B3L,EAAKgiC,aAAa32B,MAEvBE,EAAAC,EAAAC,cAAA,QAAMU,MAAOgW,IACR5Q,KAAOvR,EAAKqnB,MAAMC,aAI/B/b,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAM,EACN/P,GAAI2D,EAAKgiC,aAAa/+B,KACtBgJ,KAAM,KAET,IACDV,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAM,EACN/P,GAAI2D,EAAKgiC,aAAa50B,GACtBnB,KAAM,KAEO,cAAhBjM,EAAKlF,QACFyQ,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MAAM,UACNgK,QAAQ,YACR9J,QAAS,kBCtqBV1C,EDwqBShN,EAAQX,ICxqBNC,EDyqBF2D,EAAK5D,SCxqBzC2N,GAAa1N,GAAMyH,GAAsC,IAAzBA,EAAUkB,YAC1ClB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,qBACb/I,KACA0N,gBANkB,IAACA,EAAW1N,ID6qBT2D,EAAKoN,KAAOlN,EAAQ9D,IACf,WACA,YAO1BmP,EAAAC,EAAAC,cAACmqB,GAAD,CAAgB50B,MAAOd,IACvBqL,EAAAC,EAAAC,cAACmqB,GAAD,CAAgB50B,MAAOd,EAASyf,MAAI,IAEnCtM,GACG9H,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWuyB,EAASJ,aACpBv0B,MAAM,gBACNqC,cAAY,GAHhB,YAOArD,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CACI1C,MAAO,CACHoB,QAAS,SAGbhC,EAAAC,EAAAC,cAACmE,GAAA,EAAD,KACIrE,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBACLtS,EAAMG,QAAQC,KAAK,YAEvBgS,MAAM,aAJV,WASJhB,EAAAC,EAAAC,cAACynB,GAAD,CAAkB5C,UAAQ,IAC1B/kB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMgoB,GAAiB,IAChCloB,MAAM,aAFV,mBAQJhB,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CAAQC,KAAMC,QAAQ0Y,IAClBjpB,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,KAAc,kBACdzQ,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KACI1Q,EAAAC,EAAAC,cAACwhB,GAAA,EAAD,KACI1hB,EAAAC,EAAAC,cAAA,wCAEK1O,EAAQX,IAFb,0CAKAmP,EAAAC,EAAAC,cAACkW,GAAA,EAAD,CACI/L,SAAU,SAAAhX,GAAC,OACPwiC,EAAexiC,EAAEiX,OAAOnX,YAKxC6M,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQrK,QAAS,kBAAMgoB,GAAiB,KAAxC,UAGAlpB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,W/C3vBhB,IAAApQ,E+C4vBe8kC,IAAgBpkC,EAAQX,IACxB1B,IAAQC,QACJ,kC/C9vBnB0B,E+CiwBuCU,EAAQX,I/ChwBpE0H,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,gBACb2E,UAAW1N,O+C+vBSkQ,MAAM,WAVV,cAmBpBhB,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIC,KAAMC,QAAQ+e,GACd9e,QAAS,kBAAM+e,EAAoB,KACnCr+B,MACyB,cAArBo+B,EAAmC,YAAc,YAErDna,WAAS,EACT1P,SAAS,MAETzF,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,KAC0B,cAArB6e,GAAoC,YACf,cAArBA,GACGtvB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACI3K,MAAO,CAAEE,OAAQ,oBACjBE,MACmB,aAAfy0B,EACM,UACA,UAEVv0B,QAAS,kBAAMw0B,EAAc,aAC7B1qB,QAAQ,aARZ,YAYAhL,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MACmB,UAAfy0B,EACM,UACA,UAEVv0B,QAAS,kBAAMw0B,EAAc,UAC7B1qB,QAAQ,aAPZ,WAcZhL,EAAAC,EAAAC,cAACwQ,GAAA,EAAD,KAC0B,cAArB4e,EACkB,aAAfmG,EACI9gC,EAAQH,eAAe6M,IAAI,SAAA5M,GAAI,OAC3BuL,EAAAC,EAAAC,cAACkd,GAAD,CACIppB,SAAS,EACT2R,QAAQ,EACR5N,IAAKtD,EACLiI,QACIsD,EAAAC,EAAAC,cAACmd,GAAD,CACI7rB,QAASA,EACTV,GAAI2D,IAGZoR,KACI7F,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACN1Q,GAAI2D,EACJiM,KAAM,SAMtBV,EAAAC,EAAAC,cAAC6xB,GAAD,KACKp9B,EAAQlC,iBAAiB4O,IAAI,SAAA5M,GAAI,OAC9BuL,EAAAC,EAAAC,cAACkd,GAAD,CACItsB,GAAI2D,EACJsR,YAAa,UAAYtR,EAEzBsD,IAAKtD,EACLiI,QACIsD,EAAAC,EAAAC,cAACmd,GAAD,CACItsB,KAAK,WACLS,QAASA,EACTV,GAAI2D,IAGZoR,KACI7F,EAAAC,EAAAC,cAACw2B,GAAD,CACIl1B,MAAM,EACN1Q,GAAI2D,EACJiM,KAAM,KAGdE,MAAO,CAEHyY,UAAW,aAO/B1kB,EAAQJ,kBAAkB8M,IAAI,SAAA5M,GAAI,OAC9BuL,EAAAC,EAAAC,cAACkd,GAAD,CACIppB,SAAS,EACT2R,QAAQ,EACR5N,IAAKtD,EACLiI,QACIsD,EAAAC,EAAAC,cAACmd,GAAD,CAAc7rB,QAASA,EAASV,GAAI2D,IAExCoR,KACI7F,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACN1Q,GAAI2D,EACJiM,KAAM,UAO9BV,EAAAC,EAAAC,cAAC0Q,GAAA,EAAD,KACI5Q,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIrK,QAAS,kBAAMquB,EAAoB,KACnCvuB,MAAM,WAFV,WAQP8G,GACG9H,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACIgE,YAAU,EACV/D,KAAMyV,EACNvV,QAAS,WACLuR,GAAwB,IAE5BhP,oBAAqBA,IAErB/S,EAAAC,EAAAC,cAAC2oB,GAAD,CACI9G,wBAAyBA,EACzBvwB,QAASA,EACTI,WAAYhD,EAAMgD,WAClBklB,OAAQ,kBAAMiL,GAAwB,OAIjDja,GACG9H,EAAAC,EAAAC,cAACyX,GAAD,CACIrH,KAAM0V,EACNxsB,MAAO,WACHysB,GAAiB,IAErB/0B,MAAM,cAEN8O,EAAAC,EAAAC,cAAC0oB,GAAD,CACIpvB,MAAO,kBAAMysB,GAAiB,IAC9B3V,KAAM0V,EACNx0B,QAASA,EACTI,WAAYhD,EAAMgD,4BEr5BpCsQ,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTnR,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,OAoGH7H,eACXC,YAlBoB,SAAAlE,GACpB,MAAO,CACHrG,SAAUqG,EAAMrG,SAChBV,KAAM+G,EAAM/G,KACZC,QAAS8G,EAAM9G,QACfmlC,iBAAkBr+B,EAAMq+B,mBAIL,SAAChnC,GACxB,MAAO,CACHsB,aAAc,SAAAC,GAAK,OAAIvB,EAAS+M,EAAqBxL,KACrD0lC,oBAAqB,SAAAzjC,GAAK,OACtBxD,E5DwCuB,SAAAwD,GAAK,MAAK,CACzCpC,KAAM,wBACNoC,S4D1CiBuJ,CAA4BvJ,OAK7CqJ,CAjGoB,SAAA5N,GACpB,IAAMmU,EAAUb,KACXtT,EAAMqD,UAAUrD,EAAMG,QAAQC,KAAK,WACxCqgB,oBAAU,WACDzgB,EAAM+nC,kBAAkB/nC,EAAMG,QAAQC,KAAK,cACjD,CAACJ,EAAM+nC,mBAkCV,OACI32B,EAAAC,EAAAC,cAAC22B,GAAA,EAAD,CACIrP,OACIxnB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACI6K,QAAQ,KACR5H,UAAWL,EAAQ7R,MACnB8P,MAAM,UACNZ,QAAM,GAJV,qBAUJJ,EAAAC,EAAAC,cAAC4sB,EAAA,EAADx6B,OAAAif,OAAA,CACIzR,KAAK,yBACLgiB,SAhDK,SAAA3uB,GACb/C,IACKG,KAAK,wBADV+B,OAAAoP,EAAA,EAAApP,CAAA,GAEWa,IAEN0Z,KAAK,SAAAle,GACEA,EAAIE,KAAKI,SACTE,IAAQF,QAAQ,oCAChBL,EAAMgoC,qBAAoB,KAEtBjoC,EAAIE,KAAKioC,mBACT3nC,IAAQC,QACJ,0DAGJT,EAAIE,KAAKK,WACTC,IAAQE,MACJ,gFAKfuf,MAAM,SAAAxb,OA2BH25B,aAAa,OAxBV,CACX/Y,SAAU,CAAExS,KAAM,GAClByS,WAAY,CAAEzS,KAAM,KAmBhB,CAKIZ,MAAO,CAAEyY,UAAW,UAEpBrZ,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CAAWtK,MAAM,OAAO3K,KAAK,OAAOmV,MAAOnC,IACvC9S,EAAAC,EAAAC,cAAC6iB,EAAA,EAAD,CAAOvR,YAAY,wCAEvBxR,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAAN,CACItK,MAAM,WACN3K,KAAK,WACLmV,MAAOxC,IAEPzS,EAAAC,EAAAC,cAAC6iB,EAAA,EAAD,CAAOvR,YAAY,wCAEvBxR,EAAAC,EAAAC,cAAC4sB,EAAA,EAAK/X,KAlCC,CACfd,WAAY,CAAE8iB,OAAQ,EAAGv1B,KAAM,KAkCnBxB,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAQhR,KAAK,UAAUimC,SAAS,SAASt2B,KAAK,SAA9C,2jCCzFpB,IAwEenE,eACXC,YAtBoB,SAAAlE,GACpB,MAAO,CACHrG,SAAUqG,EAAMrG,SAChBT,QAAS8G,EAAM9G,QACfylC,WAAY3+B,EAAM/H,KAClBkB,SAAU6G,EAAM7G,SAChBG,WAAY0G,EAAM1G,WAClBD,aAAc2G,EAAM3G,aACpBg0B,kBAAmBrtB,EAAMqtB,oBAIN,SAACh2B,GACxB,MAAO,CACHqB,QAAS,SAAAnC,GACLc,EAAS+M,EAAgB7N,KAE7BoC,aAAc,SAAAC,GAAK,OAAIvB,EAAS+M,EAAqBxL,OAKzDsL,CAzEyB,SAAA5N,GAAS,IAC1B4C,EAAsC5C,EAAtC4C,QAASI,EAA6BhD,EAA7BgD,WAAYD,EAAiB/C,EAAjB+C,aAEvBulC,EAAqB,SAACj3B,EAAGkI,GAAJ,OACvB,IAAInN,KAAKiF,EAAE6b,MAAM7gB,UAAY,IAAID,KAAKmN,EAAE2T,MAAM7gB,UAAY,GAAK,GAEnE,IAAKzJ,EAAQX,IAAK,OAAO,KAEzB,IARkC+B,EAQ9B+yB,EAAoB,GARU9yB,EAAAskC,GASb3lC,EAAQiB,kBATK,IASlC,IAAAI,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAA+C,KAAtCzB,EAAsCmB,EAAAO,MACvCxB,EAAaF,KACbk0B,EAAiB,GAAAtzB,OAAAC,OAAAC,EAAA,EAAAD,CACVqzB,GADUrzB,OAAAC,EAAA,EAAAD,CAEVX,EAAaF,GAAU2lC,kBAbJ,MAAAhkC,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAAA,IAAAC,EAAAC,EAAA2jC,GAiBf3lC,EAAQwC,SAjBO,IAiBlC,IAAAR,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAoC,KAA3Be,EAA2BV,EAAAJ,MAE5BvB,EAAWqC,EAAOA,SACA,WAAlBA,EAAO1E,QACPqC,EAAWqC,EAAOA,QAAQmjC,gBAE1BzR,EAAiB,GAAAtzB,OAAAC,OAAAC,EAAA,EAAAD,CACVqzB,GADUrzB,OAAAC,EAAA,EAAAD,CAEVV,EAAWqC,EAAOA,QAAQmjC,kBAzBP,MAAAhkC,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,IA4BlC,IAAM+jC,EAAgB,SAAC1oC,EAAK63B,EAAK9hB,EAAO4yB,GAIpC,OAHK3oC,EAAIkO,KAAK,SAAApI,GAAI,OAAIA,EAAKgyB,QAAUD,EAAIC,SACrC93B,EAAIK,KAAKw3B,GAEN73B,GAiBX,OAbAg3B,GAFAA,EAAoBA,EAAkBruB,OAAO+/B,EAAe,KAEtBnvB,KAAKgvB,GAAoBlvB,MAAM,EAAG,KAQxE2d,GADAA,GALAA,EAAoB,GAAAtzB,OAAAC,OAAAC,EAAA,EAAAD,CACbqzB,GADarzB,OAAAC,EAAA,EAAAD,CAEbd,EAAQ+lC,kBACbx7B,OAAO,SAAAtH,GAAI,MAAkB,aAAdA,EAAKmG,QAEgBtD,OAAO+/B,EAAe,KACtBnvB,KAAKgvB,GACtCM,KAAQ7R,EAAmB/2B,EAAM+2B,oBAClC/2B,EAAMoC,QAAQ,CAAE20B,sBAGb3lB,EAAAC,EAAAC,cAAA,gBCXI3D,eACXC,YACI,KARmB,SAAC7M,GACxB,MAAO,CACHF,QAAS,SAAAC,GAAK,OAAIC,EAAS+M,EAAgBhN,OAK/C8M,CAvCa,SAAA5N,GA6Bb,OA5BAohB,OAAOynB,iBAAiB,UAAW,SAASpkC,GAGxC,IACI,IAAMxE,EAAO8K,KAAKS,MAAM/G,EAAExE,MAC1B,OAAQA,EAAKM,SACT,IAAK,QACD,IAAMO,EAAQb,EAAKa,MACnBd,EAAMa,QAAQC,GACd,MACJ,IAAK,WACDsgB,OAAOnE,SAAShd,EAAKue,KACrB,MACJ,IAAK,OACIxe,EAAMG,QAAQ0uB,SAAS1lB,IAGrBnJ,EAAMG,QAAQ46B,SAFjB3Z,OAAOC,aACHD,OAAOE,mBAAmBC,YAAY,QAE9C,MACJ,QACI,QAEV,MAAO/c,GAEL,YADAwhC,QAAQvlC,MAAM,6CAA+C+D,MAK9D4M,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,6BCvBX0E,OAASC,SAET,IAutBe1J,eAAWC,YANF,SAAAlE,GACpB,MAAO,CACHqtB,kBAAmBrtB,EAAMqtB,oBAIPnpB,CAvtBF,SAAA5N,GAAS,IACrB+2B,EAAsB/2B,EAAtB+2B,kBACF+R,EAAgB,SAAAjjC,GAAI,OACtBuL,EAAAC,EAAAC,cAAA,QAAMU,MAAO,CAAEgB,WAAY,SACtBnN,EAAKwoB,QAAQvrB,OAAOimC,MACf,IAAMljC,EAAKwoB,QAAQvrB,OAAOimC,MAC1BljC,EAAKwoB,QAAQvrB,OAAOkmC,QAAUnjC,EAAKwoB,QAAQvrB,OAAOmmC,WAuChE,OATAxoB,oBAAU,WC/CgB,IAAC7Q,EAAWioB,EAAXjoB,EDiDnB5P,EAAM4C,QAAQX,ICjDgB41B,EDkD9Bd,EAAkBruB,OAAO,SAASwgC,EAAGC,GAEjC,OAAOD,GADPC,EAAI9yB,SAAS8yB,EAAEtR,QACAqR,EAAIC,GACpB,GCpDPx/B,GAAsC,IAAzBA,EAAUkB,YACvBlB,EAAUmB,KACNC,KAAKC,UAAU,CACXC,YAAa,iBACb2E,YACAioB,YDiDT,CAACd,IAEA3lB,EAAAC,EAAAC,cAACuD,GAAA,EAAD,KACIzD,EAAAC,EAAAC,cAACiE,GAAA,EAAD,KACKwhB,EAAkBtkB,IAAI,SAAC5M,EAAMiQ,GAC1B,IACIszB,EADA98B,EAAO,KAGX,OAAQzG,EAAKmG,MACT,IAAK,cACDM,EACI8E,EAAAC,EAAAC,cAAA,YACK,IACDF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,kBAGT,MACJ,IAAK,iBACD2J,EACI8E,EAAAC,EAAAC,cAAA,YACKzL,EAAKlD,KADV,oBAKJ,MACJ,IAAK,iBACD2J,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,sCAGT,MACJ,IAAK,aACD2J,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,QACDyO,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKwoB,QAAQhpB,SAEpB,oBAGT,MACJ,IAAK,WACDiH,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,QACDyO,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKwoB,QAAQhpB,SAEpB,2BAGT,MACJ,IAAK,oBACL,IAAK,qBACDiH,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OACV,IACY,sBAAdkD,EAAKmG,KACA,+BACA,qBAAsB,IAC5BoF,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,aAAAqD,OACiBoC,EAAKlD,KADtB,KAAAc,OAEQoC,EAAKwoB,QAAQC,WAKxBzoB,EAAKwoB,QAAQ4a,UACV,IApBZ,KAwBJ,MACJ,IAAK,uBACD38B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,YACAkD,EAAKwoB,QAAQ4a,SAPlB,mBAUJ,MACJ,IAAK,WACL,IAAK,YACD38B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OACV,IACY,aAAdkD,EAAKmG,KACA,mBACA,cAAe,IACrBoF,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OACcoC,EAAKlD,KADnB,KAAAc,OAEQoC,EAAKwoB,QAAQC,WAKxBzoB,EAAKwoB,QAAQ4a,UAEjB,MAGT,MACJ,IAAK,cACD38B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,YACAkD,EAAKwoB,QAAQ4a,SAPlB,gBAUJ,MACJ,IAAK,WACL,IAAK,YACD38B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OACV,IACY,aAAdkD,EAAKmG,KACA,2BACA,iBAAkB,IACxBoF,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,SAAAqD,OACaoC,EAAKlD,KADlB,KAAAc,OAEQoC,EAAKwoB,QAAQC,WAKxBzoB,EAAKwoB,QAAQ4a,UAEjB,MAGT,MACJ,IAAK,cACD38B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,YACAkD,EAAKwoB,QAAQ4a,SAPlB,eAUJ,MACJ,IAAK,WACD38B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,WACDyO,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,SAAAqD,OACaoC,EAAKlD,KADlB,KAAAc,OAEQoC,EAAKwoB,QAAQC,WAKxBzoB,EAAKwoB,QAAQ4a,SAVlB,MAWKpjC,EAAKwoB,QAAQgb,MAXlB,KAaC,SACDj4B,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKwoB,QAAQxnB,QAEpB,MAGT,MACJ,IAAK,qBACL,IAAK,sBACDyF,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OACV,IACY,uBAAdkD,EAAKmG,KACA,YACA,YACL,gBACDoF,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,SAAAqD,OACaoC,EAAKlD,KADlB,KAAAc,OAEQoC,EAAKwoB,QAAQC,WAKxBzoB,EAAKwoB,QAAQ4a,SAVlB,MAWKpjC,EAAKwoB,QAAQgb,MAXlB,KAaC,OACDj4B,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKwoB,QAAQib,QAEpB,MAGT,MACJ,IAAK,iBACDh9B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,kCACDyO,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OACcoC,EAAKwoB,QAAQC,WAI9BzoB,EAAKwoB,QAAQ4a,UAEjB,OACApjC,EAAKwoB,QAAQkb,GAlBlB,KAqBJ,MACJ,IAAK,gBACL,IAAK,iBACL,IAAK,aACL,IAAK,gBACDH,EA3UH,SAAA5hC,GACjB,IAAIsT,EACJ,OAAItT,EAAMqS,KACNiB,EAAY1D,OACP0C,KAAKtS,EAAMsS,MACXC,UAAUvS,EAAMqS,MACJxC,OAAO,mBACjB7P,EAAM0S,MACbY,EAAY1D,OACP0C,KAAKtS,EAAMsS,MACXI,KAAK1S,EAAM0S,OAEFF,QAAQ,QAAQ3C,OAAO,2BACjCyD,EAAUb,MAAM,QAAQ5C,OAAO,cAE5B7P,EAAM2S,OACbW,EAAY1D,OACP0C,KAAKtS,EAAMsS,MACXK,MAAM3S,EAAM2S,QACA9C,OAAO,aACjB7P,EAAMsS,MACbgB,EAAY1D,OAAS0C,KAAKtS,EAAMsS,OACfzC,OAAO,aAFrB,EAuTyBmyB,CAAa3jC,EAAKwoB,SAC9B/hB,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEE,kBAAdkD,EAAKmG,KACA,cACc,mBAAdnG,EAAKmG,KACL,qBACc,eAAdnG,EAAKmG,KACL,qBACA,cACNoF,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAEjBL,GACGh4B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK,QACDtB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,SAEpBo2B,IA/BjB,KAsCJ,MAEJ,IAAK,iBACD98B,EACI8E,EAAAC,EAAAC,cAAA,YACK,YACDF,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAEjBL,GACGh4B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK,QACDtB,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,SAEpBo2B,IAKZ,+BAGT,MACJ,IAAK,mBACD98B,EACI8E,EAAAC,EAAAC,cAAA,yBACezL,EAAKwoB,QAAQ4a,SACvB,YACD73B,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAEjB,+BAGT,MACJ,IAAK,aACDn9B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,aACAmmC,EAAcjjC,GACd,qBACDuL,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKwoB,QAAQvlB,OAEpB,YACDsI,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAzBtB,KA8BJ,MACJ,IAAK,iBACDn9B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,cACDyO,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAjBtB,KAsBJ,MACJ,IAAK,gBACDn9B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,gBACDyO,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAEjB5jC,EAAKwoB,QAAQqb,cAAc3lC,OAAS,EACjCqN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK,cACA7M,EAAKwoB,QAAQqb,cAAcj3B,IACxB,SAAAk3B,GAAE,OACEv4B,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAIynC,MAGb,KAGP,GAEH9jC,EAAKwoB,QAAQub,gBAAgB7lC,OAAS,EACnCqN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACK,gBACA7M,EAAKwoB,QAAQub,gBAAgBn3B,IAC1B,SAAAk3B,GAAE,OACEv4B,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAIynC,MAIf,MAGL,KAIZ,MACJ,IAAK,uBACDr9B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,YACDyO,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKwoB,QAAQzrB,UAEpB,cACDwO,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAvBtB,KA4BJ,MACJ,IAAK,kBACDn9B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,UACDyO,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKwoB,QAAQzrB,UAEpB,YACDwO,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAvBtB,KA4BJ,MACJ,IAAK,aACDn9B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,UACAmmC,EAAcjjC,GAPnB,mBAQMA,EAAKwoB,QAAQwb,KACa,IAA5BhkC,EAAKwoB,QAAQwb,IAAI9lC,OAEX8B,EAAKwoB,QAAQwb,IAAIp3B,IAAI,SAAA7P,GAAO,OACxBwO,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAC2K,GAAD,CACItJ,OAAO,EACPC,MAAM,EACN1Q,GAAIU,IAJZ,OAFJ,QAWL,YACDwO,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAhCtB,KAqCJ,MACJ,IAAK,gBACDn9B,EACI8E,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAI2D,EAAKlD,OAEZ,YACAmmC,EAAcjjC,GACd,oBACCA,EAAKwoB,QAAQwb,KACa,IAA5BhkC,EAAKwoB,QAAQwb,IAAI9lC,OAEX8B,EAAKwoB,QAAQwb,IAAIp3B,IAAI,SAAA7P,GAAO,OACxBwO,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAAC2K,GAAD,CACIrJ,MAAM,EACND,OAAO,EACPzQ,GAAIU,IAJZ,OAFJ,QAWL,YACDwO,EAAAC,EAAAC,cAAA,QACIU,MAAO,CAAEgB,WAAY,QACrBV,QAAS,kBACLtS,EAAMG,QAAQC,KAAd,UAAAqD,OAEQoC,EAAKwoB,QAAQxe,eAKxBhK,EAAKwoB,QAAQob,cAjCtB,KAsCJ,MACJ,QACIn9B,EAAO,YAGf,OACI8E,EAAAC,EAAAC,cAAA,OAAKnI,IAAK2M,GACK,IAAVA,GACG1E,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAS3qB,MAAO,CAAEE,OAAQ,aAE9Bd,EAAAC,EAAAC,cAACw4B,GAAA,EAAD,CACIn4B,OACIP,EAAAC,EAAAC,cAAC2K,GAAD,CACIhK,QAAQ,EACR/P,GAAI2D,EAAKlD,KACTiQ,MAAM,IAGdmD,QAASzJ,OAMrB,iiCEtsBpB,IAAMgH,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTnR,MAAO,CACHoR,SAAU,GACVxB,OAAQ,iBACRc,WAAY,SAiQTrF,eACXC,YAvBoB,SAAAlE,GACpB,MAAO,CACHrG,SAAUqG,EAAMrG,SAChBT,QAAS8G,EAAM9G,QACfylC,WAAY3+B,EAAM/H,KAClBkB,SAAU6G,EAAM7G,SAChBG,WAAY0G,EAAM1G,WAClBD,aAAc2G,EAAM3G,aACpB4E,aAAc+B,EAAM/B,aACpBovB,kBAAmBrtB,EAAMqtB,oBAIN,SAACh2B,GACxB,MAAO,CACHqB,QAAS,SAAAnC,GACLc,EAAS+M,EAAgB7N,KAE7BoC,aAAc,SAAAC,GAAK,OAAIvB,EAAS+M,EAAqBxL,OAKzDsL,CA7PmB,SAAA5N,GACnB,IAD4BgE,EACtBmQ,EAAUb,KAEZ1Q,EAKA5C,EALA4C,QACAI,EAIAhD,EAJAgD,WACAqlC,EAGAroC,EAHAqoC,WACAtlC,EAEA/C,EAFA+C,aACA4E,EACA3H,EADA2H,aAPwBiR,EAUFC,mBAAS,IAVPC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAUrBxR,EAVqB0R,EAAA,GAUd8oB,EAVc9oB,EAAA,GAAAuH,EAWQxH,mBAAS,SAXjByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAWrBwmB,EAXqBvmB,EAAA,GAWTwmB,EAXSxmB,EAAA,GAAA0G,EAYRnO,oBAAS,IAAIzM,MAAOC,WAAjC09B,EAZqBrmC,OAAAqV,EAAA,EAAArV,CAAAsjB,EAAA,MActBgjB,EAAY,SAAC34B,EAAGkI,GAClB,IAAM0wB,EAAK54B,EAAEm3B,cAAcr7B,OAAO,SAAAtH,GAAI,OAAIA,EAAKlD,OAASC,EAAQX,MAC1DioC,EAAK3wB,EAAEivB,cAAcr7B,OAAO,SAAAtH,GAAI,OAAIA,EAAKlD,OAASC,EAAQX,MAChE,OAAkB,IAAdgoC,EAAGlmC,QAAgBmmC,EAAGnmC,OAAS,EAAU,EACpCkmC,EAAGlmC,OAAS,GAAmB,IAAdmmC,EAAGnmC,QAAsB,EAC5B,IAAdkmC,EAAGlmC,QAA8B,IAAdmmC,EAAGnmC,OAAqB,EAEzC,IAAIqI,KAAK69B,EAAG,GAAG/c,MAAM7gB,UACxB,IAAID,KAAK89B,EAAG,GAAGhd,MAAM7gB,UACnB,GACC,GAMXqrB,EAAqB,EA9BGzzB,EAAAkmC,GAgCZnqC,EAAM+2B,mBAhCM,IAgC5B,IAAA9yB,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAyC,KAAhCszB,EAAgC5zB,EAAAO,MACjC8R,SAASuhB,EAAIC,OAASxhB,SAASzT,EAAQk1B,aAAe,IACtDJ,KAlCoB,MAAAlzB,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IA6F5B,GAxDA+b,oBAAU,WACN,GAAI9Y,EAAc,CACd,IADchD,EACRylC,EAAWziC,EACZwF,OAAO,SAAAtH,GAAI,OAAIwiC,EAAWxiC,KAC1B4M,IAAI,SAAA5M,GAAI,OAAIwiC,EAAWxiC,KAEtBwkC,EAAiB,GACjBC,EAAc,GAChBC,EAAQ7mC,OAAAC,EAAA,EAAAD,CAAO0D,GAPLxC,EAAAulC,GAQGC,GARH,QAAA38B,EAAA,eAQL9L,EARKgD,EAAAJ,MASNimC,EAAeD,EAAS3vB,UAAU,SAAA/U,GAClC,OAAOA,EAAK5D,IAAI4Y,aAAelZ,EAAKM,IAAI4Y,cAEtB,IAAlB2vB,EAEI7oC,EAAK6mC,eACL7mC,EAAK6mC,cAAczkC,OAAS,GAC5B,IAAIqI,KAAKzK,EAAK6mC,cAAc,GAAGtb,MAAM7gB,UACjC09B,EAEJM,EAAejqC,KAAKuB,GAEpB2oC,EAAYlqC,KAAKuB,GAGrB4oC,EAASC,GAAgB7oC,GAhBjC,IAAAiD,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAA2BmJ,IARb,MAAAjJ,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,IA4Bd,IA5Bc,IAAAwI,EAAA,WA4BT,IAAIvL,EAAI8oC,EAAAlnC,GACHuS,EAAQy0B,EAAS3vB,UAAU,SAAA/U,GAC7B,SACIA,GACAA,EAAK2iC,eACL3iC,EAAK2iC,cAAczkC,OAAS,IAGxB,IAAIqI,KAAKvG,EAAK2iC,cAAc,IAAIn8B,UAChC,IAAID,KAAKzK,EAAK6mC,cAAc,IAAIn8B,aAI7B,IAAXyJ,EACAy0B,EAASnqC,KAAKuB,GAEd4oC,EAASr7B,OAAO4G,EAAO,EAAGnU,IAhBlC4B,EAAA,EAAAknC,EAAiBH,EAAjB/mC,EAAAknC,EAAA1mC,OAAAR,IAA8B2J,IAoB9B,IAAIw9B,EAAW,GAAAjnC,OAAO4mC,EAAP3mC,OAAAC,EAAA,EAAAD,CAA0B6mC,IACpB,IAAjBnjC,EAAMrD,SACN2mC,EAAcA,EAAYpxB,KAAK0wB,IAEnCpI,EAAS8I,KAEd,CAAC/iC,EAAc0gC,KACbzlC,EAAQX,IAAK,OAAO,KAEzB,IA/F4B6C,EA+FxBiyB,EAAoB,GA/FIhyB,EAAAolC,GAgGPvnC,EAAQiB,kBAhGD,IAgG5B,IAAAkB,EAAAX,MAAAU,EAAAC,EAAAV,KAAAC,MAA+C,KAAtCzB,EAAsCiC,EAAAP,MACvCxB,EAAaF,KACbk0B,EAAiB,GAAAtzB,OAAAC,OAAAC,EAAA,EAAAD,CACVqzB,GADUrzB,OAAAC,EAAA,EAAAD,CAEVX,EAAaF,GAAU2lC,cAAcr7B,OACpC,SAAAtH,GAAI,MACc,aAAdA,EAAKmG,MAAuBnG,EAAKlD,OAASC,EAAQX,UAtG1C,MAAAuC,GAAAO,EAAAN,EAAAD,GAAA,QAAAO,EAAAL,IA2G5BqyB,EAAoBA,EACfzd,KAjFqB,SAACjI,EAAGkI,GAAJ,OACtB,IAAInN,KAAKiF,EAAE6b,MAAM7gB,UAAY,IAAID,KAAKmN,EAAE2T,MAAM7gB,UAAY,GAAK,IAiF9DoG,IAAI,SAAA5M,GAAI,OAAIA,EAAKwoB,QAAQne,SACzBkJ,MAAM,EAAG,IAEd,IAAMuxB,EAAWjnC,OAAAC,EAAA,EAAAD,CACV,IAAIqF,IAAJ,GAAAtF,OAAAC,OAAAC,EAAA,EAAAD,CACId,EAAQuB,aADZT,OAAAC,EAAA,EAAAD,CAEId,EAAQiC,SAFZnB,OAAAC,EAAA,EAAAD,CAGI0D,EAAMqL,IAAI,SAAA9Q,GAAI,OAAIA,EAAKM,OAH3ByB,OAAAC,EAAA,EAAAD,CAIIqzB,MAQX,OALK6R,KAAQjhC,EAAcgjC,IACvB3qC,EAAMoC,QAAQ,CAAEuF,aAAcgjC,IAElC3qC,EAAMqC,aAAa,CAAE0R,KAAM,YAAaqzB,IAAK,KAGzCh2B,EAAAC,EAAAC,cAACrS,GAAD,CACI25B,OACIxnB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACI3K,MAAO,CAAEE,OAAQ,YACjBE,MAAsB,UAAfy0B,EAAyB,UAAY,UAC5Cv0B,QAAS,kBAAMw0B,EAAc,UAC7B1qB,QAAQ,aAJZ,SAQAhL,EAAAC,EAAAC,cAACqc,GAAA,EAAD,CAAOK,aAAc0J,EAAoBtlB,MAAM,aAC3ChB,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CACIvK,MACmB,WAAfy0B,EAA0B,UAAY,UAE1Cv0B,QAAS,kBAAMw0B,EAAc,WAC7B1qB,QAAQ,aALZ,aAaI,UAAfyqB,EACGz/B,EAAMqL,IAAI,SAAC5M,EAAMiQ,GACb,IAAIxJ,EAAO,KACLs+B,EAAO/kC,EAAK2iC,cAAcr7B,OAC5B,SAAAyqB,GAAG,OAAIA,EAAIj1B,OAASC,EAAQX,MAE1B21B,EAAMgT,EAAK7mC,OAAS,EAAI6mC,EAAK,GAAK,KACxC,GAAIhT,EACA,OAAQA,EAAI5rB,MACR,IAAK,qBACDM,EAAO,2BAEP,MACJ,IAAK,YACDA,EAAO,eAEP,MACJ,IAAK,YACDA,EAAO,uBAEP,MAEJ,IAAK,UACDA,EAAO,mBAEP,MACJ,IAAK,eACDA,EAAO,oBAEP,MACJ,IAAK,OACDA,EAAO,gBAEP,MACJ,IAAK,UACDA,EAAO,kBAEP,MACJ,QACIA,EAAO,KAInB,OACI8E,EAAAC,EAAAC,cAAA,OAAKnI,IAAK2M,EAAO9D,MAAO,CAAEwS,WAAY,SACjClY,GACG8E,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACItB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACIiD,UAAWL,EAAQ7R,MACnB8P,MAAM,gBACNqC,cAAY,GAEZrD,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC2K,GAAD,CACI/Z,GAAI01B,EAAIj1B,KACRgQ,OAAO,EACPC,MAAM,EACNZ,MAAO,CAAEgB,WAAY,UACtB,IACF1G,KAKjB8E,EAAAC,EAAAC,cAACwpB,GAAD,CACI93B,WAAYA,EACZJ,QAASA,EACTjB,KAAMkE,EACN9C,aAAcA,OAM9BqO,EAAAC,EAAAC,cAACu5B,GAAD,CAAiBjoC,QAASA,6BCzO1CwU,OAASC,SAET,IAAM/D,GAAYC,aAAW,SAACC,GAAD,OACzBC,aAAa,CACTnR,MAAO,CACH4U,WAAY1D,EAAM0R,QAAQ,GAC1B1P,KAAM,GAEV8O,KAAM,CACFqd,SAAU,EACVlX,UAAW,QAEflG,MAAO,CACHlR,OAAQ,EACRmR,WAAY,SACZ3H,eAAgB,WAEpBiuB,WAAY,CACRzgB,KAAM,OACNF,OAAQ,OACRjV,SAAU,QACVoqB,OAAQ,OAmLL3xB,eACXC,YAboB,SAAAlE,GACpB,MAAO,CACH9G,QAAS8G,EAAM9G,UAII,SAAC7B,GACxB,MAAO,CACHsB,aAAc,SAAAC,GAAK,OAAIvB,EAAS+M,EAAqBxL,OAKzDsL,CA/KS,SAAA5N,GACT,IAAMmU,EAAUb,KADEsF,EAEMC,mBAAS,MAFfC,EAAApV,OAAAqV,EAAA,EAAArV,CAAAkV,EAAA,GAEXjX,EAFWmX,EAAA,GAELiyB,EAFKjyB,EAAA,GAAAuH,EAIQxH,mBAAS,IAJjByH,EAAA5c,OAAAqV,EAAA,EAAArV,CAAA2c,EAAA,GAIX/d,EAJWge,EAAA,GAIJuhB,EAJIvhB,EAAA,GA6ElB,OAvEAG,oBAAU,WACN/B,MAAM,8CAA+C,CACjDsjB,OAAQ,OACRtgC,QAAS,CAAEwe,eAAgB,oBAC3BjJ,KAAMlM,KAAKC,UAAU,CACjBi3B,MAAK,sDAAAx+B,OAGoC,IAAnDzD,EAAMG,QAAQ0uB,SAAS+B,SAASthB,QAAQ,OAAe,KAAO,KAH/C,+BAAA7L,OAOXzD,EAAMG,QAAQ0uB,SAAS+B,SAAS9hB,MAAM,KAClC9O,EAAMG,QAAQ0uB,SAAS+B,SAAS9hB,MAAM,KAAK/K,OAAS,GAR7C,sBAAAN,OAYXzD,EAAMG,QAAQ0uB,SAAS+B,SAAS9hB,MAAM,KAClC9O,EAAMG,QAAQ0uB,SAAS+B,SAAS9hB,MAAM,KAAK/K,OAAS,GAb7C,wIA8BRka,KAAK,SAAAle,GAAG,OAAIA,EAAImiC,SAChBjkB,KAAK,SAAAhe,GACEA,EAAKA,KAAKmH,MAAMrD,OAAS,IACzBgnC,EAAQ9qC,EAAKA,KAAKmH,MAAM,IACxBy6B,EACI5hC,EAAKA,KAAKmH,MAAM,GAAG9E,MACf,uGAIrB,CAACtC,EAAMG,QAAQ0uB,SAAS+B,WAE3BnQ,oBAAU,WACNW,OAAO4pB,YAAc,WACjB5pB,OAAO6pB,GAAGC,KAAK,CACXC,MAAO,kBACPC,QAAQ,EACRC,OAAO,EACPv6B,QAAS,UAKhB,SAAUqa,EAAG/mB,EAAGlC,GACb,IAAIopC,EACAC,EAAMpgB,EAAEqgB,qBAAqBpnC,GAAG,GAChC+mB,EAAEsgB,eAAevpC,MACrBopC,EAAKngB,EAAE7Z,cAAclN,IAClBlC,GAAKA,EACRopC,EAAG15B,IAAM,sCACT25B,EAAIxP,WAAW2P,aAAaJ,EAAIC,IAPnC,CAQEjsB,SAAU,SAAU,mBACxB,IACHmB,oBAAU,WACFW,OAAO6pB,IAAI7pB,OAAO6pB,GAAGU,MAAMngC,UAE5B7J,EACHyP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACKpQ,GACG8O,EAAAC,EAAAC,cAACupB,GAAA,EAAD,KACIzpB,EAAAC,EAAAC,cAAA,aAAQhP,IAIhB8O,EAAAC,EAAAC,cAACrS,GAAD,CAAQs5B,OAAK,GACTnnB,EAAAC,EAAAC,cAAC6wB,GAAD,MAEA/wB,EAAAC,EAAAC,cAACuD,GAAA,EAAD,CACI7C,MAAO,CACHE,OAAQ,YACR2E,SAAU,SACVC,UAAW,SAGf1F,EAAAC,EAAAC,cAACsL,GAAA,EAAD,CACIpI,UAAWL,EAAQoQ,MACnB1S,MAAOlQ,EAAK4e,cAAgB5e,EAAK4e,aAAa/B,IAC9Clc,MAAOX,EAAKW,QAEhB8O,EAAAC,EAAAC,cAACiE,GAAA,EAAD,CAAavD,MAAO,CAAE2G,YAAa,EAAGD,aAAc,IAChDtH,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACImjB,MAAM,QACNtY,QAAQ,SACRhK,MAAM,gBACNkkB,UAAU,IACV7hB,cAAY,GAEX2C,KAAOzV,EAAK+gC,cAAcrrB,OACvB,oBAGRjG,EAAAC,EAAAC,cAAA,OAAKU,MAAO,CAAE4D,UAAW,UACrBxE,EAAAC,EAAAC,cAACsgB,GAAD,CACIjwB,MAAI,EACJW,MACIX,EAAKW,MACL,0FAEJiiB,MACI5iB,EAAK4e,cAAgB5e,EAAK4e,aAAa/B,OAInDpN,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAYkD,cAAY,EAAC2H,QAAQ,KAAKka,UAAU,MAC3C30B,EAAKW,OAEV8O,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAYkD,cAAY,EAAC2H,QAAQ,MAC5Bza,EAAK8gC,UAGVrxB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAY6K,QAAQ,QAAQ5H,UAAU,eACjCo3B,KAAgBjqC,EAAKoU,UAE1B3E,EAAAC,EAAAC,cAAA,OAAKU,MAAO,CAAE4D,UAAW,UACrBxE,EAAAC,EAAAC,cAACsgB,GAAD,CACIjwB,MAAI,EACJW,MACIX,EAAKW,MACL,0FAEJiiB,MACI5iB,EAAK4e,cAAgB5e,EAAK4e,aAAa/B,OAInDpN,EAAAC,EAAAC,cAAA,OACIkD,UAAU,cACVq3B,YACI,uBACA7rC,EAAMG,QAAQ0uB,SAAS+B,SAE3Bkb,gBAAc,IACdC,aAAW,SAM/B,QCzDOp+B,eACXC,YAhBoB,SAAAlE,GACpB,MAAO,CACHrG,SAAUqG,EAAMrG,SAChB0kC,iBAAkBr+B,EAAMq+B,mBAIL,SAAChnC,GACxB,MAAO,CACHF,QAAS,kBAAME,EAAS+M,MACxB5N,OAAQ,kBAAMa,EAAS+M,MACvBk+B,YAAa,SAAAjX,GAAQ,OAAIh0B,EnElGN,SAAAg0B,GAAQ,MAAK,CACpC5yB,KAAM,eACN4yB,YmEgGsCjnB,CAAoBinB,OAK1DnnB,CA7HQ,SAAA5N,GACR,IAAMisC,EAAaviB,kBAAO,GAClB6L,EAASD,eAATC,KAEAlyB,EAAarD,EAAbqD,SAEF6oC,EAAOC,sBAAWzoC,OAAA6Z,EAAA,EAAA7Z,CAAA8Z,EAAAnM,EAAAoM,KAAC,SAAAC,IAAA,OAAAF,EAAAnM,EAAAsM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,EAEZouB,EAAWtiB,QAFC,CAAA/L,EAAAE,KAAA,eAAAF,EAAAwuB,OAAA,SAEe,MAFf,OAGjBpsC,EAAMa,UAHW+c,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAyuB,GAAAzuB,EAAA,iCAAAA,EAAAO,SAAAT,EAAA,iBAKtB,CAACuuB,IACJxrB,oBAAU,WAIN,OAHKpd,GACD6oC,IAEG,WACHD,EAAWtiB,SAAU,IAE1B,CAACtmB,IAEJod,oBAAU,WC5CQ,IAAA6rB,ID6CP,gBC5CXC,IAAQC,WAAWF,ID6ChB,IAEH7rB,oBAAU,YACqD,IAAvDzgB,EAAMG,QAAQ0uB,SAAS+B,SAASthB,QAAQ,WACxC8R,OAAO4P,SAAS,EAAG,GC7C3Bub,IAAQE,SAASrrB,OAAOyN,SAAS+B,SAAWxP,OAAOyN,SAAS+F,SDgDzD,CAAC50B,EAAMG,QAAQ0uB,SAAS+B,WAE3BnQ,oBAAU,WACN,IAAM2U,EAAkBG,EAAKR,SACvBQ,EAAKR,SAASjmB,MAAM,KAAK,GACzB,KACN9O,EAAMgsC,YAAY5W,IACnB,CAACG,EAAKR,WAET,IAAM2X,EAAS,WAGX,OAFA1sC,EAAME,SACNkhB,OAAOC,aAAeD,OAAOE,mBAAmBC,YAAY,UACrDnQ,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAU15B,GAAG,cAGpB25B,EACAx7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,KACIv7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,IAAIwrC,OAAK,EAACvW,UAAWwW,KACnB,OAAbzpC,GACG+N,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,SAASwrC,OAAK,EAACvW,UAAWyW,KAG1C37B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,SAASi1B,UAAW0W,KAChC57B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,WAAWi1B,UAAW2W,KAClC77B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,YAAYi1B,UAAW2W,KAEnC77B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,WAAWi1B,UAAW4W,KAKlC97B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,UAAUwrC,OAAK,EAACvW,UAAWoW,IACvCt7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,WAAWwrC,OAAK,EAACvW,UAAW6W,KACxC/7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,QAAQwrC,OAAK,EAACvW,UAAW6W,KACrC/7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,WAAWi1B,UAAW8W,KAClCh8B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,QAAQi1B,UAAW8W,KAE/Bh8B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,oBAAoBwrC,OAAK,EAACvW,UAAW+W,MAEhDC,EAGDl8B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAU15B,GAAG,OA2BrB,OAvBIjT,EAAM+nC,mBACN6E,EACIx7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,KACIv7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAOtrC,KAAK,UAAUwrC,OAAK,EAACvW,UAAWoW,IAEvCt7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CACItrC,KAAK,oBACLwrC,OAAK,EACLvW,UAAW+W,MAGdC,EAGAjqC,EACG+N,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAU15B,GAAG,sBAEb7B,EAAAC,EAAAC,cAACq7B,EAAA,EAAD,CAAU15B,GAAG,QAOzB7B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqB,SAAA,KACKk6B,EACAvpC,GAAY+N,EAAAC,EAAAC,cAACi8B,GAAD,MACZlqC,GAAY+N,EAAAC,EAAAC,cAACk8B,GAAD,MACbp8B,EAAAC,EAAAC,cAACm8B,GAAD,4iCE/HL,IAmJQC,GAxHCC,aA3BY,CACxBtqC,UAAU,EACVV,KAAM,KACNW,eAAgB,GAChBV,QAAS,GACTI,WAAY,GACZE,gBAAiB,GACjBH,aAAc,GACd+C,eAAgB,GAChBC,QAAS,GACTY,gBAAiB,GACjBgB,aAAc,GACd9E,SAAU,GACVlB,KAAM,GACNsB,SAAU,GACVH,OAAQ,GACRsF,cAAe,GACfjF,WAAY,GACZ+2B,UAAW,GACX3xB,mBAAoB,GACpBw/B,kBAAkB,EAClBhR,kBAAmB,GACnBC,gBAAgB,EAChBvrB,YAAa,GACbspB,SAAU,MAG8B,CACxC6Y,SAAU,SAAClkC,EAAemkC,GACtB,GAAIA,EAAO5tC,KAAM,CACb,QAAAsD,EAAA,EAAAC,EAAgB,CACZ,OACA,UACA,WACA,iBACA,iBACA,eACA,gBACA,UACA,kBACA,WACA,SACA,oBACA,eAbJD,EAAAC,EAAAO,OAAAR,IAcG,CAdE,IAAI4F,EAAG3F,EAAAD,GAewB,qBAArBsqC,EAAO5tC,KAAKkJ,KACnBO,EAAMP,GAAO0kC,EAAO5tC,KAAKkJ,IAIjC,QAAA1D,EAAA,EAAAC,EAAgB,CACZ,aACA,eACA,OACA,WACA,aACA,mBANJD,EAAAC,EAAA3B,OAAA0B,IAOG,CAPE,IAAI0D,EAAGzD,EAAAD,GAQR,GAAgC,qBAArBooC,EAAO5tC,KAAKkJ,GACnB,IAAK,IAAIP,KAAQilC,EAAO5tC,KAAKkJ,GACrB0kC,EAAO5tC,KAAKkJ,GAAKP,KACjBc,EAAMP,GAAKP,GAAQilC,EAAO5tC,KAAKkJ,GAAKP,IAKhDilC,EAAO5tC,KAAK6L,iBACZpC,EAAM+B,YAAN,GAAAhI,OAAAC,OAAAC,EAAA,EAAAD,CACOgG,EAAM+B,aADb/H,OAAAC,EAAA,EAAAD,CAEOmqC,EAAO5tC,KAAK6L,kBAIvBpC,EAAM/G,OACF+G,EAAM/G,KAAKW,gBACXoG,EAAMpG,eAAiBoG,EAAM/G,KAAKW,eAClCoG,EAAMq+B,kBAAmB,GAClBr+B,EAAM/G,KAAKqL,WAClBtE,EAAMpG,eAAiBoG,EAAM/G,KAAKqL,UAClCtE,EAAMq+B,kBAAmB,GAEzBr+B,EAAMq+B,kBAAmB,IAIrC+F,YAAa,SAACpkC,EAAemkC,GACzB,GAAIA,EAAO5tC,KAAM,CACb,QAAA+F,EAAA,EAAAC,EAAgB,CACZ,OACA,UACA,UACA,WACA,UALJD,EAAAC,EAAAlC,OAAAiC,IAMG,CANE,IAMFhC,EANMmF,EAAGlD,EAAAD,GAMT/B,EAAA8pC,GACkBF,EAAO5tC,KAAKkJ,IAD9B,IACC,IAAAlF,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAmC,KAA1BuB,EAA0B7B,EAAAO,MAC3BmF,EAAMP,GAAKlH,MAAQ4D,IACnB6D,EAAMP,GAAO,KAHtB,MAAA3E,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,KAOH,QAAA+B,EAAA,EAAAC,EAAgB,CACZ,OACA,aACA,eACA,WACA,aACA,mBANJD,EAAAC,EAAA3C,OAAA0C,IAOG,CAPE,IAOF9B,EAPMwE,EAAGzC,EAAAD,GAOT7B,EAAAmpC,GACkBF,EAAO5tC,KAAKkJ,IAD9B,IACC,IAAAvE,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAAmC,KAA1BuB,EAA0BlB,EAAAJ,aACxBmF,EAAMP,GAAKtD,IAFvB,MAAArB,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,QAOXspC,yBAA0B,SAACtkC,EAAemkC,GACtCnkC,EAAMnB,mBAAqBslC,EAAO5tC,MAGtCguC,iBAAkB,SAACvkC,EAAemkC,GAC1BA,EAAO5tC,OACPyJ,EAAM9G,QAAQgJ,YAAciiC,EAAO5tC,MAEnC4tC,EAAO5tC,KAAKiuC,OAAMxkC,EAAMwkC,KAAOL,EAAO5tC,KAAKiuC,OAEnDC,aAAc,SAACzkC,EAAemkC,GAC1BnkC,EAAM9G,QAAQiP,MAAQg8B,EAAO1E,GAEjCiF,aAAc,SAAC1kC,EAAemkC,GAC1BnkC,EAAMqrB,SAAW8Y,EAAO9Y,UAE5BsZ,kBAAmB,SAAC3kC,GAChBA,EAAM9G,QAAQiP,MAAQnI,EAAM9G,QAAQiP,MAAQ,GAEhDy8B,cAAe,SAAC5kC,EAAemkC,GAC3BnkC,EAAMrG,SAAWwqC,EAAO3rC,IAE5BqsC,eAAgB,SAAC7kC,EAAemkC,GAC5BnkC,EAAMwwB,UAAY2T,EAAOvrC,OAE7BksC,sBAAuB,SAAC9kC,EAAemkC,GACnCnkC,EAAMq+B,iBAAmB8F,EAAOtpC,OAEpCkqC,kBAAmB,SAAC/kC,EAAemkC,GAC/BnkC,EAAMstB,eAAiB6W,EAAO5tC,sCC9IvByuC,GAAA,CACXC,GAAI,CACAC,oBAEJC,GAAI,CACAD,qBCARrZ,KAAKuZ,IAAIC,MACJD,IAAIE,MACJ9D,KAAK,CACFjhC,aACAglC,YAAa,KACbC,cAAc,EACdC,cAAe,CACXC,aAAa,GAEjBC,0BAA0B,IAGnB9Z,GAAf,ECpBA+Z,EAAAnkB,EAAAokB,EAAA,0BAAAC,KAkBA,IAAMC,GAAal4B,aAAe,CAC9B1D,QAAS,CACLC,QAAS,CACLC,KAAMwE,KAAO,OAGrBpH,WAAY,CACRuC,SAAU,IAEd+D,UAAW,CACPi4B,UAAW,CACPC,eAAgB,CACZ73B,gBAAiB,QACjB1F,MAAO,YASnB5Q,IAAMC,SAASmuC,QAAU,uBAItB,IAAMntC,GAAQotC,sBACjBnC,GACAoC,8BAAoBC,0BAAgBC,OAGlCC,GACF7+B,EAAAC,EAAAC,cAAC4+B,EAAA,EAAD,CAAUztC,MAAOA,IACb2O,EAAAC,EAAAC,cAACuB,EAAA,EAAD,KACIzB,EAAAC,EAAAC,cAACmJ,GAAA,EAAD,CAAejH,MAAOi8B,IAClBr+B,EAAAC,EAAAC,cAAC6+B,GAAD,SAMV7rB,GAAOhF,SAASmsB,eAAe,QAErC2E,IAASC,OAAOJ,GAAK3rB","file":"static/js/main.b29302b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__title\":\"Welcome_header__title__2PVWK\",\"slider\":\"Welcome_slider__1C5Wk\",\"slider__word\":\"Welcome_slider__word__2M0ri\",\"slider__words\":\"Welcome_slider__words__2RsMS\",\"wordSlider\":\"Welcome_wordSlider__3DU7B\",\"videoWrapper\":\"Welcome_videoWrapper__203j_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LoginModal_Container__1PdGZ\",\"socialButtons\":\"LoginModal_socialButtons__1H9u7\",\"Background\":\"LoginModal_Background__2foqr\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAMAAACjKNoqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1FBMVEUAAADbJCTWNjbZNTTYNjXYNjXYNTXZNjbYNjTXNTX/AADXNjLYNjXZNTXoPDvjOjrYNTTYNTTVNDTXNjTYNjXsPT3nPDzYNjXXMzPYNTXaNjXZNzXWNDTYNjXYNTXjOTnYNjXsPj3YNTT/VVXYNDTbNzbYNjPYNjXqPDzoOzrYNTPZNTTYNzXXNTTYNTTYNTTZNzbXNTPpPTzYNjXXNTXcNzbXNDTbNzfYNTTVOTnXNTPeODfgOTjYNTXYOzvYNjXWMzPZNTXcODfWNjPYNTXqPDzYNjXYNzPXNDTZNTXkOjrnPDzZMzPYNTTYNjXiOzrkOzrYNTTaODLXNDPZNTXYNjXrPT3YNTTaNjXYNjTmOzrYNTXWNTXZNTTWNDS/QEDYNjXXNTTYNDToOzvpPDzYNTXcNzbdODfbNzfbNzfbMzPZNjXcNjbZNjbYNjbyQED2QkL1QkHvQD/+Rkb/Rkb8RUX3QkL0QUH4Q0PvPz/VNDSmISH9RUVZAACnISHzQUHYNjZaAADZNjbyQUCrIyOsIyOuJCTxQEDdODhaAQHeODiyJSVbAQGyJibqPDzgOTmzJib0QkL/RUX+RUX6Q0P8RET5Q0PsPj3zQED0QkHXNTT///9fYCXAAAAAb3RSTlMAB1Gt4ff01pg6AUzj+Pz5/M0xjvv++/xtm/l+XfpICe3+4QNi91W3/v2p6uX6+ffkrv6yYPdnDvYSh/f4lQ3uGfn3d9n95EFTuvr8KP2b+PqsKf41y/7Y+PP7pET5SgTx9av9/mH29hzpI9XCXnctusQjAAAAAWJLR0Sb79hXhAAAAAd0SU1FB+EMCQINAvEQCwMAAAFuSURBVCjPZdH3O0JRGAfwN7sIEdcoIdkKkb2yV/bee3OrazUkERFlhPy1Ouc27q3vT9/n8zz33HPeFwCFExUdExsXn8DlQTCJSfzkM1KrS0kVpPmJly7M0FM455lEFo3ZORdUMJfCXGQi8RXFCEnkAUjyrylWCgqlUCSjzzMYjQZcTPxiKCnF1Wj25QbXsnKosKBya0VovUPdVglVJCr3ZpwH/Cs5KLSo2Gm0o65VQPUjKk8OZI5n/+c1tfj0F6fZ7HzF9U0JdTL6ei6320W3ehU0NFrYl3+XNwE0t3ywsLXN9/b2Dh3TbIpONBFVlylkn+puPDppTy9jHH0ceqD9xFfAPOKBwDoGhwI4LAhuaYQgafse5YY2pxmjcXwiZDA5hU/1ENMMhJlZhD9zTAPRPFqKWsVCycIvRXkV7SwEje9Wi0tsg2WhXr+yGoZr6xbvBicMYXNrWxlusLO7p4rA/b+DwwiEo+NIg5PTYP0HPpevTLcESqcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTItMDlUMDI6MTM6MDErMDA6MDA/mojaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEyLTA5VDAyOjEzOjAxKzAwOjAwTscwZgAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dots\":\"imageCarousel_Dots__3XuKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3q-xb\",\"Header\":\"Layout_Header__J8BzQ\",\"Footer\":\"Layout_Footer__1UfUY\",\"HideHeader\":\"Layout_HideHeader__2uuFO\",\"FooterButton\":\"Layout_FooterButton__VhJUa\",\"TopHeader\":\"Layout_TopHeader__277Y8\",\"BottomHeader\":\"Layout_BottomHeader__3YPE5\",\"Main\":\"Layout_Main__Py9vL\",\"MenuButtonContiner\":\"Layout_MenuButtonContiner__2imT-\",\"QuickButtonContiner\":\"Layout_QuickButtonContiner__3mw1U\",\"PageTitle\":\"Layout_PageTitle__1_EDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Profile_Avatar__3n37F\"};","import React from 'react'\n\nimport Form from 'antd/es/form'\nimport Input from 'antd/es/input'\nimport Button from 'antd/es/button'\nimport axios from 'axios'\nimport Cookies from 'universal-cookie'\n\nconst cookies = new Cookies()\n\nconst Auth = props => {\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n    const onFinish = value => {\n        axios\n            .post('/api/authtest/' + value.id)\n            .then(res => {\n                cookies.set('auth_token', res.data.cookie)\n                props.onTryAutoSignup()\n            })\n            .catch(err => {})\n    }\n    return (\n        <Form\n            name=\"dynamic_form_nest_item\"\n            onFinish={onFinish}\n            autoComplete=\"off\"\n            {...layout}\n        >\n            <Form.Item\n                label=\"Id\"\n                name=\"id\"\n                rules={[\n                    { required: true, message: 'Please input the goal name.' },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                    Save\n                </Button>\n            </Form.Item>\n        </Form>\n    )\n}\n\nexport default Auth\n","import message from 'antd/es/message'\n\nexport default (res, props) => {\n    if (res.data.logout) props.history.push('/logout')\n    if (res.data.success === false) {\n        if (res.data.errorCode) {\n            switch (res.data.errorCode) {\n                case 'no account':\n                    message.warning('Account is not found. Please login.')\n                    break\n                case 'bad data':\n                    message.error(\n                        'Error. Please try one more time with correct data.'\n                    )\n                    break\n                case 'progress exist':\n                    message.warning('This progress already exists.')\n                    break\n                default:\n                    message.warning(\n                        'Something wrong has happened... Try again!'\n                    )\n                    break\n            }\n        } else {\n            message.error('Something failed')\n        }\n    } else {\n        if (res.data.successCode) {\n            switch (res.data.successCode) {\n                case 'avatar saved':\n                    message.success('The avatar image has been updated.')\n                    break\n                case 'success':\n                    message.success('Success!')\n                    break\n                case 'item saved':\n                    message.success('Item is saved')\n                    break\n                case 'prgress created':\n                    message.success('Progress has started!')\n                    break\n                default:\n                    message.success('Success!')\n                    break\n            }\n        }\n    }\n    if (res.data.status && res.data.status === 'no account')\n        props.history.push('/activate-account')\n}\n","import Cookies from 'universal-cookie'\nimport jwt_decode from 'jwt-decode'\n\nimport processRes from '../../utils/processRes'\nimport axios from 'axios'\n\nconst cookies = new Cookies()\n\nexport const tryAuth = token => (dispatch: Object) => {\n    sessionStorage.setItem('systemRefresh', '0')\n    if (!token) {\n        token = cookies.get('auth_token')\n        const rememberMe = cookies.get('rememberme')\n        if (rememberMe) {\n            cookies.remove('rememberme', {\n                path: '/',\n            })\n            if (rememberMe === 'false') {\n                cookies.remove('auth_token', {\n                    path: '/',\n                })\n            }\n        }\n    }\n\n    const userId = jwt_decode(token)\n    axios.defaults.headers.post['Content-Type'] = 'application/json'\n    axios.defaults.headers.put['Content-Type'] = 'application/json'\n    axios.defaults.headers.delete['Content-Type'] = 'application/json'\n    axios.defaults.headers.common.Accept = 'application/json'\n    if (token && userId) {\n        axios.defaults.headers.common['x-auth-token'] = token\n        axios.defaults.headers.post['x-auth-token'] = token\n        axios.defaults.headers.get['x-auth-token'] = token\n        axios.defaults.headers.delete['x-auth-token'] = token\n        axios.defaults.headers.put['x-auth-token'] = token\n        dispatch(setIsAuthed(userId._id))\n    } else {\n        dispatch(setIsAuthed(null))\n    }\n}\n\nconst setIsAuthed = id => ({\n    type: 'SET_IS_AUTHED',\n    id,\n})\n\nexport const setLanguage = language => ({\n    type: 'SET_LANGUAGE',\n    language,\n})\n\nexport const logout = () => dispatch => {\n    cookies.remove('rememberme', {\n        path: '/',\n    })\n    cookies.remove('auth_token', {\n        path: '/',\n    })\n    delete axios.defaults.headers.common['x-auth-token']\n    delete axios.defaults.headers.post['x-auth-token']\n    delete axios.defaults.headers.get['x-auth-token']\n    delete axios.defaults.headers.delete['x-auth-token']\n    delete axios.defaults.headers.put['x-auth-token']\n    dispatch(setIsAuthed(false))\n}\n\nexport const setData = data => ({\n    type: 'SET_DATA',\n    data,\n})\n\nexport const setConnectingToWS = data => ({\n    type: 'SET_CONNECTING_WS',\n    data,\n})\n\nexport const removeData = data => ({\n    type: 'REMOVE_DATA',\n    data,\n})\n\nexport const setFriendsData = data => ({\n    type: 'SET_FRIENDS_DATA',\n    data,\n})\n\nexport const setAvatarV = v => ({\n    type: 'SET_AVATAR_V',\n    v,\n})\n\nexport const increaseAvatarV = () => ({\n    type: 'INCREASE_AVATAR_V',\n})\n\nexport const setPageTitle = title => ({\n    type: 'SET_PAGE_TITLE',\n    title,\n})\n\nexport const buyPerk = (account, perk, owner, props) => dispatch => {\n    const currency = account.wallet.find(item => item.user === owner._id)\n    if (currency && currency.amount >= perk.price) {\n        axios\n            .post('/api/shop/buy', {\n                perkId: perk.perkId,\n                ownerId: owner._id,\n            })\n            .then(res => {\n                processRes(res)\n                if (res.data.success) {\n                    dispatch(setData(res.data, props.history.location.pathname))\n                }\n            })\n            .catch(err => {})\n    } else {\n        alert(\n            'You cannot buy this item as you do not have enough money from this user.'\n        )\n    }\n}\n\nexport const confirmTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/confirm', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const cancelTransaction = (transactionId, props) => dispatch => {\n    axios\n        .post('/api/shop/cancel', {\n            transactionId,\n        })\n        .then(res => {\n            processRes(res)\n            if (res.data.success) {\n                dispatch(setData(res.data, props.history.location.pathname))\n            }\n        })\n        .catch(err => {})\n}\n\nexport const setFriendSearchResult = data => ({\n    type: 'SET_FRIEND_SEARCH_RESULT',\n    data,\n})\n\nexport const setAccountActivated = value => ({\n    type: 'SET_ACCOUNT_ACTIVATED',\n    value,\n})\n","import { setData } from './auth'\n\nexport const saveResource = (data, type, newOnlineUsers) => (\n    dispatch,\n    getState\n) => {\n    if (data.length > 0) {\n        const state = getState()\n        switch (type) {\n            case 'user':\n                const user = data[0]\n                let currentAccount = user.currentAccount\n                if (!currentAccount) currentAccount = user.myAccount\n                // if(!currentAccount)\n                //activate-account\n                dispatch(setData({ user, currentAccount }))\n                break\n            case 'account':\n                const account = data.find(\n                    item => item._id === state.currentAccount\n                )\n                if (account) {\n                    dispatch(setData({ account, newOnlineUsers }))\n                }\n\n                const profile = data.find(\n                    item => item._id === state.currentProfile\n                )\n                if (profile) {\n                    dispatch(setData({ profile, newOnlineUsers }))\n                }\n\n                break\n            case 'progress':\n                const progress = data.find(\n                    item => item._id === state.currentProgress\n                )\n                if (progress) {\n                    dispatch(setData({ progress }))\n                }\n                break\n\n            case 'post':\n                let post = {}\n                for (let item of data) {\n                    post[item._id] = item\n                }\n                dispatch(setData({ post }))\n                break\n\n            case 'reward':\n                const reward = data.find(\n                    item => item._id === state.currentReward\n                )\n                if (reward) {\n                    dispatch(setData({ reward }))\n                }\n                break\n\n            case 'friendData':\n                let friendData = {}\n                for (let item of data) {\n                    friendData[item._id] = item\n                }\n                dispatch(setData({ friendData, newOnlineUsers }))\n                break\n            case 'progressData':\n                let progressData = {}\n                for (let item of data) {\n                    progressData[item._id] = item\n                }\n                dispatch(setData({ progressData }))\n                break\n            case 'transactionData':\n                let transactionData = {}\n                for (let item of data) {\n                    transactionData[item._id] = item\n                }\n                dispatch(setData({ transactionData }))\n                break\n            case 'postData':\n                let postData = {}\n                for (let item of data) {\n                    postData[item._id] = item\n                }\n                dispatch(setData({ postData }))\n                break\n            case 'rewardData':\n                let rewardData = {}\n                for (let item of data) {\n                    rewardData[item._id] = item\n                }\n                dispatch(setData({ rewardData }))\n                break\n\n            default:\n                break\n        }\n    }\n}\n","export default props => {\n    const createEmptyObj = () => ({\n        user: [],\n        account: [],\n        progress: [],\n        reward: [],\n        post: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n    })\n    const { store } = props\n    const requestedResources = createEmptyObj()\n    const neededResources = createEmptyObj()\n    if (store.isAuthed) {\n        if (!store.user) {\n            requestedResources.user.push(store.isAuthed)\n        } else {\n            neededResources.user.push(store.user._id)\n            if (store.currentAccount) {\n                if (store.account._id !== store.currentAccount) {\n                    requestedResources.account.push(store.currentAccount)\n                } else {\n                    neededResources.account.push(store.account._id)\n                    for (let progress of [\n                        ...store.account.progresses,\n                        ...store.account.followProgresses,\n                        ...store.account.recentProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let post of store.account.followPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let post of store.account.myPosts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    for (let transaction of store.account.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n                    for (let friend of store.account.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let reward of store.account.rewards) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                    for (let item of [\n                        ...store.account.followingAccounts,\n                        ...store.account.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n            if (store.currentProfile) {\n                if (store.profile._id !== store.currentProfile) {\n                    requestedResources.account.push(store.currentProfile)\n                } else {\n                    neededResources.account.push(store.profile._id)\n                    for (let progress of [\n                        ...store.profile.progresses,\n                        ...store.profile.followProgresses,\n                    ]) {\n                        if (!store.progressData[progress]) {\n                            requestedResources.progressData.push(progress)\n                        }\n                        neededResources.progressData.push(progress)\n                    }\n\n                    for (let transaction of store.profile.transactions) {\n                        if (!store.transactionData[transaction]) {\n                            requestedResources.transactionData.push(transaction)\n                        } else {\n                            const rewardId =\n                                store.transactionData[transaction].reward\n                            if (!store.rewardData[rewardId]) {\n                                requestedResources.rewardData.push(rewardId)\n                            }\n                            neededResources.rewardData.push(rewardId)\n                        }\n                        neededResources.transactionData.push(transaction)\n                    }\n\n                    for (let friend of store.profile.friends) {\n                        if (!store.friendData[friend.friend]) {\n                            requestedResources.friendData.push(friend.friend)\n                        }\n                        neededResources.friendData.push(friend.friend)\n                    }\n                    for (let reward of store.profile.rewards) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                    for (let item of [\n                        ...store.profile.followingAccounts,\n                        ...store.profile.followAccounts,\n                    ]) {\n                        if (!store.friendData[item]) {\n                            requestedResources.friendData.push(item)\n                        }\n                        neededResources.friendData.push(item)\n                    }\n                }\n            }\n\n            if (store.currentProgress) {\n                if (store.progress._id !== store.currentProgress) {\n                    requestedResources.progress.push(store.currentProgress)\n                } else {\n                    neededResources.progress.push(store.progress._id)\n                    let participants = []\n                    if (store.progress.owner)\n                        participants.push(store.progress.owner)\n                    if (store.progress.users)\n                        participants = participants.concat(store.progress.users)\n                    if (store.progress.likes)\n                        participants = participants.concat(store.progress.likes)\n                    if (store.progress.followingAccounts)\n                        participants = participants.concat(\n                            store.progress.followingAccounts\n                        )\n\n                    for (let friend of participants) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n                    for (let post of store.progress.posts) {\n                        if (!store.postData[post]) {\n                            requestedResources.postData.push(post)\n                        }\n                        neededResources.postData.push(post)\n                    }\n                    let rewards = store.progress.rewards\n                    for (let stage of store.progress.stages) {\n                        rewards = [...rewards, stage.rewards]\n                    }\n\n                    for (let reward of rewards) {\n                        if (!store.rewardData[reward]) {\n                            requestedResources.rewardData.push(reward)\n                        }\n                        neededResources.rewardData.push(reward)\n                    }\n                }\n            }\n            if (store.currentPosts) {\n                for (let post of store.currentPosts) {\n                    const postEl = store.post[post]\n                    if (!postEl) {\n                        requestedResources.post.push(post)\n                    } else {\n                        neededResources.post.push(post)\n                        for (let friend of postEl.users) {\n                            if (!store.friendData[friend]) {\n                                requestedResources.friendData.push(friend)\n                            }\n                            neededResources.friendData.push(friend)\n                        }\n                        if (post.parent) {\n                            if (post.parent.parentType === 'progress')\n                                neededResources.progressData.push(\n                                    post.parent.parentId\n                                )\n                            if (post.parent.parentType === 'reward')\n                                neededResources.rewardData.push(\n                                    post.parent.parentId\n                                )\n                        }\n                    }\n                }\n            }\n            if (store.currentReward) {\n                if (store.reward._id !== store.currentReward) {\n                    requestedResources.reward.push(store.currentReward)\n                } else {\n                    neededResources.reward.push(store.reward._id)\n                    for (let friend of store.reward.likes) {\n                        if (!store.friendData[friend]) {\n                            requestedResources.friendData.push(friend)\n                        }\n                        neededResources.friendData.push(friend)\n                    }\n\n                    if (!store.post[store.reward.post]) {\n                        requestedResources.post.push(store.reward.post)\n                    }\n                    neededResources.post.push(store.reward.post)\n                }\n            }\n            if (store.friendSearchResult && store.friendSearchResult.length > 0)\n                for (let friend of store.friendSearchResult) {\n                    if (!store.friendData[friend._id]) {\n                        requestedResources.friendData.push(friend._id)\n                    }\n                    neededResources.friendData.push(friend._id)\n                }\n        }\n    }\n\n    const reduce = obj => {\n        for (let attr in obj) {\n            if (obj[attr]) {\n                obj[attr] = Array.from(new Set(obj[attr]))\n            }\n        }\n    }\n\n    reduce(neededResources)\n    const notNeededResources = createEmptyObj()\n    notNeededResources.profile = []\n    let notNeededExist\n    const check1 = (key, mode) => {\n        if (\n            store[mode]._id &&\n            !neededResources[key].includes(store[mode]._id)\n        ) {\n            notNeededResources[mode].push(store[mode]._id)\n            notNeededExist = true\n        }\n    }\n    const check2 = key => {\n        for (let attr in store[key]) {\n            if (!neededResources[key].includes(attr)) {\n                notNeededResources[key].push(attr)\n                notNeededExist = true\n            }\n        }\n    }\n    check1('account', 'account')\n    check1('account', 'profile')\n    check1('progress', 'progress')\n    check1('reward', 'reward')\n    check2('post')\n    check2('friendData')\n    check2('rewardData')\n    check2('progressData')\n    check2('transactionData')\n    check2('postData')\n\n    if (notNeededExist) {\n        props.removeData(notNeededResources)\n    }\n\n    reduce(requestedResources)\n\n    return requestedResources\n}\n","import requestResource from './requestResource'\n\nexport default (versions, state, store, webSocket) => {\n    const notNeededResources = {\n        user: [],\n        account: [],\n        progress: [],\n        post: [],\n        reward: [],\n        progressData: [],\n        friendData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n    }\n\n    const checkData = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key][attr]) {\n                    if (store[key][attr] !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    const check = key => {\n        for (let attr in versions[key]) {\n            if (typeof versions[key][attr] !== 'undefined') {\n                if (store[key]._id === attr) {\n                    if (store[key].__v !== versions[key][attr]) {\n                        requestResource(key, [attr], state)\n                    }\n                    if (!store[key]._id) notNeededResources[key].push(attr)\n                } else notNeededResources[key].push(attr)\n            }\n        }\n    }\n\n    for (let attr in versions.user) {\n        if (typeof versions.user[attr] !== 'undefined') {\n            if (store.user._id === attr) {\n                if (store.user.__v !== versions.user[attr]) {\n                    requestResource('user', [attr], state)\n                }\n            } else notNeededResources.user.push(attr)\n        }\n    }\n\n    for (let attr in versions.account) {\n        if (typeof versions.account[attr] !== 'undefined') {\n            if (store.account._id === attr) {\n                if (store.account.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n            }\n            if (store.profile._id === attr) {\n                if (store.profile.__v !== versions.account[attr]) {\n                    requestResource('account', [attr], state)\n                }\n                if (!store.account._id) notNeededResources.account.push(attr)\n            }\n        }\n        if (store.account._id !== attr && store.profile._id !== attr)\n            notNeededResources.account.push(attr)\n    }\n\n    check('progress')\n    check('reward')\n\n    checkData('post')\n    checkData('friendData')\n    checkData('progressData')\n    checkData('rewardData')\n    checkData('postData')\n    checkData('transactionData')\n\n    if (\n        notNeededResources.user.length > 0 ||\n        notNeededResources.account.length > 0 ||\n        notNeededResources.progress.length > 0 ||\n        notNeededResources.post.length > 0 ||\n        notNeededResources.friendData.length > 0 ||\n        notNeededResources.progressData.length > 0 ||\n        notNeededResources.postData.length > 0 ||\n        notNeededResources.transactionData.length > 0\n    ) {\n        return notNeededResources\n    }\n}\n","export default props => {\n    const { store } = props\n    const resources = {\n        user: {},\n        account: {},\n        progress: {},\n        post: {},\n        reward: {},\n        transactionData: {},\n        friendData: {},\n        progressData: {},\n        postData: {},\n        rewardData: {},\n    }\n\n    if (store.user && store.user._id) {\n        resources.user[store.user._id] = store.user.__v\n    }\n\n    if (store.account._id) {\n        resources.account[store.account._id] = store.account.__v\n    }\n    if (store.profile._id) {\n        resources.account[store.profile._id] = store.profile.__v\n    }\n    if (store.progress._id) {\n        resources.progress[store.progress._id] = store.progress.__v\n    }\n    if (store.reward._id) {\n        resources.reward[store.reward._id] = store.reward.__v\n    }\n\n    const addData = key => {\n        for (let item in store[key]) {\n            if (typeof store[key][item] !== 'undefined') {\n                if (store[key][item]._id) {\n                    resources[key][store[key][item]._id] = store[key][item].__v\n                }\n            }\n        }\n    }\n\n    addData('post')\n    addData('friendData')\n    addData('postData')\n    addData('progressData')\n    addData('rewardData')\n    addData('TransactionData')\n\n    return resources\n}\n","import React, { Component } from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport message from 'antd/es/message'\nimport getListOfNeededResources from './methods/getListOfNeededResources'\nimport compareVersionsAndRerequest from './methods/compareVersionsAndRerequest'\nimport getResourcesToMonitor from './methods/getResourcesToMonitor'\nimport Cookies from 'universal-cookie'\nimport axios from 'axios'\n\nexport let webSocket = false\nconst cookies = new Cookies()\nconst listOfGroups = [\n    'user',\n    'account',\n    'progress',\n    'reward',\n    'post',\n    'postData',\n    'progressData',\n    'friendData',\n    'transactionData',\n    'rewardData',\n]\nclass ConnectWebsocket extends Component {\n    state = {\n        user: [],\n        account: [],\n        progress: [],\n        reward: [],\n        post: [],\n        friendData: [],\n        progressData: [],\n        postData: [],\n        transactionData: [],\n        rewardData: [],\n    }\n    start = () => {\n        let url\n        if (process.env.NODE_ENV === 'development') {\n            url = 'ws://my.websiter.test:5000'\n        } else {\n            url = 'wss://addspire.com'\n        }\n        let pingTimeout\n        webSocket = new WebSocket(url)\n\n        const heartbeat = versions => {\n            let notNeededResources\n            if (versions) {\n                notNeededResources = compareVersionsAndRerequest(\n                    versions,\n                    this.state,\n                    this.props.store,\n                    webSocket\n                )\n            }\n            clearTimeout(pingTimeout)\n\n            pingTimeout = setTimeout(() => {\n                webSocket.close()\n            }, 30000 + 1000)\n            if (webSocket && webSocket.readyState === 1) {\n                webSocket.send(\n                    JSON.stringify({\n                        messageCode: 'heartbeat',\n                        notNeededResources,\n                    })\n                )\n            }\n        }\n\n        webSocket.onopen = event => {\n            const resourcesToMonitor = getResourcesToMonitor(this.props)\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'auth',\n                    user: axios.defaults.headers.common['x-auth-token'],\n                    resourcesToMonitor,\n                    // progressId: this.props.progress._id,\n                })\n            )\n            this.initializeRequestResources(this.props)\n            heartbeat()\n        }\n\n        webSocket.onmessage = event => {\n            const news = JSON.parse(event.data)\n\n            switch (news.messageCode) {\n                case 'heartbeat':\n                    heartbeat(news.versions)\n                    this.props.setData({ onlineUsers: news.onlineUsers })\n                    break\n                case 'logout':\n                    this.props.logout()\n                    this.props.history.push('/logout')\n                    break\n\n                case 'successMessage':\n                    message.success(news.messageText)\n                    break\n                case 'errorMessage':\n                    message.error(news.messageText)\n                    break\n                case 'friendsData':\n                    this.props.setFriendsData(news.friendsData)\n                    break\n                case 'redirectToProgresses':\n                    this.props.history.push('/goals')\n                    break\n                case 'addResource':\n                    this.props.saveResource(\n                        news.resources,\n                        news.type,\n                        news.newOnlineUsers\n                    )\n                    break\n                case 'updateResource':\n                    this.props.updateResource(\n                        news.code,\n                        news.id,\n                        news.update,\n                        this.state\n                    )\n                    break\n                case 'friendSearchResult':\n                    this.props.setFriendSearchResult(news.data)\n                    break\n                case 'goTo':\n                    this.props.history.push(news.messageText)\n                    break\n\n                // case 'update':\n                //     let newProgress\n                //     let oldProgress = cloneDeep(this.props.progress)\n                //     if (oldProgress.__v === news.progress.__v - 1) {\n                //         newProgress = diffpatcher.patch(\n                //             oldProgress,\n                //             news.progress.patch\n                //         )\n                //         newProgress.__v = news.progress.__v\n                //         this.props.setData(\n                //             {\n                //                 progress: newProgress,\n                //             },\n                //             this.props.history.location.pathname\n                //         )\n                //     }\n                //     wsActions.getFriendsData(\n                //         newProgress || this.props.progress,\n                //         this.props.account.friends\n                //     )\n                //     break\n                case 'authSuccess':\n                    axios.defaults.headers.common['x-auth-token'] &&\n                        cookies.set(\n                            'auth_token',\n                            axios.defaults.headers.common['x-auth-token'],\n                            {\n                                path: '/',\n                                expires: new Date(\n                                    new Date().getTime() +\n                                        6 * 24 * 60 * 60 * 1000\n                                ),\n                            }\n                        )\n                    break\n                case 'error':\n                    message.error(news.text)\n                    break\n                // case 'notFoundResource':\n                //     this.markNotFoundResource(data)\n                //     break\n                default:\n                    break\n            }\n        }\n        webSocket.onclose = event => {\n            clearTimeout(pingTimeout)\n        }\n    }\n\n    // markNotFoundResource = data => {\n    //     const requestedResources = this.state.requestedResources.filter(\n    //         item => item.id.toString() === data._id.toString()\n    //     )\n    //     this.setState({ requestedResources })\n    // }\n\n    checkInterval = null\n\n    check = () => {\n        if (!webSocket || webSocket.readyState === 3) {\n            clearInterval(this.checkInterval)\n            this.checkInterval = setInterval(this.check, 5000)\n            this.start()\n        }\n    }\n    // componentWillMount() {\n    //     this.checkInterval = setInterval(this.check, 50)\n    // }\n\n    reRequestResourcesInterval = null\n    reRequestResources = () => {\n        for (let group of listOfGroups) {\n            if (this.state[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: this.state[group],\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.checkInterval)\n        if (webSocket) {\n            webSocket.close()\n        }\n        this.props.setConnectingToWS(false)\n    }\n    componentDidMount() {\n        this.checkInterval = setInterval(this.check, 50)\n        this.props.setConnectingToWS(true)\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.store.currentAccount !== this.props.store.currentAccount)\n            if (webSocket && webSocket.readyState === 1) {\n                webSocket.send(\n                    JSON.stringify({\n                        messageCode: 'currentAccount',\n                        id: this.props.store.currentAccount,\n                    })\n                )\n            }\n    }\n    // componentWillReceiveProps(nextProps) {\n    //     this.initializeRequestResources(nextProps)\n    // }\n    // componentDidUpdate() {\n    //     this.initializeRequestResources(this.props)\n    // }\n    initializeRequestResources = nextProps => {\n        const newRequestedResources = getListOfNeededResources(nextProps)\n        for (let group of listOfGroups) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !this.state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        this.setState(() => newRequestedResources)\n        clearInterval(this.reRequestResourcesInterval)\n        this.reRequestResourcesInterval = setInterval(\n            this.reRequestResources,\n            3000\n        )\n    }\n\n    static getDerivedStateFromProps(nextProps, state) {\n        const newRequestedResources = getListOfNeededResources(nextProps)\n        for (let group of listOfGroups) {\n            if (newRequestedResources[group].length > 0) {\n                if (webSocket && webSocket.readyState === 1) {\n                    webSocket.send(\n                        JSON.stringify({\n                            messageCode: 'requestResource',\n                            ids: newRequestedResources[group].filter(\n                                item => !state[group].includes(item)\n                            ),\n                            type: group,\n                        })\n                    )\n                }\n            }\n        }\n        // clearInterval(this.reRequestResourcesInterval)\n        // this.reRequestResourcesInterval = setInterval(\n        //     this.reRequestResources,\n        //     3000\n        // )\n        return newRequestedResources\n    }\n    render() {\n        return null\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        store: state,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        removeData: data => dispatch(actions.removeData(data)),\n        saveResource: (data, type, newOnlineUsers) =>\n            dispatch(actions.saveResource(data, type, newOnlineUsers)),\n        setFriendsData: data => dispatch(actions.setFriendsData(data)),\n\n        updateResource: (code, id, update, state) =>\n            dispatch(actions.updateResource(code, id, update, state)),\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n        setConnectingToWS: data => dispatch(actions.setConnectingToWS(data)),\n\n        logout: () => dispatch(actions.logout()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ConnectWebsocket)\n)\n","import { webSocket } from '../ConnectWebsocket'\n\nexport default (type, ids, state) => {\n    const notRequestedIds = ids.filter(id => !state[type].includes(id))\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'requestResource',\n                ids: notRequestedIds,\n                type,\n            })\n        )\n    }\n}\n","import requestResource from '../../containers/ConnectWebsocket/methods/requestResource'\nimport * as actions from './index'\nimport cloneDeep from 'lodash.clonedeep'\n\nconst applyDelta = (source, delta, watchFields) => {\n    // console.log('---------------------------APLY DELTA------------------------')\n    // console.log('----------------source----------------')\n    // console.log(source)\n    // console.log('----------------delta-------------------')\n    // console.log(delta)\n    const result = cloneDeep(source)\n\n    const applyUpdateToPart = (res, del, watchFields) => {\n        const applyWithDot = (res, keys, del) => {\n            if (keys.length > 1) {\n                const key = keys.shift()\n                applyWithDot(res[key], keys, del)\n            } else {\n                if (typeof res === 'array') {\n                    res.push(del)\n                } else {\n                    res[keys[0]] = del\n                }\n            }\n        }\n        for (let attr in del) {\n            const keys = attr.split('.')\n            if (!watchFields || watchFields.includes(keys[0])) {\n                if (typeof del[attr] !== 'undefined') {\n                    applyWithDot(res, keys, del[attr])\n                }\n            }\n        }\n    }\n\n    applyUpdateToPart(result, delta.updatedFields, watchFields)\n\n    const applyDeleteToPart = (result, keys) => {\n        if (keys.length > 1) {\n            const key = keys.shift()\n            applyDeleteToPart(result[key], keys)\n        } else {\n            if (typeof result === 'object') {\n                delete result[keys[0]]\n            } else if (typeof result === 'array') {\n                result.splice(keys[0], 1)\n            }\n        }\n    }\n\n    for (let field of delta.removedFields) {\n        if (field.indexOf('.') > -1) {\n            const keys = field.split('.')\n            if (!watchFields || watchFields.includes(keys[0]))\n                applyDeleteToPart(result, keys)\n        } else {\n            delete result[field]\n        }\n    }\n    // console.log('--------------------------------result----------------')\n    // console.log(result)\n    return result\n}\n\nexport const updateResource = (code, id, update, parState) => (\n    dispatch,\n    getState\n) => {\n    if (update && id && code) {\n        const state = getState()\n        const check = key => {\n            if (state[key]._id === id) {\n                if (state[key].__v === update.updatedFields.__v - 1) {\n                    const element = applyDelta(state[key], update)\n                    dispatch(actions.setData({ [key]: element }))\n                } else {\n                    if (state[key].id) requestResource(code, [id], parState)\n                }\n            }\n        }\n        const check2 = (key, watchFields) => {\n            let updateData = {\n                [key]: cloneDeep(state[key]),\n            }\n            const friend = updateData[key][id]\n            if (friend) {\n                if (friend.__v === update.updatedFields.__v - 1) {\n                    updateData[key][id] = applyDelta(\n                        friend,\n                        update,\n                        watchFields\n                    )\n                    dispatch(actions.setData(updateData))\n                } else {\n                    requestResource(code, [id], parState)\n                }\n            }\n        }\n        switch (code) {\n            case 'user':\n                check('user')\n                break\n            case 'account':\n                check('account')\n                check('profile')\n                break\n            case 'progress':\n                check('progress')\n                break\n            case 'reward':\n                check('reward')\n                break\n            case 'post':\n                dispatch(actions.setData(check2(code)))\n                break\n            case 'friendData':\n                dispatch(\n                    actions.setData(\n                        check2(code, ['name', 'image', 'notifications', '__v'])\n                    )\n                )\n                break\n            case 'progressData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'owner',\n                            'worker',\n                            'goal',\n                            'notifications',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'rewardData':\n                dispatch(\n                    actions.setData(\n                        check2(code, [\n                            'name',\n                            'owner',\n                            'images',\n                            'likes',\n                            '__v',\n                        ])\n                    )\n                )\n                break\n            case 'postData':\n                dispatch(\n                    actions.setData(check2(code, ['notifications', '__v']))\n                )\n                break\n\n            case 'transactionData':\n                dispatch(actions.setData(check2(code)))\n                break\n            default:\n                break\n        }\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const changeStage = (value, accountId, progressId, stageId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeStage',\n                value,\n                progressId,\n                accountId,\n                stageId,\n            })\n        )\n    }\n}\n\nexport const leaveProgress = data => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'leaveProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n            })\n        )\n    }\n}\n\nexport const getFriendsData = (progress, accountFriends) => {\n    if (webSocket && webSocket.readyState === 1) {\n        if (progress) {\n            let accountIds = [\n                progress.owner,\n                progress.worker,\n                ...accountFriends,\n            ]\n\n            accountIds = [...new Set(accountIds)]\n\n            webSocket.send(\n                JSON.stringify({\n                    messageCode: 'getFriendsData',\n                    accountIds,\n                })\n            )\n        }\n    }\n}\n\nexport const editGoalInProgress = (data, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editGoalInProgress',\n                progressId: data.progress._id,\n                accountId: data.account._id,\n                value,\n            })\n        )\n    }\n}\n\nexport const startProgress = (accountId, value) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'startProgress',\n                accountId,\n                value,\n            })\n        )\n    }\n}\n\nexport const deleteReward = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteReward',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n\nexport const saveReward = (accountId, progressId, reward) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveReward',\n                accountId,\n                progressId,\n                reward,\n            })\n        )\n    }\n}\n\nexport const changeLikesProgress = (accountId, progressId, add) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesProgress',\n                accountId,\n                progressId,\n                add,\n            })\n        )\n    }\n}\n\nexport const deleteRewardFromProgress = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteRewardFromProgress',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\nexport const addRewardToProgress = (accountId, progressId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRewardToProgress',\n                accountId,\n                progressId,\n                rewardId,\n            })\n        )\n    }\n}\n\n// export const deleteProgress = progressId => {\n//     if (webSocket && webSocket.readyState === 1) {\n//         webSocket.send(\n//             JSON.stringify({\n//                 messageCode: 'deleteProgress',\n//                 progressId,\n//             })\n//         )\n//     }\n// }\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const saveReward = (accountId, reward, wish) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'saveReward',\n                accountId,\n                reward,\n                wish,\n            })\n        )\n    }\n}\n\nexport const changeLikesReward = (accountId, rewardId, add) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'changeLikesReward',\n                accountId,\n                rewardId,\n                add,\n            })\n        )\n    }\n}\n\nexport const deleteReward = (accountId, rewardId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteReward',\n                accountId,\n                rewardId,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const sendMessage = (\n    accountId,\n    postId,\n    messageValue,\n    image,\n    replyToMessage,\n    editedMessage\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'sendMessage',\n                messageValue,\n                image,\n                postId,\n                accountId,\n                replyToMessage,\n                editedMessage,\n            })\n        )\n    }\n}\n\nexport const changeLikesMessage = (\n    messageCode,\n    messageId,\n    accountId,\n    postId\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode,\n                messageId,\n                accountId,\n                postId,\n            })\n        )\n    }\n}\n\nexport const addPost = (\n    accountId,\n    parentId,\n    parentType,\n    messageValue,\n    images\n) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addPost',\n                accountId,\n                parentId,\n                parentType,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n\nexport const editPost = (accountId, postId, messageValue, images) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editPost',\n                accountId,\n                postId,\n                messageValue,\n                images,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const deleteAccount = id => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'deleteAccount',\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const editAccount = (value, id) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'editAccount',\n                name: value.name,\n                accountId: id,\n            })\n        )\n    }\n}\n\nexport const followProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\nexport const unfollowProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\n\nexport const followAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'followAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\nexport const unfollowAccount = (accountId, accountFollow) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfollowAccount',\n                accountId,\n                accountFollow,\n            })\n        )\n    }\n}\n\nexport const addRecentProgress = (accountId, progressId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addRecentProgress',\n                accountId,\n                progressId,\n            })\n        )\n    }\n}\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const searchFriends = search => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'searchFriends',\n                search,\n            })\n        )\n    }\n}\n\nexport const addFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'addFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const acceptFriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'acceptFriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n\nexport const unfriend = (accountId, friendId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'unfriend',\n                accountId,\n                friendId,\n            })\n        )\n    }\n}\n","export default (nickname, version) => {\n    if (!nickname) return ''\n    else {\n        return (\n            'https://websiter.s3.us-east-2.amazonaws.com/' +\n            nickname +\n            '/avatar?v=' +\n            (version || 0)\n        )\n    }\n}\n","import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport Avatar from 'antd/es/avatar'\nimport getAvatar from '../../utils/getAvatar'\nimport { Typography } from '@material-ui/core'\nimport Badge from 'antd/es/badge'\n\nconst UserButton = props => {\n    const { account, profile, id, friendSearchResult, onlineUsers } = props\n    const friendData = props.friendDataExp || props.friendData\n    const getUserData = id =>\n        id === account._id\n            ? account\n            : id === profile._id\n            ? profile\n            : id === friendSearchResult._id\n            ? friendSearchResult\n            : friendData[id]\n    const userName = id => {\n        const text = getUserData(id) ? getUserData(id).name : id\n        return props.typography ? <Typography noWrap>{text}</Typography> : text\n    }\n    const userAvatar = id => {\n        const ava = (\n            <Avatar\n                src={getAvatar(id, getUserData(id).image)}\n                size={props.size || (props.noClick ? 20 : 40)}\n                style={props.group || props.noName ? {} : { margin: ' 0 5px' }}\n            />\n        )\n        return getUserData(id) ? (\n            onlineUsers.includes(id) ? (\n                <span key={id}>\n                    <Badge color=\"green\">{ava}</Badge>\n                </span>\n            ) : (\n                <span key={id}>{ava}</span>\n            )\n        ) : null\n    }\n\n    return props.onlyName ? (\n        userName(id)\n    ) : props.group ? (\n        <span onClick={e => e.stopPropagation()}>\n            <Avatar.Group style={{ margin: ' 0 5px' }}>\n                {props.ids.map(id => userAvatar(id))}\n            </Avatar.Group>\n        </span>\n    ) : props.noClick ? (\n        <>\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </>\n    ) : props.span ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n                // display: 'flex',\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : props.inline ? (\n        <Link\n            style={{\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                ...props.style,\n            }}\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            {!props.noAva && userAvatar(id)}\n            {!props.noName && userName(id)}\n        </Link>\n    ) : (\n        <Link\n            onClick={e => {\n                e.stopPropagation()\n            }}\n            to={'/profile/' + (id || props.id)}\n        >\n            <Button\n                type=\"link\"\n                style={{ padding: '0px 5px', height: 'auto', ...props.style }}\n            >\n                {!props.noAva && userAvatar(id)}\n\n                {!props.noName && userName(id)}\n            </Button>\n        </Link>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        profile: state.profile,\n        friendData: state.friendData,\n        friendSearchResult: state.friendSearchResult,\n        onlineUsers: state.onlineUsers,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(UserButton))\n","import {\n    Box,\n    Card,\n    CardActionArea,\n    CardContent,\n    createStyles,\n    makeStyles,\n    Paper,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { AddCircle } from '@material-ui/icons'\nimport Empty from 'antd/es/empty'\nimport React from 'react'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n        addBox: {\n            color: theme.palette.primary.main,\n            display: 'flex',\n            alignItems: 'center',\n        },\n    })\n)\nexport default props => {\n    const classes = useStyles()\n    return props.items.length > 0 ||\n        props.empty ||\n        props.customEmpty ||\n        props.withAdd ? (\n        <>\n            {props.title && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {props.title}\n                </Typography>\n            )}\n            <Paper\n                style={{\n                    padding: '15px',\n                    display: 'flex',\n                    overflowX: 'auto',\n                    paddingBottom: '10px',\n                }}\n            >\n                {props.items.length === 0 && props.empty ? (\n                    props.customEmpty || <Empty />\n                ) : (\n                    <>\n                        {props.withAdd && (\n                            <Card\n                                style={{\n                                    borderRadius: '15px',\n                                    cursor: 'pointer',\n                                    flexShrink: 0,\n                                    width: '100px',\n                                    marginRight: '10px',\n                                    position: 'relative',\n                                    minHeight: '160px',\n                                }}\n                            >\n                                <CardActionArea\n                                    style={{\n                                        height: '100%',\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                    }}\n                                    onClick={() => props.onAdd()}\n                                >\n                                    <CardContent\n                                        style={{\n                                            flex: 1,\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            padding: '5px',\n                                        }}\n                                    >\n                                        <Box\n                                            style={{\n                                                flexDirection: 'column',\n                                            }}\n                                            className={classes.addBox}\n                                        >\n                                            <AddCircle />\n                                            <Box\n                                                style={{ textAlign: 'center' }}\n                                            >\n                                                {props.addTitle || 'Add'}\n                                            </Box>\n                                        </Box>\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        )}\n                        {props.items.map((item, index) => (\n                            <Card\n                                style={{\n                                    borderRadius: '15px',\n                                    cursor: 'pointer',\n                                    flexShrink: 0,\n                                    width: '100px',\n                                    marginRight: '10px',\n                                    position: 'relative',\n                                }}\n                            >\n                                {props.content(item, index)}\n                            </Card>\n                        ))}\n                        <Box style={{ width: '10px', flexShrink: 0 }} />\n                    </>\n                )}\n            </Paper>\n        </>\n    ) : null\n}\n","import { Box } from '@material-ui/core'\nimport React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nexport const placeholderImages = [\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg',\n    'https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg',\n]\nexport const getPH = id => {\n    if (!id) return 0\n    const makeRand = x => {\n        x = Math.abs(x)\n        while (x > 1) x = x / 10\n        return x\n    }\n    const matches = id.match(/\\d+$/)\n    const imagePH = matches && matches.length > 0 ? parseInt(matches[0]) : 0\n    return Math.abs(\n        Math.round(makeRand(imagePH) * (placeholderImages.length - 1))\n    )\n}\nexport default withRouter(props => {\n    const images = props.images || []\n\n    const picture = !props.friends ? (\n        <img\n            style={{\n                maxWidth: '100%',\n                margin: 'auto',\n                display: 'block',\n                borderRadius: '15px',\n                boxShadow:\n                    '0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)',\n                ...props.style,\n            }}\n            src={\n                images.length > 0\n                    ? images[0]\n                    : placeholderImages[getPH(props.id)]\n            }\n        />\n    ) : null\n\n    return props.noLink ? (\n        <>\n            {picture}\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Box style={{ flex: 1 }}>{props.body}</Box>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    ) : (\n        <>\n            <Link to={props.onClickLink} style={{ cursor: 'pointer' }}>\n                {picture}\n            </Link>\n            <div\n                style={{\n                    padding: '5px 0px',\n                    wordBreak: 'break-word',\n                    display: 'flex',\n                    alignItems: 'center',\n                }}\n            >\n                <Link\n                    to={props.onClickLink}\n                    style={{ cursor: 'pointer', flex: 1 }}\n                >\n                    {props.body}\n                </Link>\n                {props.actions && (\n                    <div style={{ marginLeft: '10px' }}>{props.actions}</div>\n                )}\n            </div>\n        </>\n    )\n})\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport UserButton from '../../components/UserButton/UserButton'\nimport Tabs from 'antd/es/tabs'\nimport Badge from 'antd/es/badge'\nimport moment from 'moment'\nimport {\n    Button,\n    CardContent,\n    CardMedia,\n    Chip,\n    createMuiTheme,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemSecondaryAction,\n    ListItemText,\n    MenuItem,\n    MuiThemeProvider,\n    Select,\n    Typography,\n} from '@material-ui/core'\nimport { blue, green, orange, purple, red } from '@material-ui/core/colors'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport { getPH, placeholderImages } from '../../components/MasonryCard'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nmoment().format()\n\nconst redTheme = createMuiTheme({\n    palette: { primary: { main: red[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: red[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(red[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst blueTheme = createMuiTheme({\n    palette: { primary: { main: blue[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: blue[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(blue[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst greenTheme = createMuiTheme({\n    palette: { primary: { main: green[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: green[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(green[600], 0.05),\n                },\n            },\n        },\n    },\n})\nconst orangeTheme = createMuiTheme({\n    palette: { primary: { main: orange[600] } },\n    overrides: {\n        MuiSelect: {\n            selectMenu: { color: orange[600] },\n            select: {\n                '&:focus': {\n                    backgroundColor: fade(orange[600], 0.05),\n                },\n            },\n        },\n    },\n})\n\nconst customTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    overrides: {\n        MuiListItem: {\n            secondaryAction: {\n                paddingRight: '133px',\n                paddingLeft: 0,\n            },\n        },\n    },\n})\n\nconst ActivityTable = props => {\n    const [showEarnedRewards, setShowEarnedRewards] = useState(false)\n    const { progress, account, rewardData } = props\n\n    const isOwner = account && account._id === progress.owner\n\n    let lastStages = progress.stages\n        .slice(Math.max(progress.stages.length - 7, 0))\n        .sort((a, b) => {\n            let aS, aF, bS, bF\n            if (a.old && !b.old) return 1\n            else if (b.old && !a.old) return -1\n            else {\n                if (a.day) {\n                    aS = moment()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .startOf('day')\n                    aF = moment()\n                        .year(a.year)\n                        .dayOfYear(a.day)\n                        .endOf('day')\n                    bS = moment()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .startOf('day')\n                    bF = moment()\n                        .year(b.year)\n                        .dayOfYear(b.day)\n                        .endOf('day')\n                } else if (a.week) {\n                    aS = moment()\n                        .year(a.year)\n                        .week(a.week)\n                        .startOf('week')\n                    aF = moment()\n                        .year(a.year)\n                        .week(a.week)\n                        .endOf('week')\n                    bS = moment()\n                        .year(b.year)\n                        .week(b.week)\n                        .startOf('week')\n                    bF = moment()\n                        .year(b.year)\n                        .week(b.week)\n                        .endOf('week')\n                } else if (a.month) {\n                    aS = moment()\n                        .year(a.year)\n                        .month(a.month)\n                        .startOf('month')\n                    aF = moment()\n                        .year(a.year)\n                        .month(a.month)\n                        .endOf('month')\n                    bS = moment()\n                        .year(b.year)\n                        .month(b.month)\n                        .startOf('month')\n                    bF = moment()\n                        .year(b.year)\n                        .month(b.month)\n                        .endOf('month')\n                } else if (a.year) {\n                    aS = moment()\n                        .year(a.year)\n                        .startOf('year')\n                    aF = moment()\n                        .year(a.year)\n                        .endOf('year')\n                    bS = moment()\n                        .year(b.year)\n                        .startOf('year')\n                    bF = moment()\n                        .year(b.year)\n                        .endOf('year')\n                }\n                if (aS) {\n                    const now = moment()\n\n                    if (\n                        Math.min(\n                            Math.abs(now.diff(aS)),\n                            Math.abs(now.diff(aF))\n                        ) <=\n                        Math.min(Math.abs(now.diff(bS)), Math.abs(now.diff(bF)))\n                    )\n                        return -1\n                    else return 1\n                }\n            }\n            return 0\n        })\n\n    const nowStageId = lastStages.length > 0 ? lastStages[0].stageId : 0\n\n    lastStages = progress.stages\n\n    return lastStages.length === 0 ? null : (\n        <MuiThemeProvider theme={customTheme}>\n            <Tabs\n                // activeKey={activeTab}\n                type=\"card\"\n                defaultActiveKey={\n                    nowStageId\n                        ? lastStages\n                              .findIndex(item => item.stageId === nowStageId)\n                              .toString()\n                        : '2'\n                }\n                // onTabClick={key => setActiveTab(key === activeTab ? -1 : key)}\n            >\n                {lastStages.map((stage, index) => {\n                    const getStatus = id => {\n                        if (isOwner && stage.dismissed) return 'dismissed'\n                        if (stage.failBy.find(item => item.accountId === id))\n                            return 'fail'\n                        if (\n                            stage.approvedBy.find(item => item.accountId === id)\n                        )\n                            return 'complete'\n                        return 'process'\n                    }\n\n                    const getStatusText = id => {\n                        const status = getStatus(id)\n                        switch (status) {\n                            case 'fail':\n                                return 'Failed'\n                            case 'complete':\n                                return 'Complete'\n                            case 'dismissed':\n                                return 'Dismissed'\n                            default:\n                                return 'In process'\n                        }\n                    }\n                    const myStatus =\n                        account && account._id && getStatus(account._id)\n\n                    const stageStatus = getStatus(progress.owner)\n\n                    const getTag = id => {\n                        return id === account._id ? (\n                            <Select\n                                labelId=\"demo-simple-select-label\"\n                                id=\"demo-simple-select\"\n                                value={myStatus}\n                                onChange={e =>\n                                    wsActions.changeStage(\n                                        e.target.value,\n                                        account._id,\n                                        progress._id,\n                                        stage.stageId\n                                    )\n                                }\n                            >\n                                <MenuItem value=\"complete\">Complete</MenuItem>\n                                <MenuItem value=\"process\">In process</MenuItem>\n                                <MenuItem value=\"fail\">Fail</MenuItem>\n                                <MenuItem value=\"dismissed\">Dismissed</MenuItem>\n                            </Select>\n                        ) : (\n                            <Chip color=\"primary\" label={getStatusText(id)} />\n                        )\n                    }\n\n                    const users = progress.users\n                        .filter(item => item !== progress.owner)\n                        .map(user => {\n                            const userStatus = getStatus(user)\n                            return (\n                                <ListItem>\n                                    <ListItemAvatar>\n                                        <UserButton noName={true} id={user} />\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={\n                                            <UserButton\n                                                id={user}\n                                                noAva={true}\n                                                span={true}\n                                                onlyName={true}\n                                            />\n                                        }\n                                    />\n                                    <ListItemSecondaryAction>\n                                        <MuiThemeProvider\n                                            theme={\n                                                userStatus === 'process'\n                                                    ? blueTheme\n                                                    : userStatus === 'complete'\n                                                    ? greenTheme\n                                                    : userStatus === 'fail'\n                                                    ? redTheme\n                                                    : orangeTheme\n                                            }\n                                        >\n                                            {getTag(user)}\n                                        </MuiThemeProvider>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            )\n                        })\n\n                    const owner = [\n                        <ListItem>\n                            <ListItemAvatar>\n                                <UserButton noName={true} id={progress.owner} />\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Typography noWrap variant=\"body2\">\n                                        <UserButton\n                                            id={progress.owner}\n                                            noAva={true}\n                                            span={true}\n                                            onlyName={true}\n                                        />\n                                    </Typography>\n                                }\n                            />\n                            <ListItemSecondaryAction>\n                                <MuiThemeProvider\n                                    theme={\n                                        stageStatus === 'process'\n                                            ? blueTheme\n                                            : stageStatus === 'complete'\n                                            ? greenTheme\n                                            : stageStatus === 'fail'\n                                            ? redTheme\n                                            : orangeTheme\n                                    }\n                                >\n                                    {getTag(progress.owner)}\n                                </MuiThemeProvider>\n                            </ListItemSecondaryAction>\n                        </ListItem>,\n                    ]\n                    let stageDate\n                    let tabTitle = <div>One time goal</div>\n                    if (stage.day) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .dayOfYear(stage.day)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('dddd')}</div>\n                                <div>{stageDate.format('D MMM YY')}</div>\n                            </>\n                        )\n                    } else if (stage.week) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .week(stage.week)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('wo')} week</div>\n                                <div>\n                                    {stageDate\n                                        .startOf('week')\n                                        .format('D MMM YY')}\n                                </div>\n                                <div>\n                                    {stageDate.endOf('week').format('D MMM YY')}\n                                </div>\n                            </>\n                        )\n                    } else if (stage.month) {\n                        stageDate = moment()\n                            .year(stage.year)\n                            .month(stage.month)\n                        tabTitle = (\n                            <>\n                                <div>{stageDate.format('MMMM')}</div>\n                                <div>{stageDate.format('YYYY')}</div>\n                            </>\n                        )\n                    } else if (stage.year) {\n                        stageDate = moment().year(stage.year)\n\n                        tabTitle = <div>{stageDate.format('YYYY')}</div>\n                    }\n\n                    return (\n                        <Tabs.TabPane\n                            tab={\n                                <Badge\n                                    color={\n                                        stageStatus === 'complete'\n                                            ? 'green'\n                                            : stageStatus === 'dismissed'\n                                            ? 'orange'\n                                            : stageStatus === 'fail'\n                                            ? 'volcano'\n                                            : 'blue'\n                                    }\n                                >\n                                    <span\n                                        style={{\n                                            fontSize: '12px',\n                                            textTransform: 'uppercase',\n                                            textAlign: 'center',\n                                        }}\n                                    >\n                                        {tabTitle}\n                                    </span>\n                                </Badge>\n                            }\n                            key={index}\n                        >\n                            <List dense={true}>\n                                {owner}\n                                {users}\n                            </List>\n\n                            {stage.paid.length > 0 && (\n                                <>\n                                    {/* {showEarnedRewards && (\n                                        // <Rewards\n                                        //     rewards={stage.paid}\n                                        //     readOnly\n                                        // />\n                                    )} */}\n                                    <Button\n                                        onClick={() =>\n                                            setShowEarnedRewards(\n                                                !showEarnedRewards\n                                            )\n                                        }\n                                        color=\"primary\"\n                                        style={{}}\n                                    >\n                                        {(showEarnedRewards ? 'Hide' : 'Show') +\n                                            ' earned rewards'}\n                                    </Button>\n                                    {showEarnedRewards && (\n                                        <HorizontalScrollList\n                                            items={stage.paid\n                                                .map(item => rewardData[item])\n                                                .filter(item => item)}\n                                            content={item => (\n                                                <CardContent\n                                                    style={{\n                                                        textAlign: 'center',\n                                                        position: 'relative',\n                                                        padding: '5px',\n                                                    }}\n                                                >\n                                                    <Link\n                                                        to={\n                                                            '/rewards/' +\n                                                            item._id\n                                                        }\n                                                    >\n                                                        <CardMedia\n                                                            style={{\n                                                                height: '150px',\n                                                                backgroundSize:\n                                                                    'contain',\n                                                            }}\n                                                            image={\n                                                                item.images\n                                                                    .length > 0\n                                                                    ? item\n                                                                          .images[0]\n                                                                    : placeholderImages[\n                                                                          getPH(\n                                                                              item._id\n                                                                          )\n                                                                      ]\n                                                            }\n                                                            title={item.name}\n                                                        />\n                                                        <CardContent\n                                                            style={{\n                                                                padding: '5px',\n                                                            }}\n                                                        >\n                                                            <Typography\n                                                                variant=\"body2\"\n                                                                noWrap\n                                                            >\n                                                                {item.name}\n                                                            </Typography>\n                                                        </CardContent>\n                                                    </Link>\n                                                </CardContent>\n                                            )}\n                                        />\n                                    )}\n                                </>\n                            )}\n                        </Tabs.TabPane>\n                    )\n                })}\n            </Tabs>\n        </MuiThemeProvider>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        rewardData: state.rewardData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ActivityTable))\n","import message from 'antd/es/message'\nimport axios from 'axios'\n\nexport const uploadFile = (file, size, filename, callback) => {\n    if (file == null) {\n        return alert('No file selected.')\n    }\n\n    const reader = new FileReader()\n    reader.onload = async event => {\n        resizeImageToSpecificSize(file, { width: size, height: size }, data => {\n            if (!data) {\n                callback()\n            } else {\n                urltoFile(data, '/120').then(function(file) {\n                    getSignedRequest(file, filename, callback)\n                })\n            }\n        })\n    }\n\n    reader.readAsArrayBuffer(file)\n}\n\nconst urltoFile = (url, filename, mimeType) => {\n    mimeType = mimeType || (url.match(/^data:([^;]+);/) || '')[1]\n    return fetch(url)\n        .then(function(res) {\n            return res.arrayBuffer()\n        })\n        .then(function(buf) {\n            return new File([buf], filename, { type: 'image/jpeg' })\n        })\n}\n\nconst resizeImageToSpecificSize = (file, size, cb) => {\n    if (file) {\n        var reader = new FileReader()\n        reader.onload = function(event) {\n            resizeImageFromSrcToSpecificSize(event.target.result, size, cb)\n        }\n        reader.readAsDataURL(file)\n    }\n}\n\nconst resizeImageFromSrcToSpecificSize = (src, size, cb) => {\n    try {\n        var data\n        var img = new Image()\n        img.onload = function() {\n            const widthCoef = img.width / size.width\n            const heightCoef = img.height / size.height\n            var oc = document.createElement('canvas'),\n                octx = oc.getContext('2d')\n            oc.width = img.width\n            oc.height = img.height\n            octx.drawImage(img, 0, 0)\n            if (widthCoef > 1 || heightCoef > 1) {\n                if (img.width > img.height) {\n                    oc.height = (img.height / img.width) * size.width\n                    oc.width = size.width\n                } else {\n                    oc.width = (img.width / img.height) * size.width\n                    oc.height = size.width\n                }\n            }\n            octx.drawImage(oc, 0, 0, oc.width, oc.height)\n            octx.drawImage(img, 0, 0, oc.width, oc.height)\n            data = oc.toDataURL('image/jpeg', 0.6)\n            cb(data)\n        }\n        img.onerror = () => {\n            cb()\n        }\n        img.src = src\n    } catch {}\n}\n\nconst getSignedRequest = (file, fileName, callback) => {\n    return axios\n        .post('/api/sign-s3', {\n            fileName,\n        })\n        .then(response => {\n            doUploadFile(file, response.data, callback)\n        })\n        .catch(err => {})\n}\n\nconst doUploadFile = (file, data, callback) => {\n    return axios\n        .put(data.signedRequest, file, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        })\n        .then(response => {\n            callback(data.url)\n            message.success('The image has been saved.')\n        })\n        .catch(err => {})\n}\n","import Upload from 'antd/es/upload'\nimport React, { useState, useEffect } from 'react'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport { uploadFile } from '../../utils/uploadFile'\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from '@material-ui/core'\n\nconst ImagePickerMulti = props => {\n    const [images, setImages] = useState(props.images || [])\n    const [previewImage, setPreviewImage] = useState()\n\n    useEffect(() => {\n        props.onValueChange(images)\n    }, [images])\n\n    return (\n        <>\n            <Upload\n                accept=\"image/*\"\n                listType=\"picture-card\"\n                fileList={images.map((image, index) => ({\n                    url: image,\n                    uid: index,\n                }))}\n                onPreview={file => {\n                    setPreviewImage(file.url)\n                }}\n                onChange={({ fileList }) =>\n                    setImages(fileList.map(item => item.url))\n                }\n                customRequest={({ file }) => {\n                    uploadFile(file, 800, undefined, url => {\n                        if (!url) {\n                            setImages([...images])\n                        } else {\n                            setImages([...images, url])\n                        }\n                    })\n                }}\n            >\n                {images.length >= 8 ? null : (\n                    <div\n                        style={{\n                            flex: 1,\n                            display: 'flex',\n                            height: '100%',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            flexDirection: 'column',\n                        }}\n                        onClick={e => {\n                            if (window.isRNWebView) {\n                                e.stopPropagation()\n                                window.ReactNativeWebView.postMessage(\n                                    'uploadFile'\n                                )\n                                window.callback = url => {\n                                    setImages([...images, url])\n                                }\n                            }\n                        }}\n                    >\n                        <PlusOutlined />\n                        <div className=\"ant-upload-text\">Upload</div>\n                    </div>\n                )}\n            </Upload>\n            <Dialog\n                open={Boolean(previewImage)}\n                onClose={() => setPreviewImage()}\n            >\n                <DialogTitle id=\"scroll-dialog-title\">\n                    Preview image\n                </DialogTitle>\n                <DialogContent dividers={true}>\n                    <img src={previewImage} style={{ width: '100%' }} />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setPreviewImage()} color=\"primary\">\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n\nexport default ImagePickerMulti\n","import React from 'react'\n// import { Editor } from '@tinymce/tinymce-react'\nimport { Editor } from 'react-draft-wysiwyg'\nimport { convertFromRaw, ContentState, convertToRaw } from 'draft-js'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\nimport htmlToDraft from 'html-to-draftjs'\n\nexport default props => {\n    let contentState\n    if (typeof props.value === 'string') {\n        const blocksFromHtml = htmlToDraft(props.value)\n        const { contentBlocks, entityMap } = blocksFromHtml\n        contentState = ContentState.createFromBlockArray(\n            contentBlocks,\n            entityMap\n        )\n        contentState = convertToRaw(contentState)\n    } else contentState = props.value\n    return (\n        // <Editor\n        //     apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n        //     // initialValue={form.getFieldValue('description')}\n        //     init={{\n        //         inline: true,\n        //     }}\n        //     onEditorChange={props.onEditorChange}\n        //     value={props.value}\n        // />\n        <Editor\n            placeholder=\"Add some text\"\n            readOnly={props.readOnly}\n            // toolbarClassName=\"demo-toolbar-absolute\"\n            wrapperClassName=\"demo-wrapper\"\n            {...(!props.readOnly\n                ? { editorClassName: 'demo-editor' }\n                : { contentState: contentState })}\n            defaultContentState={contentState}\n            onContentStateChange={value => {\n                props.onEditorChange && props.onEditorChange(value)\n                props.onEditorChangePlain &&\n                    props.onEditorChangePlain(\n                        convertFromRaw(value).getPlainText(' ')\n                    )\n            }}\n            toolbar={{\n                inline: { inDropdown: true },\n                list: { inDropdown: true },\n                textAlign: { inDropdown: true },\n                link: { inDropdown: true },\n                history: { inDropdown: true },\n            }}\n            toolbarHidden={props.readOnly}\n            options={\n                !props.readOnly && [\n                    'inline',\n                    'blockType',\n                    'fontSize',\n                    'fontFamily',\n                    'list',\n                    'textAlign',\n                    'colorPicker',\n                    'link',\n                    'emoji',\n                    'remove',\n                    'history',\n                ]\n            }\n        />\n    )\n}\n","export default {\n    name: 200,\n    description: 10000,\n    message: 10000,\n}\n","import fieldLength from './fieldLength'\n\nexport const nicknameRules = [\n    {\n        required: true,\n        message: 'Nickname is too short. Minimal length is 2.',\n        whitespace: true,\n        min: 2,\n    },\n    {\n        message: `Nickname is too long. Miximum length is ${fieldLength.name}.`,\n        whitespace: true,\n        max: fieldLength.name,\n    },\n    {\n        pattern: /^[a-zA-Z0-9_-]*$/,\n        message: \"Nickname should contain only letters, numbers, '-' and '_'.\",\n    },\n]\n\nexport const nameRules = [\n    {\n        required: true,\n        min: 1,\n        whitespace: true,\n        message: 'Name is too short. Minimal length is 1.',\n    },\n    {\n        max: fieldLength.name,\n        message: `Name is too long. Miximum length is ${fieldLength.name}.`,\n    },\n]\n\nexport const accountNameRules = [\n    {\n        required: true,\n        min: 2,\n        whitespace: true,\n        message: 'Name is too short. Minimal length is 2.',\n    },\n    {\n        max: fieldLength.name,\n        message: `Name is too long. Miximum length is ${fieldLength.name}.`,\n    },\n]\n\nexport const descriptionRules = [\n    {\n        max: fieldLength.description,\n        message: `Description is too long. Miximum length is ${\n            fieldLength.description\n        }.`,\n    },\n]\n\nexport const messageRules = [\n    {\n        min: 1,\n        whitespace: true,\n        message: 'Message is too short. Minimal length is 1.',\n    },\n    {\n        max: fieldLength.message,\n        message: `Message is too long. Miximum length is ${\n            fieldLength.message\n        }.`,\n    },\n]\n\nexport const priceRules = [\n    {\n        required: true,\n        message: 'Please input the item price.',\n    },\n]\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport * as wsActions from '../../websocketActions'\nimport {\n    AppBar,\n    Button,\n    Dialog,\n    IconButton,\n    Input,\n    makeStyles,\n    Slide,\n    Toolbar,\n    Typography,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport Form from 'antd/es/form/Form'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport TinyEditor from '../UI/TinyEditor'\nimport { nameRules } from '../../constants/fieldRules'\n\nconst TransitionComponent = props => <Slide direction=\"left\" {...props} />\nconst useStyles = makeStyles(theme => ({\n    root: {\n        // maxWidth: 345,\n    },\n    media: {\n        height: 0,\n        paddingTop: '56.25%', // 16:9\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        marginLeft: 'auto',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n\n    appBar: {\n        position: 'fixed',\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}))\n\nconst layout = {\n    labelCol: { span: 4 },\n    wrapperCol: { span: 20 },\n}\n\nconst AddEditReward = props => {\n    const classes = useStyles()\n    const [editedReward, setEditedReward] = useState(\n        props.reward || { images: [] }\n    )\n    useEffect(() => {\n        setEditedReward(props.reward || { images: [] })\n    }, props.open)\n    const { wish } = props\n    return (\n        <Dialog\n            fullScreen\n            open={props.open}\n            onClose={props.close}\n            TransitionComponent={TransitionComponent}\n        >\n            {props.open && (\n                <>\n                    <AppBar className={classes.appBar} color=\"primary\">\n                        <Toolbar>\n                            <IconButton\n                                edge=\"start\"\n                                color=\"inherit\"\n                                onClick={props.close}\n                                aria-label=\"close\"\n                            >\n                                <Close />\n                            </IconButton>\n                            <Typography\n                                variant=\"h6\"\n                                className={classes.title}\n                                color=\"inherit\"\n                            >\n                                {(!props.reward ? 'Add new ' : 'Edit ') +\n                                    (wish ? 'item' : 'reward')}\n                            </Typography>\n                            <Button\n                                autoFocus\n                                color=\"inherit\"\n                                onClick={() => {\n                                    wsActions.saveReward(\n                                        props.account._id,\n                                        editedReward,\n                                        wish\n                                    )\n                                    props.close()\n                                }}\n                            >\n                                Save\n                            </Button>\n                        </Toolbar>\n                    </AppBar>\n                    <Toolbar />\n                    <Form\n                        style={{\n                            maxWidth: '1200px',\n                            margin: '0 auto',\n                            padding: '15px',\n                            width: '100%',\n                        }}\n                        name=\"new_reward\"\n                        {...layout}\n                    >\n                        <Form.Item\n                            name=\"images\"\n                            label=\"Images\"\n                            // valuePropName=\"images\"\n                        >\n                            <ImagePickerMulti\n                                images={editedReward.images}\n                                onValueChange={images =>\n                                    setEditedReward({\n                                        ...editedReward,\n                                        images,\n                                    })\n                                }\n                            />\n                        </Form.Item>\n\n                        <Form.Item label=\"Name\" rules={nameRules}>\n                            <Input\n                                fullWidth={true}\n                                value={editedReward.name}\n                                onChange={({ target: { value } }) =>\n                                    setEditedReward({\n                                        ...editedReward,\n                                        name: value,\n                                    })\n                                }\n                            />\n                        </Form.Item>\n                        <Form.Item label=\"Description\">\n                            <TinyEditor\n                                value={editedReward.description}\n                                onEditorChange={value => {\n                                    setEditedReward(values => ({\n                                        ...values,\n                                        description: value,\n                                    }))\n                                }}\n                                onEditorChangePlain={value =>\n                                    setEditedReward(values => ({\n                                        ...values,\n                                        descriptionText: value,\n                                    }))\n                                }\n                            />\n                        </Form.Item>\n                    </Form>\n                </>\n            )}\n        </Dialog>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default connect(mapStateToProps)(AddEditReward)\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport * as wsActions from '../../websocketActions'\nimport { Box, TextField, Button, makeStyles } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport { spanStyle } from './Message'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\n\nconst useStyles = makeStyles({\n    text: {\n        '&>div::after': { border: 'none' },\n        '&>div::before': { border: 'none !important' },\n        '& textarea': {\n            fontSize: '14px',\n        },\n    },\n})\nconst AddMessage = props => {\n    const classes = useStyles()\n    const [previewImage, setPreviewImage] = useState('')\n    const [imageLoading, setImageLoading] = useState(false)\n    const [images, setImages] = useState(props.images || [])\n    const { post, account } = props\n\n    const [messageText, setMessageText] = useState(\n        props.content ||\n            (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n    )\n\n    useEffect(() => {\n        setMessageText(\n            props.content ||\n                (props.replyToUser ? '@' + props.replyToUser + ' ' : '')\n        )\n    }, [props.replyToUser, props.content])\n\n    const uploadImage = file => {\n        uploadFile(file, 800, undefined, url => {\n            setImages([...images, url])\n        })\n    }\n\n    return post && account._id ? (\n        <Box style={{ display: 'flex', width: '100%', margin: '10px 0px' }}>\n            <Box style={{ marginRight: '10px' }}>\n                <UserButton\n                    noName={true}\n                    id={account._id}\n                    span={true}\n                    size={props.isTop ? 36 : 25}\n                />\n            </Box>\n            <Box style={{ flex: 1 }}>\n                <Box\n                    style={{\n                        background: '#efefef',\n                        padding: '5px 15px',\n                        borderRadius: '15px',\n                    }}\n                >\n                    <TextField\n                        multiline\n                        value={messageText}\n                        onChange={e => setMessageText(e.target.value)}\n                        margin=\"dense\"\n                        placeholder=\"Add a comment\"\n                        className={classes.text}\n                        fullWidth\n                    />\n                    {images.length > 0 && (\n                        <ImagePickerMulti\n                            images={images}\n                            onValueChange={value => setImages(value)}\n                        />\n                    )}\n                    <Button\n                        onClick={() => {\n                            wsActions.sendMessage(\n                                account._id,\n                                post._id,\n                                messageText,\n                                images,\n                                props.replyTo,\n                                props.editingMessage\n                            )\n                            setMessageText('')\n                            setImages([])\n                            if (props.onSend) props.onSend()\n                        }}\n                    >\n                        <span style={spanStyle}>Send</span>\n                    </Button>\n                    <Upload\n                        accept=\"image/*\"\n                        showUploadList={false}\n                        customRequest={({ file }) => {\n                            if (images.length > 8) {\n                                message.warning(\n                                    'You can not attach more than 8 images.'\n                                )\n                                return\n                            }\n                            setImageLoading(true)\n                            uploadFile(file, 800, undefined, url => {\n                                setImageLoading(false)\n                                if (!url) {\n                                    setImages([...images])\n                                } else {\n                                    setImages([...images, url])\n                                }\n                            })\n                        }}\n                    >\n                        <Button\n                            onClick={e => {\n                                if (window.isRNWebView) {\n                                    e.stopPropagation()\n                                    window.ReactNativeWebView.postMessage(\n                                        'uploadFile'\n                                    )\n                                    window.callback = url => {\n                                        setImageLoading(false)\n                                        setImages([...images, url])\n                                    }\n                                }\n                            }}\n                        >\n                            <span style={spanStyle}>Image</span>\n                        </Button>\n                    </Upload>\n                    {props.cancel && (\n                        <Button onClick={props.cancel}>\n                            <span style={spanStyle}>Cancel</span>\n                        </Button>\n                    )}\n                </Box>\n            </Box>\n        </Box>\n    ) : null\n}\n\nexport default withRouter(AddMessage)\n","import React, { useState } from 'react'\nimport Carousel from 'antd/es/carousel'\nimport classes from './imageCarousel.module.css'\nimport Modal from 'antd/es/modal/Modal'\n\nconst ImageCarousel = props => {\n    const [previewImage, setPreviewImage] = useState(false)\n\n    return props.images && props.images.length > 0 ? (\n        <>\n            <Carousel\n                style={{ width: props.size || 'auto', margin: '10px 0' }}\n                dots={{ className: classes.Dots }}\n                autoplay\n            >\n                {props.images.map(\n                    (image, index) =>\n                        image && (\n                            <div\n                                key={index}\n                                onClick={() => setPreviewImage(image)}\n                            >\n                                <div\n                                    style={{\n                                        backgroundImage: 'url(\"' + image + '\")',\n                                        backgroundSize: props.type || 'contain',\n                                        backgroundPosition: 'center',\n                                        width: props.size || '100%',\n                                        height:\n                                            props.height ||\n                                            props.size ||\n                                            '300px',\n                                        maxWidth: '800px',\n                                        backgroundRepeat: 'no-repeat',\n                                        borderRadius: '20px',\n                                        margin: 'auto',\n                                    }}\n                                />\n                            </div>\n                        )\n                )}\n            </Carousel>\n            <Modal\n                visible={previewImage}\n                footer={null}\n                onCancel={() => setPreviewImage('')}\n            >\n                <img\n                    alt=\"example\"\n                    style={{ width: '100%' }}\n                    src={previewImage}\n                />\n            </Modal>\n        </>\n    ) : null\n}\n\nexport default ImageCarousel\n","import {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport React from 'react'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nexport default props => {\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={props.open}\n            onClose={props.close}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.close}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        {props.title}\n                    </Typography>\n                    {props.save && (\n                        <Button autoFocus color=\"inherit\" onClick={props.save}>\n                            {props.saveText || 'Save'}\n                        </Button>\n                    )}\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n            {props.children}\n        </Dialog>\n    )\n}\n","import React from 'react'\nimport * as wsActions from '../websocketActions'\nimport { Button } from '@material-ui/core'\n\nconst FollowButton = props => {\n    const { account, type, id } = props\n    if (account && account._id && account._id !== id) {\n        if (type === 'progress') {\n            return account.followProgresses.includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowProgress(account._id, id)\n                    }}\n                >\n                    Unfollow\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followProgress(account._id, id)\n                    }}\n                >\n                    Follow\n                </Button>\n            )\n        } else {\n            return account.followAccounts.includes(id) ? (\n                <Button\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.unfollowAccount(account._id, id)\n                    }}\n                >\n                    Unfollow\n                </Button>\n            ) : (\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        wsActions.followAccount(account._id, id)\n                    }}\n                >\n                    Follow\n                </Button>\n            )\n        }\n    }\n    return null\n}\n\nexport default FollowButton\n","import { Button } from '@material-ui/core'\nimport React, { useEffect, useRef, useState } from 'react'\nimport TinyEditor from './TinyEditor'\n\nconst ReadMore = props => {\n    const [overflow, setOverflow] = useState(false)\n    const [open, setOpen] = useState(false)\n    const descRef = useRef(null)\n\n    useEffect(() => {\n        if (\n            descRef.current &&\n            descRef.current.offsetHeight > props.initialHeight\n        ) {\n            setOverflow(true)\n        }\n    }, [\n        descRef.current && descRef.current.offsetHeight,\n        props.content,\n        props.contentEditor,\n    ])\n    return (\n        <div\n            style={{\n                maxHeight: open ? 'initial' : props.initialHeight + 'px',\n                overflow: 'hidden',\n                position: 'relative',\n                paddingBottom: overflow && open ? '50px' : '0px',\n            }}\n        >\n            {props.content && (\n                <div\n                    ref={descRef}\n                    dangerouslySetInnerHTML={{ __html: props.content }}\n                />\n            )}\n            {props.contentEditor && (\n                <div ref={descRef}>\n                    <TinyEditor readOnly value={props.contentEditor} />\n                </div>\n            )}\n            {overflow && (\n                <div\n                    style={{\n                        position: 'absolute',\n                        bottom: 0,\n                        width: '100%',\n                        // zIndex: 1,\n                    }}\n                >\n                    <div\n                        style={{\n                            transition: 'opacity 0.25s',\n                            opacity: open ? 0 : 1,\n                            backgroundImage:\n                                'linear-gradient(to bottom, rgba(255, 255, 255, 1), #ffffff )',\n                            content: '',\n                            height: '50px',\n                            width: '100%',\n\n                            bottom: '0',\n                            left: '0',\n                            position: 'absolute',\n                        }}\n                    />\n\n                    <Button color=\"primary\" onClick={() => setOpen(!open)}>\n                        {open ? 'Read Less' : 'Read More'}\n                    </Button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default ReadMore\n","import React, { useEffect, useState } from 'react'\nimport { Box, Button, makeStyles, Typography } from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport TinyEditor from '../UI/TinyEditor'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst EditPost = props => {\n    const classes = useStyles()\n\n    const [images, setImages] = useState(props.images || [])\n\n    const [messageText, setMessageText] = useState(props.content || '')\n\n    useEffect(() => {\n        setImages(props.images || [])\n        setMessageText(props.content || '')\n    }, [props.open])\n\n    const handleSave = () => {\n        props.save(images, messageText)\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setImages([])\n        setMessageText('')\n        props.cancel()\n    }\n\n    return (\n        <DialogFullscreen\n            open={props.open}\n            close={handleCancel}\n            title={props.title}\n            save={handleSave}\n        >\n            <Box\n                style={{\n                    padding: '0 16px',\n                    maxWidth: '1200px',\n                    margin: '0 auto',\n                    width: '100%',\n                }}\n            >\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Description\n                </Typography>\n                <Box>\n                    <TinyEditor\n                        value={messageText}\n                        onEditorChange={value => setMessageText(value)}\n                    />\n                </Box>\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Images\n                </Typography>\n                <ImagePickerMulti\n                    images={images}\n                    onValueChange={value => setImages(value)}\n                />\n                <Box\n                    style={{\n                        textAlign: 'right',\n                        marginTop: '50px',\n                    }}\n                >\n                    <Button size=\"large\" onClick={handleCancel}>\n                        Cancel\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                        onClick={handleSave}\n                    >\n                        Save\n                    </Button>\n                </Box>\n            </Box>\n        </DialogFullscreen>\n    )\n}\n\nexport default EditPost\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport * as wsActions from '../../websocketActions'\nimport AddMessage from './AddMessage'\nimport ImageCarousel from '../UI/ImageCarousel/ImageCarousel'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    Badge,\n    Box,\n    Button,\n    Chip,\n    IconButton,\n    Menu,\n    MenuItem,\n} from '@material-ui/core'\nimport moment from 'moment'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport { MoreVertOutlined, ThumbUp } from '@material-ui/icons'\nimport ReadMore from '../UI/ReadMore'\nimport EditPost from './EditPost'\n\nmoment.updateLocale('en', {\n    relativeTime: {\n        future: 'in %s',\n        past: '%s',\n        s: 'now',\n        ss: 'now',\n        m: '1 min',\n        mm: '%d mins',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 day',\n        dd: '%d days',\n        w: '1 wk',\n        ww: '%d wks',\n        M: '1 mth',\n        MM: '%d mths',\n        y: 'a year',\n        yy: '%d years',\n    },\n})\nmoment().format()\n\nexport const spanStyle = {\n    fontSize: '12px',\n    color: '#666',\n    textTransform: 'none',\n}\nconst Message = props => {\n    const {\n        account,\n        message,\n        friendData,\n        progressData,\n        post,\n        replies,\n        isStart,\n    } = props\n    const [replyVisible, setReplyVisible] = useState(false)\n    const [likes, setLikes] = useState(null)\n    const [replyToUser, setReplyToUser] = useState('')\n    const [editingMessage, setEditingMessage] = useState('')\n    const [showReplies, setShowReplies] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [editMessageOpen, setEditMessageOpen] = useState(false)\n\n    const handleEditPostSave = (images, messageText) => {\n        wsActions.editPost(account._id, post._id, messageText, images)\n        if (props.onSend) props.onSend()\n        handleEditPostCancel()\n    }\n\n    const handleEditPostCancel = () => {\n        setEditMessageOpen(false)\n    }\n\n    return account && friendData ? (\n        <>\n            {account._id !== message.author || !editingMessage ? (\n                <>\n                    {props.isStart ? (\n                        <Box\n                            style={{\n                                display: 'flex',\n                                width: '100%',\n                                margin: '10px 0px',\n                            }}\n                        >\n                            <Box style={{ marginRight: '10px' }}>\n                                <UserButton\n                                    noName={true}\n                                    id={message.author}\n                                    span={true}\n                                />\n                            </Box>\n                            <Box style={{ flex: 1 }}>\n                                <span\n                                    style={{\n                                        color: '#333',\n                                        fontWeight: 'bold',\n                                        fontSize: '14px',\n                                    }}\n                                >\n                                    <UserButton\n                                        id={message.author}\n                                        span={true}\n                                        noAva={true}\n                                    />{' '}\n                                    <div\n                                        style={spanStyle}\n                                        onClick={() =>\n                                            props.history.push(\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                    '/goals/' +\n                                                        post.parent.parentId +\n                                                        '/post/' +\n                                                        post._id\n                                            )\n                                        }\n                                    >\n                                        {moment(message.date).fromNow()}\n                                    </div>\n                                    {/* <span style={{ fontWeight: 'normal' }}>in</span>{' '}\n                {post.parent &&\n                    progressData &&\n                    progressData[post.parent.parentId] && (\n                        <span\n                            style={{ cursor: 'pointer' }}\n                            onClick={() =>\n                                props.history.push(\n                                    '/goals/' + post.parent.parentId\n                                )\n                            }\n                        >\n                            {progressData[post.parent.parentId].goal.name}\n                        </span>\n                    )} */}\n                                    {post.startMessage &&\n                                        ['wishlist', 'perk', 'goal'].includes(\n                                            post.startMessage.messageType\n                                        ) && (\n                                            <span\n                                                style={{ cursor: 'pointer' }}\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/profile/' +\n                                                            message.author\n                                                    )\n                                                }\n                                            >\n                                                {post.startMessage\n                                                    .messageType === 'wishlist'\n                                                    ? 'Wishlist'\n                                                    : post.startMessage\n                                                          .messageType ===\n                                                      'goals'\n                                                    ? 'Goals'\n                                                    : 'Shop'}\n                                            </span>\n                                        )}\n                                </span>\n                            </Box>\n                            {account._id === message.author && (\n                                <Box>\n                                    <IconButton\n                                        onClick={event =>\n                                            setAnchorEl(event.currentTarget)\n                                        }\n                                    >\n                                        <MoreVertOutlined />\n                                    </IconButton>\n                                    <Menu\n                                        id=\"simple-menu\"\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={() => setAnchorEl(null)}\n                                    >\n                                        <MenuItem\n                                            onClick={() => {\n                                                setEditMessageOpen(true)\n                                                setAnchorEl(null)\n                                            }}\n                                        >\n                                            Edit\n                                        </MenuItem>\n                                    </Menu>\n                                    <EditPost\n                                        open={editMessageOpen}\n                                        cancel={handleEditPostCancel}\n                                        title=\"Edit post\"\n                                        save={handleEditPostSave}\n                                        images={message.image}\n                                        content={message.text}\n                                    />\n                                </Box>\n                            )}\n                        </Box>\n                    ) : (\n                        <>\n                            <Box style={{ display: 'flex', width: '100%' }}>\n                                <Box style={{ marginRight: '10px' }}>\n                                    <UserButton\n                                        noName={true}\n                                        id={message.author}\n                                        span={true}\n                                        size={props.isTop ? 36 : 25}\n                                    />\n                                </Box>\n                                <Box style={{ flex: 1 }}>\n                                    <Badge\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'right',\n                                        }}\n                                        overlap=\"circle\"\n                                        badgeContent={\n                                            message.likes.length ? (\n                                                <Chip\n                                                    icon={<ThumbUp />}\n                                                    color=\"primary\"\n                                                    label={message.likes.length}\n                                                    size=\"small\"\n                                                    onClick={() =>\n                                                        setLikes(message.likes)\n                                                    }\n                                                />\n                                            ) : (\n                                                0\n                                            )\n                                        }\n                                    >\n                                        <Box\n                                            style={{\n                                                background: '#efefef',\n                                                padding: '5px 15px',\n                                                borderRadius: '15px',\n                                            }}\n                                        >\n                                            <UserButton\n                                                id={message.author}\n                                                span={true}\n                                                noAva={true}\n                                            />\n                                            {message.image &&\n                                                message.image.length > 0 && (\n                                                    <ImageCarousel\n                                                        images={message.image}\n                                                        height=\"60vmin\"\n                                                        type=\"contain\"\n                                                    />\n                                                )}\n                                            {message.text && (\n                                                <p\n                                                    style={{\n                                                        wordBreak: 'break-word',\n                                                    }}\n                                                >\n                                                    {message.text}\n                                                </p>\n                                            )}\n                                        </Box>\n                                    </Badge>\n                                    <Box>\n                                        <span\n                                            style={{\n                                                ...spanStyle,\n                                                marginRight: '15px',\n                                            }}\n                                        >\n                                            {moment(message.date).fromNow()}\n                                        </span>\n\n                                        <Button\n                                            onClick={() =>\n                                                wsActions.changeLikesMessage(\n                                                    message.likes.includes(\n                                                        account._id\n                                                    )\n                                                        ? 'dislikeMessage'\n                                                        : 'likeMessage',\n                                                    message.messageId,\n                                                    account._id,\n                                                    post._id\n                                                )\n                                            }\n                                        >\n                                            <span style={spanStyle}>\n                                                {message.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? 'Unlike'\n                                                    : 'Like'}\n                                            </span>\n                                        </Button>\n\n                                        {message.author !== account._id && (\n                                            <Button\n                                                onClick={() => {\n                                                    if (props.setReplyVisible) {\n                                                        props.setReplyVisible(\n                                                            true\n                                                        )\n                                                        props.setReplyToUser(\n                                                            props.message.author\n                                                        )\n                                                    } else {\n                                                        setReplyVisible(true)\n                                                        setReplyToUser('')\n                                                    }\n                                                    setShowReplies(true)\n                                                }}\n                                            >\n                                                <span style={spanStyle}>\n                                                    Reply\n                                                </span>\n                                            </Button>\n                                        )}\n                                        {message.author === account._id && (\n                                            <Button\n                                                onClick={() =>\n                                                    setEditingMessage(\n                                                        message.messageId\n                                                    )\n                                                }\n                                            >\n                                                <span style={spanStyle}>\n                                                    Edit\n                                                </span>\n                                            </Button>\n                                        )}\n                                    </Box>\n                                    {props.isTop &&\n                                    replies &&\n                                    replies.length > 0 ? (\n                                        showReplies ? (\n                                            replies.map((reply, index) => (\n                                                <Message\n                                                    key={index}\n                                                    message={reply}\n                                                    post={post}\n                                                    account={account}\n                                                    friendData={friendData}\n                                                    setReplyVisible={\n                                                        setReplyVisible\n                                                    }\n                                                    setReplyToUser={\n                                                        setReplyToUser\n                                                    }\n                                                />\n                                            ))\n                                        ) : (\n                                            <Button\n                                                onClick={() =>\n                                                    setShowReplies(true)\n                                                }\n                                            >\n                                                <span\n                                                    style={{\n                                                        ...spanStyle,\n                                                        fontSize: '15px',\n                                                    }}\n                                                >\n                                                    Show {replies.length}{' '}\n                                                    replies\n                                                </span>\n                                            </Button>\n                                        )\n                                    ) : null}\n\n                                    {props.isTop && replyVisible ? (\n                                        <AddMessage\n                                            post={post}\n                                            account={account}\n                                            replyTo={message.messageId}\n                                            replyToUser={replyToUser}\n                                            cancel={() =>\n                                                setReplyVisible(false)\n                                            }\n                                        />\n                                    ) : null}\n                                </Box>\n                            </Box>\n                        </>\n                    )}\n\n                    {isStart ? (\n                        <>\n                            {message.messageType === 'wishlist' && (\n                                <>\n                                    {' '}\n                                    <span\n                                        style={{\n                                            fontWeight: 'bold',\n                                            cursor: 'pointer',\n                                            margin: '10px 0px 0px ',\n                                        }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${\n                                                    message.details.owner\n                                                }/${message.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {message.details.name}\n                                    </span>\n                                </>\n                            )}\n                            {message.text && (\n                                <ReadMore\n                                    initialHeight={700}\n                                    contentEditor={message.text}\n                                />\n                            )}\n                            {message.image && message.image.length > 0 && (\n                                <ImageCarousel\n                                    images={message.image}\n                                    height=\"60vmin\"\n                                    type=\"contain\"\n                                />\n                            )}\n                        </>\n                    ) : (\n                        <></>\n                    )}\n                </>\n            ) : (\n                <AddMessage\n                    post={post}\n                    account={account}\n                    replyTo={message.messageId}\n                    editingMessage={editingMessage}\n                    content={message.text}\n                    images={message.image}\n                    onSend={() => setEditingMessage('')}\n                    cancel={() => setEditingMessage('')}\n                />\n            )}\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title=\"Message likes\"\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n        </>\n    ) : null\n}\n\nexport default withRouter(Message)\n","import React, { useState } from 'react'\nimport {\n    Box,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    Snackbar,\n    Tooltip,\n} from '@material-ui/core'\nimport { withRouter } from 'react-router-dom'\nimport { FileCopy, Share } from '@material-ui/icons'\nimport {\n    EmailShareButton,\n    FacebookShareButton,\n    // WeiboShareButton,\n    // HatenaShareButton,\n    // InstapaperShareButton,\n    // LineShareButton,\n    LinkedinShareButton,\n    // LivejournalShareButton,\n    // MailruShareButton,\n    // OKShareButton,\n    PinterestShareButton,\n    // PocketShareButton,\n    // RedditShareButton,\n    TelegramShareButton,\n    // TumblrShareButton,\n    TwitterShareButton,\n    // ViberShareButton,\n    VKShareButton,\n    // WhatsappShareButton,     ,\n    FacebookIcon,\n    TwitterIcon,\n    LinkedinIcon,\n    PinterestIcon,\n    VKIcon,\n    // OKIcon,\n    TelegramIcon,\n    // WhatsappIcon,\n    // RedditIcon,\n    // TumblrIcon,\n    // MailruIcon,\n    EmailIcon,\n    // LivejournalIcon,\n    // ViberIcon,\n    // WorkplaceIcon,\n    // LineIcon,\n    // PocketIcon,\n    // InstapaperIcon,\n    // WeiboIcon,\n    // HatenaIcon,\n    // FacebookMessengerIcon,\n    // FacebookMessengerShareButton,\n} from 'react-share'\nimport { spanStyle } from '../Post/Message'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { Alert } from '@material-ui/lab'\n\nconst ShareButton = props => {\n    const [alertVisible, setAlertVisible] = useState(false)\n    const [open, setOpen] = useState(false)\n    const basicProps = {\n        url: props.link || window.location.href,\n        title: props.title,\n        media: props.media || 'https://addspire.com/logo.jpg',\n        style: {\n            margin: '10px',\n            display: 'inline-block',\n            textAlign: 'center',\n            cursor: 'pointer',\n        },\n    }\n    return (\n        <>\n            <Tooltip title=\"Share\" enterDelay={500} leaveDelay={200}>\n                {props.post ? (\n                    <Button onClick={() => setOpen(true)} startIcon={<Share />}>\n                        <span style={spanStyle}>Share</span>\n                    </Button>\n                ) : (\n                    <IconButton\n                        // color=\"primary\"\n                        style={props.style}\n                        onClick={() => setOpen(true)}\n                    >\n                        <Share />\n                    </IconButton>\n                )}\n            </Tooltip>\n            <Dialog open={open} onClose={() => setOpen(false)}>\n                <DialogTitle>Share to:</DialogTitle>\n                <DialogContent>\n                    <DialogContent>\n                        <FacebookShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <FacebookIcon size={32} round />\n                            <Box>Facebook</Box>\n                        </FacebookShareButton>\n                        {/* <FacebookMessengerShareButton\n                            {...basicProps}\n                            appId=\"521270401588372\"\n                        >\n                            <FacebookMessengerIcon size={32} round />\n                        </FacebookMessengerShareButton> */}\n                        <TwitterShareButton {...basicProps}>\n                            <TwitterIcon size={32} round />\n                            <Box>Twitter</Box>\n                        </TwitterShareButton>\n                        <TelegramShareButton {...basicProps}>\n                            <TelegramIcon size={32} round />\n                            <Box>Telegram</Box>\n                        </TelegramShareButton>\n                        <PinterestShareButton {...basicProps}>\n                            <PinterestIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </PinterestShareButton>\n\n                        {/* <InstapaperShareButton {...basicProps}>\n                            <InstapaperIcon size={32} round />\n                            <Box>Pinterest</Box>\n                        </InstapaperShareButton>\n                        <PocketShareButton {...basicProps}>\n                            <PocketIcon size={32} round />\n                            <Box>Pocket</Box>\n                        </PocketShareButton> */}\n                        <LinkedinShareButton {...basicProps}>\n                            <LinkedinIcon size={32} round />\n                            <Box>LinkedIn</Box>\n                        </LinkedinShareButton>\n                        {/* <ViberShareButton {...basicProps}>\n                            <ViberIcon size={32} round />\n                        </ViberShareButton>\n                        <LineShareButton {...basicProps}>\n                            <LineIcon size={32} round />\n                        </LineShareButton> */}\n                        {/* <LivejournalShareButton {...basicProps}>\n                            <LivejournalIcon size={32} round />\n                        </LivejournalShareButton> */}\n                        {/* <MailruShareButton {...basicProps}>\n                            <MailruIcon size={32} round />\n                        </MailruShareButton> */}\n                        {/* <OKShareButton {...basicProps} image={props.media}>\n                            <OKIcon size={32} round />\n                        </OKShareButton>\n                        <RedditShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <RedditIcon size={32} round />\n                        </RedditShareButton>\n                        <TumblrShareButton {...basicProps}>\n                            <TumblrIcon size={32} round />\n                        </TumblrShareButton> */}\n                        <VKShareButton {...basicProps} image={props.media}>\n                            <VKIcon size={32} round />\n                            <Box>VK</Box>\n                        </VKShareButton>\n                        {/* <WhatsappShareButton {...basicProps} separator=\":: \">\n                            <WhatsappIcon size={32} round />\n                        </WhatsappShareButton> */}\n                        {/* <WorkplaceShareButton\n                            {...basicProps}\n                            quote={props.title}\n                        >\n                            <WorkplaceIcon size={32} round />\n                        </WorkplaceShareButton> */}\n                        {/* <WeiboShareButton {...basicProps} image={props.media}>\n                            <WeiboIcon size={32} round />\n                        </WeiboShareButton> */}\n                        {/* <HatenaShareButton\n                            {...basicProps}\n                            windowWidth={300}\n                            windowHeight={300}\n                        >\n                            <HatenaIcon size={32} round />\n                        </HatenaShareButton> */}\n                        <EmailShareButton\n                            {...basicProps}\n                            subject={props.title}\n                            body=\"body\"\n                        >\n                            <EmailIcon size={32} round />\n                            <Box>Email</Box>\n                        </EmailShareButton>\n\n                        <CopyToClipboard\n                            text={basicProps.url}\n                            {...basicProps}\n                            onCopy={() => setAlertVisible(true)}\n                        >\n                            <Box>\n                                <FileCopy style={{ fontSize: 32 }} />\n                                <Box>Copy url</Box>\n                            </Box>\n                        </CopyToClipboard>\n                    </DialogContent>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setOpen(false)}>Close</Button>\n                </DialogActions>\n            </Dialog>\n            <Snackbar\n                open={alertVisible}\n                autoHideDuration={2000}\n                onClose={() => setAlertVisible(false)}\n            >\n                <Alert\n                    onClose={() => setAlertVisible(false)}\n                    severity=\"success\"\n                >\n                    Url is copied to the clipboard!\n                </Alert>\n            </Snackbar>\n        </>\n    )\n}\n\nexport default withRouter(ShareButton)\n","import React, { useEffect, useRef, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport Message, { spanStyle } from './Message'\nimport AddMessage from './AddMessage'\nimport {\n    Button,\n    Card,\n    CardContent,\n    Chip,\n    Divider,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport MasonryCard from '../MasonryCard'\nimport FollowButton from '../FollowButton'\nimport UserButton from '../UserButton/UserButton'\nimport {\n    AddCommentOutlined,\n    ThumbUp,\n    ThumbUpOutlined,\n} from '@material-ui/icons'\nimport ShareButton from '../UI/ShareButton'\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Post = props => {\n    const classes = useStyles()\n    const { post, account, friendData, progressData } = props\n    const isPostPage = props.history.location.pathname.indexOf(post._id) > -1\n    const [postOpen, setPostOpen] = useState(props.showReplies || isPostPage)\n    const [likes, setLikes] = useState(null)\n    const getNumberOfMessages = messages => {\n        let result = 0\n        for (let item of messages) {\n            result = result + 1 + item.replies.length\n        }\n        return result\n    }\n    const postRef = useRef(null)\n\n    useEffect(() => {\n        if (isPostPage && postRef.current) {\n            window.scrollTo({\n                top: postRef.current.offsetTop - 70,\n                behavior: 'smooth',\n            })\n            setPostOpen(true)\n        }\n    }, [isPostPage])\n    return post ? (\n        <>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Main post\n                </Typography>\n            )}\n            <Card elevation={isPostPage && 3}>\n                <CardContent ref={postRef}>\n                    {!props.noStartMessage && (\n                        <>\n                            <Message\n                                message={post.startMessage}\n                                post={post}\n                                account={account}\n                                friendData={friendData}\n                                progressData={progressData}\n                                replies={[]}\n                                isStart={true}\n                            />\n\n                            {post.startMessage.likes.length > 0 && (\n                                <Chip\n                                    icon={<ThumbUp />}\n                                    color=\"primary\"\n                                    label={post.startMessage.likes.length}\n                                    size=\"small\"\n                                    onClick={() =>\n                                        setLikes(post.startMessage.likes)\n                                    }\n                                    style={{ marginBottom: '10px' }}\n                                />\n                            )}\n                            <Divider />\n                        </>\n                    )}\n\n                    <div\n                        style={{\n                            textAlign: 'left',\n                            // marginBottom: '200px',\n                            position: 'relative',\n                        }}\n                    >\n                        {!props.noPostControls && (\n                            <>\n                                <div\n                                    style={{\n                                        display: 'flex',\n                                        justifyContent: 'space-around',\n                                    }}\n                                >\n                                    <span key=\"comment-basic-like\">\n                                        <Button\n                                            onClick={() =>\n                                                wsActions.changeLikesMessage(\n                                                    post.startMessage.likes.includes(\n                                                        account._id\n                                                    )\n                                                        ? 'dislikeMessage'\n                                                        : 'likeMessage',\n                                                    post.startMessage.messageId,\n                                                    account._id,\n                                                    post._id\n                                                )\n                                            }\n                                            startIcon={<ThumbUpOutlined />}\n                                        >\n                                            <span style={spanStyle}>\n                                                {post.startMessage.likes.includes(\n                                                    account._id\n                                                )\n                                                    ? 'Unlike'\n                                                    : 'Like'}\n                                            </span>\n                                        </Button>\n                                    </span>\n                                    <span>\n                                        <Button\n                                            onClick={() => setPostOpen(true)}\n                                            startIcon={<AddCommentOutlined />}\n                                        >\n                                            <span style={spanStyle}>\n                                                Comment\n                                            </span>\n                                        </Button>\n                                    </span>\n                                    <span key=\"comment-basic-like\">\n                                        <ShareButton\n                                            post\n                                            link={\n                                                post.parent.parentType ===\n                                                    'progress' &&\n                                                'https://addspire.com/goals/' +\n                                                    post.parent.parentId +\n                                                    '/post/' +\n                                                    post._id\n                                            }\n                                            media={\n                                                post.startMessage.image &&\n                                                post.startMessage.image.length >\n                                                    0 &&\n                                                post.startMessage.image[0]\n                                            }\n                                            title={\n                                                'Post in goal on Addspire.com - a social network for sharing and supporting promises and resolutions.'\n                                            }\n                                        />\n                                    </span>\n                                </div>\n                                <Divider />\n                            </>\n                        )}\n                        {!postOpen ? (\n                            post.messages.length > 0 && (\n                                <Button onClick={() => setPostOpen(true)}>\n                                    <span\n                                        style={{\n                                            ...spanStyle,\n                                            fontSize: '15px',\n                                        }}\n                                    >\n                                        Show{' '}\n                                        {getNumberOfMessages(post.messages)}{' '}\n                                        comments\n                                    </span>\n                                </Button>\n                            )\n                        ) : (\n                            <>\n                                <AddMessage\n                                    post={post}\n                                    account={account}\n                                    isTop={true}\n                                />\n                                {post.messages && post.messages.length\n                                    ? post.messages.map((message, index) => (\n                                          <Message\n                                              key={index}\n                                              message={message}\n                                              post={post}\n                                              account={account}\n                                              friendData={friendData}\n                                              replies={message.replies}\n                                              isTop={true}\n                                          />\n                                      ))\n                                    : null}\n                            </>\n                        )}\n                    </div>\n                </CardContent>\n            </Card>\n            <DialogFullscreen\n                open={Boolean(likes)}\n                close={() => setLikes(null)}\n                title=\"Message likes\"\n            >\n                {likes &&\n                    likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n            </DialogFullscreen>\n            {isPostPage && (\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Other posts\n                </Typography>\n            )}\n        </>\n    ) : null\n}\n\nexport default withRouter(Post)\n","import axios from 'axios'\nimport processRes from './processRes'\nexport default (props, data, setData, options, callback) => {\n    // if (typeof props.isAuthed === 'undefined') return\n    // options = {\n    //     forceAuth: true,\n    //     forceActivate: true,\n    //     pullData: true,\n    //     ...(options || {}),\n    // }\n\n    // if (!props.isAuthed) {\n    //     props.tryAuth(props, options.forceAuth)\n    // }\n\n    // if (options.pullData) {\n    axios\n        .get('/api' + props.history.location.pathname)\n        .then(res => {\n            processRes(res, props)\n            // if (options.forceActivate) {\n            //     if (props.isAuthed && res.data.status === 'no account') {\n            //         props.history.push('/activate-account')\n            //     }\n            // }\n\n            setData(res.data)\n            callback(res.data)\n        })\n        .catch(err => {})\n    // }\n}\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Cookies from 'universal-cookie'\nimport classes from './LoginModal.module.css'\nimport {\n    FacebookLoginButton,\n    GithubLoginButton,\n    GoogleLoginButton,\n    InstagramLoginButton,\n} from 'react-social-login-buttons'\nimport {\n    Button,\n    Checkbox,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Divider,\n    FormControlLabel,\n    Slide,\n} from '@material-ui/core'\n\nconst cookies = new Cookies()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst LoginModal = props => {\n    const [state, setState] = useState(false)\n    const [cookieConsent, setCookieConsent] = useState(false)\n\n    useEffect(() => {\n        checkCookieConsent()\n    })\n\n    let remeberMeParam = '?rememberme=false'\n    if (state) {\n        remeberMeParam = '?rememberme=true'\n    }\n\n    const checkCookieConsent = () => {\n        const cookiesConsent = cookies.get('cookies_consent')\n        if (cookiesConsent) {\n            setCookieConsent(true)\n        }\n    }\n\n    const agreeWithCookies = () => {\n        cookies.set('cookies_consent', 'true', {\n            path: '/',\n            maxAge: 31530000,\n        })\n        checkCookieConsent()\n    }\n    const basicURL =\n        process.env.NODE_ENV !== 'development'\n            ? 'https://addspire.com/api/auth/'\n            : 'http://my.websiter.test:5000/api/auth/'\n    return props.loginVisible ? (\n        !cookieConsent ? (\n            <Dialog open={!cookieConsent}>\n                <DialogTitle>{'Cookies consent'}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        We use cookies only for login purposes. In order to\n                        proceed you need to agree with the use of cookies.\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => {\n                            props.setLoginVisible(false)\n                            setCookieConsent(false)\n                        }}\n                    >\n                        Disagree\n                    </Button>\n                    <Button\n                        onClick={agreeWithCookies}\n                        color=\"primary\"\n                        autoFocus\n                    >\n                        Agree\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        ) : (\n            <Dialog\n                fullScreen\n                open={props.loginVisible}\n                onClose={() => props.setLoginVisible(false)}\n                TransitionComponent={TransitionComponent}\n            >\n                <div className=\"contentDiv\">\n                    <div\n                        className={classes.Container}\n                        style={{\n                            maxWidth: '500px',\n                            margin: '0 auto',\n                        }}\n                    >\n                        <h1\n                            style={{\n                                fontWeight: 'bold',\n                                lineHeight: '1.3em',\n                                marginBottom: 0,\n                                fontSize: '2.5em',\n                            }}\n                        >\n                            Welcome to Addspire!\n                        </h1>\n                        <h3>This is where great inspiration lives.</h3>\n                        <div\n                            className={classes.socialButtons}\n                            style={{ marginBottom: '30px' }}\n                        >\n                            <FacebookLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `facebook/start${remeberMeParam}`)\n                                }\n                            />\n                            <GoogleLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `google/start${remeberMeParam}`)\n                                }\n                            />\n                            <InstagramLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `instagram/start${remeberMeParam}`)\n                                }\n                            />\n                            <GithubLoginButton\n                                onClick={() =>\n                                    (window.location =\n                                        basicURL +\n                                        `github/start${remeberMeParam}`)\n                                }\n                            />\n                        </div>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={state}\n                                    onChange={() => setState(!state)}\n                                    color=\"primary\"\n                                />\n                            }\n                            label=\"Remember me\"\n                        />\n\n                        <Divider style={{ margin: '20px' }} />\n\n                        <Button\n                            onClick={() => props.setLoginVisible(false)}\n                            color=\"secondary\"\n                        >\n                            Login or sign up later\n                        </Button>\n                    </div>\n                    <div className={classes.Background} />\n                </div>\n            </Dialog>\n        )\n    ) : null\n}\n\nexport default withRouter(LoginModal)\n","import React from 'react'\nimport * as wsActions from '../../websocketActions'\n\nimport EditGoalAndProgressForm from '../../components/EditGoalAndProgressForm/EditGoalAndProgressForm'\n\nconst AddProgress = props =>\n    props.account._id ? (\n        <EditGoalAndProgressForm\n            onFinish={value => {\n                wsActions.startProgress(props.account._id, value)\n                props.setStartProgressVisible(false)\n                document.body.removeAttribute('style')\n            }}\n            account={props.account}\n            friendData={props.friendData}\n            cancel={props.cancel}\n        />\n    ) : null\n\nexport default AddProgress\n","import React, { useState } from 'react'\n\nimport * as wsActions from '../websocketActions'\n\nimport { IconButton, Menu, MenuItem, Button, Box } from '@material-ui/core'\nimport { MoreVertOutlined } from '@material-ui/icons'\n\nconst FriendActionButton = props => {\n    const [anchorEl, setAnchorEl] = useState(null)\n    const { invitingFriends, invitedFriends, realFriends, _id, account } = props\n    const accountId = account ? account._id : ''\n    if (!accountId) return null\n    const handleClose = () => {\n        setAnchorEl(null)\n    }\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    if (accountId === _id)\n        return props.additionalButtons ? (\n            <>\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n                <Menu\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={handleClose}\n                >\n                    {props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick()\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                </Menu>\n            </>\n        ) : null\n\n    return (\n        <>\n            {props.minimized ? (\n                props.asText ? (\n                    <Button\n                        onClick={e => handleClick(e)}\n                        variant=\"contained\"\n                        color=\"primary\"\n                    >\n                        Actions\n                    </Button>\n                ) : (\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                )\n            ) : invitingFriends.find(item => item.friend === _id) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.acceptFriend(accountId, _id)\n                        }}\n                    >\n                        Accept friendship\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : ![...realFriends, ...invitingFriends, ...invitedFriends].find(\n                  item => item.friend === _id\n              ) ? (\n                <Box>\n                    <Button\n                        color=\"primary\"\n                        onClick={e => {\n                            e.preventDefault()\n                            e.stopPropagation()\n                            wsActions.addFriend(accountId, _id)\n                        }}\n                    >\n                        Become friends\n                    </Button>\n                    <IconButton onClick={e => handleClick(e)}>\n                        <MoreVertOutlined />\n                    </IconButton>\n                </Box>\n            ) : props.asText ? (\n                <Button\n                    onClick={e => handleClick(e)}\n                    variant=\"contained\"\n                    color=\"primary\"\n                >\n                    Actions\n                </Button>\n            ) : (\n                <IconButton onClick={e => handleClick(e)}>\n                    <MoreVertOutlined />\n                </IconButton>\n            )}\n            <Menu\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                {props.minimized &&\n                    invitingFriends.find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.acceptFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            Accept friendship\n                        </MenuItem>\n                    )}\n                {props.minimized &&\n                    ![\n                        ...realFriends,\n                        ...invitingFriends,\n                        ...invitedFriends,\n                    ].find(item => item.friend === _id) && (\n                        <MenuItem\n                            key={7}\n                            onClick={() => {\n                                wsActions.addFriend(accountId, _id)\n                                handleClose()\n                            }}\n                        >\n                            Become friends\n                        </MenuItem>\n                    )}\n                {props.additionalButtons &&\n                    props.additionalButtons.map((button, index) => (\n                        <MenuItem\n                            key={index + 100}\n                            onClick={() => {\n                                button.onClick\n                                handleClose()\n                            }}\n                        >\n                            {button.title}\n                        </MenuItem>\n                    ))}\n                {invitingFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"2\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Decline\n                    </MenuItem>\n                ) : invitedFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"3\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Cancel invitation\n                    </MenuItem>\n                ) : realFriends.find(item => item.friend === _id) ? (\n                    <MenuItem\n                        key=\"4\"\n                        onClick={() => {\n                            wsActions.unfriend(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Unfriend\n                    </MenuItem>\n                ) : null}\n                {props.noFollow ? null : account.followAccounts.includes(\n                      _id\n                  ) ? (\n                    <MenuItem\n                        key=\"5\"\n                        onClick={() => {\n                            wsActions.unfollowAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Unfollow\n                    </MenuItem>\n                ) : (\n                    <MenuItem\n                        key=\"6\"\n                        onClick={() => {\n                            wsActions.followAccount(accountId, _id)\n                            handleClose()\n                        }}\n                    >\n                        Follow\n                    </MenuItem>\n                )}\n            </Menu>\n        </>\n    )\n}\n\nexport default FriendActionButton\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../store/actions'\nimport { withRouter } from 'react-router-dom'\n\nimport FriendActionButton from './FriendActionButton'\nimport UserButton from './UserButton/UserButton'\nimport MasonryCard from './MasonryCard'\n\nconst FriendCard = props => {\n    return (\n        <MasonryCard\n            friends={true}\n            noLink={true}\n            actions={\n                <FriendActionButton\n                    account={props.account}\n                    realFriends={props.realFriends}\n                    invitedFriends={props.invitedFriends}\n                    invitingFriends={props.invitingFriends}\n                    _id={props.friend._id}\n                    additionalButtons={[\n                        {\n                            title: 'See profile',\n                            onClick: () =>\n                                props.history.push(\n                                    '/profile/' + props.friend._id\n                                ),\n                        },\n                    ]}\n                    asIcons={true}\n                />\n            }\n            body={<UserButton span={true} id={props.friend._id} size={50} />}\n        />\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: (data, pulledFrom) =>\n            dispatch(actions.setData(data, pulledFrom)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(FriendCard)\n)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport FriendCard from '../../components/FriendCard'\nimport {\n    Container,\n    createStyles,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Typography,\n} from '@material-ui/core'\nimport { SearchOutlined } from '@material-ui/icons'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n            margin: '30px auto',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n            margin: 'auto',\n        },\n        iconButton: {\n            padding: 10,\n        },\n    })\n)\nconst AddFriends = props => {\n    const classes = useStyles()\n    useEffect(() => {\n        props.setFriendSearchResult({})\n        setSearchField('')\n    }, [props.open])\n    const [searchField, setSearchField] = useState('')\n    const { account, friendData, searchResult } = props\n\n    if (!account._id) return null\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n\n    if (account.friends) {\n        for (let friend of account.friends) {\n            const fullFriend = { ...friendData[friend.friend], ...friend }\n            if (fullFriend) {\n                if (fullFriend.status === 'friend') realFriends.push(fullFriend)\n                else if (fullFriend.status === 'invited')\n                    invitedFriends.push(fullFriend)\n                else if (fullFriend.status === 'inviting')\n                    invitingFriends.push(fullFriend)\n            }\n        }\n    }\n\n    return (\n        <Container style={{ paddingTop: '20px', maxWidth: '800px' }}>\n            <Typography variant=\"body2\" align=\"center\">\n                To find a friend you need to enter your friend's name or\n                nickname.\n            </Typography>\n            <Paper className={classes.root}>\n                <InputBase\n                    className={classes.input}\n                    placeholder=\"Search friend\"\n                    onChange={e => setSearchField(e.target.value)}\n                />\n                <IconButton\n                    className={classes.iconButton}\n                    onClick={() => wsActions.searchFriends(searchField)}\n                >\n                    <SearchOutlined />\n                </IconButton>\n            </Paper>\n            {searchResult.length > 0 &&\n                searchResult.map(friend => (\n                    <FriendCard\n                        {...props}\n                        friend={friend}\n                        realFriends={realFriends}\n                        invitingFriends={invitingFriends}\n                        invitedFriends={invitedFriends}\n                    />\n                ))}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        searchResult: state.friendSearchResult,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setFriendSearchResult: data =>\n            dispatch(actions.setFriendSearchResult(data)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AddFriends)\n","import { Menu, MenuItem, Tooltip, Button } from '@material-ui/core'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport LanguageIcon from '@material-ui/icons/Language'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { connect } from 'react-redux'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        language: {\n            margin: theme.spacing(0, 0.5, 0, 1),\n        },\n        languageText: {\n            display: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'block',\n            },\n        },\n        languageIcon: {\n            display: 'block',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n    })\n)\nconst LanguageSwitcher = props => {\n    const { currentLanguage } = props\n    const { i18n, t } = useTranslation()\n    const classes = useStyles()\n\n    const [languageMenu, setLanguageMenu] = useState(null)\n    const handleLanguageIconClick = event => {\n        setLanguageMenu(event.currentTarget)\n    }\n    const handleLanguageMenuClose = code => {\n        if (code) i18n.changeLanguage(code)\n        setLanguageMenu(null)\n    }\n    const LANGUAGES_LABEL = [\n        { code: 'en', text: 'English' },\n        { code: 'ru', text: 'Русский' },\n    ]\n\n    return (\n        <>\n            <Tooltip title={t('changeLanguage')} enterDelay={300}>\n                <Button\n                    color=\"inherit\"\n                    aria-owns={languageMenu ? 'language-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={handleLanguageIconClick}\n                    data-ga-event-category=\"header\"\n                    data-ga-event-action=\"language\"\n                >\n                    <LanguageIcon className={classes.languageIcon} />\n                    <span\n                        className={\n                            props.settings\n                                ? classes.language\n                                : [classes.language, classes.languageText].join(\n                                      ' '\n                                  )\n                        }\n                    >\n                        {LANGUAGES_LABEL.filter(\n                            language => language.code === currentLanguage\n                        ).length > 0\n                            ? LANGUAGES_LABEL.filter(\n                                  language => language.code === currentLanguage\n                              )[0].text\n                            : LANGUAGES_LABEL[0].text}\n                    </span>\n                    <ExpandMoreIcon fontSize=\"small\" />\n                </Button>\n            </Tooltip>\n\n            <Menu\n                id=\"language-menu\"\n                anchorEl={languageMenu}\n                open={Boolean(languageMenu)}\n                onClose={() => handleLanguageMenuClose()}\n            >\n                {LANGUAGES_LABEL.map(language => (\n                    <MenuItem\n                        component=\"a\"\n                        data-no-link=\"true\"\n                        key={language.code}\n                        selected={i18n.language === language.code}\n                        onClick={() => handleLanguageMenuClose(language.code)}\n                    >\n                        {language.text}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentLanguage: state.language,\n    }\n}\n\nexport default connect(mapStateToProps)(LanguageSwitcher)\n","import React, { useState, useRef } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport getAvatar from '../../utils/getAvatar'\nimport LoginModal from './LoginModal'\nimport * as cll from './Layout.module.css'\nimport AddProgress from '../../containers/Progresses/AddProgress'\n\nimport {\n    AppBar,\n    IconButton,\n    Slide,\n    Toolbar,\n    useScrollTrigger,\n    createStyles,\n    makeStyles,\n    Theme,\n    Container,\n    Badge,\n    Avatar,\n    LinearProgress,\n    Dialog,\n    useMediaQuery,\n    Box,\n    Paper,\n    Fab,\n    Chip,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport SpeedDial from '@material-ui/lab/SpeedDial'\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon'\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction'\nimport {\n    ArrowBack,\n    Book,\n    Close,\n    HomeRounded,\n    Notifications,\n    Person,\n    Star,\n} from '@material-ui/icons'\nimport DialogFullscreen from '../UI/DialogFullscreen'\nimport AddFriends from '../../containers/Friends/AddFriends'\nimport LanguageSwitcher from '../LanguageSwitcher/LanguageSwitcher'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        speedDial: {\n            right: '12px',\n            // bottom: theme.spacing(2),\n            bottom: '16px',\n            position: 'fixed',\n        },\n        logout: {\n            left: theme.spacing(2),\n            bottom: theme.spacing(2),\n            position: 'fixed',\n        },\n        login: {\n            right: '16px',\n            bottom: '16px',\n            position: 'fixed',\n        },\n        home: {\n            right: '16px',\n            bottom: '88px',\n            position: 'fixed',\n        },\n        avatar: {\n            border: '1px solid ' + theme.palette.primary.main,\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        blogLabel: {\n            margin: theme.spacing(0, 0.5, 0, 1),\n            display: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'inline',\n            },\n        },\n        blogIcon: {\n            display: 'inline',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n    })\n)\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst AccountLayout = props => {\n    const domRef = useRef()\n    const matches = useMediaQuery(theme => theme.breakpoints.up('sm'))\n    const { account, language } = props\n\n    const [loginVisible, setLoginVisible] = useState(false)\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n    const [speedDialOpen, setSpeedDialOpen] = useState(false)\n\n    const openLink = url => props.history.push(url)\n\n    const isActivating = props.history.location.pathname === '/activate-account'\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n    const logedIn = props.isAuthed && account._id\n\n    const classes = useStyles()\n    const scrollTrigger = !useScrollTrigger()\n    const checkPagePath = paths => {\n        for (let path of paths)\n            if (props.history.location.pathname.indexOf(path) === 0) return true\n    }\n    const removeGutters =\n        !matches && checkPagePath(['/goals', '/posts', '/profile', '/account'])\n    return props.hide ? (\n        props.children\n    ) : (\n        <>\n            <div\n                className={cll.Layout}\n                style={props.white ? { background: '#fff' } : {}}\n            >\n                <Slide appear={false} direction=\"down\" in={scrollTrigger}>\n                    <AppBar elevation={1} color=\"secondary\">\n                        {props.isConnectingWS && !logedIn && (\n                            <LinearProgress\n                                style={{\n                                    width: '100%',\n                                    position: 'absolute',\n                                    top: 0,\n                                    left: 0,\n                                }}\n                            />\n                        )}\n\n                        <Toolbar>\n                            <div\n                                tabIndex={0}\n                                ref={domRef}\n                                style={{ width: 0, height: 0 }}\n                            />\n                            {/* <div className={classes.MenuButtonContiner}>\n                                <IconButton\n                                    onClick={() => props.history.goBack()}\n                                >\n                                    <ArrowBack color=\"primary\" />\n                                </IconButton>\n                            </div> */}\n                            {(account._id && props.header) || (\n                                <Box style={{ display: 'flex', flex: 1 }}>\n                                    <Box style={{ display: 'flex', flex: 1 }}>\n                                        <Button component={Link} to={'/'}>\n                                            <img\n                                                style={{\n                                                    height: '100%',\n                                                    position: 'absolute',\n                                                    left: 0,\n                                                }}\n                                                src=\"/android-icon-36x36.png\"\n                                            />\n                                            <img\n                                                style={{\n                                                    height: '18px',\n                                                    visibility: 'hidden',\n                                                }}\n                                                src=\"/android-icon-36x36.png\"\n                                            />\n                                            <Typography\n                                                variant=\"button\"\n                                                className={classes.blogLabel}\n                                            >\n                                                Addspire\n                                            </Typography>\n                                        </Button>\n                                    </Box>\n                                    <Box style={{ display: 'flex' }}>\n                                        <LanguageSwitcher />\n\n                                        <Button\n                                            component={Link}\n                                            to={`/${\n                                                language !== 'en'\n                                                    ? language + '/'\n                                                    : ''\n                                            }blog`}\n                                            style={{ marginRight: '20px' }}\n                                        >\n                                            <Book\n                                                className={classes.blogIcon}\n                                            />\n                                            <span className={classes.blogLabel}>\n                                                Blog\n                                            </span>\n                                        </Button>\n\n                                        {(logedIn && isActivating) ||\n                                        (!logedIn && props.isConnectingWS) ? (\n                                            <Button\n                                                onClick={() =>\n                                                    props.history.push(\n                                                        '/logout'\n                                                    )\n                                                }\n                                                className={classes.logout}\n                                            >\n                                                Logout\n                                            </Button>\n                                        ) : (\n                                            !account._id && (\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"primary\"\n                                                    // startIcon={<Person />}\n                                                    onClick={() =>\n                                                        setLoginVisible(true)\n                                                    }\n                                                >\n                                                    Login\n                                                </Button>\n                                            )\n                                        )}\n                                    </Box>\n                                </Box>\n                            )}\n                        </Toolbar>\n                    </AppBar>\n                </Slide>\n                <Toolbar id=\"back-to-top-anchor\" />\n                <Container\n                    style={{ paddingTop: '20px', paddingBottom: '20px' }}\n                    disableGutters={Boolean(removeGutters)}\n                >\n                    {props.children}\n                </Container>\n\n                <Toolbar\n                    style={{\n                        marginTop: '50px',\n                        background: '#eee',\n                        paddingTop: '22px',\n                        paddingBottom: '22px',\n                    }}\n                >\n                    <Box style={{ display: 'flex', flex: 1 }}>\n                        <Box\n                            style={{\n                                display: 'flex',\n                                flex: 1,\n                                justifyContent: 'center',\n                            }}\n                        >\n                            <Link\n                                to=\"/\"\n                                style={{\n                                    display: 'flex',\n                                    alignItems: 'baseline',\n                                }}\n                            >\n                                <img\n                                    style={{\n                                        height: '23px',\n                                    }}\n                                    src=\"/android-icon-36x36.png\"\n                                />\n                                <Typography variant=\"button\">\n                                    Addspire\n                                </Typography>\n                            </Link>\n                        </Box>\n                    </Box>\n                </Toolbar>\n\n                {logedIn && !isActivating && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial\"\n                        className={classes.speedDial}\n                        icon={<SpeedDialIcon />}\n                        onClose={() => {\n                            domRef.current.focus()\n                            setSpeedDialOpen(false)\n                        }}\n                        onOpen={() => setSpeedDialOpen(true)}\n                        open={speedDialOpen}\n                    >\n                        <SpeedDialAction\n                            icon={<Person />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    Add friend\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setAddFriendOpen(true)\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                        <SpeedDialAction\n                            icon={<Star />}\n                            tooltipTitle={\n                                <span\n                                    style={{\n                                        whiteSpace: 'nowrap',\n                                    }}\n                                >\n                                    Add goal\n                                </span>\n                            }\n                            tooltipOpen\n                            onClick={() => {\n                                domRef.current.focus()\n                                setStartProgressVisible(true)\n                                setSpeedDialOpen(false)\n                            }}\n                        />\n                    </SpeedDial>\n                )}\n                {(logedIn || !props.isConnectingWS) &&\n                    (isActivating && 'Activate your account')}\n                {/* {props.history.location.pathname === '/' && (\n                    <Slide appear={false} direction=\"right\" in={scrollTrigger}>\n                        <Link\n                            to=\"/blog\"\n                            style={{\n                                position: 'fixed',\n                                top: '50%',\n                                left: '0px',\n                                background: '#9c27b0',\n                                textOrientation: 'upright',\n                                writingMode: 'vertical-rl',\n                                padding: '10px 2px 10px 0px',\n                                borderRadius: '0px 9px 9px 0px',\n                                transform: 'none',\n                                color: 'white',\n                                fontWeight: 700,\n                            }}\n                        >\n                            Blog\n                        </Link>\n                    </Slide>\n                )} */}\n                {/* {(logedIn && isActivating) ||\n                (!logedIn && props.isConnectingWS) ? (\n                    <Slide appear={false} direction=\"right\" in={scrollTrigger}>\n                        <Fab\n                            onClick={() => props.history.push('/logout')}\n                            variant=\"extended\"\n                            className={classes.logout}\n                            size=\"small\"\n                        >\n                            <Close />\n                            Logout\n                        </Fab>\n                    </Slide>\n                ) : (\n                    !logedIn && (\n                        <>\n                            <Slide\n                                appear={false}\n                                direction=\"left\"\n                                in={scrollTrigger}\n                            >\n                                <Fab\n                                    onClick={() =>\n                                        window.isRNWebView\n                                            ? window.ReactNativeWebView.postMessage(\n                                                  'showLogin'\n                                              )\n                                            : setLoginVisible(true)\n                                    }\n                                    color=\"primary\"\n                                    variant=\"extended\"\n                                    className={classes.login}\n                                >\n                                    <Person />\n                                    Login\n                                </Fab>\n                            </Slide>\n                            <Slide\n                                appear={false}\n                                direction=\"right\"\n                                in={scrollTrigger}\n                            >\n                                <Fab\n                                    onClick={() => openLink('/')}\n                                    // size=\"small\"\n                                    variant=\"extended\"\n                                    className={classes.logout}\n                                >\n                                    <HomeRounded />\n                                    Home\n                                </Fab>\n                            </Slide>\n                        </>\n                    )\n                )} */}\n                <Slide appear={false} direction=\"up\" in={!useScrollTrigger()}>\n                    <Box\n                        style={{\n                            position: 'fixed',\n                            bottom: '12px',\n                            width: '100%',\n                        }}\n                    >\n                        {logedIn && !isActivating && (\n                            <Box\n                                style={{\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                }}\n                            >\n                                <Paper\n                                    elevation={3}\n                                    style={{ borderRadius: '37px' }}\n                                >\n                                    <IconButton\n                                        onClick={() => openLink('/')}\n                                        color={\n                                            props.history.location.pathname ===\n                                            '/'\n                                                ? 'primary'\n                                                : 'default'\n                                        }\n                                    >\n                                        <HomeRounded fontSize=\"large\" />\n                                    </IconButton>\n                                    <IconButton\n                                        onClick={() => openLink('/posts')}\n                                        color={\n                                            props.history.location.pathname ===\n                                            '/posts'\n                                                ? 'primary'\n                                                : 'default'\n                                        }\n                                    >\n                                        <Badge\n                                            badgeContent={numberOfUnseenNots}\n                                            color=\"secondary\"\n                                        >\n                                            <Notifications fontSize=\"large\" />\n                                        </Badge>\n                                    </IconButton>\n                                    <IconButton\n                                        onClick={() =>\n                                            openLink('/profile/' + account._id)\n                                        }\n                                    >\n                                        <Badge\n                                            badgeContent={\n                                                account.friends.filter(\n                                                    item =>\n                                                        item.status ===\n                                                        'inviting'\n                                                ).length\n                                            }\n                                            color=\"secondary\"\n                                        >\n                                            <Avatar\n                                                classes={\n                                                    props.history.location\n                                                        .pathname ===\n                                                    '/profile/' + account._id\n                                                        ? {\n                                                              root:\n                                                                  classes.avatar,\n                                                          }\n                                                        : {}\n                                                }\n                                                src={getAvatar(\n                                                    account._id,\n                                                    account.image\n                                                )}\n                                            />\n                                        </Badge>\n                                    </IconButton>\n                                </Paper>\n                            </Box>\n                        )}\n                    </Box>\n                </Slide>\n            </div>\n            <LoginModal\n                loginVisible={loginVisible}\n                setLoginVisible={setLoginVisible}\n            />\n            {(logedIn || !props.isConnectingWS) && (!isActivating && <></>)}\n\n            {account._id && (\n                <>\n                    <DialogFullscreen\n                        open={addFriendOpen}\n                        close={() => {\n                            setAddFriendOpen(false)\n                        }}\n                        title=\"Add friend\"\n                    >\n                        <AddFriends\n                            close={() => setAddFriendOpen(false)}\n                            open={addFriendOpen}\n                            account={account}\n                            friendData={props.friendData}\n                        />\n                    </DialogFullscreen>\n\n                    <Dialog\n                        fullScreen\n                        open={startProgressVisible}\n                        onClose={() => {\n                            setStartProgressVisible(false)\n                        }}\n                        TransitionComponent={TransitionComponent}\n                    >\n                        <AddProgress\n                            setStartProgressVisible={setStartProgressVisible}\n                            account={account}\n                            friendData={props.friendData}\n                            cancel={() => setStartProgressVisible(false)}\n                        />\n                    </Dialog>\n                </>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        isAuthed: state.isAuthed,\n        lastNotifications: state.lastNotifications,\n        isConnectingWS: state.isConnectingWS,\n        friendData: state.friendData,\n        language: state.language,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(AccountLayout))\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport Post from '../../components/Post/Post'\nimport pullData from '../../utils/pullData'\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Box,\n    Button,\n    createStyles,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    IconButton,\n    makeStyles,\n    Menu,\n    MenuItem,\n    Paper,\n    Typography,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport Helmet from 'react-helmet'\nimport ImageCarousel from '../../components/UI/ImageCarousel/ImageCarousel'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport ReadMore from '../../components/UI/ReadMore'\nimport FollowButton from '../../components/FollowButton'\nimport UserButton from '../../components/UserButton/UserButton'\nimport MasonryCard from '../../components/MasonryCard'\nimport AddEditReward from '../../components/ProfileRewards/AddEditReward'\nimport ShareButton from '../../components/UI/ShareButton'\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n        pageTitle: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst Reward = props => {\n    const classes = useStyles()\n    const [likesVisible, setLikesVisible] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [deleteVisible, setDeleteVisible] = useState(false)\n    const [addRewardOpen, setAddRewardOpen] = useState(false)\n    const [data, setData] = useState({})\n    const pathParts = props.history.location.pathname.split('/')\n    const rewardId =\n        props.rewardId || (pathParts.length > 2 ? pathParts[2] : '')\n    if (!rewardId) return null\n    const wish = pathParts[1] === 'wishlist'\n    useEffect(() => {\n        if (props.isAuthed) {\n            props.setData({ currentReward: rewardId })\n        } else {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n                const post = {}\n                for (let item of data.posts) post[item._id] = item\n\n                props.setData({\n                    friendData,\n                    post,\n                    account: {},\n                    reward: data.reward,\n                })\n            })\n        }\n    }, [props.isAuthed, props.history.location.pathname])\n\n    const { reward, account, friendData, posts } = props.isAuthed\n        ? props\n        : { ...data, posts: props.posts, account: {} }\n    if (!reward || !reward._id) return null\n    // props.setData({ currentPosts: [reward.post] })\n\n    const getDropDownMeuItems = () => {\n        const items = []\n        if (account._id === reward.owner)\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setAddRewardOpen(true)\n                        setAnchorEl(null)\n                    }}\n                >\n                    Edit\n                </MenuItem>\n            )\n        items.push(\n            <MenuItem\n                onClick={() => {\n                    setDeleteVisible(true)\n                    setAnchorEl(null)\n                }}\n            >\n                Delete\n            </MenuItem>\n        )\n\n        if (reward.likes.includes(account._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.changeLikesReward(\n                            account._id,\n                            reward._id,\n                            false\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    Unlike\n                </MenuItem>\n            )\n\n        return items.length > 0 && items\n    }\n\n    const dropDownMeuItems = account._id ? getDropDownMeuItems() : null\n    return friendData ? (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.pageTitle}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {reward.name}\n                </Typography>\n            }\n            hide={props.rewardId}\n        >\n            <Helmet>\n                <title>\n                    {reward.name || (wish ? 'Wishlist item' : 'Reward')} by{' '}\n                    {reward.owner || 'a user'} at Addspire\n                </title>\n                <meta name=\"description\" content={reward.descriptionText} />\n            </Helmet>\n            <div className=\"contentDiv\">\n                <Paper style={{ padding: '15px' }}>\n                    {reward.images.length > 0 && (\n                        <ImageCarousel images={reward.images} />\n                    )}\n                    <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                        <Typography variant=\"h4\">{reward.name}</Typography>\n                        <Box\n                            style={{\n                                margin: '5px 0px',\n                            }}\n                        >\n                            <Button onClick={() => setLikesVisible(true)}>\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {reward.likes.length} Likes\n                                </span>\n                            </Button>\n                            <ShareButton\n                                title={\n                                    reward.name +\n                                    (wish ? ' wishlist item ' : ' reward ') +\n                                    'on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                                }\n                                media={reward.images && reward.images[0]}\n                            />\n                            {dropDownMeuItems && account && account._id && (\n                                <>\n                                    <IconButton\n                                        onClick={event =>\n                                            setAnchorEl(event.currentTarget)\n                                        }\n                                    >\n                                        <MoreVertOutlined />\n                                    </IconButton>\n                                    <Menu\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={() => setAnchorEl(null)}\n                                    >\n                                        {dropDownMeuItems}\n                                    </Menu>\n                                </>\n                            )}\n                        </Box>\n                        <Box\n                            style={{\n                                margin: '0px 0px 20px',\n                            }}\n                        >\n                            {account &&\n                                account._id &&\n                                !reward.likes.includes(account._id) && (\n                                    <Button\n                                        color=\"primary\"\n                                        variant=\"contained\"\n                                        onClick={() =>\n                                            wsActions.changeLikesReward(\n                                                account._id,\n                                                reward._id,\n                                                true\n                                            )\n                                        }\n                                    >\n                                        Like\n                                    </Button>\n                                )}\n                        </Box>\n                    </div>\n                    <ReadMore\n                        initialHeight={200}\n                        contentEditor={reward.description}\n                    />\n                </Paper>\n\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Comments\n                </Typography>\n\n                {posts && posts[reward.post] && (\n                    <div key={reward.post} style={{ paddingTop: '10px' }}>\n                        <Post\n                            friendData={friendData}\n                            account={account}\n                            post={posts[reward.post]}\n                            noStartMessage\n                            noPostControls\n                            showReplies\n                        />\n                    </div>\n                )}\n            </div>\n            <Dialog\n                open={likesVisible}\n                onClose={() => setLikesVisible(false)}\n                title={wish ? 'Item likes' : 'Reward likes'}\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>Reward likes</DialogTitle>\n                <DialogContent>\n                    {reward.likes.map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setLikesVisible(false)}\n                        color=\"primary\"\n                    >\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog open={Boolean(deleteVisible)}>\n                <DialogTitle>Delete reward</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Are you sure you want to delete this item?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setDeleteVisible(false)}>\n                        Cancel\n                    </Button>\n                    <Button\n                        onClick={() => {\n                            wsActions.deleteReward(account._id, reward._id)\n                            setDeleteVisible(false)\n                            props.history.goBack()\n                        }}\n                        color=\"primary\"\n                    >\n                        Delete\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            {account._id === reward.owner && (\n                <AddEditReward\n                    open={addRewardOpen}\n                    close={() => setAddRewardOpen(false)}\n                    reward={reward}\n                />\n            )}\n        </Layout>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        posts: state.post,\n        postData: state.postData,\n        reward: state.reward,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Reward)\n)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as wsActions from '../../websocketActions'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport {\n    Box,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    IconButton,\n    Typography,\n} from '@material-ui/core'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport AddEditReward from './AddEditReward'\nimport Reward from '../../containers/Reward/Reward'\nimport { Close } from '@material-ui/icons'\n\nconst ProfileRewards = props => {\n    const [addRewardOpen, setAddRewardOpen] = useState(false)\n    const [rewardPreview, setRewardPreview] = useState('')\n\n    const { account, owner, rewardData, wish, additionalButton } = props\n    const isOwner = account && account._id && account._id === owner._id\n    return (\n        <>\n            <HorizontalScrollList\n                title={wish ? 'Wishlist' : 'Rewards'}\n                items={owner[wish ? 'rewards' : 'rewards']\n                    .map(item => rewardData[item])\n                    .filter(\n                        item => item && Boolean(wish) === Boolean(item.wish)\n                    )}\n                content={item => {\n                    const content = (\n                        <>\n                            {' '}\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography variant=\"body2\" noWrap>\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </>\n                    )\n                    return (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            {props.openInDialog ? (\n                                <Box onClick={() => setRewardPreview(item._id)}>\n                                    {content}\n                                </Box>\n                            ) : (\n                                <Link\n                                    to={\n                                        (wish ? '/wishlist/' : '/rewards/') +\n                                        item._id\n                                    }\n                                >\n                                    {content}\n                                </Link>\n                            )}\n                            {additionalButton && additionalButton(item)}\n                        </CardContent>\n                    )\n                }}\n                withAdd={isOwner}\n                addTitle={wish ? 'Add item' : 'Add reward'}\n                onAdd={() => setAddRewardOpen(true)}\n            />\n            {isOwner && (\n                <AddEditReward\n                    open={addRewardOpen}\n                    close={() => setAddRewardOpen(false)}\n                    wish={wish}\n                />\n            )}\n            {props.openInDialog && (\n                <Dialog\n                    open={Boolean(rewardPreview)}\n                    onClose={() => setRewardPreview('')}\n                    fullWidth\n                    maxWidth=\"md\"\n                >\n                    <DialogActions>\n                        <IconButton onClick={() => setRewardPreview('')}>\n                            <Close />\n                        </IconButton>\n                    </DialogActions>\n                    <DialogContent>\n                        {rewardPreview && <Reward rewardId={rewardPreview} />}\n                    </DialogContent>\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        rewardData: state.rewardData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProfileRewards))\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport HorizontalScrollList from '../UI/HorizontalScrollList'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\nimport {\n    Button,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogTitle,\n    IconButton,\n    Menu,\n    MenuItem,\n    Typography,\n} from '@material-ui/core'\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport { getPH, placeholderImages } from '../MasonryCard'\nimport ProfileRewards from '../ProfileRewards/ProfileRewards'\nimport DialogFullscreen from '../UI/DialogFullscreen'\n\nconst Rewards = props => {\n    // const [anchorEl, setAnchorEl] = useState(null)\n    const [addRewardOpen, setAddRewardOpen] = useState(false)\n    const [deleteRewardVisible, setDeleteRewardVisible] = useState(false)\n\n    const { rewardData, account, progress, rewards, onValueChange } = props\n\n    // const handleClose = () => {\n    //     setAnchorEl(null)\n    // }\n    // const handleClick = event => {\n    //     setAnchorEl(event.currentTarget)\n    // }\n\n    const rewardsIds = (onValueChange ? rewards : progress.rewards) || []\n    return progress || onValueChange ? (\n        <>\n            <HorizontalScrollList\n                title=\"Rewards\"\n                items={rewardsIds\n                    .map(item => rewardData[item])\n                    .filter(item => item)}\n                content={item => (\n                    <CardContent\n                        style={{\n                            textAlign: 'center',\n                            position: 'relative',\n                            padding: '5px',\n                        }}\n                    >\n                        <Link to={'/rewards/' + item._id}>\n                            <CardMedia\n                                style={{\n                                    height: '150px',\n                                    backgroundSize: 'contain',\n                                }}\n                                image={\n                                    item.images.length > 0\n                                        ? item.images[0]\n                                        : placeholderImages[getPH(item._id)]\n                                }\n                                title={item.name}\n                            />\n                            <CardContent style={{ padding: '5px' }}>\n                                <Typography variant=\"body2\" noWrap>\n                                    {item.name}\n                                </Typography>\n                            </CardContent>\n                        </Link>\n                        {(account._id === item.owner ||\n                            account._id === progress.owner ||\n                            rewards) && (\n                            <Button\n                                onClick={() => {\n                                    setDeleteRewardVisible(item._id)\n                                }}\n                            >\n                                Remove\n                            </Button>\n                            // <>\n                            //     <IconButton onClick={e => handleClick(e)}>\n                            //         <Delete />\n                            //     </IconButton>\n                            //     <Menu\n                            //         anchorEl={anchorEl}\n                            //         open={Boolean(anchorEl)}\n                            //         onClose={handleClose}\n                            //     >\n                            //         <MenuItem\n                            //             onClick={() => {\n                            //                 setDeleteRewardVisible(item._id)\n                            //                 handleClose()\n                            //             }}\n                            //         >\n                            //             Delete\n                            //         </MenuItem>\n                            //     </Menu>\n                            // </>\n                        )}\n                    </CardContent>\n                )}\n                withAdd={Boolean(account._id)}\n                addTitle=\"Add reward\"\n                onAdd={() => setAddRewardOpen(true)}\n            />\n            <DialogFullscreen\n                open={addRewardOpen}\n                close={() => setAddRewardOpen(false)}\n                title=\"Add reward to goal\"\n            >\n                <ProfileRewards\n                    owner={account}\n                    openInDialog\n                    additionalButton={item => (\n                        <Button\n                            color=\"primary\"\n                            onClick={() => {\n                                if (onValueChange) {\n                                    onValueChange([...rewardsIds, item._id])\n                                } else\n                                    wsActions.addRewardToProgress(\n                                        account._id,\n                                        progress._id,\n                                        item._id\n                                    )\n                                setAddRewardOpen(false)\n                            }}\n                        >\n                            Choose\n                        </Button>\n                    )}\n                />\n            </DialogFullscreen>\n            <Dialog\n                open={Boolean(deleteRewardVisible)}\n                onClose={() => setDeleteRewardVisible(false)}\n            >\n                <DialogTitle>\n                    Are youe sure you want to delete this reward? This reward\n                    will be only deleted from this goal.\n                </DialogTitle>\n\n                <DialogActions>\n                    <Button\n                        onClick={() => setDeleteRewardVisible(false)}\n                        color=\"primary\"\n                    >\n                        Disagree\n                    </Button>\n                    <Button\n                        onClick={() => {\n                            if (onValueChange) {\n                                let newRewards = [...rewardsIds]\n                                newRewards.splice(\n                                    newRewards.indexOf(deleteRewardVisible),\n                                    1\n                                )\n                                onValueChange(newRewards)\n                            } else\n                                wsActions.deleteRewardFromProgress(\n                                    account._id,\n                                    progress._id,\n                                    deleteRewardVisible\n                                )\n\n                            setDeleteRewardVisible(false)\n                        }}\n                        color=\"primary\"\n                    >\n                        Agree\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        friendData: state.friendData,\n        rewardData: state.rewardData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Rewards)\n)\n","import React from 'react'\n\nimport Select from 'antd/es/select'\nimport UserButton from '../UserButton/UserButton'\n\nexport default props => (\n    <Select\n        mode=\"multiple\"\n        style={{ width: '100%' }}\n        placeholder=\"Please select\"\n        value={props.value}\n        onChange={props.onChange}\n        getPopupContainer={trigger => trigger.parentNode}\n    >\n        {[\n            props.account,\n            ...props.account.friends\n                .filter(friend => friend.status === 'friend')\n                .map(friend => props.friendData[friend.friend]),\n        ].map(\n            item =>\n                item &&\n                item._id && (\n                    <Select.Option key={item._id}>\n                        <UserButton id={item._id} noClick={true} />\n                    </Select.Option>\n                )\n        )}\n    </Select>\n)\n","import React, { Component } from 'react'\nimport { withLeaflet } from 'react-leaflet'\nimport Locate from 'leaflet.locatecontrol'\nimport 'leaflet.locatecontrol/dist/L.Control.Locate.min.css'\n\nclass LocateControl extends Component {\n    componentDidMount() {\n        const { map } = this.props.leaflet\n\n        const lc = new Locate({\n            position: 'topleft',\n            strings: {\n                title: 'My location',\n            },\n            onActivate: () => {}, // callback before engine starts retrieving locations\n            drawCircle: false,\n            keepCurrentZoomLevel: true,\n        })\n        lc.addTo(map)\n\n        lc.start()\n    }\n\n    render() {\n        return null\n    }\n}\n\nexport default withLeaflet(LocateControl)\n","import React, { useRef, useState, useEffect } from 'react'\n\nimport Form from 'antd/es/form'\n\nimport Rewards from '../Rewards/Rewards'\nimport { nameRules, descriptionRules } from '../../constants/fieldRules'\nimport ConnectionsSelect from './ConnectionsSelect'\nimport Select from 'antd/es/select'\nimport { Map, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from '../../containers/Explore/LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport ImagePickerMulti from '../UI/ImagePickerMulti'\nimport {\n    AppBar,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Input,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport TinyEditor from '../UI/TinyEditor'\nimport htmlToText from 'html-to-text'\nconst { Option } = Select\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst EditGoalAndProgressForm = props => {\n    const map = useRef(null)\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n    const { progress, account, friendData } = props\n\n    const defPos = [40.689078, -74.044526]\n    const [position, setPosition] = useState(\n        progress && progress.position && progress.position.coordinates\n            ? [\n                  progress.position.coordinates[1],\n                  progress.position.coordinates[0],\n              ]\n            : defPos\n    )\n\n    const [zoom, setZoom] = useState(10)\n    const [descriptionPlain, setDescriptionPlain] = useState(\n        progress && progress.descriptionText\n    )\n\n    const onFinish = value => {\n        props.onFinish({\n            ...value,\n            descriptionText: descriptionPlain,\n            position: {\n                type: 'Point',\n                coordinates: [position[1], position[0]],\n            },\n        })\n    }\n\n    const layout = {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 20 },\n    }\n\n    const [form] = Form.useForm()\n\n    const mapDragEnd = e => {\n        setZoom(e.target._zoom)\n\n        setPosition([e.target.getCenter().lat, e.target.getCenter().lng])\n        form.setFieldsValue({ nomap: false })\n    }\n    const classes = useStyles()\n\n    return !props.goalId || progress ? (\n        <>\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={props.cancel}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        Add new goal\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => form.submit()}\n                    >\n                        Save\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Form\n                style={{\n                    maxWidth: '1200px',\n                    margin: 'auto',\n                    padding: '15px',\n                    width: '100%',\n                }}\n                form={form}\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                initialValues={\n                    progress || {\n                        name: 'New achievement',\n                        repeat: 'no',\n                        days: ['0'],\n                        nomap: false,\n                    }\n                }\n                {...layout}\n                onValuesChange={(changedFields, allValues) => {\n                    allValues.days &&\n                        form.setFieldsValue({\n                            days: [...allValues.days].sort(),\n                        })\n                }}\n            >\n                <Form.Item\n                    name=\"images\"\n                    label=\"Images\"\n                    valuePropName=\"images\"\n                    trigger=\"onValueChange\"\n                >\n                    <ImagePickerMulti />\n                </Form.Item>\n                <Form.Item\n                    label=\"Name\"\n                    name=\"name\"\n                    rules={nameRules}\n                    getValueFromEvent={event => event.target.value}\n                >\n                    <Input fullWidth={true} />\n                </Form.Item>\n                <Form.Item\n                    label=\"Description\"\n                    name=\"description\"\n                    // rules={descriptionRules}\n                    trigger=\"onEditorChange\"\n                >\n                    <TinyEditor\n                        onEditorChangePlain={value =>\n                            setDescriptionPlain(value)\n                        }\n                    />\n                </Form.Item>\n                <Form.Item label=\"Achievers\" name=\"users\">\n                    <ConnectionsSelect\n                        account={account}\n                        friendData={friendData}\n                    />\n                </Form.Item>\n\n                <Form.Item label=\"Repeat\" name=\"repeat\">\n                    <Select getPopupContainer={trigger => trigger.parentNode}>\n                        <Option value=\"no\">No repeat</Option>\n                        <Option value=\"day\">Every day</Option>\n                        <Option value=\"weekday\">Every day of week</Option>\n                        <Option value=\"week\">Every week</Option>\n                        <Option value=\"month\">Every month</Option>\n                        <Option value=\"year\">Every year</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item\n                    noStyle\n                    shouldUpdate={(prevValues, currentValues) =>\n                        prevValues.repeat !== currentValues.repeat\n                    }\n                >\n                    {({ getFieldValue }) => {\n                        return getFieldValue('repeat') === 'weekday' ? (\n                            <Form.Item label=\"Days of week\" name=\"days\">\n                                <Select\n                                    mode=\"tags\"\n                                    getPopupContainer={trigger =>\n                                        trigger.parentNode\n                                    }\n                                >\n                                    <Option value=\"0\">Sunday</Option>\n                                    <Option value=\"1\">Monday</Option>\n                                    <Option value=\"2\">Tuesday</Option>\n                                    <Option value=\"3\">Wednesday</Option>\n                                    <Option value=\"4\">Thursday</Option>\n                                    <Option value=\"5\">Friday</Option>\n                                    <Option value=\"6\">Saturday</Option>\n                                </Select>\n                            </Form.Item>\n                        ) : null\n                    }}\n                </Form.Item>\n                <Form.Item\n                    name=\"rewards\"\n                    label=\"Rewards\"\n                    valuePropName=\"rewards\"\n                    trigger=\"onValueChange\"\n                >\n                    <Rewards />\n                </Form.Item>\n                <Form.Item label=\"Place\">\n                    <div\n                        style={{\n                            position: 'relative',\n                            height: '300px',\n                        }}\n                    >\n                        <Map\n                            ref={map}\n                            center={position}\n                            zoom={zoom}\n                            ondragend={mapDragEnd}\n                            onmoveend={mapDragEnd}\n                            style={{\n                                width: '100%',\n                                height: '100%',\n                                position: 'relative',\n                                zIndex: 1,\n                            }}\n                            gestureHandling={true}\n                        >\n                            <TileLayer\n                                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                            />\n                            <LocateControl />\n                        </Map>\n                        <div\n                            style={{\n                                backgroundImage: `url(${require('../../assets/images/pin.png')})`,\n                                width: '20px',\n                                height: '35px',\n                                position: 'absolute',\n                                zIndex: 2,\n                                left: 'calc(50% - 10px)',\n                                top: 'calc(50% - 35px)',\n                                pointerEvents: 'none',\n                                touchAction: 'none',\n                            }}\n                        />\n                    </div>\n                </Form.Item>\n                <div style={{ textAlign: 'right', marginTop: '50px' }}>\n                    <Button size=\"large\" onClick={() => props.cancel(false)}>\n                        Cancel\n                    </Button>\n                    <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\"\n                        size=\"large\"\n                        style={{\n                            marginLeft: '10px',\n                            marginRight: '50px',\n                        }}\n                    >\n                        Save\n                    </Button>\n                </div>\n            </Form>\n        </>\n    ) : null\n}\nexport default EditGoalAndProgressForm\n","import React from 'react'\n\nimport * as wsActions from '../../websocketActions'\nimport EditGoalAndProgressForm from '../../components/EditGoalAndProgressForm/EditGoalAndProgressForm'\n\nconst EditProgress = props => {\n    const { progress, account, state, setState, friendData } = props\n\n    const onFinish = value => {\n        wsActions.editGoalInProgress(props, value)\n        setState({ ...state, editProgressOpen: false })\n        document.body.removeAttribute('style')\n    }\n\n    return progress ? (\n        <EditGoalAndProgressForm\n            progress={progress}\n            onFinish={onFinish}\n            account={account}\n            friendData={friendData}\n            cancel={props.cancel}\n        />\n    ) : null\n}\n\nexport default EditProgress\n","import React, { useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport * as wsActions from '../../websocketActions'\nimport ActivityTable from './ActivityTable'\nimport EditProgress from './EditProgress'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport ImageCarousel from '../../components/UI/ImageCarousel/ImageCarousel'\n\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport FollowButton from '../../components/FollowButton'\nimport Helmet from 'react-helmet'\nimport RetweetOutlined from '@ant-design/icons/RetweetOutlined'\n// import Divider from 'antd/es/divider'\nimport ReadMore from '../../components/UI/ReadMore'\nimport {\n    Box,\n    Dialog,\n    Divider,\n    makeStyles,\n    Paper,\n    Slide,\n    Typography,\n    Button,\n    IconButton,\n    MenuItem,\n    Menu,\n    DialogTitle,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    CardMedia,\n    CardContent,\n} from '@material-ui/core'\n\nimport { MoreVertOutlined } from '@material-ui/icons'\nimport ShareButton from '../../components/UI/ShareButton'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport Rewards from '../../components/Rewards/Rewards'\n\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n    },\n    icon: {\n        verticalAlign: 'bottom',\n        height: 20,\n        width: 20,\n    },\n    details: {\n        alignItems: 'center',\n    },\n    column: {\n        flexBasis: '33.33%',\n    },\n    helper: {\n        borderLeft: `2px solid ${theme.palette.divider}`,\n        padding: theme.spacing(1, 2),\n    },\n    link: {\n        color: theme.palette.primary.main,\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'underline',\n        },\n    },\n    title: {\n        fontSize: 13,\n        margin: '30px 15px 10px',\n        textTransform: 'uppercase',\n        fontWeight: 600,\n    },\n}))\n\nconst Activity = props => {\n    const classes = useStyles()\n    const { account, progress, state, setState, friendData } = props\n\n    const [followersVisible, setFollowersVisible] = useState('')\n    const [anchorEl, setAnchorEl] = useState(null)\n\n    const getDay = day => {\n        switch (day) {\n            case '0':\n                return 'Sunday'\n            case '1':\n                return 'Monday'\n            case '2':\n                return 'Tuesday'\n            case '3':\n                return 'Wednesday'\n            case '4':\n                return 'Thursday'\n            case '5':\n                return 'Friday'\n            case '6':\n                return 'Saturday'\n\n            default:\n                return ''\n        }\n    }\n\n    const getRepeatType = repeat => {\n        switch (repeat) {\n            case 'day':\n                return 'every day'\n            case 'weekday':\n                return 'every day of week'\n            case 'week':\n                return 'every week'\n            case 'month':\n                return 'every month'\n            case 'year':\n                return 'every year'\n            default:\n                return ''\n        }\n    }\n\n    const getDropDownMeuItems = () => {\n        const items = []\n        if (account._id === progress.owner)\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        setState({\n                            ...state,\n                            editProgressOpen: true,\n                        })\n                        setAnchorEl(null)\n                    }}\n                >\n                    Edit\n                </MenuItem>\n            )\n\n        if (account.followProgresses.includes(progress._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.unfollowProgress(account._id, progress._id)\n                        setAnchorEl(null)\n                    }}\n                >\n                    Unfollow\n                </MenuItem>\n            )\n\n        if (progress.likes.includes(account._id))\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.changeLikesProgress(\n                            account._id,\n                            progress._id,\n                            false\n                        )\n                        setAnchorEl(null)\n                    }}\n                >\n                    Unlike\n                </MenuItem>\n            )\n        if (\n            account.progresses &&\n            account.progresses.includes(progress._id.toString())\n        )\n            items.push(\n                <MenuItem\n                    onClick={() => {\n                        wsActions.leaveProgress(props)\n                        setAnchorEl(null)\n                    }}\n                >\n                    Leave\n                </MenuItem>\n            )\n        return items.length > 0 && items\n    }\n\n    const dropDownMeuItems = account._id ? getDropDownMeuItems() : null\n    return progress ? (\n        <>\n            <Helmet>\n                <title>\n                    {progress.name} by {progress.owner} at Addspire\n                </title>\n                <meta name=\"description\" content={progress.descriptionText} />\n            </Helmet>\n            <Paper style={{ padding: '15px' }}>\n                {progress.images.length > 0 && (\n                    <ImageCarousel images={progress.images} />\n                )}\n                <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                    <Typography variant=\"h4\">{progress.name}</Typography>\n                    <Box\n                        style={{\n                            margin: '5px 0px',\n                        }}\n                    >\n                        <Button\n                            onClick={() => setFollowersVisible('followers')}\n                            style={{ marginRight: '20px' }}\n                        >\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {progress.followingAccounts.length} Followers\n                            </span>\n                        </Button>\n                        <Button onClick={() => setFollowersVisible('likes')}>\n                            <span\n                                style={{\n                                    textTransform: 'none',\n                                }}\n                            >\n                                {progress.likes.length} Likes\n                            </span>\n                        </Button>\n                        <ShareButton\n                            title={\n                                progress.name +\n                                ' goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                            }\n                            media={progress.images && progress.images[0]}\n                        />\n                        {dropDownMeuItems && account && account._id && (\n                            <>\n                                <IconButton\n                                    onClick={event =>\n                                        setAnchorEl(event.currentTarget)\n                                    }\n                                >\n                                    <MoreVertOutlined />\n                                </IconButton>\n                                <Menu\n                                    anchorEl={anchorEl}\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    onClose={() => setAnchorEl(null)}\n                                >\n                                    {dropDownMeuItems}\n                                </Menu>\n                            </>\n                        )}\n                    </Box>\n                    <Box\n                        style={{\n                            margin: '0px 0px 20px',\n                        }}\n                    >\n                        {account &&\n                            account._id &&\n                            !account.followProgresses.includes(\n                                progress._id\n                            ) && (\n                                <Button\n                                    color=\"primary\"\n                                    onClick={() =>\n                                        wsActions.followProgress(\n                                            account._id,\n                                            progress._id\n                                        )\n                                    }\n                                    style={{ marginRight: '20px' }}\n                                    variant=\"contained\"\n                                >\n                                    Follow\n                                </Button>\n                            )}\n\n                        {account &&\n                            account._id &&\n                            !progress.likes.includes(account._id) && (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={() =>\n                                        wsActions.changeLikesProgress(\n                                            account._id,\n                                            progress._id,\n                                            true\n                                        )\n                                    }\n                                >\n                                    Like\n                                </Button>\n                            )}\n                    </Box>\n                </div>\n            </Paper>\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                Tracking\n            </Typography>\n            <Paper style={{ padding: '15px' }}>\n                <ActivityTable\n                    progress={progress}\n                    account={account}\n                    state={state}\n                    setState={setState}\n                />\n            </Paper>\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                Description\n            </Typography>\n            <Paper style={{ padding: '15px' }}>\n                {progress.repeat !== 'no' && (\n                    <>\n                        <p>\n                            <RetweetOutlined />\n                            {' Repeats '}\n                            {getRepeatType(progress.repeat) +\n                                (progress.repeat === 'weekday'\n                                    ? ' (' +\n                                      progress.days.reduce(\n                                          (acc, val, index) =>\n                                              acc +\n                                              (index > 0 ? ', ' : '') +\n                                              getDay(val),\n                                          ''\n                                      ) +\n                                      ').'\n                                    : '.')}\n                        </p>\n                        <Divider\n                            light\n                            variant=\"middle\"\n                            style={{ marginBottom: '15px' }}\n                        />\n                    </>\n                )}\n\n                <ReadMore\n                    initialHeight={200}\n                    contentEditor={progress.description}\n                />\n            </Paper>\n            <Rewards progress={progress} />\n            <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n            >\n                Posts and comments\n            </Typography>\n\n            <Dialog\n                fullScreen\n                open={state.editProgressOpen}\n                onClose={() => setState({ ...state, editProgressOpen: false })}\n                TransitionComponent={TransitionComponent}\n            >\n                <EditProgress\n                    progress={progress}\n                    account={account}\n                    state={state}\n                    setState={setState}\n                    friendData={friendData}\n                    cancel={() =>\n                        setState({ ...state, editProgressOpen: false })\n                    }\n                />\n            </Dialog>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'likes'\n                        ? 'Goal likes'\n                        : 'Goal followers'\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible === 'likes'\n                        ? 'Goal likes'\n                        : 'Goal followers'}\n                </DialogTitle>\n                <DialogContent>\n                    {progress[\n                        followersVisible === 'likes'\n                            ? 'likes'\n                            : 'followingAccounts'\n                    ].map(item => (\n                        <MasonryCard\n                            friends={true}\n                            noLink={true}\n                            key={item}\n                            actions={\n                                <FollowButton account={account} id={item} />\n                            }\n                            body={\n                                <UserButton span={true} id={item} size={50} />\n                            }\n                        />\n                    ))}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    ) : null\n}\n\nexport default withRouter(Activity)\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport * as wsActions from '../../websocketActions'\nimport { Box, Card, CardContent } from '@material-ui/core'\nimport UserButton from '../UserButton/UserButton'\n\nimport EditPost from './EditPost'\n\nconst AddPost = props => {\n    const [postOpen, setPostOpen] = useState(false)\n\n    const { parent, account, parentType } = props\n\n    const handleSave = (images, messageText) => {\n        wsActions.addPost(account._id, parent, parentType, messageText, images)\n        if (props.onSend) props.onSend()\n        handleCancel()\n    }\n\n    const handleCancel = () => {\n        setPostOpen(false)\n    }\n\n    return account._id ? (\n        <>\n            <Card elevation={3}>\n                <CardContent>\n                    <Box style={{ display: 'flex', width: '100%' }}>\n                        <Box style={{ marginRight: '20px' }}>\n                            <UserButton\n                                noName={true}\n                                id={account._id}\n                                span={true}\n                                size={36}\n                            />\n                        </Box>\n                        <Box style={{ flex: 1 }}>\n                            <Box\n                                style={{\n                                    background: '#efefef',\n                                    padding: '5px 15px',\n                                    borderRadius: '15px',\n                                    color: '#7d7d7d',\n                                    cursor: 'pointer',\n                                }}\n                                onClick={() => setPostOpen(true)}\n                            >\n                                Post something new\n                            </Box>\n                        </Box>\n                    </Box>\n                    <EditPost\n                        open={postOpen}\n                        cancel={handleCancel}\n                        title=\"Create a new post\"\n                        save={handleSave}\n                    />\n                </CardContent>\n            </Card>\n        </>\n    ) : null\n}\n\nexport default withRouter(AddPost)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport * as wsActions from '../../websocketActions'\n\nimport Modal from 'antd/es/modal'\nimport Activity from './Activity'\nimport Post from '../../components/Post/Post'\nimport AddPost from '../../components/Post/AddPost'\nimport pullData from '../../utils/pullData'\nimport Layout from '../../components/Layout/Layout'\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport { consoleTestResultHandler } from 'tslint/lib/test'\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst Progress = props => {\n    const classes = useStyles()\n    const [state, setState] = useState({})\n\n    const [data, setData] = useState({})\n    const pathParts = props.history.location.pathname.split('/')\n    const progressId = pathParts.length > 2 ? pathParts[2] : ''\n    if (!progressId) return null\n    useEffect(() => {\n        if (props.isAuthed) {\n            props.setData({ currentProgress: progressId })\n            if (props.account._id)\n                wsActions.addRecentProgress(props.account._id, progressId)\n        } else {\n            pullData(props, data, setData, { forceAuth: false }, data => {\n                const friendData = {}\n                for (let friend of data.friendData)\n                    friendData[friend._id] = friend\n                const post = {}\n                for (let item of data.posts) post[item._id] = item\n\n                props.setData({\n                    friendData,\n                    post,\n                    account: {},\n                    progress: data.progress,\n                })\n            })\n        }\n    }, [props.isAuthed, props.history.location.pathname])\n\n    const { progress, account, friendData, posts } = props.isAuthed\n        ? props\n        : { ...data, posts: props.posts, account: {} }\n\n    if (!progress || !progress._id) return null\n    props.setData({ currentPosts: progress.posts })\n\n    return friendData ? (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    {progress.name}\n                </Typography>\n            }\n        >\n            <div className=\"contentDiv\">\n                <Activity\n                    state={state}\n                    setState={setState}\n                    progress={progress}\n                    account={account}\n                    friendData={friendData}\n                />\n\n                {account._id && (\n                    <AddPost\n                        parent={progressId}\n                        account={account}\n                        parentType=\"progress\"\n                        // onSend={() => setEditingMessage('')}\n                    />\n                )}\n                {posts &&\n                    [...progress.posts]\n                        .sort((a, b) =>\n                            props.history.location.pathname.indexOf(a) > -1\n                                ? 1\n                                : props.history.location.pathname.indexOf(b) >\n                                  -1\n                                ? -1\n                                : 0\n                        )\n                        .map(postId => {\n                            if (posts[postId]) {\n                                const post = posts[postId]\n                                return (\n                                    <div\n                                        key={postId}\n                                        style={{ paddingTop: '10px' }}\n                                    >\n                                        <Post\n                                            friendData={friendData}\n                                            account={account}\n                                            post={post}\n                                        />\n                                    </div>\n                                )\n                            } else return null\n                        })\n                        .reverse()}\n\n                <Modal\n                    visible={state.previewImage}\n                    footer={null}\n                    onCancel={() => {\n                        setState({ ...state, previewImage: '' })\n                        document.body.removeAttribute('style')\n                    }}\n                >\n                    <img\n                        alt=\"example\"\n                        style={{ width: '100%' }}\n                        src={state.previewImage}\n                    />\n                </Modal>\n            </div>\n        </Layout>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        posts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Progress)\n)\n","import { Box, Button, Container, Typography } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport LoginModal from '../Layout/LoginModal'\nimport * as classes from './Welcome.module.scss'\nconst Welcome = props => {\n    const [loginVisible, setLoginVisible] = useState(false)\n    return (\n        <Container>\n            <Box>\n                <header className={classes.header}>\n                    <h1 className={classes.header__title}>\n                        <div>{'Here we '}</div>\n                        <div className={classes.slider}>\n                            <ul className={classes.slider__words}>\n                                <li className={classes.slider__word}>\n                                    keep promises.\n                                </li>\n                                <li className={classes.slider__word}>\n                                    motivate.\n                                </li>\n                                <li className={classes.slider__word}>\n                                    reach goals.\n                                </li>\n                                <li className={classes.slider__word}>\n                                    inspire.\n                                </li>\n                                <li className={classes.slider__word}>\n                                    keep promises.\n                                </li>\n                            </ul>\n                        </div>\n                    </h1>\n                </header>\n            </Box>\n            <div className={classes.videoWrapper}>\n                <iframe\n                    width=\"560\"\n                    height=\"349\"\n                    src=\"https://www.youtube.com/embed/K1V9e875B2o\"\n                    frameborder=\"0\"\n                    allowfullscreen\n                />\n            </div>\n            {!props.account._id && (\n                <>\n                    <Box\n                        style={{\n                            margin: '40px auto 10px',\n                            textAlign: 'center',\n                        }}\n                    >\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"large\"\n                            onClick={() => setLoginVisible(true)}\n                        >\n                            Start reaching your goals\n                        </Button>\n                    </Box>\n                    <LoginModal\n                        loginVisible={loginVisible}\n                        setLoginVisible={setLoginVisible}\n                    />\n                </>\n            )}\n            <Typography\n                variant=\"h5\"\n                align=\"center\"\n                style={{ margin: '10px auto 50px' }}\n            >\n                Share and support goals, ideas, promises and resolutions.\n            </Typography>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nexport default connect(mapStateToProps)(Welcome)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\n\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Grid,\n    makeStyles,\n    Typography,\n    Button,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport moment from 'moment'\n\nmoment().format()\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        root: {\n            flexGrow: 1,\n            marginTop: '20px',\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%', // 16:9\\\n            backgroundSize: 'contain',\n        },\n    })\n)\n\nconst Blog = props => {\n    const classes = useStyles()\n    const [posts, setPosts] = useState([])\n    const [title, setTitle] = useState('')\n    const [all, setAll] = useState(false)\n    useEffect(() => {\n        fetch('https://addspire-blog.herokuapp.com/graphql', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                query: `\n             query {\n   posts (\n       ${\n           !all\n               ? `where: { language:\"${\n                     props.history.location.pathname.indexOf('/ru') === 0\n                         ? 'ru'\n                         : 'en'\n                 }\" },`\n               : ''\n       } \n   sort:\"published_at:desc\"){\n    url\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}`,\n            }),\n        })\n            .then(res => res.json())\n            .then(data => {\n                setPosts(data.data.posts)\n                setTitle(\n                    'Addspire Blog - a social network for sharing and supporting ideas, promises and resolutions.'\n                )\n            })\n    }, [props.history.location.pathname, all])\n    return (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n            <Layout white>\n                <Welcome />\n                <Button onClick={() => setAll(!all)} color=\"primary\">\n                    {all\n                        ? 'Hide articles not in my language'\n                        : 'Show articles in all languages'}\n                </Button>\n                <div className={classes.root}>\n                    <Grid container spacing={3}>\n                        {posts.map(post => (\n                            <Grid item xs={12} md={6} xl={4}>\n                                <Card>\n                                    <Link\n                                        to={\n                                            props.history.location.pathname +\n                                            '/' +\n                                            post.url.split('.')[0]\n                                        }\n                                    >\n                                        <CardActionArea>\n                                            <CardMedia\n                                                className={classes.media}\n                                                image={\n                                                    post.previewImage &&\n                                                    post.previewImage.url\n                                                }\n                                                title={post.title}\n                                            />\n                                            <CardContent>\n                                                <Typography\n                                                    gutterBottom\n                                                    variant=\"h5\"\n                                                    component=\"h2\"\n                                                >\n                                                    {post.title}\n                                                </Typography>\n                                                <Typography\n                                                    gutterBottom\n                                                    variant=\"subtitle1\"\n                                                >\n                                                    {post.subtitle}\n                                                </Typography>\n\n                                                <Typography\n                                                    align=\"right\"\n                                                    variant=\"button\"\n                                                    color=\"textSecondary\"\n                                                    component=\"p\"\n                                                >\n                                                    {moment(\n                                                        post.published_at\n                                                    ).format('MMMM Do[,] YYYY')}\n                                                </Typography>\n                                            </CardContent>\n                                        </CardActionArea>\n                                    </Link>\n                                </Card>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </div>\n            </Layout>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","export const friendsBreakPoints = {\n    default: 4,\n    1600: 3,\n    1100: 2,\n    600: 1,\n}\n\nexport const cardBreakPoints = {\n    default: 4,\n    1100: 3,\n    700: 2,\n    310: 1,\n}\n","import React from 'react'\nimport Masonry from 'react-masonry-css'\nimport {\n    cardBreakPoints,\n    friendsBreakPoints,\n} from '../utils/masonryBreakPoints'\n\nexport default props => (\n    <div style={{ ...props.style }}>\n        <Masonry\n            breakpointCols={3}\n            className=\"my-masonry-grid\"\n            columnClassName=\"my-masonry-grid_column\"\n            breakpointCols={\n                props.friends ? friendsBreakPoints : cardBreakPoints\n            }\n        >\n            {props.children}\n        </Masonry>\n    </div>\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nconst ProgressButton = props => {\n    const { id } = props\n    if (!props.progressData[id]) return null\n    const userName = id => props.progressData[id].name\n\n    const handleClick = id => props.history.push('/goals/' + (id || props.id))\n    return (\n        <span\n            style={{ cursor: 'pointer', fontWeight: 'bold', ...props.style }}\n            onClick={e => {\n                e.stopPropagation()\n                handleClick()\n            }}\n        >\n            {userName(id)}\n        </span>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        progressData: state.progressData,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(ProgressButton))\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport { Map, TileLayer } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport * as ELG from 'esri-leaflet-geocoder'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport LocateControl from './LocateControl'\nimport { GestureHandling } from 'leaflet-gesture-handling'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    AppBar,\n    createStyles,\n    Dialog,\n    IconButton,\n    makeStyles,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography,\n    Button,\n    Grid,\n    Slider,\n    MenuItem,\n    Select,\n    Switch,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            marginLeft: theme.spacing(1),\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'fixed',\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst MapSettings = props => {\n    const {\n        mapVisible,\n        setMapVisible,\n        setIsSearching,\n        setNoMore,\n        setFoundProgresses,\n        onSearch,\n        onGetPopular,\n        setSearch,\n        search,\n    } = props\n    const map = useRef(null)\n    const [radius, setRadius] = useState(false)\n\n    useEffect(() => {\n        if (map && map.current && map.current.leafletElement) {\n            new ELG.Geosearch().addTo(map.current.leafletElement)\n            new GestureHandling(map.current.leafletElement)\n        }\n    }, [])\n\n    const mapDragEnd = e => {\n        setSearch({\n            ...search,\n            zoom: e.target._zoom,\n            position: [e.target.getCenter().lat, e.target.getCenter().lng],\n            withMap: true,\n        })\n    }\n\n    useEffect(() => {\n        getRadius()\n    }, [props.search])\n\n    const getRadius = () => {\n        if (map && map.current && map.current.leafletElement) {\n            const metresPerPixel =\n                (40075016.686 *\n                    Math.abs(\n                        Math.cos(\n                            (map.current.leafletElement.getCenter().lat *\n                                Math.PI) /\n                                180\n                        )\n                    )) /\n                Math.pow(2, map.current.leafletElement.getZoom() + 8)\n\n            setRadius(\n                search.units === 'mi'\n                    ? (search.distance * 1609) / metresPerPixel\n                    : (search.distance * 1000) / metresPerPixel\n            )\n        }\n    }\n\n    const classes = useStyles()\n\n    return (\n        <Dialog\n            fullScreen\n            open={mapVisible}\n            onClose={() => {\n                setMapVisible(false)\n                if (search.withMap || search.value) {\n                    setIsSearching(true)\n                    setNoMore(false)\n                    setFoundProgresses([])\n                    onSearch()\n                } else {\n                    onGetPopular()\n                }\n            }}\n            TransitionComponent={TransitionComponent}\n        >\n            <AppBar className={classes.appBar} color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (search.withMap || search.value) {\n                                setIsSearching(true)\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                onSearch()\n                            } else {\n                                onGetPopular()\n                            }\n                        }}\n                        aria-label=\"close\"\n                    >\n                        <Close />\n                    </IconButton>\n                    <Typography\n                        variant=\"h6\"\n                        className={classes.title}\n                        color=\"inherit\"\n                    >\n                        Search with location\n                    </Typography>\n                    <Button\n                        autoFocus\n                        color=\"inherit\"\n                        onClick={() => {\n                            setMapVisible(false)\n                            if (search.withMap || search.value) {\n                                setIsSearching(true)\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                onSearch()\n                            } else {\n                                onGetPopular()\n                            }\n                        }}\n                    >\n                        Done\n                    </Button>\n                </Toolbar>\n            </AppBar>\n            <Toolbar />\n\n            <Grid\n                container\n                style={{ padding: '15px', maxWidth: '800px' }}\n                alignItems=\"center\"\n            >\n                <Grid item xs={4} sm={4}>\n                    Search with location\n                </Grid>\n                <Grid item xs={8} sm={8}>\n                    <Switch\n                        checked={search.withMap}\n                        color=\"primary\"\n                        onChange={e => {\n                            setSearch({\n                                ...search,\n                                withMap: e.target.checked,\n                            })\n                        }}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    Distance\n                </Grid>\n                <Grid item xs={8}>\n                    <Slider\n                        valueLabelDisplay=\"auto\"\n                        min={1}\n                        max={500}\n                        onChange={(e, distance) =>\n                            setSearch({ ...search, distance })\n                        }\n                        value={search.distance}\n                    />\n                </Grid>\n                <Grid item xs={4}>\n                    Units\n                </Grid>\n                <Grid item xs={8}>\n                    <Select\n                        value={search.units}\n                        onChange={event =>\n                            setSearch({ ...search, units: event.target.value })\n                        }\n                    >\n                        <MenuItem value=\"mi\">mi</MenuItem>\n                        <MenuItem value=\"km\">km</MenuItem>\n                    </Select>\n                </Grid>\n            </Grid>\n\n            <div\n                style={{\n                    position: 'relative',\n                    minHeight: '300px',\n                    flex: 1,\n                    marginTop: '30px',\n                    overflow: 'hidden',\n                }}\n            >\n                <Map\n                    whenReady={() => {\n                        getRadius()\n                    }}\n                    ref={map}\n                    center={search.position}\n                    zoom={search.zoom}\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        position: 'relative',\n                        zIndex: 1,\n                    }}\n                    ondragend={mapDragEnd}\n                    onmoveend={mapDragEnd}\n                    gestureHandling={true}\n                >\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <LocateControl />\n                </Map>\n                <div\n                    style={{\n                        backgroundImage: `url(${require('../../assets/images/pin.png')})`,\n                        width: '20px',\n                        height: '35px',\n                        position: 'absolute',\n                        zIndex: 3,\n                        left: 'calc(50% - 10px)',\n                        top: 'calc(50% - 35px)',\n                        pointerEvents: 'none',\n                        touchAction: 'none',\n                    }}\n                />\n                <div\n                    style={{\n                        background: 'rgba(82, 95, 165, .15)',\n                        width: 2 * radius + 'px',\n                        height: 2 * radius + 'px',\n                        position: 'absolute',\n                        zIndex: '2',\n                        left: 'calc(50% - ' + radius + 'px)',\n                        top: 'calc(50% - ' + radius + 'px)',\n                        pointerEvents: 'none',\n                        touchAction: 'none',\n                        borderRadius: radius + 'px',\n                        border: '1px rgba(82, 95, 165, .5) solid',\n                    }}\n                />\n            </div>\n        </Dialog>\n    )\n}\n\nexport default MapSettings\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport InfiniteScroll from 'react-infinite-scroller'\nimport message from 'antd/es/message'\n\nimport MasonryGrid from '../../components/MasonryGrid'\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport Helmet from 'react-helmet'\n\nimport 'leaflet/dist/leaflet.css'\nimport 'esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css'\nimport 'leaflet-gesture-handling/dist/leaflet-gesture-handling.css'\nimport {\n    Box,\n    Button,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Divider,\n    IconButton,\n    InputBase,\n    makeStyles,\n    Paper,\n    Theme,\n    Typography,\n} from '@material-ui/core'\nimport { Book, LocationOn, Person, SearchOutlined } from '@material-ui/icons'\nimport MapSettings from './MapSettings'\nimport Layout from '../../components/Layout/Layout'\nimport { Link } from 'react-router-dom'\nimport ShareButton from '../../components/UI/ShareButton'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport Welcome from '../../components/Welcome'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: '2px 4px',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: 400,\n            width: '100%',\n        },\n        input: {\n            flex: 1,\n        },\n        iconButton: {\n            padding: 10,\n        },\n        divider: {\n            height: 28,\n            margin: 4,\n        },\n        appBar: {\n            position: 'relative',\n        },\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\n\nexport const sortProgresses = (a, b) => {\n    const valA = a.views || 0\n    const valB = b.views || 0\n    return valA > valB ? -1 : 1\n}\nconst Explore = props => {\n    const { t } = useTranslation()\n\n    const { account, progressData } = props\n    const [isSearching, setIsSearching] = useState(false)\n    const [mapVisible, setMapVisible] = useState(false)\n    const [foundProgresses, setFoundProgresses] = useState([])\n    const [progresses, setProgresses] = useState([])\n    const [noMore, setNoMore] = useState(false)\n    const [noMorePopular, setNoMorePopular] = useState(false)\n\n    const [search, setSearch] = useState({\n        value: '',\n        withMap: false,\n        distance: 20,\n        zoom: 7,\n        position: [40.689078, -74.044526],\n        units: 'mi',\n    })\n\n    const [value, setValue] = useState('')\n\n    const onSearch = (value, noNoMore) => {\n        if (!noMore || noNoMore) {\n            setNoMore(true)\n            axios\n                .post('/api/explore/search', {\n                    value: value ? { ...search, value } : search,\n                    skip: noNoMore ? 0 : foundProgresses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMore(res.data.noMore)\n                        setFoundProgresses(res.data.progresses)\n                        if (res.data.progresses.length === 0)\n                            message.warning('There are no progresses found.')\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(\n                                'Something is wrong with the data. Please try one more time with new data.'\n                            )\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n    const onGetPopular = () => {\n        if (!noMorePopular) {\n            setNoMorePopular(true)\n            axios\n                .post('/api/explore/popular', {\n                    skip: progresses.length,\n                })\n                .then(res => {\n                    if (res.data.success) {\n                        setNoMorePopular(res.data.noMore)\n                        setProgresses([...progresses, ...res.data.progresses])\n                        const newFriendData = {}\n                        for (let friend of res.data.friends) {\n                            newFriendData[friend._id] = friend\n                        }\n                    } else {\n                        if (res.data.errorCode) {\n                            message.error(\n                                'Something is wrong with the data. Please try one more time with new data.'\n                            )\n                        }\n                    }\n                })\n                .catch(err => {})\n        }\n    }\n\n    const classes = useStyles()\n\n    let loadedProgresses = []\n    if (account._id && account.recentProgresses) {\n        loadedProgresses = account.recentProgresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n    console.log(window.navigator)\n    return (\n        <Layout white>\n            <div>\n                <Helmet>\n                    <title>\n                        Explore goals and ideas from around the World!\n                    </title>\n                    <meta\n                        name=\"description\"\n                        content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                    />\n                </Helmet>\n\n                <MapSettings\n                    mapVisible={mapVisible}\n                    setMapVisible={setMapVisible}\n                    setIsSearching={setIsSearching}\n                    setNoMore={setNoMore}\n                    setFoundProgresses={setFoundProgresses}\n                    onSearch={onSearch}\n                    onGetPopular={onGetPopular}\n                    setSearch={setSearch}\n                    search={search}\n                />\n                <Welcome />\n\n                <Paper className={classes.root} variant=\"outlined\">\n                    <InputBase\n                        className={classes.input}\n                        placeholder=\"Search goals\"\n                        onChange={e => {\n                            if (!e.target.value && !search.withMap) {\n                                setNoMore(false)\n                                setFoundProgresses([])\n                                setIsSearching(false)\n                                setSearch({ ...search, value: '' })\n                            }\n                            setValue(e.target.value)\n                        }}\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => {\n                            if (value) {\n                                setIsSearching(true)\n                                if (value !== search.value) {\n                                    setNoMore(false)\n                                    setFoundProgresses([])\n                                    setSearch({ ...search, value })\n                                    onSearch(value, true)\n                                }\n                            } else {\n                                setNoMore(false)\n                                setSearch({ ...search, value })\n                                setIsSearching(false)\n                            }\n                        }}\n                    >\n                        <SearchOutlined />\n                    </IconButton>\n                    <Divider\n                        className={classes.divider}\n                        orientation=\"vertical\"\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        onClick={() => setMapVisible(true)}\n                        color={search.withMap ? 'primary' : 'default'}\n                    >\n                        <LocationOn />\n                    </IconButton>\n                </Paper>\n                {/* <Typography>{t('Welcome to React')}</Typography> */}\n                <HorizontalScrollList\n                    title=\"Recently viewed goals by you\"\n                    items={loadedProgresses}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.images.length > 0\n                                            ? item.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                />\n                {/* {loadedProgresses.length > 0 ? ( */}\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    Top goals and resolutions\n                </Typography>\n                {/* ) : null} */}\n                {isSearching ? (\n                    foundProgresses.length > 0 ? (\n                        <InfiniteScroll\n                            pageStart={0}\n                            loadMore={onSearch()}\n                            hasMore={!noMore}\n                            loader={\n                                <div className=\"loader\" key={0}>\n                                    Loading ...\n                                </div>\n                            }\n                        >\n                            <MasonryGrid>\n                                {foundProgresses\n                                    .sort(sortProgresses)\n                                    .map((item, index) => (\n                                        <MasonryCard\n                                            id={item._id}\n                                            key={index}\n                                            onClickLink={'/goals/' + item._id}\n                                            images={item.images}\n                                            body={\n                                                <>\n                                                    {/* <UserButton\n                                                noName={true}\n                                                id={item.owner}\n                                                friendDataExp={friendData}\n                                            /> */}\n                                                    <span\n                                                        style={{\n                                                            fontWeight: 'bold',\n                                                        }}\n                                                    >\n                                                        {item.name}\n                                                    </span>\n                                                </>\n                                            }\n                                            actions={\n                                                <ShareButton\n                                                    link={\n                                                        'https://addspire.com/goals/' +\n                                                        item._id\n                                                    }\n                                                    title={\n                                                        item.name +\n                                                        ' goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                                                    }\n                                                    media={\n                                                        item.images &&\n                                                        item.images[0]\n                                                    }\n                                                />\n                                            }\n                                        />\n                                    ))}\n                            </MasonryGrid>\n                        </InfiniteScroll>\n                    ) : null\n                ) : (\n                    <InfiniteScroll\n                        pageStart={0}\n                        loadMore={onGetPopular}\n                        hasMore={!noMorePopular}\n                        loader={\n                            <div className=\"loader\" key={0}>\n                                Loading ...\n                            </div>\n                        }\n                    >\n                        <MasonryGrid>\n                            {progresses\n                                .sort(sortProgresses)\n                                .map((item, index) => (\n                                    <MasonryCard\n                                        id={item._id}\n                                        key={index}\n                                        onClickLink={'/goals/' + item._id}\n                                        images={item.images}\n                                        body={\n                                            <>\n                                                {/* <UserButton\n                                            noName={true}\n                                            id={item.owner}\n                                            friendDataExp={friendData}\n                                        /> */}\n                                                <span\n                                                    style={{\n                                                        fontWeight: 'bold',\n                                                    }}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            </>\n                                        }\n                                        actions={\n                                            <ShareButton\n                                                link={\n                                                    'https://addspire.com/goals/' +\n                                                    item._id\n                                                }\n                                                title={\n                                                    item.name +\n                                                    ' goal on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                                                }\n                                                media={\n                                                    item.images &&\n                                                    item.images[0]\n                                                }\n                                            />\n                                        }\n                                    />\n                                ))}\n                        </MasonryGrid>\n                    </InfiniteScroll>\n                )}\n            </div>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        progressData: state.progressData,\n    }\n}\n\nexport default connect(mapStateToProps)(Explore)\n","import React, { useEffect, useState } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Avatar from 'antd/es/avatar'\n\nimport FriendActionButton from '../../components/FriendActionButton'\n\nimport getAvatar from '../../utils/getAvatar'\nimport pullData from '../../utils/pullData'\nimport UserButton from '../../components/UserButton/UserButton'\nimport MasonryGrid from '../../components/MasonryGrid'\n\nimport MasonryCard, {\n    getPH,\n    placeholderImages,\n} from '../../components/MasonryCard'\nimport ProgressButton from '../../components/ProgressButton'\nimport FollowButton from '../../components/FollowButton'\n\nimport * as wsActions from '../../websocketActions'\nimport Upload from 'antd/es/upload'\nimport { uploadFile } from '../../utils/uploadFile'\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\n\nimport * as classes from './Profile.module.css'\nimport TypographyA from 'antd/es/typography'\n\nimport message from 'antd/es/message'\n\nimport Helmet from 'react-helmet'\n\nimport {\n    Box,\n    createStyles,\n    IconButton,\n    makeStyles,\n    Paper,\n    Typography,\n    Button,\n    Chip,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    CardActionArea,\n    CardMedia,\n    CardContent,\n    DialogContentText,\n    TextField,\n    Slide,\n} from '@material-ui/core'\nimport Layout from '../../components/Layout/Layout'\nimport { Edit } from '@material-ui/icons'\nimport fieldLength from '../../constants/fieldLength'\nimport Rewards from '../../components/Rewards/Rewards_old'\nimport moment from 'moment'\nimport HorizontalScrollList from '../../components/UI/HorizontalScrollList'\nimport AddProgress from '../Progresses/AddProgress'\nimport AddFriends from '../Friends/AddFriends'\nimport DialogFullscreen from '../../components/UI/DialogFullscreen'\nimport ShareButton from '../../components/UI/ShareButton'\nimport { sortProgresses } from '../Explore/Explore'\nimport ProfileRewards from '../../components/ProfileRewards/ProfileRewards'\nimport { spanStyle } from '../../components/Post/Message'\nimport Badge from 'antd/es/badge'\nimport LanguageSwitcher from '../../components/LanguageSwitcher/LanguageSwitcher'\nmoment.updateLocale('en', {\n    relativeTime: {\n        future: 'in %s',\n        past: '%s',\n        s: 'now',\n        ss: 'now',\n        m: '1 min',\n        mm: '%d mins',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 day',\n        dd: '%d days',\n        w: '1 wk',\n        ww: '%d wks',\n        M: '1 mth',\n        MM: '%d mths',\n        y: 'a year',\n        yy: '%d years',\n    },\n})\nmoment().format()\nconst TransitionComponent = props => <Slide direction=\"up\" {...props} />\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        sectionTitle: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            textTransform: 'uppercase',\n            fontWeight: 600,\n        },\n    })\n)\nconst Profile = props => {\n    const [currentTab, setCurrentTab] = useState('accounts')\n    const classesM = useStyles()\n    const [data, setData] = useState({})\n    const [followersVisible, setFollowersVisible] = useState('')\n\n    const {\n        profile,\n        account,\n        progressData,\n        transactionData,\n        rewardData,\n    } = props.isAuthed ? props : data\n    const [deleteVisible, setDeleteVisible] = useState()\n    const [deleteField, setDeleteField] = useState('')\n    const [startProgressVisible, setStartProgressVisible] = useState(false)\n    const [addFriendOpen, setAddFriendOpen] = useState(false)\n\n    useEffect(() => {\n        const pathParts = props.history.location.pathname.split('/')\n        if (pathParts.length > 2) {\n            const profileId = pathParts[2]\n            if (props.isAuthed) {\n                props.setData({ currentProfile: profileId })\n            } else {\n                pullData(props, data, setData, { forceAuth: false }, data => {\n                    const friendData = {}\n                    for (let friend of data.friendData)\n                        friendData[friend._id] = friend\n                    const progressData = {}\n                    for (let progress of data.progressData)\n                        progressData[progress._id] = progress\n\n                    const rewardData = {}\n                    for (let reward of data.rewardData)\n                        rewardData[reward._id] = reward\n\n                    props.setData({\n                        profile: data.profile,\n                        friendData,\n                        progressData,\n                        rewardData,\n                        account: {},\n                    })\n                })\n            }\n        } else {\n            if (props.isAuthed) {\n                props.setData({ currentProfile: account._id })\n            }\n        }\n    }, [props.isAuthed, props.history.location.pathname, props.account._id])\n\n    if (!profile || !profile._id) return null\n\n    const isOwner = account && account._id && account._id === profile._id\n    props.setPageTitle({ main: profile.name, sub: '' })\n\n    const realFriends = [],\n        invitedFriends = [],\n        invitingFriends = []\n    if (profile && profile.friends && account && account._id) {\n        for (let friend of account.friends) {\n            if (friend.status === 'friend') realFriends.push(friend)\n            else if (friend.status === 'invited') invitedFriends.push(friend)\n            else if (friend.status === 'inviting') invitingFriends.push(friend)\n        }\n    }\n\n    const loading = false\n\n    const { progresses, transactions } = profile\n    let loadedProgresses\n    if (progresses) {\n        loadedProgresses = progresses\n            .filter(item => progressData[item])\n            .map(item => progressData[item])\n    }\n\n    // const newTransactions =\n    //     (transactions &&\n    //         transactions\n    //             .filter(item => transactionData[item])\n    //             .map(item => transactionData[item])\n    //             .filter(item => item.status !== 'Confirmed')) ||\n    //     []\n\n    // const recievedTransactions =\n    //     (transactions &&\n    //         transactions\n    //             .filter(item => transactionData[item])\n    //             .map(item => transactionData[item])\n    //             .filter(item => item.status === 'Confirmed')) ||\n    //     []\n\n    return (\n        <>\n            <Helmet>\n                <title>\n                    {profile.name} - Addspire - Explore goals and ideas from\n                    around the World!\n                </title>\n                <meta\n                    name=\"description\"\n                    content=\"Addspire is a social network where you can inspire and motivate yourself or the people you care.\"\n                />\n            </Helmet>\n            <Layout\n                header={\n                    <Typography\n                        variant=\"h6\"\n                        className={classesM.title}\n                        color=\"inherit\"\n                        noWrap\n                    >\n                        {profile.name}\n                    </Typography>\n                }\n            >\n                <Paper style={{ padding: '15px' }}>\n                    <div style={{ textAlign: 'center', marginTop: '10px' }}>\n                        {isOwner ? (\n                            <Upload\n                                name=\"avatar\"\n                                accept=\"image/*\"\n                                listType=\"picture-card\"\n                                className={classes.Avatar}\n                                showUploadList={false}\n                                customRequest={({ file }) => {\n                                    uploadFile(file, 800, 'avatar', url => {\n                                        if (url) props.increaseAvatarV()\n                                    })\n                                }}\n                            >\n                                <div\n                                    style={{\n                                        flex: 1,\n                                        display: 'flex',\n                                        height: '100%',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        flexDirection: 'column',\n                                    }}\n                                    onClick={e => {\n                                        if (window.isRNWebView) {\n                                            e.stopPropagation()\n                                            window.ReactNativeWebView.postMessage(\n                                                'uploadFile'\n                                            )\n                                            window.callback = url => {\n                                                props.increaseAvatarV()\n                                            }\n                                        }\n                                    }}\n                                >\n                                    {account.image ? (\n                                        <Avatar\n                                            src={getAvatar(\n                                                account._id,\n                                                account.image\n                                            )}\n                                            size={150}\n                                            style={{ margin: '25px' }}\n                                        />\n                                    ) : (\n                                        <>\n                                            {loading ? (\n                                                <LoadingOutlined />\n                                            ) : (\n                                                <PlusOutlined />\n                                            )}\n                                            <div className=\"ant-upload-text\">\n                                                Upload\n                                            </div>\n                                        </>\n                                    )}\n                                </div>\n                            </Upload>\n                        ) : (\n                            <Avatar\n                                src={getAvatar(profile._id, profile.image)}\n                                size={200}\n                            />\n                        )}\n\n                        <Box style={{ padding: '0 15px' }}>\n                            {props.onlineUsers.includes(account._id) && (\n                                <Badge color=\"green\" text=\"online\" />\n                            )}\n                            <TypographyA.Title\n                                level={2}\n                                editable={\n                                    isOwner\n                                        ? {\n                                              onChange: res =>\n                                                  wsActions.editAccount(\n                                                      { name: res },\n                                                      account._id\n                                                  ),\n                                              icon: (\n                                                  <IconButton color=\"primary\">\n                                                      <Edit />\n                                                  </IconButton>\n                                              ),\n                                              maxLength: fieldLength.name,\n                                              autoSize: {\n                                                  minRows: 1,\n                                                  maxRows: 1,\n                                              },\n                                          }\n                                        : false\n                                }\n                            >\n                                {profile.name}\n                            </TypographyA.Title>\n                        </Box>\n                        <Typography variant=\"h5\">({profile._id})</Typography>\n                        <Box\n                            style={{\n                                margin: '5px 0px',\n                            }}\n                        >\n                            <Button\n                                onClick={() => setFollowersVisible('followers')}\n                                style={{ marginRight: '20px' }}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {profile.followingAccounts.length} Followers\n                                </span>\n                            </Button>\n                            <Button\n                                onClick={() => setFollowersVisible('following')}\n                            >\n                                <span\n                                    style={{\n                                        textTransform: 'none',\n                                    }}\n                                >\n                                    {profile.followProgresses.length +\n                                        profile.followAccounts.length}{' '}\n                                    Following\n                                </span>\n                            </Button>\n                        </Box>\n\n                        <div>\n                            <ShareButton\n                                link={\n                                    'https://addspire.com/profile/' +\n                                    profile._id\n                                }\n                                media={\n                                    profile.image &&\n                                    getAvatar(profile._id, profile.image)\n                                }\n                                title={\n                                    profile.name +\n                                    ' account on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.'\n                                }\n                            />\n                            {account && account._id !== profile._id && (\n                                <span style={{ marginRight: '10px' }}>\n                                    {realFriends.find(\n                                        item => item.friend === profile._id\n                                    ) ? (\n                                        <Chip color=\"primary\" label=\"Friends\" />\n                                    ) : null}\n                                    {account.followAccounts &&\n                                        !account.followAccounts.includes(\n                                            profile._id\n                                        ) && (\n                                            <Button\n                                                color=\"primary\"\n                                                onClick={() =>\n                                                    wsActions.followAccount(\n                                                        account._id,\n                                                        profile._id\n                                                    )\n                                                }\n                                                style={{ marginRight: '20px' }}\n                                                variant=\"contained\"\n                                            >\n                                                Follow\n                                            </Button>\n                                        )}\n                                </span>\n                            )}\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={profile._id}\n                                additionalButtons={\n                                    isOwner\n                                        ? [\n                                              {\n                                                  onClick: () =>\n                                                      props.history.push(\n                                                          '/logout'\n                                                      ),\n                                                  title: 'Logout',\n                                              },\n                                          ]\n                                        : null\n                                }\n                                asText={true}\n                            />\n                        </div>\n                        <Box />\n                    </div>\n                </Paper>\n\n                <HorizontalScrollList\n                    title=\"Goals\"\n                    items={loadedProgresses.sort(sortProgresses)}\n                    content={item => (\n                        <CardActionArea>\n                            <Link to={'/goals/' + item._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.images.length > 0\n                                            ? item.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.name}\n                                />\n                                <CardContent style={{ padding: '5px' }}>\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.name}\n                                    </Typography>\n                                </CardContent>\n                            </Link>\n                        </CardActionArea>\n                    )}\n                    withAdd={isOwner}\n                    addTitle=\"Add goal\"\n                    onAdd={() => setStartProgressVisible(true)}\n                />\n\n                {isOwner && invitedFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title=\"Pending friendships\"\n                            items={invitedFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box style={{ margin: '5px 0' }}>\n                                        <Button\n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.acceptFriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            Accept\n                                        </Button>\n                                    </Box>\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            Decline\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                {isOwner && invitingFriends.length > 0 && (\n                    <>\n                        <HorizontalScrollList\n                            title=\"Awaiting approval\"\n                            items={invitingFriends}\n                            content={item => (\n                                <CardContent\n                                    style={{\n                                        textAlign: 'center',\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Box>\n                                        <UserButton\n                                            noName\n                                            id={item.friend}\n                                            size={80}\n                                        />\n                                    </Box>\n                                    <UserButton\n                                        noAva\n                                        typography\n                                        style={{\n                                            width: '100%',\n                                            margin: '3px 0 7px',\n                                        }}\n                                        id={item.friend}\n                                    />\n                                    <Box>\n                                        <Button\n                                            size=\"small\"\n                                            onClick={() =>\n                                                wsActions.unfriend(\n                                                    account._id,\n                                                    item.friend\n                                                )\n                                            }\n                                        >\n                                            Decline\n                                        </Button>\n                                    </Box>\n                                </CardContent>\n                            )}\n                        />\n                    </>\n                )}\n\n                <HorizontalScrollList\n                    title=\"Friends\"\n                    items={realFriends}\n                    content={item => (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <Box>\n                                <UserButton noName id={item.friend} size={80} />\n                            </Box>\n                            <UserButton\n                                noAva\n                                typography\n                                style={{\n                                    width: '100%',\n                                    margin: '3px 0 7px',\n                                }}\n                                id={item.friend}\n                            />\n\n                            <FriendActionButton\n                                account={account}\n                                realFriends={realFriends}\n                                invitedFriends={invitedFriends}\n                                invitingFriends={invitingFriends}\n                                _id={item.friend}\n                                asIcons={true}\n                                minimized\n                            />\n                        </CardContent>\n                    )}\n                    withAdd={isOwner}\n                    addTitle=\"Add friend\"\n                    onAdd={() => setAddFriendOpen(true)}\n                />\n\n                <HorizontalScrollList\n                    title=\"Recieved and given rewards\"\n                    items={transactions\n                        .map(item => transactionData[item])\n                        .filter(item => item)\n                        .filter(item => rewardData[item.reward])\n                        .map(item => ({\n                            ...item,\n                            rewardObject: rewardData[item.reward],\n                        }))\n                        .sort((a, b) => {\n                            if (\n                                a.status === 'Confirmed' &&\n                                b.status !== 'Confirmed'\n                            )\n                                return 1\n                            if (\n                                a.status !== 'Confirmed' &&\n                                b.status === 'Confirmed'\n                            )\n                                return -1\n                            if (\n                                a.status !== 'Confirmed' &&\n                                b.status !== 'Confirmed'\n                            ) {\n                                if (\n                                    a.to === profile._id &&\n                                    b.to !== profile._id\n                                )\n                                    return 1\n                                if (\n                                    a.to !== profile._id &&\n                                    b.to === profile._id\n                                )\n                                    return -1\n                            }\n                            return new Date(a.date).getTime() <\n                                new Date(b.date).getTime()\n                                ? 1\n                                : -1\n                        })}\n                    content={item => (\n                        <CardContent\n                            style={{\n                                textAlign: 'center',\n                                position: 'relative',\n                                padding: '5px',\n                            }}\n                        >\n                            <Link to={'/rewards/' + item.rewardObject._id}>\n                                <CardMedia\n                                    style={{\n                                        height: '150px',\n                                        backgroundSize: 'contain',\n                                    }}\n                                    image={\n                                        item.rewardObject.images.length > 0\n                                            ? item.rewardObject.images[0]\n                                            : placeholderImages[getPH(item._id)]\n                                    }\n                                    title={item.rewardObject.name}\n                                />\n                                <CardContent\n                                    style={{\n                                        padding: '5px',\n                                    }}\n                                >\n                                    <Typography variant=\"body2\" noWrap>\n                                        {item.rewardObject.name}\n                                    </Typography>\n                                    <span style={spanStyle}>\n                                        {moment(item.date).fromNow()}\n                                    </span>\n                                </CardContent>\n                            </Link>\n                            <UserButton\n                                noName\n                                id={item.rewardObject.from}\n                                size={25}\n                            />\n                            {'>'}\n                            <UserButton\n                                noName\n                                id={item.rewardObject.to}\n                                size={25}\n                            />\n                            {item.status !== 'Confirmed' && (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={() =>\n                                        wsActions.confirmTransaction(\n                                            account._id,\n                                            item._id\n                                        )\n                                    }\n                                >\n                                    {item.to === profile._id\n                                        ? 'Received'\n                                        : 'Gave'}\n                                </Button>\n                            )}\n                        </CardContent>\n                    )}\n                />\n\n                <ProfileRewards owner={profile} />\n                <ProfileRewards owner={profile} wish />\n\n                {isOwner && (\n                    <>\n                        <Typography\n                            className={classesM.sectionTitle}\n                            color=\"textSecondary\"\n                            gutterBottom\n                        >\n                            Settings\n                        </Typography>\n                        <Paper\n                            style={{\n                                padding: '15px',\n                            }}\n                        >\n                            <Box>\n                                <Button\n                                    onClick={() =>\n                                        props.history.push('/logout')\n                                    }\n                                    color=\"secondary\"\n                                >\n                                    Logout\n                                </Button>\n                            </Box>\n                            <LanguageSwitcher settings />\n                            <Button\n                                onClick={() => setDeleteVisible(true)}\n                                color=\"secondary\"\n                            >\n                                Delete account\n                            </Button>\n                        </Paper>\n\n                        <Dialog open={Boolean(deleteVisible)}>\n                            <DialogTitle>{'Delete account'}</DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    <p>\n                                        Please enter your nickname (\n                                        {account._id}) and press Ok to delete\n                                        your account.\n                                    </p>\n                                    <TextField\n                                        onChange={e =>\n                                            setDeleteField(e.target.value)\n                                        }\n                                    />\n                                </DialogContentText>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button onClick={() => setDeleteVisible(false)}>\n                                    Cancel\n                                </Button>\n                                <Button\n                                    onClick={() => {\n                                        if (deleteField !== account._id) {\n                                            message.warning(\n                                                'The nickmanme is not correct.'\n                                            )\n                                        } else {\n                                            wsActions.deleteAccount(account._id)\n                                        }\n                                    }}\n                                    color=\"primary\"\n                                >\n                                    Delete\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n                    </>\n                )}\n            </Layout>\n            <Dialog\n                open={Boolean(followersVisible)}\n                onClose={() => setFollowersVisible('')}\n                title={\n                    followersVisible === 'following' ? 'Following' : 'Followers'\n                }\n                fullWidth\n                maxWidth=\"md\"\n            >\n                <DialogTitle>\n                    {followersVisible !== 'following' && 'Followers'}\n                    {followersVisible === 'following' && (\n                        <>\n                            <Button\n                                style={{ margin: '0px 20px 0px 0px' }}\n                                color={\n                                    currentTab === 'accounts'\n                                        ? 'primary'\n                                        : 'default'\n                                }\n                                onClick={() => setCurrentTab('accounts')}\n                                variant=\"contained\"\n                            >\n                                Accounts\n                            </Button>\n                            <Button\n                                color={\n                                    currentTab === 'goals'\n                                        ? 'primary'\n                                        : 'default'\n                                }\n                                onClick={() => setCurrentTab('goals')}\n                                variant=\"contained\"\n                            >\n                                Goals\n                            </Button>\n                        </>\n                    )}\n                </DialogTitle>\n                <DialogContent>\n                    {followersVisible === 'following' ? (\n                        currentTab === 'accounts' ? (\n                            profile.followAccounts.map(item => (\n                                <MasonryCard\n                                    friends={true}\n                                    noLink={true}\n                                    key={item}\n                                    actions={\n                                        <FollowButton\n                                            account={account}\n                                            id={item}\n                                        />\n                                    }\n                                    body={\n                                        <UserButton\n                                            span={true}\n                                            id={item}\n                                            size={50}\n                                        />\n                                    }\n                                />\n                            ))\n                        ) : (\n                            <MasonryGrid>\n                                {profile.followProgresses.map(item => (\n                                    <MasonryCard\n                                        id={item}\n                                        onClickLink={'/goals/' + item}\n                                        // noLink\n                                        key={item}\n                                        actions={\n                                            <FollowButton\n                                                type=\"progress\"\n                                                account={account}\n                                                id={item}\n                                            />\n                                        }\n                                        body={\n                                            <ProgressButton\n                                                span={true}\n                                                id={item}\n                                                size={50}\n                                            />\n                                        }\n                                        style={{\n                                            // maxHeight: '170px',\n                                            marginTop: '20px',\n                                        }}\n                                    />\n                                ))}\n                            </MasonryGrid>\n                        )\n                    ) : (\n                        profile.followingAccounts.map(item => (\n                            <MasonryCard\n                                friends={true}\n                                noLink={true}\n                                key={item}\n                                actions={\n                                    <FollowButton account={account} id={item} />\n                                }\n                                body={\n                                    <UserButton\n                                        span={true}\n                                        id={item}\n                                        size={50}\n                                    />\n                                }\n                            />\n                        ))\n                    )}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setFollowersVisible('')}\n                        color=\"primary\"\n                    >\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            {isOwner && (\n                <Dialog\n                    fullScreen\n                    open={startProgressVisible}\n                    onClose={() => {\n                        setStartProgressVisible(false)\n                    }}\n                    TransitionComponent={TransitionComponent}\n                >\n                    <AddProgress\n                        setStartProgressVisible={setStartProgressVisible}\n                        account={account}\n                        friendData={props.friendData}\n                        cancel={() => setStartProgressVisible(false)}\n                    />\n                </Dialog>\n            )}\n            {isOwner && (\n                <DialogFullscreen\n                    open={addFriendOpen}\n                    close={() => {\n                        setAddFriendOpen(false)\n                    }}\n                    title=\"Add friend\"\n                >\n                    <AddFriends\n                        close={() => setAddFriendOpen(false)}\n                        open={addFriendOpen}\n                        account={account}\n                        friendData={props.friendData}\n                    />\n                </DialogFullscreen>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n        profile: state.profile,\n        isAuthed: state.isAuthed,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        transactionData: state.transactionData,\n        rewardData: state.rewardData,\n        onlineUsers: state.onlineUsers,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => dispatch(actions.setData(data)),\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        tryAuth: (props, forceAuth) =>\n            dispatch(actions.tryAuth(props, forceAuth)),\n        increaseAvatarV: () => dispatch(actions.increaseAvatarV()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Profile)\n)\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const cancelTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'cancelTransaction',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n\nexport const confirmTransaction = (accountId, id) => {\n    if (accountId && id && webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'confirmTransaction',\n                id,\n                accountId,\n            })\n        )\n    }\n}\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Button from 'antd/es/button'\nimport message from 'antd/es/message'\n\nimport Input from 'antd/es/input'\nimport Form from 'antd/es/form'\nimport { withRouter } from 'react-router-dom'\n\nimport { nicknameRules, accountNameRules } from '../../constants/fieldRules'\nimport * as actions from '../../store/actions'\nimport { Layout } from 'antd'\nimport { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport axios from 'axios'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n    })\n)\nconst ActivateAccount = props => {\n    const classes = useStyles()\n    if (!props.isAuthed) props.history.push('/logout')\n    useEffect(() => {\n        if (!props.accountNotActive) props.history.push('/settings')\n    }, [props.accountNotActive])\n    const onFinish = value => {\n        axios\n            .post('/api/activate-account', {\n                ...value,\n            })\n            .then(res => {\n                if (res.data.success) {\n                    message.success('Your account has been activated!')\n                    props.setAccountActivated(false)\n                } else {\n                    if (res.data.nicknameNotUnique) {\n                        message.warning(\n                            'The nickname is taken. Choose another nickname please.'\n                        )\n                    }\n                    if (res.data.errorCode) {\n                        message.error(\n                            'Something is wrong with the data. Please try one more time with new data.'\n                        )\n                    }\n                }\n            })\n            .catch(err => {})\n    }\n\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    }\n    const tailLayout = {\n        wrapperCol: { offset: 8, span: 16 },\n    }\n\n    return (\n        <Layout\n            header={\n                <Typography\n                    variant=\"h6\"\n                    className={classes.title}\n                    color=\"inherit\"\n                    noWrap\n                >\n                    Activate account\n                </Typography>\n            }\n        >\n            <Form\n                name=\"dynamic_form_nest_item\"\n                onFinish={onFinish}\n                autoComplete=\"off\"\n                {...layout}\n                style={{ marginTop: '50px' }}\n            >\n                <Form.Item label=\"Name\" name=\"name\" rules={accountNameRules}>\n                    <Input placeholder=\"Must be more than 1 character long\" />\n                </Form.Item>\n                <Form.Item\n                    label=\"Nickname\"\n                    name=\"nickname\"\n                    rules={nicknameRules}\n                >\n                    <Input placeholder=\"Must be more than 1 character long\" />\n                </Form.Item>\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\n                        Save\n                    </Button>\n                </Form.Item>\n            </Form>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        user: state.user,\n        account: state.account,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n        setAccountActivated: value =>\n            dispatch(actions.setAccountActivated(value)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ActivateAccount)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\nconst NotificationsTracker = props => {\n    const { account, friendData, progressData } = props\n\n    const sortNotifiacations = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications,\n            ]\n    }\n\n    for (let friend of account.friends) {\n        if (\n            friendData[friend.friend] &&\n            friend.status === 'friend' &&\n            friendData[friend.friend].notifications\n        )\n            lastNotifications = [\n                ...lastNotifications,\n                ...friendData[friend.friend].notifications,\n            ]\n    }\n    const filterSameNot = (res, not, index, arr) => {\n        if (!res.find(item => item.notId === not.notId)) {\n            res.push(not)\n        }\n        return res\n    }\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n\n    lastNotifications = lastNotifications.sort(sortNotifiacations).slice(0, 100)\n\n    lastNotifications = [\n        ...lastNotifications,\n        ...account.myNotifications,\n    ].filter(item => item.code !== 'add post')\n\n    lastNotifications = lastNotifications.reduce(filterSameNot, [])\n    lastNotifications = lastNotifications.sort(sortNotifiacations)\n    if (!isEqual(lastNotifications, props.lastNotifications)) {\n        props.setData({ lastNotifications })\n    }\n\n    return <span />\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(NotificationsTracker)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport * as actions from './store/actions'\n\nconst RNBridge = props => {\n    window.addEventListener('message', function(e) {\n        // window.isRNWebView = true\n\n        try {\n            const data = JSON.parse(e.data)\n            switch (data.message) {\n                case 'token':\n                    const token = data.token\n                    props.tryAuth(token)\n                    break\n                case 'callback':\n                    window.callback(data.url)\n                    break\n                case 'back':\n                    if (!props.history.location.key) {\n                        window.isRNWebView &&\n                            window.ReactNativeWebView.postMessage('exit')\n                    } else props.history.goBack()\n                    break\n                default:\n                    return\n            }\n        } catch (err) {\n            console.error('failed to parse message from react-native ' + err)\n            return\n        }\n    })\n\n    return <></>\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: token => dispatch(actions.tryAuth(token)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(RNBridge)\n)\n","import React, { useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Comment from 'antd/es/comment'\nimport Divider from 'antd/es/divider'\nimport moment from 'moment'\nimport { Card, CardContent } from '@material-ui/core'\nimport * as wsActions from '../../websocketActions'\n\nmoment().format()\n\nconst DashboardEvents = props => {\n    const { lastNotifications } = props\n    const getRewardText = item => (\n        <span style={{ fontWeight: 'bold' }}>\n            {item.details.reward.money\n                ? '$' + item.details.reward.money\n                : item.details.reward.simple || item.details.reward.itemName}\n        </span>\n    )\n\n    const getStageName = stage => {\n        let stageDate\n        if (stage.day) {\n            stageDate = moment()\n                .year(stage.year)\n                .dayOfYear(stage.day)\n            return stageDate.format('dddd D MMM YYYY')\n        } else if (stage.week) {\n            stageDate = moment()\n                .year(stage.year)\n                .week(stage.week)\n            return (\n                stageDate.startOf('week').format('wo [week] D MMM YYYY - ') +\n                stageDate.endOf('week').format('D MMM YYYY')\n            )\n        } else if (stage.month) {\n            stageDate = moment()\n                .year(stage.year)\n                .month(stage.month)\n            return stageDate.format('MMMM YYYY')\n        } else if (stage.year) {\n            stageDate = moment().year(stage.year)\n            return stageDate.format('YYYY')\n        }\n    }\n\n    useEffect(() => {\n        wsActions.setLastSeenNot(\n            props.account._id,\n            lastNotifications.reduce(function(p, v) {\n                v = parseInt(v.notId)\n                return p > v ? p : v\n            }, 0)\n        )\n    }, [lastNotifications])\n    return (\n        <Card>\n            <CardContent>\n                {lastNotifications.map((item, index) => {\n                    let text = null,\n                        stageName\n\n                    switch (item.code) {\n                        case 'change name':\n                            text = (\n                                <span>\n                                    {' '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' changed name.'}\n                                </span>\n                            )\n                            break\n                        case 'delete account':\n                            text = (\n                                <span>\n                                    {item.user}\n                                    deleted account.\n                                </span>\n                            )\n                            break\n                        case 'friend request':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' wants to become friends with you.'}\n                                </span>\n                            )\n                            break\n                        case 'friend add':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' and '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {' became friends.'}\n                                </span>\n                            )\n                            break\n                        case 'unfriend':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' and '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.friend}\n                                    />\n                                    {' stopped being friends.'}\n                                </span>\n                            )\n                            break\n                        case 'add wishlist item':\n                        case 'edit wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add wishlist item'\n                                        ? 'added to wishlist a new item'\n                                        : 'edited in wishlist'}{' '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/wishlist/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>{' '}\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete wishlist item':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' deleted '}\n                                    {item.details.itemName} from wishlist.\n                                </span>\n                            )\n                            break\n                        case 'add goal':\n                        case 'edit goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add goal'\n                                        ? 'added a new goal'\n                                        : 'edited goal'}{' '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {' .'}\n                                </span>\n                            )\n                            break\n                        case 'delete goal':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' deleted '}\n                                    {item.details.itemName} from goals.\n                                </span>\n                            )\n                            break\n                        case 'add perk':\n                        case 'edit perk':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'add perk'\n                                        ? 'added to shop a new item'\n                                        : 'edited in shop'}{' '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {' .'}\n                                </span>\n                            )\n                            break\n                        case 'delete perk':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' deleted '}\n                                    {item.details.itemName} from shop.\n                                </span>\n                            )\n                            break\n                        case 'buy perk':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' bought '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName} ($\n                                        {item.details.price})\n                                    </span>\n                                    {' from '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.owner}\n                                    />\n                                    {' .'}\n                                </span>\n                            )\n                            break\n                        case 'cancel transaction':\n                        case 'confirm transaction':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />{' '}\n                                    {item.code === 'cancel transaction'\n                                        ? 'cancelled'\n                                        : 'confirmed'}\n                                    {' purchase of '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/shop/${item.user}/${\n                                                    item.details.itemId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName} ($\n                                        {item.details.price})\n                                    </span>\n                                    {' by '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.buyer}\n                                    />\n                                    {' .'}\n                                </span>\n                            )\n                            break\n                        case 'start progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' started participating in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${item.details.itemId}`\n                                            )\n                                        }\n                                    >\n                                        {item.details.itemName}\n                                    </span>\n                                    {' as '}\n                                    {item.details.as}.\n                                </span>\n                            )\n                            break\n                        case 'stage approve':\n                        case 'stage progress':\n                        case 'stage fail':\n                        case 'stage dismiss':\n                            stageName = getStageName(item.details)\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {item.code === 'stage approve'\n                                        ? ' approved  '\n                                        : item.code === 'stage progress'\n                                        ? ' put into process '\n                                        : item.code === 'stage fail'\n                                        ? ' marked as failed '\n                                        : ' dismissed '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {' for '}\n                                            <span\n                                                style={{ fontWeight: 'bold' }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n                                    .\n                                </span>\n                            )\n                            break\n\n                        case 'stage complete':\n                            text = (\n                                <span>\n                                    {'Progress '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {stageName && (\n                                        <>\n                                            {' for '}\n                                            <span\n                                                style={{ fontWeight: 'bold' }}\n                                            >\n                                                {stageName}\n                                            </span>\n                                        </>\n                                    )}\n\n                                    {' was approved and finished.'}\n                                </span>\n                            )\n                            break\n                        case 'milestone finish':\n                            text = (\n                                <span>\n                                    Milestone {item.details.itemName}\n                                    {' in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {' was approved and finished.'}\n                                </span>\n                            )\n                            break\n                        case 'get reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' recieved '}\n                                    {getRewardText(item)}\n                                    {' as a reward from '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.from}\n                                    />\n                                    {' in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'leave progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' left goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'edit progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' edited goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    {item.details.addedAccounts.length > 0 ? (\n                                        <>\n                                            {' and added '}\n                                            {item.details.addedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}{' '}\n                                        </>\n                                    ) : (\n                                        ''\n                                    )}\n                                    {item.details.droppedAccounts.length > 0 ? (\n                                        <>\n                                            {' and removed '}\n                                            {item.details.droppedAccounts.map(\n                                                ac => (\n                                                    <UserButton\n                                                        span={true}\n                                                        noAva={true}\n                                                        id={ac}\n                                                    />\n                                                )\n                                            )}\n                                            {' .'}\n                                        </>\n                                    ) : (\n                                        '.'\n                                    )}\n                                </span>\n                            )\n                            break\n                        case 'remove from progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' removed '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {' from goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add to progress':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' added '}\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.details.account}\n                                    />\n                                    {' to goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'add reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' added '}\n                                    {getRewardText(item)} as a reward for\n                                    {!item.details.for ||\n                                    item.details.for.length === 0\n                                        ? ' all '\n                                        : item.details.for.map(account => (\n                                              <>\n                                                  <UserButton\n                                                      noAva={true}\n                                                      span={true}\n                                                      id={account}\n                                                  />\n                                                  ,\n                                              </>\n                                          ))}\n                                    {' in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        case 'delete reward':\n                            text = (\n                                <span>\n                                    <UserButton\n                                        span={true}\n                                        noAva={true}\n                                        id={item.user}\n                                    />\n                                    {' removed '}\n                                    {getRewardText(item)}\n                                    {' as a reward for '}\n                                    {!item.details.for ||\n                                    item.details.for.length === 0\n                                        ? ' all '\n                                        : item.details.for.map(account => (\n                                              <>\n                                                  <UserButton\n                                                      span={true}\n                                                      noAva={true}\n                                                      id={account}\n                                                  />\n                                                  ,\n                                              </>\n                                          ))}\n                                    {' in goal '}\n                                    <span\n                                        style={{ fontWeight: 'bold' }}\n                                        onClick={() =>\n                                            props.history.push(\n                                                `/goals/${\n                                                    item.details.progressId\n                                                }`\n                                            )\n                                        }\n                                    >\n                                        {item.details.progressName}\n                                    </span>\n                                    .\n                                </span>\n                            )\n                            break\n                        default:\n                            text = 'New event'\n                            break\n                    }\n                    return (\n                        <div key={index}>\n                            {index !== 0 && (\n                                <Divider style={{ margin: '5px 0px' }} />\n                            )}\n                            <Comment\n                                avatar={\n                                    <UserButton\n                                        noName={true}\n                                        id={item.user}\n                                        span={true}\n                                    />\n                                }\n                                content={text}\n                            />\n                        </div>\n                    )\n\n                    // <Card>{text}</Card>\n                })}{' '}\n            </CardContent>\n        </Card>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(DashboardEvents))\n","import { webSocket } from '../containers/ConnectWebsocket/ConnectWebsocket'\n\nexport const setLastSeenNot = (accountId, notId) => {\n    if (webSocket && webSocket.readyState === 1) {\n        webSocket.send(\n            JSON.stringify({\n                messageCode: 'setLastSeenNot',\n                accountId,\n                notId,\n            })\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport isEqual from 'lodash.isequal'\n\nimport Post from '../../components/Post/Post'\n\nimport UserButton from '../../components/UserButton/UserButton'\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Badge,\n    Button,\n    createStyles,\n    makeStyles,\n    Typography,\n} from '@material-ui/core'\nimport DashboardEvents from './DashboardEvents'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            fontSize: 13,\n            margin: '30px 15px 10px',\n            fontWeight: 600,\n        },\n    })\n)\n\nconst DashboardPosts = props => {\n    const classes = useStyles()\n    const {\n        account,\n        friendData,\n        statePosts,\n        progressData,\n        currentPosts,\n    } = props\n\n    const [posts, setPosts] = useState([])\n    const [currentTab, setCurrentTab] = useState('posts')\n    const [startTime] = useState(new Date().getTime())\n\n    const sortPosts = (a, b) => {\n        const aN = a.notifications.filter(item => item.user !== account._id)\n        const bN = b.notifications.filter(item => item.user !== account._id)\n        if (aN.length === 0 && bN.length > 0) return 1\n        else if (aN.length > 0 && bN.length === 0) return -1\n        else if (aN.length === 0 && bN.length === 0) return 0\n        else\n            return new Date(aN[0].date).getTime() <\n                new Date(bN[0].date).getTime()\n                ? 1\n                : -1\n    }\n\n    const sortNotifications = (a, b) =>\n        new Date(a.date).getTime() < new Date(b.date).getTime() ? 1 : -1\n\n    let numberOfUnseenNots = 0\n\n    for (let not of props.lastNotifications) {\n        if (parseInt(not.notId) > parseInt(account.lastSeenNot || 0))\n            numberOfUnseenNots++\n    }\n\n    useEffect(() => {\n        if (currentPosts) {\n            const newPosts = currentPosts\n                .filter(item => statePosts[item])\n                .map(item => statePosts[item])\n\n            const newUnseenPosts = []\n            const newOldPosts = []\n            let oldPosts = [...posts]\n            for (let post of newPosts) {\n                let oldPostIndex = oldPosts.findIndex(item => {\n                    return item._id.toString() === post._id.toString()\n                })\n                if (oldPostIndex === -1) {\n                    if (\n                        post.notifications &&\n                        post.notifications.length > 0 &&\n                        new Date(post.notifications[0].date).getTime() >\n                            startTime\n                    ) {\n                        newUnseenPosts.push(post)\n                    } else {\n                        newOldPosts.push(post)\n                    }\n                } else {\n                    oldPosts[oldPostIndex] = post\n                }\n            }\n\n            for (let post of newOldPosts) {\n                const index = oldPosts.findIndex(item => {\n                    if (\n                        item &&\n                        item.notifications &&\n                        item.notifications.length > 0\n                    ) {\n                        return (\n                            new Date(item.notifications[0]).getTime() >\n                            new Date(post.notifications[0]).getTime()\n                        )\n                    } else return false\n                })\n                if (index === -1) {\n                    oldPosts.push(post)\n                } else {\n                    oldPosts.splice(index, 0, post)\n                }\n            }\n\n            let resultPosts = [...newUnseenPosts, ...oldPosts]\n            if (posts.length === 0) {\n                resultPosts = resultPosts.sort(sortPosts)\n            }\n            setPosts(resultPosts)\n        }\n    }, [currentPosts, statePosts])\n    if (!account._id) return null\n\n    let lastNotifications = []\n    for (let progress of account.followProgresses) {\n        if (progressData[progress])\n            lastNotifications = [\n                ...lastNotifications,\n                ...progressData[progress].notifications.filter(\n                    item =>\n                        item.code === 'add post' && item.user !== account._id\n                ),\n            ]\n    }\n\n    lastNotifications = lastNotifications\n        .sort(sortNotifications)\n        .map(item => item.details.postId)\n        .slice(0, 10)\n\n    const neededPosts = [\n        ...new Set([\n            ...account.followPosts,\n            ...account.myPosts,\n            ...posts.map(post => post._id),\n            ...lastNotifications,\n        ]),\n    ]\n    if (!isEqual(currentPosts, neededPosts))\n        props.setData({ currentPosts: neededPosts })\n\n    props.setPageTitle({ main: 'Dashboard', sub: '' })\n\n    return (\n        <Layout\n            header={\n                <>\n                    <Button\n                        style={{ margin: '0px 20px' }}\n                        color={currentTab === 'posts' ? 'primary' : 'default'}\n                        onClick={() => setCurrentTab('posts')}\n                        variant=\"contained\"\n                    >\n                        Posts\n                    </Button>\n                    <Badge badgeContent={numberOfUnseenNots} color=\"secondary\">\n                        <Button\n                            color={\n                                currentTab === 'events' ? 'primary' : 'default'\n                            }\n                            onClick={() => setCurrentTab('events')}\n                            variant=\"contained\"\n                        >\n                            Events\n                        </Button>\n                    </Badge>\n                </>\n            }\n        >\n            {currentTab === 'posts' ? (\n                posts.map((item, index) => {\n                    let text = null\n                    const nots = item.notifications.filter(\n                        not => not.user !== account._id\n                    )\n                    const not = nots.length > 0 ? nots[0] : null\n                    if (not) {\n                        switch (not.code) {\n                            case 'edit wishlist item':\n                                text = 'edited item in wishlist.'\n\n                                break\n                            case 'edit goal':\n                                text = 'edited goal.'\n\n                                break\n                            case 'edit perk':\n                                text = 'edited item in shop.'\n\n                                break\n\n                            case 'comment':\n                                text = 'added a comment.'\n\n                                break\n                            case 'edit comment':\n                                text = 'edited a comment.'\n\n                                break\n                            case 'like':\n                                text = 'added a like.'\n\n                                break\n                            case 'dislike':\n                                text = 'removed a like.'\n\n                                break\n                            default:\n                                text = null\n                                break\n                        }\n                    }\n                    return (\n                        <div key={index} style={{ paddingTop: '10px' }}>\n                            {text && (\n                                <>\n                                    <Typography\n                                        className={classes.title}\n                                        color=\"textSecondary\"\n                                        gutterBottom\n                                    >\n                                        <span>\n                                            <UserButton\n                                                id={not.user}\n                                                noAva={true}\n                                                span={true}\n                                                style={{ fontWeight: 'bold' }}\n                                            />{' '}\n                                            {text}\n                                        </span>\n                                    </Typography>\n                                </>\n                            )}\n                            <Post\n                                friendData={friendData}\n                                account={account}\n                                post={item}\n                                progressData={progressData}\n                            />\n                        </div>\n                    )\n                })\n            ) : (\n                <DashboardEvents account={account} />\n            )}\n        </Layout>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        account: state.account,\n        statePosts: state.post,\n        progress: state.progress,\n        friendData: state.friendData,\n        progressData: state.progressData,\n        currentPosts: state.currentPosts,\n        lastNotifications: state.lastNotifications,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setData: data => {\n            dispatch(actions.setData(data))\n        },\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(DashboardPosts)\n)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions'\nimport Helmet from 'react-helmet'\n\nimport Layout from '../../components/Layout/Layout'\nimport {\n    Card,\n    CardContent,\n    CardMedia,\n    createStyles,\n    makeStyles,\n    Typography,\n    useScrollTrigger,\n} from '@material-ui/core'\nimport Welcome from '../../components/Welcome'\nimport moment from 'moment'\nimport ReactHtmlParser from 'react-html-parser'\nimport ShareButton from '../../components/UI/ShareButton'\n\nmoment().format()\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginLeft: theme.spacing(2),\n            flex: 1,\n        },\n        root: {\n            flexGrow: 1,\n            marginTop: '20px',\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%', // 16:9\\\n            backgroundSize: 'contain',\n        },\n        backToBlog: {\n            left: '16px',\n            bottom: '88px',\n            position: 'fixed',\n            zIndex: 1,\n        },\n    })\n)\n\nconst Blog = props => {\n    const classes = useStyles()\n    const [post, setPost] = useState(null)\n    // const [comments, setComments] = useState([])\n    const [title, setTitle] = useState('')\n\n    useEffect(() => {\n        fetch('https://addspire-blog.herokuapp.com/graphql', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                query: `\n            query {\n  posts (where: { language:\"${\n      props.history.location.pathname.indexOf('/ru') === 0 ? 'ru' : 'en'\n  }\",\n  _or: [\n      {url: \"${\n          props.history.location.pathname.split('/')[\n              props.history.location.pathname.split('/').length - 1\n          ]\n      }\"},\n      {url: \"${\n          props.history.location.pathname.split('/')[\n              props.history.location.pathname.split('/').length - 1\n          ]\n      }.ru\"}\n  ] }){\n    id\n    url\n    content\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}`,\n            }),\n        })\n            .then(res => res.json())\n            .then(data => {\n                if (data.data.posts.length > 0) {\n                    setPost(data.data.posts[0])\n                    setTitle(\n                        data.data.posts[0].title +\n                            ' - Addspire Blog - a social network for sharing and supporting ideas, promises and resolutions.'\n                    )\n                }\n            })\n    }, [props.history.location.pathname])\n\n    useEffect(() => {\n        window.fbAsyncInit = function() {\n            window.FB.init({\n                appId: '115517331888071',\n                cookie: true, // enable cookies to allow the server to access the session\n                xfbml: true, // parse social plugins on this page\n                version: 'v2.5', // use version 2.1\n            })\n        }\n\n        // Load the SDK asynchronously\n        ;(function(d, s, id) {\n            var js,\n                fjs = d.getElementsByTagName(s)[0]\n            if (d.getElementById(id)) return\n            js = d.createElement(s)\n            js.id = id\n            js.src = '//connect.facebook.net/en_US/sdk.js'\n            fjs.parentNode.insertBefore(js, fjs)\n        })(document, 'script', 'facebook-jssdk')\n    }, [])\n    useEffect(() => {\n        if (window.FB) window.FB.XFBML.parse()\n    })\n    return post ? (\n        <>\n            {title && (\n                <Helmet>\n                    <title>{title}</title>\n                </Helmet>\n            )}\n\n            <Layout white>\n                <Welcome />\n\n                <Card\n                    style={{\n                        margin: '50px auto',\n                        maxWidth: '1000px',\n                        boxShadow: 'none',\n                    }}\n                >\n                    <CardMedia\n                        className={classes.media}\n                        image={post.previewImage && post.previewImage.url}\n                        title={post.title}\n                    />\n                    <CardContent style={{ paddingLeft: 0, paddingRight: 0 }}>\n                        <Typography\n                            align=\"right\"\n                            variant=\"button\"\n                            color=\"textSecondary\"\n                            component=\"p\"\n                            gutterBottom\n                        >\n                            {moment(post.published_at).format(\n                                'MMMM Do[,] YYYY'\n                            )}\n                        </Typography>\n                        <div style={{ textAlign: 'right' }}>\n                            <ShareButton\n                                post\n                                title={\n                                    post.title +\n                                    ' on Addspire.com, a social network for sharing and supporting promises and resolutions.'\n                                }\n                                media={\n                                    post.previewImage && post.previewImage.url\n                                }\n                            />\n                        </div>\n                        <Typography gutterBottom variant=\"h2\" component=\"h1\">\n                            {post.title}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h5\">\n                            {post.subtitle}\n                        </Typography>\n\n                        <Typography variant=\"body1\" className=\"blogArticle\">\n                            {ReactHtmlParser(post.content)}\n                        </Typography>\n                        <div style={{ textAlign: 'right' }}>\n                            <ShareButton\n                                post\n                                title={\n                                    post.title +\n                                    ' on Addspire.com, a social network for sharing and supporting promises and resolutions.'\n                                }\n                                media={\n                                    post.previewImage && post.previewImage.url\n                                }\n                            />\n                        </div>\n                        <div\n                            className=\"fb-comments\"\n                            data-href={\n                                'https://addspire.com' +\n                                props.history.location.pathname\n                            }\n                            data-numposts=\"5\"\n                            data-width=\"\"\n                        />\n                    </CardContent>\n                </Card>\n            </Layout>\n        </>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        account: state.account,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        setPageTitle: title => dispatch(actions.setPageTitle(title)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Blog)\n)\n","import React, { useEffect, useRef, useCallback } from 'react'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\nimport { PageView, initGA } from './components/TrackingGA'\n\nimport AuthTest from './containers/Auth/AuthTest'\nimport './components/UI/loadStyles'\nimport Progress from './containers/Progress/Progress'\nimport Reward from './containers/Reward/Reward'\nimport Blog from './containers/Blog/Blog'\n\nimport Profile from './containers/Profile/Profile'\n\nimport ActivateAccount from './containers/ActivateAccount/ActivateAccount'\n\nimport { connect } from 'react-redux'\nimport * as actions from './store/actions'\nimport ConnectWebsocket from './containers/ConnectWebsocket/ConnectWebsocket'\nimport NotificationsTracker from './containers/Dashboard/NotificationsTracker'\n\nimport RNBridge from './RNBridge'\nimport DashboardPosts from './containers/Dashboard/DashboardPosts'\nimport Explore from './containers/Explore/Explore'\nimport BlogArticle from './containers/Blog/BlogArticle'\nimport { useTranslation } from 'react-i18next'\n\nconst App = props => {\n    const mountedRef = useRef(true)\n    const { i18n } = useTranslation()\n\n    const { isAuthed } = props\n\n    const auth = useCallback(async () => {\n        try {\n            if (!mountedRef.current) return null\n            props.tryAuth()\n        } catch (error) {}\n    }, [mountedRef])\n    useEffect(() => {\n        if (!isAuthed) {\n            auth()\n        }\n        return () => {\n            mountedRef.current = false\n        }\n    }, [isAuthed])\n\n    useEffect(() => {\n        initGA('UA-45758937-4')\n    }, [])\n\n    useEffect(() => {\n        if (props.history.location.pathname.indexOf('/post/') === -1) {\n            window.scrollTo(0, 0)\n        }\n        PageView()\n    }, [props.history.location.pathname])\n\n    useEffect(() => {\n        const currentLanguage = i18n.language\n            ? i18n.language.split('-')[0]\n            : 'en'\n        props.setLanguage(currentLanguage)\n    }, [i18n.language])\n\n    const Logout = () => {\n        props.logout()\n        window.isRNWebView && window.ReactNativeWebView.postMessage('logout')\n        return <Redirect to=\"/explore\" />\n    }\n\n    let routes = (\n        <Switch>\n            <Route path=\"/\" exact component={Explore} />\n            {isAuthed !== null && (\n                <Route path=\"/posts\" exact component={DashboardPosts} />\n            )}\n\n            <Route path=\"/goals\" component={Progress} />\n            <Route path=\"/rewards\" component={Reward} />\n            <Route path=\"/wishlist\" component={Reward} />\n\n            <Route path=\"/profile\" component={Profile} />\n\n            {/* s */}\n            {/* <Route path=\"/shop\" component={Perk} /> */}\n            {/* <Route path=\"/wishlist\" component={WishlistItem} /> */}\n            <Route path=\"/logout\" exact component={Logout} />\n            <Route path=\"/ru/blog\" exact component={Blog} />\n            <Route path=\"/blog\" exact component={Blog} />\n            <Route path=\"/ru/blog\" component={BlogArticle} />\n            <Route path=\"/blog\" component={BlogArticle} />\n\n            <Route path=\"/activate-account\" exact component={ActivateAccount} />\n\n            {process.env.NODE_ENV === 'development' && !isAuthed && (\n                <Route path=\"/logintest\" exact component={AuthTest} />\n            )}\n            <Redirect to=\"/\" />\n        </Switch>\n    )\n\n    if (props.accountNotActive) {\n        routes = (\n            <Switch>\n                <Route path=\"/logout\" exact component={Logout} />\n\n                <Route\n                    path=\"/activate-account\"\n                    exact\n                    component={ActivateAccount}\n                />\n\n                {process.env.NODE_ENV === 'development' && !isAuthed && (\n                    <Route path=\"/logintest\" exact component={AuthTest} />\n                )}\n                {isAuthed ? (\n                    <Redirect to=\"/activate-account\" />\n                ) : (\n                    <Redirect to=\"/\" />\n                )}\n            </Switch>\n        )\n    }\n\n    return (\n        <>\n            {routes}\n            {isAuthed && <ConnectWebsocket />}\n            {isAuthed && <NotificationsTracker />}\n            <RNBridge />\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthed: state.isAuthed,\n        accountNotActive: state.accountNotActive,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        tryAuth: () => dispatch(actions.tryAuth()),\n        logout: () => dispatch(actions.logout()),\n        setLanguage: language => dispatch(actions.setLanguage(language)),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(App)\n)\n","import ReactGA from 'react-ga'\n\nexport const initGA = trackingID => {\n    ReactGA.initialize(trackingID)\n}\n\nexport const PageView = () => {\n    ReactGA.pageview(window.location.pathname + window.location.search)\n}\n\nexport const Event = (category, action, label) => {\n    ReactGA.event({\n        category: category,\n        action: action,\n        label: label,\n    })\n}\n","import { createReducer } from '@reduxjs/toolkit'\n\nexport const initialState = {\n    isAuthed: false,\n    user: null,\n    currentAccount: '',\n    account: {},\n    friendData: {},\n    transactionData: {},\n    progressData: {},\n    currentProfile: '',\n    profile: {},\n    currentProgress: '',\n    currentPosts: [],\n    progress: {},\n    post: {},\n    postData: {},\n    reward: {},\n    currentReward: '',\n    rewardData: {},\n    pageTitle: {},\n    friendSearchResult: [],\n    accountNotActive: false,\n    lastNotifications: [],\n    isConnectingWS: false,\n    onlineUsers: [],\n    language: 'en',\n}\n\nconst reducer = createReducer(initialState, {\n    SET_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'isAuthed',\n                'currentAccount',\n                'currentProfile',\n                'currentPosts',\n                'currentReward',\n                'profile',\n                'currentProgress',\n                'progress',\n                'reward',\n                'lastNotifications',\n                'onlineUsers',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    state[key] = action.data[key]\n                }\n            }\n\n            for (let key of [\n                'friendData',\n                'progressData',\n                'post',\n                'postData',\n                'rewardData',\n                'transactionData',\n            ]) {\n                if (typeof action.data[key] !== 'undefined') {\n                    for (let attr in action.data[key]) {\n                        if (action.data[key][attr]) {\n                            state[key][attr] = action.data[key][attr]\n                        }\n                    }\n                }\n            }\n            if (action.data.newOnlineUsers) {\n                state.onlineUsers = [\n                    ...state.onlineUsers,\n                    ...action.data.newOnlineUsers,\n                ]\n            }\n        }\n        if (state.user) {\n            if (state.user.currentAccount) {\n                state.currentAccount = state.user.currentAccount\n                state.accountNotActive = false\n            } else if (state.user.myAccount) {\n                state.currentAccount = state.user.myAccount\n                state.accountNotActive = false\n            } else {\n                state.accountNotActive = true\n            }\n        }\n    },\n    REMOVE_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            for (let key of [\n                'user',\n                'account',\n                'profile',\n                'progress',\n                'reward',\n            ]) {\n                for (let item of action.data[key]) {\n                    if (state[key]._id === item) {\n                        state[key] = {}\n                    }\n                }\n            }\n            for (let key of [\n                'post',\n                'friendData',\n                'progressData',\n                'postData',\n                'rewardData',\n                'transactionData',\n            ]) {\n                for (let item of action.data[key]) {\n                    delete state[key][item]\n                }\n            }\n        }\n    },\n    SET_FRIEND_SEARCH_RESULT: (state: Object, action: Object) => {\n        state.friendSearchResult = action.data\n    },\n\n    SET_FRIENDS_DATA: (state: Object, action: Object) => {\n        if (action.data) {\n            state.account.friendsData = action.data\n        }\n        if (action.data.perk) state.perk = action.data.perk\n    },\n    SET_AVATAR_V: (state: Object, action: Object) => {\n        state.account.image = action.v\n    },\n    SET_LANGUAGE: (state: Object, action: Object) => {\n        state.language = action.language\n    },\n    INCREASE_AVATAR_V: (state: Object) => {\n        state.account.image = state.account.image + 1\n    },\n    SET_IS_AUTHED: (state: Object, action: Object) => {\n        state.isAuthed = action.id\n    },\n    SET_PAGE_TITLE: (state: Object, action: Object) => {\n        state.pageTitle = action.title\n    },\n    SET_ACCOUNT_ACTIVATED: (state: Object, action: Object) => {\n        state.accountNotActive = action.value\n    },\n    SET_CONNECTING_WS: (state: Object, action: Object) => {\n        state.isConnectingWS = action.data\n    },\n})\n\nexport default reducer\n","import en from './en.json'\nimport ru from './ru.json'\n\nexport default {\n    en: {\n        translation: en,\n    },\n    ru: {\n        translation: ru,\n    },\n}\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport resources from './languages'\n\n// the translations\n// (tip move them in a JSON file and import them)\n\ni18n.use(LanguageDetector)\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n        resources,\n        fallbackLng: 'en',\n        keySeparator: false, // we do not use keys in form messages.welcome\n        interpolation: {\n            escapeValue: false, // react already safes from xss\n        },\n        nonExplicitSupportedLngs: true,\n    })\n\nexport default i18n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\n\nimport './index.css'\nimport App from './App'\nimport reducer from './store/reducer/reducer'\n//import * as serviceWorker from './serviceWorker';\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport { purple } from '@material-ui/core/colors'\nimport './translations/i18n'\n\nconst outerTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: purple[500],\n        },\n    },\n    typography: {\n        fontSize: 13,\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                backgroundColor: 'white',\n                color: '#333',\n            },\n        },\n    },\n})\n\nif (process.env.NODE_ENV === 'development') {\n    axios.defaults.baseURL = 'http://my.websiter.test:5000'\n} else {\n    axios.defaults.baseURL = 'https://addspire.com'\n}\n// axios.defaults.withCredentials = true\n\nexport const store = createStore(\n    reducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <ThemeProvider theme={outerTheme}>\n                <App />\n            </ThemeProvider>\n        </BrowserRouter>\n    </Provider>\n)\n\nconst root = document.getElementById('root')\n\nReactDOM.render(app, root)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}