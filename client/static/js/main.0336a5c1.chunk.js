(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,a){e.exports={Layout:"Layout_Layout__3q-xb",Header:"Layout_Header__J8BzQ",Footer:"Layout_Footer__1UfUY",HideHeader:"Layout_HideHeader__2uuFO",FooterButton:"Layout_FooterButton__VhJUa",TopHeader:"Layout_TopHeader__277Y8",BottomHeader:"Layout_BottomHeader__3YPE5",Main:"Layout_Main__Py9vL",MenuButtonContiner:"Layout_MenuButtonContiner__2imT-",QuickButtonContiner:"Layout_QuickButtonContiner__3mw1U",PageTitle:"Layout_PageTitle__1_EDr",bottomMenu:"Layout_bottomMenu__p7MZh",logo:"Layout_logo__3_HwF"}},291:function(e,t,a){e.exports={Container:"LoginModal_Container__1PdGZ",socialButtons:"LoginModal_socialButtons__1H9u7",Background:"LoginModal_Background__2foqr"}},463:function(e){e.exports={welcome:{title:"Here we ",phrase1:"keep promises.",phrase2:"motivate.",phrase3:"reach goals.",phrase4:"inspire.",videoLink:"aXk0QNu09EQ",button:"Start reaching your goals",subheader:"Share and support goals, promises and resolutions.",stepsTitle:"How it works",stepTitle1:"Set your goals",stepBody1:"Set goals for yourself or for someone you care",stepTitle2:"Add activities",stepBody2:"Decide how you will reach your goals",stepTitle3:"Create motivation",stepBody3:"Add rewards, track your progress, and get the support from the community",videoHowLink:"N3-gFw3Icw4"},layout:{blog:"Blog",login:"Login"},explore:{noGoals:"No goals found.",wrongData:"Something is wrong with the search data. Please try one more time with new search data.",title:"Explore goals and ideas from around the World!",desc:"Addspire is a social network where you can inspire and motivate yourself or the people you care.",mapPHGoals:"Search goals",mapPHActivities:"Search activities",mapPHRewards:"Search reards",recentViewedGoals:"Recently viewed goals by you",topGoalsTitle:"Top goals and resolutions",loading:"Loading...",shareText:" on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",searchWithLocation:"Search with location",myLocation:"My location"},processRes:{404:"Resource is not found. Maybe it has been deleted.",accountNotFound:"Account is not found. Please login.",error:"Error. Please try one more time with correct data.",generalError:"Something wrong has happened... Try again!",avaSaved:"The avatar image has been updated.",success:"Success!",saved:"Item is saved",goalStarted:"Goal has started!",rewardStarted:"Reward has been created!",activityStarted:"Activity has started!"},reward:{aUser:"a user",itemLikes:"Item likes",deleteItem:"Delete item",confirmDelete:"Are you sure you want to delete this item?",addReward:"Add reward",addRewardToGoal:"Add reward to goal",confirmRemove:"Are you sure you want to delete this reward? This reward will be only deleted from this goal.",addNew:"Add new ",edit:"Edit ",item:"item",reward:"reward",forActivities:" for activities "},wish:{received:"Received",addNewItem:"Add new item",editItem:"Edit item"},g:{choose:"Choose",done:"Done",addGoal:"Add goal",by:"by ",edit:"Edit",delete:"Delete",save:"Save",images:"Images",image:"Image",name:"Name",desc:"Description",itemDetails:"Item details",confirm:"Confirm",cancel:"Cancel",unlike:"Unlike",like:"Like",likes:"Likes",wishlistItem:"Wishlist item",reward:"Reward",item:"item",shareText:"on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",close:"Close",comments:"Comments",day:"day",week:"week",month:"month",year:"year",hide:"Hide",show:"Show",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",everyDay:"every day",everyDayOfWeek:"every day of week",everyWeek:"every week",everyMonth:"every month",everyYear:"every year",noRepeat:"No repeat",unfollow:"Unfollow",leave:"Leave",followers:"Followers",follow:"Follow",repeats:"Repeats",postsAndComments:"Posts and comments",upload:"Upload",following:"Following",logout:"Logout",goals:"Goals",accept:"Accept",decline:"Decline",friends:"Friends",addFriend:"Add friend",received:"Received",gave:"Gave",users:"Users",distance:"Distance",units:"Units",miles:"miles",km:"km",posts:"Posts",events:"Events",actions:"Actions",acceptFriendship:"Accept friendship",becomeFriends:"Become friends",cancelInvitation:"Cancel invitation",unfriend:"Unfriend",addSomeText:"Add some text",share:"Share",shareTo:"Share to:",email:"Email",copyUrl:"Copy url",urlCopied:"Url is copied to the clipboard!",readLess:"Show less",readMore:"Show more",previewImage:"Preview image",add:"Add",rewards:"Rewards",remove:"Remove",wishlist:"Wishlist",addItem:"Add item",disagree:"Disagree",agree:"Agree",place:"Place",pleaseSelect:"Please select",send:"Send",addspireFriends:"Addspire friends",otherFriends:"Other friends",categories:"Categories",animals:"Animals",building:"Building",cars:"Cars & motocycles",diy:"DIY",design:"Design",education:"Education",entertainment:"Entertainment",food:"Food & drinks",gardening:"Gardening",health:"Health",sport:"Sport",home:"Home",kids:"Kids & parenting",fashion:"Fashion",nature:"Nature",travel:"Travel",other:"Other",similarGoals:"Similar goals",spaceCategories:" categories",activities:"Activities",addActivity:"Add activity",addReward:"Add reward",newGoal:"New goal",newActivity:"New activity",newReward:"New reward",mapPlaceholder:"Search places and addresses",mapTitle:"Search",goalLikes:"Goal likes",goalFollowers:"Goal followers",rewardLikes:"Reward likes",rewardFollowers:"Reward followers",activityLikes:"Activity likes",activityFollowers:"Activity followers",position:"Position",activity:"Activity",tracking:"Tracking",goal:"Goal",once:"Once",no:"No",everyTime:"Every time",manual:"Manually",needLogin:"You need to login or sign up first.",somethingFailed:"Something failed. Try again.",goToActivity:"Go to activity",removeActivity:"Remove activity",editGoal:"Edit goal",editActivity:"Edit activity",editReward:"Edit reward",forTheseActivities:"For these activities:",goToReward:"Go to reward item",sendRewardManually:"Send reward manually",removeReward:"Remove reward",addPost:"Add post",block:"Block",text:"Text",changeParent:"Change parent",detailsFor:"Details for",fromStart:"From (start)",toGoal:"To (goal)",resultFinish:"Result (finish)",date:"Date",open:"Open",addMedia:"Add media",addMediaDesc:"Add media url. Supported platforms: YouTube, Facebook, Twitch, SoundCloud, Streamable, Vimeo, Wistia, Mixcloud, and DailyMotion. If you want to remove video, delete the url.",lineType:"Line type",lineWidth:"Line width",lineColor:"Line color",background:"Background",corners:"Corners",back:"Back",fullscreen:"Fullscreen",chooseParent:"Select a block (new parent).",UNDO:"UNDO",video:"Video/Media",styleBlock:"Block style",styleLine:"Line style",chooseImage:"Choose image"},progress:{failed:"Failed",completed:"Completed",dismissed:"Dismissed",inProcess:"In process",fail:"Fail",complete:"Complete",dismiss:"Dismiss",earnedRewards:" earned rewards",tracking:"Tracking",addNewGoal:"Add new goal",achievers:"Participants",dueDate:"Due date",finishDate:"Finished"},profile:{shareText:" account on Addspire.com - a social network for sharing and supporting ideas, promises and resolutions.",pendingFriendships:"Pending friendships",awaitingApproval:"Awaiting approval",receivedAndGivenRewards:"Recieved and given rewards",settings:"Settings",deleteAccount:"Delete account",pleaseEnterNickname:"Please enter your nickname (",andPressOk:") and press Ok to delete your account."},friends:{peopleInvitedMe:"People invited me to be friends",iInvitedPeople:"I invited these people",pending:"Pending",instructions:"To find a friend you need to enter your friend's name or nickname.",searchFriends:"Search friend"},dash:{editedItem:"edited item in wishlist.",editedGoal:"edited goal.",addedComment:"added a comment.",editedComment:"edited a comment.",addedLike:"added a like.",removedLike:"removed a like.",changedName:" changed name.",deletedAccount:"deleted account.",wantsToBecomeFriends:" wants to become friends with you.",and:" and ",becameFriends:" became friends.",stoppedFriends:" stopped being friends.",addedToWish:"added to wishlist a new item",editedWish:"edited in wishlist",deleted:" deleted ",fromWish:"from wishlist.",addedGoal:"added a new goal",editedGoalND:"edited goal",fromGoals:"from goals.",cancelled:"cancelled",confirmed:"confirmed",by:" by ",startedParticipating:" started participating in goal ",as:" as ",approved:" approved  ",putToProgress:" put into process ",markedFailed:" marked as failed ",dismissed:" dismissed ",for:" for ",goal:"Goal ",wasApprovedAndFinished:" was approved and finished.",received:" received ",asReward:" as a reward from ",inGoal:" in goal ",leftGoal:" left goal ",andAdded:" and added ",andRemoved:" and removed ",removed:"removed ",fromGoal:" from goal ",added:"added ",toGoal:" to goal ",asRewardFor:"as a reward for",all:" all ",newEvent:"New event",seeProfile:"See profile",sharedAndInvitedYouTo:"Shared and invited you to",somethingOnAddspire:"something on Addspire"},blog:{hide:"Hide articles not in my language",show:"Show articles in all languages",title:"Addspire Blog - a social network for sharing and supporting ideas, promises and resolutions."},activate:{activateAccount:"Activate account",minLength:"Must be more than 1 character long",nickname:"Nickname",accountActivated:"Your account has been activated!",nicknameTaken:"The nickname is taken. Choose another nickname please.",wrongData:"Something is wrong with the data. Please try one more time with new data.",accountActivation:"Account activation"},rules:{nicknameShort:"Nickname is too short. Minimal length is 2.",nicknameLong:"Nickname is too long. Maximum length is",nicknameType:"Nickname should contain only letters, numbers, '-' and '_'.",nameShort:"Name is too short. Minimal length is 1.",nameLong:"Name is too long. Maximum length is",accNameShort:"Name is too short. Minimal length is 2.",accNameLong:"Name is too long. Maximum length is",descLong:"Description is too long. Miximum length is",messageShort:"Message is too short. Minimal length is 1.",messageLong:"Message is too long. Miximum length is"},post:{mainPost:"Main post",comment:"Comment",shareText:"Post in goal on Addspire.com - a social network for sharing and supporting promises and resolutions.",comments:"comments",otherPosts:"Other posts",messageLikes:"Message likes",editPost:"Edit post",reply:"Reply",replies:"replies",postNew:"Post something new",createNewPost:"Create a new post",addComment:"Add a comment",imageLimit:"You can not attach more than 8 images.",confirmDelete:"Are you sure you want to delete this post?"},login:{cookieText:"We use cookies only for login and analytic purposes. In order to proceed you need to agree with the use of cookies.",welcome:"Welcome to Addspire!",rememberMe:"Remember me",loginLater:"Login or sign up later"},resource:{confirmDelete:"Are you sure you want to delete this item?",confirmLeave:"Are you sure you want to leave this item?"},activity:{confirmRemove:"Are you sure you want to delete this item?",addActivityToGoal:"Add activity to goal"},trans:{from:"From ",to:" to ",inGoal:" in goal ",inActivity:" in activity ",status:"Status: ",confirmed:"Confirmed",pending:"Pending",cancelled:"Cancelled",deleteItem:"Delete item",confirmDelete:"Confirm deleting the reward"}}},464:function(e){e.exports={welcome:{title:"\u0417\u0434\u0435\u0441\u044c \u043c\u044b ",phrase1:"\u043c\u043e\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u043c.",phrase2:"\u043e\u0431\u0435\u0449\u0430\u0435\u043c.",phrase3:"\u0434\u043e\u0441\u0442\u0438\u0433\u0430\u0435\u043c.",phrase4:"\u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u0435\u043c.",videoLink:"B-R6dMUA6Gw",button:"\u041d\u0430\u0447\u0430\u0442\u044c \u0434\u043e\u0441\u0442\u0438\u0433\u0430\u0442\u044c \u043c\u043e\u0438 \u0446\u0435\u043b\u0438",subheader:"Addspire - \u044d\u0442\u043e \u043b\u0443\u0447\u0448\u0435\u0435 \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f \u0446\u0435\u043b\u0435\u0439 \u0438 \u043c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u0438.",stepsTitle:"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442",stepTitle1:"\u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u0446\u0435\u043b\u0438",stepBody1:"\u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0446\u0435\u043b\u0438 \u0434\u043b\u044f \u0441\u0435\u0431\u044f \u0438 \u0434\u043b\u044f \u0431\u043b\u0438\u0437\u043a\u0438\u0445",stepTitle2:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u0435",stepBody2:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435, \u043a\u0430\u043a \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0434\u043e\u0441\u0442\u0438\u0433\u0430\u0442\u044c \u0446\u0435\u043b\u0435\u0439",stepTitle3:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u044e",stepBody3:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u0443, \u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043d\u0435\u0432\u043d\u0438\u043a \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430",videoHowLink:"i8p9TKqQAjY"},layout:{blog:"\u0411\u043b\u043e\u0433",login:"\u0412\u043e\u0439\u0442\u0438"},explore:{noGoals:"\u0426\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.",wrongData:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u043e\u0438\u0441\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430.",title:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0446\u0435\u043b\u0438 \u0438 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u044f \u043b\u044e\u0434\u0435\u0439 \u0441\u043e \u0432\u0441\u0435\u0433\u043e \u043c\u0438\u0440\u0430!",desc:"Addspire - \u044d\u0442\u043e \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c, \u0433\u0434\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u043e\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043b\u044e\u0434\u0435\u0439.",mapPHGoals:"\u041f\u043e\u0438\u0441\u043a \u0446\u0435\u043b\u0435\u0439",mapPHActivities:"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u043d\u044f\u0442\u0438\u0439",mapPHRewards:"\u041f\u043e\u0438\u0441\u043a \u043d\u0430\u0433\u0440\u0430\u0434",recentViewedGoals:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0432\u0430\u043c\u0438 \u0446\u0435\u043b\u0438",topGoalsTitle:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0446\u0435\u043b\u0438 \u0438 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u044f",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",shareText:" \u043d\u0430 Addspire.com - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c, \u0433\u0434\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u043e\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043b\u044e\u0434\u0435\u0439.",searchWithLocation:"\u041f\u043e\u0438\u0441\u043a \u043d\u0430 \u043a\u0430\u0440\u0442\u0435",myLocation:"\u041c\u043e\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"},processRes:{404:"\u0420\u0435\u0441\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043d \u0431\u044b\u043b \u0443\u0434\u0430\u043b\u0435\u043d.",accountNotFound:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0439\u0442\u0438 \u0441\u043d\u043e\u0432\u0430.",error:"\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.",generalError:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430!",avaSaved:"\u0410\u0432\u0430\u0442\u0430\u0440 \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",success:"\u0423\u0441\u043f\u0435\u0445!",saved:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",goalStarted:"\u0426\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0430!",rewardStarted:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430!",activityStarted:"\u0417\u0430\u043d\u044f\u0442\u0438\u0435 \u043d\u0430\u0447\u0430\u0442\u043e!"},reward:{aUser:"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",itemLikes:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c",deleteItem:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirmDelete:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u043f\u0438\u0441\u044c?",addReward:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443",addRewardToGoal:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443 \u043a \u0446\u0435\u043b\u0438",confirmRemove:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u043d\u0430\u0433\u0440\u0430\u0434\u0443? \u042d\u0442\u0430 \u043d\u0430\u0433\u0440\u0430\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u044d\u0442\u043e\u0439 \u0446\u0435\u043b\u0438.",addNew:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e ",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ",item:"\u0437\u0430\u043f\u0438\u0441\u044c",reward:"\u043d\u0430\u0433\u0440\u0430\u0434\u0443",forActivities:" \u0437\u0430 \u0437\u0430\u043d\u044f\u0442\u0438\u044f "},wish:{received:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b\u0435",addNewItem:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",editItem:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"},g:{choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",done:"\u0413\u043e\u0442\u043e\u0432\u043e",addGoal:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0435\u043b\u044c",by:"\u043e\u0442 ",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",images:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",image:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",name:"\u0418\u043c\u044f",desc:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",itemDetails:"\u0414\u0435\u0442\u0430\u043b\u0438",confirm:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",unlike:"\u041d\u0435\u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",like:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",likes:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",wishlistItem:"\u0416\u0435\u043b\u0430\u043d\u0438\u0435",reward:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430",item:"\u0437\u0430\u043f\u0438\u0441\u044c",shareText:"\u0432 Addspire.com - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c, \u0433\u0434\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u043e\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043b\u044e\u0434\u0435\u0439.",close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",comments:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",day:"\u0434\u0435\u043d\u044c",week:"\u043d\u0435\u0434\u0435\u043b\u044f",month:"\u043c\u0435\u0441\u044f\u0446",year:"\u0433\u043e\u0434",hide:"\u0421\u043a\u0440\u044b\u0442\u044c",show:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",sunday:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",monday:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",tuesday:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a",wednesday:"\u0421\u0440\u0435\u0434\u0430",thursday:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",friday:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430",saturday:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430",sun:"\u0412\u0441\u043a",mon:"\u041f\u043e\u043d",tue:"\u0412\u0442\u0440",wed:"\u0421\u0440\u0434",thu:"\u0427\u0442\u0432",fri:"\u041f\u0442\u043d",sat:"\u0421\u0443\u0431",everyDay:"\u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c",everyDayOfWeek:"\u0434\u0435\u043d\u044c \u043d\u0435\u0434\u0435\u043b\u0438",everyWeek:"\u043a\u0430\u0436\u0434\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e",everyMonth:"\u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",everyYear:"\u043a\u0430\u0436\u0434\u044b\u0439 \u0433\u043e\u0434",noRepeat:"\u041e\u0434\u0438\u043d \u0440\u0430\u0437",unfollow:"\u041d\u0435 \u0441\u043b\u0435\u0434\u0438\u0442\u044c",leave:"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c",followers:"\u0424\u043e\u043b\u043b\u043e\u0432\u0435\u0440\u044b",follow:"\u0421\u043b\u0435\u0434\u0438\u0442\u044c",repeats:"\u041f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u044f",postsAndComments:"\u041f\u043e\u0441\u0442\u044b \u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",following:"\u0421\u043b\u0435\u0434\u0438\u0442 \u0437\u0430",logout:"\u0412\u044b\u0439\u0442\u0438",goals:"\u0426\u0435\u043b\u0438",decline:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",friends:"\u0414\u0440\u0443\u0437\u044c\u044f",accept:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",addFriend:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u0430",received:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e",gave:"\u041e\u0442\u0434\u0430\u043d\u043e",users:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",distance:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435",units:"\u042e\u043d\u0438\u0442\u044b",miles:"\u043c\u0438\u043b\u0438",km:"\u043a\u043c",posts:"\u041f\u043e\u0441\u0442\u044b",events:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f",actions:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",acceptFriendship:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u0434\u0440\u0443\u0436\u0431\u043a",becomeFriends:"\u0421\u0442\u0430\u0442\u044c \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438",cancelInvitation:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0440\u0443\u0436\u0431\u0443",unfriend:"\u041d\u0435 \u0434\u0440\u0443\u0436\u0438\u0442\u044c",addSomeText:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",share:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",shareTo:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441:",email:"\u0418\u043c\u0435\u0439\u043b",copyUrl:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",urlCopied:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430!",readLess:"\u0421\u043a\u0440\u044b\u0442\u044c",readMore:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",previewImage:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",add:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",rewards:"\u041d\u0430\u0433\u0440\u0430\u0434\u044b",remove:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",wishlist:"\u0416\u0435\u043b\u0430\u043d\u0438\u044f",addItem:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",disagree:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f",agree:"\u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0442\u044c\u0441\u044f",place:"\u041c\u0435\u0441\u0442\u043e",pleaseSelect:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435",send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",addspireFriends:"\u0414\u0440\u0443\u0437\u044c\u044f \u0432 Addspire",otherFriends:"\u0414\u0440\u0443\u0433\u0438\u0435 \u0434\u0440\u0443\u0437\u044c\u044f",categories:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",animals:"\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435",building:"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",cars:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 \u0438 \u043c\u043e\u0442\u043e\u0446\u0438\u043a\u043b\u044b",diy:"\u0421\u0432\u043e\u0438\u043c\u0438 \u0440\u0443\u043a\u0430\u043c\u0438",design:"\u0414\u0438\u0437\u0430\u0439\u043d",education:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435",entertainment:"\u0420\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435",food:"\u0415\u0434\u0430 \u0438 \u043d\u0430\u043f\u0438\u0442\u043a\u0438",gardening:"\u041e\u0433\u043e\u0440\u043e\u0434",health:"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435",sport:"\u0421\u043f\u043e\u0440\u0442",home:"\u0414\u043e\u043c",kids:"\u0414\u0435\u0442\u0438 \u0438 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0438",fashion:"\u0421\u0442\u0438\u043b\u044c",nature:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430",travel:"\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435",other:"\u0414\u0440\u0443\u0433\u043e\u0435",similarGoals:"\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u0446\u0435\u043b\u0438",spaceCategories:" \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439",activities:"\u0417\u0430\u043d\u044f\u0442\u0438\u044f",addActivity:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435",addReward:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443",newGoal:"\u041d\u043e\u0432\u0430\u044f \u0446\u0435\u043b\u044c",newActivity:"\u041d\u043e\u0432\u043e\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u0435",newReward:"\u041d\u043e\u0432\u0430\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u0430",mapPlaceholder:"\u041f\u043e\u0438\u0441\u043a \u043c\u0435\u0441\u0442 \u0438 \u0430\u0434\u0440\u0435\u0441\u0441\u043e\u0432",mapTitle:"\u041f\u043e\u0438\u0441\u043a",goalLikes:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",goalFollowers:"\u0424\u043e\u043b\u043b\u043e\u0432\u0435\u0440\u044b",rewardLikes:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",rewardFollowers:"\u0424\u043e\u043b\u043b\u043e\u0432\u0435\u0440\u044b",activityLikes:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",activityFollowers:"\u0424\u043e\u043b\u043b\u043e\u0432\u0435\u0440\u044b",position:"\u041c\u0435\u0441\u0442\u043e",activity:"\u0417\u0430\u043d\u044f\u0442\u0438\u0435",tracking:"\u0413\u0440\u0430\u0444\u0438\u043a",goal:"\u0426\u0435\u043b\u044c",once:"\u041e\u0434\u0438\u043d \u0440\u0430\u0437",no:"\u041d\u0435\u0442",everyTime:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437",manual:"\u0412\u0440\u0443\u0447\u043d\u0443\u044e",needLogin:"\u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0432\u043e\u0439\u0442\u0438 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",somethingFailed:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",goToActivity:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0437\u0430\u043d\u044f\u0442\u0438\u0435",removeActivity:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435",editGoal:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0446\u0435\u043b\u0438",editActivity:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435",editReward:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443",forTheseActivities:"\u0414\u043b\u044f \u044d\u0442\u0438\u0445 \u0437\u0430\u043d\u044f\u0442\u0438\u0439:",goToReward:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043d\u0430\u0433\u0440\u0430\u0434\u0443",sendRewardManually:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443",removeReward:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443",addPost:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442",block:"\u0411\u043b\u043e\u043a",text:"\u0422\u0435\u043a\u0441\u0442",changeParent:"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438",detailsFor:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0434\u043b\u044f",fromStart:"\u0418\u0437 (\u0441\u0442\u0430\u0440\u0442)",toGoal:"\u0412 (\u0446\u0435\u043b\u044c)",resultFinish:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (\u0444\u0438\u043d\u0438\u0448)",date:"\u0414\u0430\u0442\u0430",open:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c",addMedia:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0434\u0438\u0430",addMediaDesc:"\u0412\u0441\u0442\u0430\u044c\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043c\u0435\u0434\u0438\u0430. \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432\u0438\u0434\u0435\u043e \u0441: YouTube, Facebook, Twitch, SoundCloud, Streamable, Vimeo, Wistia, Mixcloud, \u0438 DailyMotion. \u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e, \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441.",lineType:"\u0422\u0438\u043f \u043b\u0438\u043d\u0438\u0438",lineWidth:"\u0422\u043e\u043b\u0449\u0438\u043d\u0430 \u043b\u0438\u043d\u0438\u0438",lineColor:"\u0426\u0432\u0435\u0442 \u043b\u0438\u043d\u0438\u0438",background:"\u0424\u043e\u043d",corners:"\u0423\u0433\u043b\u044b",back:"\u041d\u0430\u0437\u0430\u0434",fullscreen:"\u041f\u043e\u043b\u043d\u044b\u0439 \u044d\u043a\u0440\u0430\u043d",chooseParent:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u043b\u043e\u043a, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438  \u044d\u0442\u043e\u0442 \u0431\u043b\u043e\u043a.",UNDO:"\u041e\u0422\u041c\u0415\u041d\u0410",video:"\u0412\u0438\u0434\u0435\u043e/\u041c\u0435\u0434\u0438\u0430",styleBlock:"\u0421\u0442\u0438\u043b\u044c \u0431\u043b\u043e\u043a\u0430",styleLine:"\u0421\u0442\u0438\u043b\u044c \u043b\u0438\u043d\u0438\u0438"},progress:{failed:"\u041d\u0435\u0443\u0434\u0430\u0447\u0430",completed:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",dismissed:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e",inProcess:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",fail:"\u041d\u0435\u0443\u0434\u0430\u0447\u0430",complete:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",dismiss:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",earnedRewards:" \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b",tracking:"\u0422\u0440\u0435\u043a\u0438\u043d\u0433",addNewGoal:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0446\u0435\u043b\u044c",achievers:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",dueDate:"\u0421\u0440\u043e\u043a",finishDate:"\u0417\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043e"},profile:{shareText:" \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0430 Addspire.com - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0446\u0435\u043b\u0435\u0439, \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0439 \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f.",pendingFriendships:"\u0414\u0440\u0443\u0437\u044c\u044f \u0432 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438",awaitingApproval:"\u041e\u0436\u0438\u0434\u0430\u044e\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",receivedAndGivenRewards:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0438 \u043e\u0442\u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b",settings:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",deleteAccount:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",pleaseEnterNickname:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c (",andPressOk:") \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f."},friends:{peopleInvitedMe:"\u0425\u043e\u0442\u044f\u0442 \u0434\u0440\u0443\u0436\u0438\u0442\u044c \u0441\u043e \u043c\u043d\u043e\u0439",iInvitedPeople:"\u042f \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u043b \u0434\u0440\u0443\u0436\u0438\u0442\u044c",pending:"\u0412 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438",instructions:"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0433\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0435\u0433\u043e \u0438\u043c\u044f \u0438\u043b\u0438 \u043d\u0438\u043a\u043d\u0435\u0439\u043c.",searchFriends:"\u041f\u043e\u0438\u0441\u043a \u0434\u0440\u0443\u0437\u0435\u0439"},dash:{editedItem:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0436\u0435\u043b\u0430\u043d\u0438\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0436\u0435\u043b\u0430\u043d\u0438\u0439.",editedGoal:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0446\u0435\u043b\u044c.",addedComment:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439.",editedComment:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439.",addedLike:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u043b\u0430\u0439\u043a.",removedLike:"\u0443\u0434\u0430\u043b\u0438\u043b \u043b\u0430\u0439\u043a.",changedName:" \u0438\u0437\u043c\u0435\u043d\u0438\u043b \u0438\u043c\u044f.",deletedAccount:"\u0443\u0434\u0430\u043b\u0438\u043b \u0430\u043a\u043a\u0430\u0443\u043d\u0442.",wantsToBecomeFriends:" \u0445\u043e\u0447\u0435\u0442 \u0434\u0440\u0443\u0436\u0438\u0442\u044c \u0441 \u0432\u0430\u043c\u0438.",and:" \u0438 ",becameFriends:" \u0441\u0442\u0430\u043b\u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438.",stoppedFriends:" \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043b\u0438 \u0434\u0440\u0443\u0436\u0438\u0442\u044c.",addedToWish:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0436\u0435\u043b\u0430\u043d\u0438\u0435",editedWish:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0436\u0435\u043b\u0430\u043d\u0438\u0435",deleted:" \u0443\u0434\u0430\u043b\u0438\u043b ",fromWish:"\u0438\u0437 \u0436\u0435\u043b\u0430\u043d\u0438\u0439.",addedGoal:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0446\u0435\u043b\u044c",editedGoalND:"\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0446\u0435\u043b\u044c",fromGoals:"\u0438\u0437 \u0446\u0435\u043b\u0435\u0439.",cancelled:"\u043e\u0442\u043c\u0435\u043d\u0438\u043b",confirmed:"\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b",by:" \u043e\u0442 ",startedParticipating:" \u043d\u0430\u0447\u0430\u043b \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 \u0446\u0435\u043b\u0438 ",as:" \u043a\u0430\u043a ",approved:" \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b  ",putToProgress:" \u043e\u0442\u043c\u0435\u0442\u0438\u043b \u043a\u0430\u043a \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 ",markedFailed:" \u043e\u0442\u043c\u0435\u0442\u0438\u043b \u043a\u0430\u043a \u043d\u0435\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e ",dismissed:" \u043e\u0442\u043c\u0435\u043d\u0438\u043b ",for:" \u0434\u043b\u044f ",goal:"\u0426\u0435\u043b\u044c ",wasApprovedAndFinished:" \u0431\u044b\u043b\u0430 \u0432\u044b\u043e\u043b\u043d\u0435\u043d\u0430.",received:" \u043f\u043e\u043b\u0443\u0447\u0438\u043b ",asReward:" \u043a\u0430\u043a \u043d\u0430\u0433\u0440\u0430\u0434\u0443 \u043e\u0442 ",inGoal:" \u0432 \u0446\u0435\u043b\u0438 ",leftGoal:" \u043f\u043e\u043a\u0438\u043d\u0443\u043b \u0446\u0435\u043b\u044c ",andAdded:" \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043b ",andRemoved:" \u0438 \u0443\u0434\u0430\u043b\u0438\u043b ",removed:"\u0443\u0434\u0430\u043b\u0438\u043b ",fromGoal:" \u0438\u0437 \u0446\u0435\u043b\u0438 ",added:"\u0434\u043e\u0431\u0430\u0432\u0438\u043b ",toGoal:" \u043a \u0446\u0435\u043b\u0438 ",asRewardFor:"\u043a\u0430\u043a \u043d\u0430\u0433\u0440\u0430\u0434\u0443 \u0437\u0430",all:" \u0432\u0441\u0435 ",newEvent:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435",seeProfile:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0443",sharedAndInvitedYouTo:"\u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0441\u044f \u0438 \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u043b \u0432\u0430\u0441 \u0432",somethingOnAddspire:"\u0447\u0442\u043e-\u0442\u043e \u043d\u0430 Addspire"},blog:{hide:"\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u044f\u0437\u044b\u043a\u0430\u0445",show:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u044f\u0437\u044b\u043a\u0430\u0445",title:"Addspire \u0411\u043b\u043e\u0433 - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0446\u0435\u043b\u0435\u0439, \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0439 \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f."},activate:{activateAccount:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",minLength:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0435\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u0430",nickname:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c",accountActivated:"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d!",nicknameTaken:"\u042d\u0442\u043e\u0442 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0437\u0430\u043d\u044f\u0442. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439.",wrongData:"\u0427\u0422\u043e=\u0442\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.",accountActivation:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"},rules:{nicknameShort:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430.",nicknameLong:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 ",nicknameType:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, '-' \u0438 '_'.",nameShort:"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 1 \u0441\u0438\u043c\u0432\u043e\u043b.",nameLong:"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",accNameShort:"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430.",accNameLong:"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",descLong:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",messageShort:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 1 \u0441\u0438\u043c\u0432\u043e\u043b.",messageLong:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},post:{mainPost:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u043f\u043e\u0441\u0442",comment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442",shareText:"\u041f\u043e\u0441\u0442 \u0432 \u0446\u0435\u043b\u0438 \u043d\u0430 Addspire.com - \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0446\u0435\u043b\u0435\u0439, \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0439 \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f.",comments:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",otherPosts:"\u0414\u0440\u0443\u0433\u0438\u0435 \u043f\u043e\u0441\u0442\u044b",messageLikes:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",editPost:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",reply:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",replies:"\u043e\u0442\u0432\u0435\u0442\u044b",postNew:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u0441\u0442",createNewPost:"\u0421\u043e\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442",addComment:"\u0414\u043e\u0431\u0430\u0432\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",imageLimit:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 8 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a.",confirmDelete:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u043e\u0441\u0442?"},login:{cookieText:"\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043a\u0443\u043a\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u043d\u0430 \u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438. \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0442\u044c\u0441\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043a\u0443\u043a\u0438.",welcome:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 Addspire!",rememberMe:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c",loginLater:"\u0412\u043e\u0439\u0442\u0438 \u043f\u043e\u0437\u0436\u0435"},resource:{confirmDelete:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e?",confirmLeave:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c?"},activity:{confirmRemove:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u043f\u0438\u0441\u044c?",addActivityToGoal:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435 \u043a \u0446\u0435\u043b\u0438"},trans:{from:"\u041e\u0442 ",to:" \u0434\u043b\u044f ",inGoal:" \u0432 \u0446\u0435\u043b\u0438 ",inActivity:" \u0432 \u0437\u0430\u043d\u044f\u0442\u0438\u0438 ",status:"\u0421\u0442\u0430\u0442\u0443\u0441: ",confirmed:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",pending:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",cancelled:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e",deleteItem:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirmDelete:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b"}}},480:function(e,t,a){e.exports={Dots:"imageCarousel_Dots__3XuKo"}},495:function(e,t,a){e.exports={Avatar:"Profile_Avatar__3n37F"}},543:function(e,t,a){e.exports=a(972)},568:function(e,t,a){},75:function(e,t,a){e.exports={header__title:"Welcome_header__title__2PVWK",subheader:"Welcome_subheader__8NTpe",slider:"Welcome_slider__1C5Wk",slider__word:"Welcome_slider__word__2M0ri",slider__words:"Welcome_slider__words__2RsMS",wordSlider:"Welcome_wordSlider__3DU7B",videoWrapper:"Welcome_videoWrapper__203j_",step:"Welcome_step__3KDh2",howWorks:"Welcome_howWorks__r5E6t",videoholder:"Welcome_videoholder__1WZ7O"}},878:function(e,t){},972:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),i=a.n(o),c=a(31),l=a(44),s=a.n(l),u=a(17),d=a(84),m=a(221),p=a(457),f=(a(568),a(200)),g=a.n(f),h=a(260),y=a(68),v=a(296),E=a(45),b=a(229),w=a(74),O=a(152),x=(new O.a,a(210),a(161),a(313),a(655),a(374),a(375),a(660),a(376),a(663),a(377),a(378),a(314),a(668),a(670),a(672),a(674),a(677),a(679),a(681),a(315),a(241),a(381),a(974),a(975),a(690),a(692),a(694),a(696),a(698),a(701),a(703),a(705),a(707),a(709),a(379),a(380),a(711),a(11)),k=a(461),j=a(50),S=a(343),C=a(230),D=a(462),_={en:{translation:a(463)},ru:{translation:a(464)}};S.a.use(D.a).use(C.e).init({resources:_,fallbackLng:"en",keySeparator:".",interpolation:{escapeValue:!1},nonExplicitSupportedLngs:!0});var A=S.a,T=function(e,t){var a=A.t;if(e.data.logout&&t.history.push("/logout"),e.data.home&&t.history.push("/"),!1===e.data.success)if(e.data.errorCode)switch(e.data.errorCode){case"no account":j.b.warning(a("processRes.accountNotFound"));break;case"bad data":j.b.error(a("processRes.error"));break;default:j.b.warning(a("processRes.generalError"))}else j.b.error(a("processRes.generalError"));else if(e.data.successCode)switch(e.data.successCode){case"avatar saved":j.b.success(a("processRes.avaSaved"));break;case"success":j.b.success(a("processRes.success"));break;case"item saved":j.b.success(a("processRes.saved"));break;case"progress created":j.b.success(a("processRes.goalStarted"));break;case"reward created":j.b.success(a("processRes.rewardStarted"));break;case"activity created":j.b.success(a("processRes.activityStarted"));break;default:j.b.success(a("processRes.success"))}e.data.status&&"no account"===e.data.status&&t.history.push("/activate-account")},M=a(14),I=a(186),N=a(187),R=a(198),F=a(188),P=a(199);function B(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var W=function(e,t){var a=e.store,n={user:[],account:[],progress:[],reward:[],activity:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[],activityData:[]},r={user:[],account:[],progress:[],reward:[],activity:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[],activityData:[]};if(a.isAuthed)if(a.user){if(r.user.push(a.user._id),a.currentAccount)if(a.account._id!==a.currentAccount)n.account.push(a.currentAccount);else{r.account.push(a.account._id);for(var o=0,i=[].concat(Object(M.a)(a.account.progresses),Object(M.a)(a.account.followProgresses),Object(M.a)(a.account.recent.filter(function(e){return"goal"===e.resourceType}).map(function(e){return e.resourceId})));o<i.length;o++){var c=i[o];a.progressData[c]||n.progressData.push(c),r.progressData.push(c)}var l,s=B(a.account.followPosts);try{for(s.s();!(l=s.n()).done;){var u=l.value;a.postData[u]||n.postData.push(u),r.postData.push(u)}}catch(Le){s.e(Le)}finally{s.f()}var d,m=B(a.account.myPosts);try{for(m.s();!(d=m.n()).done;){var p=d.value;a.postData[p]||n.postData.push(p),r.postData.push(p)}}catch(Le){m.e(Le)}finally{m.f()}var f,g=B(a.account.transactions);try{for(g.s();!(f=g.n()).done;){var h=f.value;a.transactionData[h]||n.transactionData.push(h),r.transactionData.push(h)}}catch(Le){g.e(Le)}finally{g.f()}var y,v=B(a.account.friends);try{for(v.s();!(y=v.n()).done;){var E=y.value;a.friendData[E.friend]||n.friendData.push(E.friend),r.friendData.push(E.friend)}}catch(Le){v.e(Le)}finally{v.f()}for(var b=0,w=[].concat(Object(M.a)(a.account.rewards),Object(M.a)(a.account.recent.filter(function(e){return"reward"===e.resourceType}).map(function(e){return e.resourceId})));b<w.length;b++){var O=w[b];a.rewardData[O]||n.rewardData.push(O),r.rewardData.push(O)}for(var x=0,k=[].concat(Object(M.a)(a.account.activities),Object(M.a)(a.account.recent.filter(function(e){return"activity"===e.resourceType}).map(function(e){return e.resourceId})));x<k.length;x++){var j=k[x];a.activityData[j]||n.activityData.push(j),r.activityData.push(j)}for(var S=0,C=[].concat(Object(M.a)(a.account.followingAccounts),Object(M.a)(a.account.followAccounts));S<C.length;S++){var D=C[S];a.friendData[D]||n.friendData.push(D),r.friendData.push(D)}}if(a.currentProfile)if(a.profile._id!==a.currentProfile)n.account.push(a.currentProfile);else{r.account.push(a.profile._id);var _,A=B(a.profile.followProgresses);try{for(A.s();!(_=A.n()).done;){var T=_.value;a.progressData[T]||n.progressData.push(T),r.progressData.push(T)}}catch(Le){A.e(Le)}finally{A.f()}var I,N=B(a.profile.progresses);try{for(N.s();!(I=N.n()).done;){var R=I.value;a.progress[R]||n.progress.push(R),r.progress.push(R)}}catch(Le){N.e(Le)}finally{N.f()}var F,P=B(a.profile.transactions);try{for(P.s();!(F=P.n()).done;){var L=F.value;if(a.transactionData[L]){var W=a.transactionData[L].reward;a.rewardData[W]||n.rewardData.push(W),r.rewardData.push(W)}else n.transactionData.push(L);r.transactionData.push(L)}}catch(Le){P.e(Le)}finally{P.f()}var z,U=B(a.profile.friends);try{for(U.s();!(z=U.n()).done;){var V=z.value;a.friendData[V.friend]||n.friendData.push(V.friend),r.friendData.push(V.friend)}}catch(Le){U.e(Le)}finally{U.f()}var G,Y=B(a.profile.rewards);try{for(Y.s();!(G=Y.n()).done;){var H=G.value;a.reward[H]||n.reward.push(H),r.reward.push(H)}}catch(Le){Y.e(Le)}finally{Y.f()}var J,q=B(a.profile.activities);try{for(q.s();!(J=q.n()).done;){var K=J.value;a.activity[K]||n.activity.push(K),r.activity.push(K)}}catch(Le){q.e(Le)}finally{q.f()}for(var $=0,Z=[].concat(Object(M.a)(a.profile.followingAccounts),Object(M.a)(a.profile.followAccounts));$<Z.length;$++){var X=Z[$];a.friendData[X]||n.friendData.push(X),r.friendData.push(X)}}if(a.currentGoal)if(a.progress._id!==a.currentGoal)n.progress.push(a.currentGoal);else{r.progress.push(a.progress._id);var Q=[];a.progress.owner&&Q.push(a.progress.owner),a.progress.users&&(Q=Q.concat(a.progress.users)),a.progress.likes&&(Q=Q.concat(a.progress.likes)),a.progress.followingAccounts&&(Q=Q.concat(a.progress.followingAccounts));var ee,te=B(Q);try{for(te.s();!(ee=te.n()).done;){var ae=ee.value;a.friendData[ae]||n.friendData.push(ae),r.friendData.push(ae)}}catch(Le){te.e(Le)}finally{te.f()}var ne,re=B(a.progress.posts);try{for(re.s();!(ne=re.n()).done;){var oe=ne.value;a.postData[oe]||n.postData.push(oe),r.postData.push(oe)}}catch(Le){re.e(Le)}finally{re.f()}for(var ie=0,ce=[].concat(Object(M.a)(a.progress.rewards),Object(M.a)(a.progress.oldRewards));ie<ce.length;ie++){var le=ce[ie];a.rewardData[le.reward]||n.rewardData.push(le.reward),r.rewardData.push(le.reward)}for(var se=0,ue=[].concat(Object(M.a)(a.progress.activities),Object(M.a)(a.progress.oldActivities));se<ue.length;se++){var de=ue[se];a.activityData[de]||n.activityData.push(de),r.activityData.push(de)}}if(a.currentPosts){var me,pe=B(a.currentPosts);try{for(pe.s();!(me=pe.n()).done;){var fe=me.value,ge=a.post[fe];if(ge){r.post.push(fe);var he,ye=B(ge.users);try{for(ye.s();!(he=ye.n()).done;){var ve=he.value;a.friendData[ve]||n.friendData.push(ve),r.friendData.push(ve)}}catch(Le){ye.e(Le)}finally{ye.f()}fe.parent&&("progress"===fe.parent.parentType&&r.progressData.push(fe.parent.parentId),"reward"===fe.parent.parentType&&r.rewardData.push(fe.parent.parentId),"activity"===fe.parent.parentType&&r.activityData.push(fe.parent.parentId))}else n.post.push(fe)}}catch(Le){pe.e(Le)}finally{pe.f()}}if(a.currentReward)if(a.reward._id!==a.currentReward)n.reward.push(a.currentReward);else{r.reward.push(a.reward._id);for(var Ee=0,be=[].concat(Object(M.a)(a.reward.likes),Object(M.a)(a.reward.followingAccounts));Ee<be.length;Ee++){var we=be[Ee];a.friendData[we]||n.friendData.push(we),r.friendData.push(we)}var Oe,xe=B(a.reward.posts);try{for(xe.s();!(Oe=xe.n()).done;){var ke=Oe.value;a.post[ke]||n.post.push(ke),r.post.push(ke)}}catch(Le){xe.e(Le)}finally{xe.f()}}if(a.currentActivity)if(a.activity._id!==a.currentActivity)n.activity.push(a.currentActivity);else{r.activity.push(a.activity._id);for(var je=0,Se=[].concat(Object(M.a)(a.activity.likes),Object(M.a)(a.activity.followingAccounts));je<Se.length;je++){var Ce=Se[je];a.friendData[Ce]||n.friendData.push(Ce),r.friendData.push(Ce)}var De,_e=B(a.activity.posts);try{for(_e.s();!(De=_e.n()).done;){var Ae=De.value;a.post[Ae]||n.post.push(Ae),r.post.push(Ae)}}catch(Le){_e.e(Le)}finally{_e.f()}}if(a.friendSearchResult&&a.friendSearchResult.length>0){var Te,Me=B(a.friendSearchResult);try{for(Me.s();!(Te=Me.n()).done;){var Ie=Te.value;a.friendData[Ie._id]||n.friendData.push(Ie._id),r.friendData.push(Ie._id)}}catch(Le){Me.e(Le)}finally{Me.f()}}}else n.user.push(a.isAuthed);var Ne=function(e){for(var a in e)e[a]&&(e[a]=Array.from(new Set(e[a].filter(function(e){return!t.includes(e)}))))};Ne(r);var Re,Fe={user:[],account:[],progress:[],reward:[],activity:[],post:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[],activityData:[]};Fe.profile=[];var Pe=function(e,t){a[t]._id&&!r[e].includes(a[t]._id)&&(Fe[t].push(a[t]._id),Re=!0)},Be=function(e){for(var t in a[e])r[e].includes(t)||(Fe[e].push(t),Re=!0)};return Pe("account","account"),Pe("account","profile"),Be("progress"),Be("reward"),Be("activity"),Be("post"),Be("friendData"),Be("rewardData"),Be("activityData"),Be("progressData"),Be("transactionData"),Be("postData"),Re&&e.removeData(Fe),Ne(n),n},z=function(e,t,a){var n=t.filter(function(t){return!a[e].includes(t)});H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"requestResource",ids:n,type:e}))},U=function(e,t,a,n){var r={user:[],account:[],progress:[],post:[],reward:[],activity:[],progressData:[],friendData:[],postData:[],transactionData:[],rewardData:[],activityData:[]},o=function(n){for(var o in e[n])"undefined"!==typeof e[n][o]&&(a[n][o]?a[n][o].__v!==e[n][o]&&z(n,[o],t):r[n].push(o))};for(var i in e.user)"undefined"!==typeof e.user[i]&&(a.user._id===i?a.user.__v!==e.user[i]&&z("user",[i],t):r.user.push(i));for(var c in e.account)"undefined"!==typeof e.account[c]&&(a.account._id===c&&a.account.__v!==e.account[c]&&z("account",[c],t),a.profile._id===c&&(a.profile.__v!==e.account[c]&&z("account",[c],t),a.account._id||r.account.push(c))),a.account._id!==c&&a.profile._id!==c&&r.account.push(c);if(o("progress"),o("reward"),o("activity"),o("post"),o("friendData"),o("progressData"),o("rewardData"),o("activityData"),o("postData"),o("transactionData"),r.user.length>0||r.account.length>0||r.progress.length>0||r.post.length>0||r.friendData.length>0||r.reward.length>0||r.rewardData.length>0||r.activity.length>0||r.activityData.length>0||r.progressData.length>0||r.postData.length>0||r.transactionData.length>0)return r},V=function(e){var t=e.store,a={user:{},account:{},progress:{},post:{},reward:{},activity:{},transactionData:{},friendData:{},progressData:{},postData:{},rewardData:{},activityData:{}};t.user&&t.user._id&&(a.user[t.user._id]=t.user.__v),t.account._id&&(a.account[t.account._id]=t.account.__v),t.profile._id&&(a.account[t.profile._id]=t.profile.__v),t.progress._id&&(a.progress[t.progress._id]=t.progress.__v),t.activity._id&&(a.activity[t.activity._id]=t.activity.__v),t.activity._id&&(a.activity[t.activity._id]=t.activity.__v);var n=function(e){for(var n in t[e])"undefined"!==typeof t[e][n]&&t[e][n]._id&&(a[e][t[e][n]._id]=t[e][n].__v)};return n("post"),n("friendData"),n("postData"),n("progressData"),n("rewardData"),n("activityData"),n("TransactionData"),a};function G(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Y(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var H=!1,J=new O.a,q=["user","account","progress","reward","activity","post","postData","progressData","friendData","transactionData","rewardData","activityData"],K=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={user:[],account:[],progress:[],reward:[],activity:[],post:[],friendData:[],progressData:[],postData:[],transactionData:[],rewardData:[],activityData:[],notFoundResources:[]},a.markNotFoundResource=function(e){var t=[].concat(Object(M.a)(a.state.notFoundResources),Object(M.a)(e));a.setState({notFoundResources:t})},a.start=function(){var e;H=new WebSocket("wss://addspire.com");var t=function(t){var n;t&&(n=U(t,a.state,a.props.store,H)),clearTimeout(e),e=setTimeout(function(){H.close()},31e3),H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"heartbeat",notNeededResources:n}))};H.onopen=function(e){var n=V(a.props);H.send(JSON.stringify({messageCode:"auth",user:s.a.defaults.headers.common["x-auth-token"],resourcesToMonitor:n})),a.initializeRequestResources(a.props),t()},H.onmessage=function(e){var n=JSON.parse(e.data);switch(n.messageCode){case"heartbeat":t(n.versions),a.props.setData({onlineUsers:n.onlineUsers});break;case"logout":a.props.logout(),a.props.history.push("/logout");break;case"successMessage":j.b.success(A.t("processRes.success"));break;case"errorMessage":j.b.error(n.messageText);break;case"friendsData":a.props.setFriendsData(n.friendsData);break;case"redirectToAccount":a.props.history.push("/profile/"+a.props.store.account._id);break;case"addResource":a.props.saveResource(n.resources,n.type,n.newOnlineUsers);break;case"updateResource":a.props.updateResource(n.code,n.id,n.update,a.state);break;case"friendSearchResult":a.props.setFriendSearchResult(n.data);break;case"goTo":a.props.history.push(n.messageText||"/");break;case"404":j.b.error(A.t("processRes.404")),a.props.history.push(n.messageText||"/");break;case"authSuccess":s.a.defaults.headers.common["x-auth-token"]&&J.set("auth_token",s.a.defaults.headers.common["x-auth-token"],{path:"/",expires:new Date((new Date).getTime()+5184e5)});break;case"structureSaved":a.props.structureIsSaved();break;case"error":j.b.error(A.t("processRes.error"));break;case"notFoundResource":a.markNotFoundResource(n._id);break;case"addToStructure":a.props.addToStructure(n.accountId,n.structureId,n.resourceId)}},H.onclose=function(t){clearTimeout(e)}},a.checkInterval=null,a.check=function(){H&&3!==H.readyState||(clearInterval(a.checkInterval),a.checkInterval=setInterval(a.check,5e3),a.start())},a.reRequestResourcesInterval=null,a.reRequestResources=function(){var e,t=G(q);try{for(t.s();!(e=t.n()).done;){var n=e.value;a.state[n].length>0&&H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"requestResource",ids:a.state[n],type:n}))}}catch(r){t.e(r)}finally{t.f()}},a.initializeRequestResources=function(e){var t,n=W(e,a.state.notFoundResources),r=G(q);try{var o=function(){var e=t.value;n[e].length>0&&H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"requestResource",ids:n[e].filter(function(t){return!a.state[e].includes(t)}),type:e}))};for(r.s();!(t=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}a.setState(function(){return n}),clearInterval(a.reRequestResourcesInterval),a.reRequestResourcesInterval=setInterval(a.reRequestResources,3e3)},a}return Object(P.a)(t,e),Object(N.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.checkInterval),H&&H.close(),this.props.setConnectingToWS(!1)}},{key:"componentDidMount",value:function(){this.checkInterval=setInterval(this.check,50),this.props.setConnectingToWS(!0)}},{key:"componentDidUpdate",value:function(e,t){e.store.currentAccount!==this.props.store.currentAccount&&H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"currentAccount",id:this.props.store.currentAccount}))}},{key:"render",value:function(){return null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,n=W(e,t.notFoundResources),r=G(q);try{var o=function(){var e=a.value;n[e].length>0&&H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"requestResource",ids:n[e].filter(function(a){return!t[e].includes(a)}),type:e}))};for(r.s();!(a=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return n}}]),t}(n.Component),$=Object(y.h)(Object(u.b)(function(e){return{store:e}},function(e){return{setData:function(t,a){return e(ue(t,a))},removeData:function(t){return e(me(t))},saveResource:function(t,a,n){return e(Oe(t,a,n))},setFriendsData:function(t){return e(pe(t))},updateResource:function(t,a,n,r){return e(_e(t,a,n,r))},setFriendSearchResult:function(t){return e(ge(t))},setConnectingToWS:function(t){return e(de(t))},addToStructure:function(t,a,n){return e(he(t,a,n))},logout:function(){return e(se())},structureIsSaved:function(){return e(ye())}}})(K)),Z=function(e,t,a,n){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:e,messageId:t,accountId:a,postId:n}))},X=function(e,t,a){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"followResource",accountId:e,resourceId:t,type:a}))},Q=function(e,t,a){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"unfollowResource",accountId:e,resourceId:t,type:a}))},ee=function(e,t,a,n){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"changeLikesResource",accountId:e,resourceId:t,add:a,type:n}))},te=function(e,t){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"followAccount",accountId:e,accountFollow:t}))},ae=function(e,t){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"unfollowAccount",accountId:e,accountFollow:t}))},ne=function(e,t){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"addFriend",accountId:e,friendId:t}))},re=function(e,t){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"acceptFriend",accountId:e,friendId:t}))},oe=function(e,t){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"unfriend",accountId:e,friendId:t}))},ie=new O.a,ce=function(e){return function(t){if(sessionStorage.setItem("systemRefresh","0"),!e){e=ie.get("auth_token");var a=ie.get("rememberme");a&&(ie.remove("rememberme",{path:"/"}),"false"===a&&ie.remove("auth_token",{path:"/"}))}var n=Object(k.a)(e);s.a.defaults.headers.post["Content-Type"]="application/json",s.a.defaults.headers.put["Content-Type"]="application/json",s.a.defaults.headers.delete["Content-Type"]="application/json",s.a.defaults.headers.common.Accept="application/json",e&&n?(s.a.defaults.headers.common["x-auth-token"]=e,s.a.defaults.headers.post["x-auth-token"]=e,s.a.defaults.headers.get["x-auth-token"]=e,s.a.defaults.headers.delete["x-auth-token"]=e,s.a.defaults.headers.put["x-auth-token"]=e,t(le(n._id))):t(le(null))}},le=function(e){return{type:"SET_IS_AUTHED",id:e}},se=function(){return function(e){ie.remove("rememberme",{path:"/"}),ie.remove("auth_token",{path:"/"}),delete s.a.defaults.headers.common["x-auth-token"],delete s.a.defaults.headers.post["x-auth-token"],delete s.a.defaults.headers.get["x-auth-token"],delete s.a.defaults.headers.delete["x-auth-token"],delete s.a.defaults.headers.put["x-auth-token"],e(le(!1))}},ue=function(e){return{type:"SET_DATA",data:e}},de=function(e){return{type:"SET_CONNECTING_WS",data:e}},me=function(e){return{type:"REMOVE_DATA",data:e}},pe=function(e){return{type:"SET_FRIENDS_DATA",data:e}},fe=function(e){return{type:"SET_PAGE_TITLE",title:e}},ge=function(e){return{type:"SET_FRIEND_SEARCH_RESULT",data:e}},he=function(e,t,a){return{type:"ADD_TO_STRUCTURE",accountId:e,structureId:t,resourceId:a}},ye=function(){return{type:"STRUCTURE_IS_SAVED"}},ve=function(e,t){return{type:"SAVE_VALUE_MM",id:e,value:t}},Ee=function(){return function(e,t){var a,n,r=t();console.log(r),a=r.account._id,n=r.structureMM,H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"saveStructure",accountId:a,structure:n})),e({type:"STRUCTURE_IS_SAVED"})}};function be(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return we(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Oe=function(e,t,a){return function(n,r){if(e.length>0){var o=r();switch(t){case"user":var i=e[0],c=i.currentAccount;c||(c=i.myAccount),n(ue({user:i,currentAccount:c}));break;case"account":var l=e.find(function(e){return e._id===o.currentAccount});l&&n(ue({account:l,newOnlineUsers:a}));var s=e.find(function(e){return e._id===o.currentProfile});s&&n(ue({profile:s,newOnlineUsers:a}));break;case"progress":var u,d={},m=be(e);try{for(m.s();!(u=m.n()).done;){var p=u.value;d[p._id]=p}}catch($){m.e($)}finally{m.f()}n(ue({progress:d}));break;case"post":var f,g={},h=be(e);try{for(h.s();!(f=h.n()).done;){var y=f.value;g[y._id]=y}}catch($){h.e($)}finally{h.f()}n(ue({post:g}));break;case"reward":var v,E={},b=be(e);try{for(b.s();!(v=b.n()).done;){var w=v.value;E[w._id]=w}}catch($){b.e($)}finally{b.f()}n(ue({reward:E}));break;case"activity":var O,x={},k=be(e);try{for(k.s();!(O=k.n()).done;){var j=O.value;x[j._id]=j}}catch($){k.e($)}finally{k.f()}n(ue({activity:x}));break;case"friendData":var S,C={},D=be(e);try{for(D.s();!(S=D.n()).done;){var _=S.value;C[_._id]=_}}catch($){D.e($)}finally{D.f()}n(ue({friendData:C,newOnlineUsers:a}));break;case"progressData":var A,T={},M=be(e);try{for(M.s();!(A=M.n()).done;){var I=A.value;T[I._id]=I}}catch($){M.e($)}finally{M.f()}n(ue({progressData:T}));break;case"transactionData":var N,R={},F=be(e);try{for(F.s();!(N=F.n()).done;){var P=N.value;R[P._id]=P}}catch($){F.e($)}finally{F.f()}n(ue({transactionData:R}));break;case"postData":var B,L={},W=be(e);try{for(W.s();!(B=W.n()).done;){var z=B.value;L[z._id]=z}}catch($){W.e($)}finally{W.f()}n(ue({postData:L}));break;case"rewardData":var U,V={},G=be(e);try{for(G.s();!(U=G.n()).done;){var Y=U.value;V[Y._id]=Y}}catch($){G.e($)}finally{G.f()}n(ue({rewardData:V}));break;case"activityData":var H,J={},q=be(e);try{for(q.s();!(H=q.n()).done;){var K=H.value;J[K._id]=K}}catch($){q.e($)}finally{q.f()}n(ue({activityData:J}))}}}},xe=a(40),ke=a(340),je=a.n(ke);function Se(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Ce(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ce(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var De=function(e,t,a){var n=je()(e);!function(e,t,a){var n=function e(t,a,n){a.length>1?e(t[a.shift()],a,n):"array"===typeof t?t.push(n):t[a[0]]=n};for(var r in t){var o=r.split(".");a&&!a.includes(o[0])||"undefined"!==typeof t[r]&&n(e,o,t[r])}}(n,t.updatedFields,a);var r,o=function e(t,a){a.length>1?e(t[a.shift()],a):"object"===typeof t?delete t[a[0]]:"array"===typeof t&&t.splice(a[0],1)},i=Se(t.removedFields);try{for(i.s();!(r=i.n()).done;){var c=r.value;if(c.indexOf(".")>-1){var l=c.split(".");a&&!a.includes(l[0])||o(n,l)}else delete n[c]}}catch(s){i.e(s)}finally{i.f()}return n},_e=function(e,t,a,n){return function(r,o){if(a&&t&&e){var i=o(),c=function(o){if(i[o]._id===t)if(i[o].__v===a.updatedFields.__v-1){var c=De(i[o],a);r(ue(Object(xe.a)({},o,c)))}else i[o].id&&z(e,[t],n)},l=function(o,c){var l=Object(xe.a)({},o,je()(i[o])),s=l[o][t];s&&(s.__v===a.updatedFields.__v-1?(l[o][t]=De(s,a,c),r(ue(l))):z(e,[t],n))};switch(e){case"user":c("user");break;case"account":c("account"),c("profile");break;case"progress":case"reward":case"activity":case"post":r(ue(l(e)));break;case"friendData":r(ue(l(e,["name","image","notifications","__v"])));break;case"progressData":r(ue(l(e,["owner","worker","goal","name","notifications","likes","followingAccounts","activities","status","__v"])));break;case"rewardData":r(ue(l(e,["name","owner","images","likes","followingAccounts","__v"])));break;case"activityData":r(ue(l(e,["name","owner","images","likes","stages","followingAccounts","__v"])));break;case"postData":r(ue(l(e,["notifications","__v"])));break;case"transactionData":r(ue(l(e)))}}}},Ae=a(125),Te=a(291),Me=a.n(Te),Ie=a(231),Ne=a(1019),Re=a(1102),Fe=a(1021),Pe=a(1022),Be=a(1023),Le=a(1024),We=a(1025),ze=a(1026),Ue=a(1101),Ve=a(1027),Ge=a(467),Ye=new O.a,He=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},Je=Object(y.h)(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(!1),s=Object(x.a)(l,2),u=s[0],d=s[1];Object(n.useEffect)(function(){p()});var m="?rememberme=false";i&&(m="?rememberme=true");var p=function(){Ye.get("cookies_consent")&&d(!0)},f="https://addspire.com/api/auth/";return e.loginVisible?u?r.a.createElement(Re.a,{fullScreen:!0,open:e.loginVisible,onClose:function(){return e.setLoginVisible(!1)},TransitionComponent:He,scroll:"paper"},r.a.createElement("div",{className:"contentDiv"},r.a.createElement("div",{className:Me.a.Container,style:{maxWidth:"500px",margin:"0 auto"}},r.a.createElement("h1",{style:{fontWeight:"bold",lineHeight:"1.3em",marginBottom:0,fontSize:"2.5em"}},t("login.welcome")),r.a.createElement("div",{className:Me.a.socialButtons,style:{marginBottom:"30px"}},r.a.createElement(Ie.FacebookLoginButton,{onClick:function(){return window.location=f+"facebook/start".concat(m)}}),r.a.createElement(Ie.GoogleLoginButton,{onClick:function(){return window.location=f+"google/start".concat(m)}}),r.a.createElement(Ie.InstagramLoginButton,{onClick:function(){return window.location=f+"instagram/start".concat(m)}}),r.a.createElement(Ie.GithubLoginButton,{onClick:function(){return window.location=f+"github/start".concat(m)}})),r.a.createElement(ze.a,{control:r.a.createElement(Ue.a,{checked:i,onChange:function(){return c(!i)},color:"primary"}),label:t("login.rememberMe")}),r.a.createElement(Ve.a,{style:{margin:"20px"}}),r.a.createElement(We.a,{onClick:function(){return e.setLoginVisible(!1)},color:"secondary"},t("login.loginLater"))),r.a.createElement("div",{className:Me.a.Background}))):r.a.createElement(Re.a,{open:!u},r.a.createElement(Fe.a,null,"Cookies consent"),r.a.createElement(Pe.a,null,r.a.createElement(Be.a,null,t("login.cookieText"))),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:function(){e.setLoginVisible(!1),d(!1)}},t("g.disagree")),r.a.createElement(We.a,{onClick:function(){Ye.set("cookies_consent","true",{path:"/",maxAge:3153e4}),p()},color:"primary",autoFocus:!0},t("g.agree")))):null}),qe=a(1028),Ke=a(1104),$e=a(1029),Ze=a(1096),Xe=a(344),Qe=a(521),et=a(1030),tt=a(1107),at=a(1031),nt=a(1032),rt=function(e,t){return e?"https://websiter.s3.us-east-2.amazonaws.com/"+e+"/avatar?v="+(t||0):""},ot=a(225);function it(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ct(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ct(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var lt=Object(qe.a)(function(e){return Object(Ke.a)({speedDial:{right:"12px",bottom:"16px",position:"fixed"},logout:{left:e.spacing(2),bottom:e.spacing(2),position:"fixed"},login:{right:"16px",bottom:"16px",position:"fixed"},home:{right:"16px",bottom:"88px",position:"fixed"},avatar:{border:"1px solid "+e.palette.primary.main},title:{marginLeft:e.spacing(2),flex:1},blogLabel:Object(xe.a)({margin:e.spacing(0,.5,0,1),display:"none"},e.breakpoints.up("sm"),{display:"inline"}),blogIcon:Object(xe.a)({display:"inline"},e.breakpoints.up("sm"),{display:"none"})})}),st=Object(y.h)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed,lastNotifications:e.lastNotifications,isConnectingWS:e.isConnectingWS,friendData:e.friendData,progressData:e.progressData,rewardData:e.rewardData,activityData:e.activityData,language:e.language,recentShown:e.recentShown}},function(e){return{markRecentShown:function(){e({type:"SET_RECENT_SHOWN"})}}})(function(e){var t,a=e.account,o=(e.progressData,e.activityData,e.rewardData,Object(n.useState)(!e.recentShown)),i=Object(x.a)(o,2),c=(i[0],i[1],Object(n.useState)()),l=Object(x.a)(c,2),s=(l[0],l[1],!Object($e.a)()),u="/activate-account"===e.history.location.pathname,d=e.isAuthed&&a._id,m=function(t){return e.history.push(t)},p=0,f=it(e.lastNotifications);try{for(f.s();!(t=f.n()).done;){var g=t.value;parseInt(g.notId)>parseInt(a.lastSeenNot||0)&&p++}}catch(y){f.e(y)}finally{f.f()}var h=lt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{appear:!1,direction:"up",in:s},r.a.createElement(Ze.a,{style:{position:"fixed",bottom:"12px",width:"100%",zIndex:1,pointerEvents:"none"}},d&&!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{className:ot.bottomMenu},r.a.createElement(Xe.a,{elevation:3,style:{borderRadius:"37px",pointerEvents:"auto"}},r.a.createElement(Qe.a,{onClick:function(){return m("/")}},r.a.createElement(et.a,{badgeContent:a.friends.filter(function(e){return"inviting"===e.status}).length,color:"secondary"},r.a.createElement(tt.a,{classes:e.history.location.pathname==="/profile/"+a._id||"/"===e.history.location.pathname?{root:h.avatar}:{},src:rt(a._id,a.image)}))),r.a.createElement(Qe.a,{onClick:function(){return m("/events")},color:"/events"===e.history.location.pathname?"primary":"default"},r.a.createElement(et.a,{badgeContent:p,color:"secondary"},r.a.createElement(at.a,{fontSize:"large"}))),r.a.createElement(Qe.a,{onClick:function(){return m("/explore")},color:"/explore"===e.history.location.pathname?"primary":"default"},r.a.createElement(nt.a,{fontSize:"large"}))))))))})),ut=a(1047),dt=a(1033),mt=a(1048),pt=a(1034),ft=a(1040),gt=a(1049),ht=a(174),yt=a(1035),vt=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},Et=Object(qe.a)(function(e){return Object(Ke.a)({appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),bt=function(e){var t=Object(Ge.a)().t,a=Et();return r.a.createElement(Re.a,{fullScreen:!0,open:e.open,onClose:e.close,TransitionComponent:vt,scroll:"paper"},r.a.createElement("div",{className:"tinyEditorText_"},r.a.createElement(dt.a,{className:a.appBar,color:"primary"},r.a.createElement(pt.a,null,r.a.createElement(Qe.a,{edge:"start",color:"inherit",onClick:e.close,"aria-label":"close"},r.a.createElement(yt.a,null)),r.a.createElement(ht.a,{variant:"h6",className:a.title,color:"inherit"},e.title),e.save&&r.a.createElement(We.a,{autoFocus:!0,color:"inherit",onClick:e.save},e.saveText||t("g.save")))),r.a.createElement(pt.a,null),e.children))},wt=a(23),Ot=a(520),xt=a(1039),kt=a(1036),jt=function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(null),o=Object(x.a)(a,2),i=o[0],c=o[1],l=e.invitingFriends,s=e.invitedFriends,u=e.realFriends,d=e._id,m=e.account,p=m?m._id:"";if(!p)return null;var f=function(){c(null)},g=function(e){c(e.currentTarget)};return p===d?e.additionalButtons?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{onClick:function(e){return g(e)}},r.a.createElement(kt.a,null)),r.a.createElement(Ot.a,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:f},e.additionalButtons.map(function(e,t){return r.a.createElement(xt.a,{key:t+100,onClick:function(){e.onClick(),f()}},e.title)}))):null:r.a.createElement(r.a.Fragment,null,e.minimized?e.asText?r.a.createElement(We.a,{onClick:function(e){return g(e)},variant:"contained",color:"primary"},t("g.actions")):r.a.createElement(Qe.a,{onClick:function(e){return g(e)}},r.a.createElement(kt.a,null)):l.find(function(e){return e.friend===d})?r.a.createElement(Ze.a,null,r.a.createElement(We.a,{color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),re(p,d)}},t("g.acceptFriendship")),r.a.createElement(Qe.a,{onClick:function(e){return g(e)}},r.a.createElement(kt.a,null))):[].concat(Object(M.a)(u),Object(M.a)(l),Object(M.a)(s)).find(function(e){return e.friend===d})?e.asText?r.a.createElement(We.a,{onClick:function(e){return g(e)},variant:"contained",color:"primary"},t("g.actions")):r.a.createElement(Qe.a,{onClick:function(e){return g(e)}},r.a.createElement(kt.a,null)):r.a.createElement(Ze.a,null,r.a.createElement(We.a,{color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),ne(p,d)}},t("g.becomeFriends")),r.a.createElement(Qe.a,{onClick:function(e){return g(e)}},r.a.createElement(kt.a,null))),r.a.createElement(Ot.a,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:f},e.minimized&&l.find(function(e){return e.friend===d})&&r.a.createElement(xt.a,{key:7,onClick:function(){re(p,d),f()}},t("g.acceptFriendship")),e.minimized&&![].concat(Object(M.a)(u),Object(M.a)(l),Object(M.a)(s)).find(function(e){return e.friend===d})&&r.a.createElement(xt.a,{key:7,onClick:function(){ne(p,d),f()}},t("g.becomeFriends")),e.additionalButtons&&e.additionalButtons.map(function(e,t){return r.a.createElement(xt.a,{key:t+100,onClick:function(){e.onClick,f()}},e.title)}),l.find(function(e){return e.friend===d})?r.a.createElement(xt.a,{key:"2",onClick:function(){oe(p,d),f()}},t("g.decline")):s.find(function(e){return e.friend===d})?r.a.createElement(xt.a,{key:"3",onClick:function(){oe(p,d),f()}},t("g.cancelInvitation")):u.find(function(e){return e.friend===d})?r.a.createElement(xt.a,{key:"4",onClick:function(){oe(p,d),f()}},t("g.unfriend")):null,e.noFollow?null:m.followAccounts.includes(d)?r.a.createElement(xt.a,{key:"5",onClick:function(){ae(p,d),f()}},t("g.unfollow")):r.a.createElement(xt.a,{key:"6",onClick:function(){te(p,d),f()}},t("g.follow"))))},St=a(156),Ct=a(151),Dt=Object(y.h)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,profile:e.profile,friendData:e.friendData,friendSearchResult:e.friendSearchResult,onlineUsers:e.onlineUsers}})(function(e){var t=e.account,a=e.profile,n=e.id,o=e.friendSearchResult,i=e.onlineUsers,l=e.friendDataExp||e.friendData,s=function(e){return e===t._id?t:e===a._id?a:e===o._id?o:l[e]},u=function(t){var a=s(t)?s(t).name:t;return e.typography?r.a.createElement(ht.a,{noWrap:!0},a):a},d=function(t){var a=s(t)?r.a.createElement(St.a,{src:rt(t,s(t).image),size:e.size||(e.noClick?20:40),style:e.group||e.noName?{}:{margin:" 0 5px"}}):null;return s(t)?i.includes(t)?r.a.createElement("span",{key:t},r.a.createElement(Ct.a,{color:"green"},a)):r.a.createElement("span",{key:t},a):null};return e.onlyName?u(n):e.group?r.a.createElement("span",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(St.a.Group,{style:{margin:" 0 5px"}},e.ids.map(function(e){return d(e)}))):e.noClick?r.a.createElement(r.a.Fragment,null,!e.noAva&&d(n),!e.noName&&u(n)):e.span?r.a.createElement(c.b,{style:Object(wt.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},!e.noAva&&d(n),!e.noName&&u(n)):e.inline?r.a.createElement(c.b,{style:Object(wt.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},!e.noAva&&d(n),!e.noName&&u(n)):r.a.createElement(c.b,{onClick:function(e){e.stopPropagation()},to:"/profile/"+(n||e.id)},r.a.createElement(w.a,{type:"link",style:Object(wt.a)({padding:"0px 5px",height:"auto"},e.style)},!e.noAva&&d(n),!e.noName&&u(n)))})),_t=["https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-adrianna-calvo-3719018.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-george-stremplis-1006190.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-pixabay-33129.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-polina-tankilevitch-3905859.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355732.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-quang-nguyen-vinh-3355788.jpg","https://websiter.s3.us-east-2.amazonaws.com/!wishlist/pexels-sittisak-c-1739347.jpg"],At=function(e){if(!e)return 0;var t=e.match(/\d+$/),a=t&&t.length>0?parseInt(t[0]):0;return Math.abs(Math.round(function(e){for(e=Math.abs(e);e>1;)e/=10;return e}(a)*(_t.length-1)))},Tt=Object(y.h)(function(e){var t=e.images||[],a=e.friends?null:r.a.createElement("img",{style:Object(wt.a)({maxWidth:"100%",margin:"auto",display:"block",borderRadius:e.type!==t?"15px":"0",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)"},e.style),src:t.length>0?t[0]:_t[At(e.id)]});return r.a.createElement(Ze.a,{style:{position:"relative"}},e.noLink?r.a.createElement(r.a.Fragment,null,a,r.a.createElement("div",{style:{padding:"5px 0px",wordBreak:"break-word",display:"flex",alignItems:"center"}},r.a.createElement(Ze.a,{style:{flex:1}},e.body),e.actions&&r.a.createElement("div",{style:{marginLeft:"10px"}},e.actions))):r.a.createElement(r.a.Fragment,null,e.onClickLink&&r.a.createElement(c.b,{to:e.onClickLink,style:{cursor:"pointer"}},a),e.onClick&&r.a.createElement("div",{onClick:e.onClick,style:{cursor:"pointer"}},a),r.a.createElement("div",{style:{padding:"5px 0px",wordBreak:"break-word",display:"flex",alignItems:"center"}},e.onClickLink?r.a.createElement(c.b,{to:e.onClickLink,style:{cursor:"pointer",flex:1}},e.body):e.body,e.actions&&r.a.createElement("div",{style:{marginLeft:"10px"}},e.actions))))}),Mt=Object(y.h)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed}},function(e){return{setData:function(t,a){return e(ue(t,a))},tryAuth:function(t,a){return e(ce(t))}}})(function(e){var t=Object(Ge.a)().t;return r.a.createElement(Tt,{friends:!0,noLink:!0,actions:r.a.createElement(jt,{account:e.account,realFriends:e.realFriends,invitedFriends:e.invitedFriends,invitingFriends:e.invitingFriends,_id:e.friend._id,additionalButtons:[{title:t("g.seeProfile"),onClick:function(){return e.history.push("/profile/"+e.friend._id)}}],asIcons:!0}),body:r.a.createElement(Dt,{span:!0,id:e.friend._id,size:50})})})),It=a(522),Nt=a(1041);function Rt(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Ft(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ft(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Pt=Object(qe.a)(function(e){return Object(Ke.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%",margin:"30px auto"},input:{marginLeft:e.spacing(1),flex:1,margin:"auto"},iconButton:{padding:10}})}),Bt=Object(u.b)(function(e){return{searchResult:e.friendSearchResult}},function(e){return{setFriendSearchResult:function(t){return e(ge(t))}}})(function(e){var t=Object(Ge.a)().t,a=Pt();Object(n.useEffect)(function(){e.setFriendSearchResult({}),l("")},[e.open]);var o=Object(n.useState)(""),i=Object(x.a)(o,2),c=i[0],l=i[1],s=e.account,u=e.friendData,d=e.searchResult;if(!s._id)return null;var m=[],p=[],f=[];if(s.friends){var g,h=Rt(s.friends);try{for(h.s();!(g=h.n()).done;){var y=g.value,v=Object(wt.a)({},u[y.friend],y);v&&("friend"===v.status?m.push(v):"invited"===v.status?p.push(v):"inviting"===v.status&&f.push(v))}}catch(E){h.e(E)}finally{h.f()}}return r.a.createElement(ft.a,{style:{paddingTop:"20px",maxWidth:"800px"}},r.a.createElement(ht.a,{variant:"body2",align:"center"},t("friends.instructions")),r.a.createElement(Xe.a,{className:a.root},r.a.createElement(It.a,{className:a.input,placeholder:t("friends.searchFriends"),onChange:function(e){return l(e.target.value)}}),r.a.createElement(Qe.a,{className:a.iconButton,onClick:function(){return e=c,void(H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"searchFriends",search:e})));var e}},r.a.createElement(Nt.a,null))),d.length>0&&d.map(function(t){return r.a.createElement(Mt,Object.assign({},e,{friend:t,realFriends:m,invitingFriends:f,invitedFriends:p}))}))}),Lt=a(1108),Wt=a(469),zt=a.n(Wt),Ut=a(470),Vt=a.n(Ut),Gt=Object(qe.a)(function(e){return Object(Ke.a)({language:{margin:e.spacing(0,.5,0,1)},languageText:Object(xe.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),languageIcon:Object(xe.a)({display:"block"},e.breakpoints.up("sm"),{display:"none"})})}),Yt=Object(u.b)(function(e){return{currentLanguage:e.language}})(function(e){var t=e.currentLanguage,a=Object(Ge.a)(),o=a.i18n,i=a.t,c=Gt(),l=Object(n.useState)(null),s=Object(x.a)(l,2),u=s[0],d=s[1],m=function(e){e&&o.changeLanguage(e),d(null)},p=[{code:"en",text:"English"},{code:"ru",text:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Lt.a,{title:i("changeLanguage"),enterDelay:300},r.a.createElement(We.a,{color:"inherit","aria-owns":u?"language-menu":void 0,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},"data-ga-event-category":"header","data-ga-event-action":"language"},r.a.createElement(zt.a,{className:c.languageIcon}),r.a.createElement("span",{className:e.settings?c.language:[c.language,c.languageText].join(" ")},p.filter(function(e){return e.code===t}).length>0?p.filter(function(e){return e.code===t})[0].text:p[0].text),r.a.createElement(Vt.a,{fontSize:"small"}))),r.a.createElement(Ot.a,{id:"language-menu",anchorEl:u,open:Boolean(u),onClose:function(){return m()}},p.map(function(e){return r.a.createElement(xt.a,{component:"a","data-no-link":"true",key:e.code,selected:o.language===e.code,onClick:function(){return m(e.code)}},e.text)})))}),Ht=200,Jt=1e4,qt=1e4,Kt=[{required:!0,message:A.t("rules.nicknameShort"),whitespace:!0,min:2},{message:"".concat(A.t("rules.nicknameLong")," ").concat(Ht,"."),whitespace:!0,max:Ht},{pattern:/^[a-zA-Z0-9_-]*$/,message:A.t("rules.nicknameType")}],$t=[{required:!0,min:1,whitespace:!0,message:A.t("rules.nameShort")},{max:Ht,message:"".concat(A.t("rules.nameLong")," ").concat(Ht,".")}],Zt=[{required:!0,min:2,whitespace:!0,message:A.t("rules.accNameShort")},{max:Ht,message:"".concat(A.t("rules.accNameLong")," ").concat(Ht,".")}],Xt=("".concat(A.t("rules.descLong")," ").concat(Jt,"."),A.t("rules.messageShort"),"".concat(A.t("rules.messageLong")," ").concat(qt,"."),a(138)),Qt=Object(u.b)(function(e){return{account:e.account,friendData:e.friendData}})(function(e){var t=Object(Ge.a)().t,a=e.account,n=e.friendData;return a._id&&n?r.a.createElement(Xt.a,{mode:"multiple",style:{width:"100%"},placeholder:t("g.pleaseSelect"),value:e.value,onChange:e.onChange,getPopupContainer:function(e){return e.parentNode}},[e.account].concat(Object(M.a)(e.account.friends.filter(function(e){return"friend"===e.status}).map(function(t){return e.friendData[t.friend]}))).map(function(e){return e&&e._id&&r.a.createElement(Xt.a.Option,{key:e._id},r.a.createElement(Dt,{id:e._id,noClick:!0}))})):r.a.createElement("span",null,"Please login to share with your Addspire friends.")}),ea=a(425),ta=a(427),aa=a(426),na=(a(211),a(192)),ra=(a(243),a(30)),oa=a(472),ia=a.n(oa),ca=(a(722),a(1043)),la=function(e){function t(){return Object(I.a)(this,t),Object(R.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.leaflet.map,t=new ia.a({position:"topleft",strings:{title:this.props.t("explore.myLocation")},drawCircle:!1,drawMarker:!1,keepCurrentZoomLevel:!0,setView:"no"!==this.props.setView&&"untilPanOrZoom",flyTo:!0});t.addTo(e),navigator.geolocation.getCurrentPosition(function(){return t.start()})}},{key:"render",value:function(){return null}}]),t}(n.Component),sa=Object(ra.d)(Object(ca.a)()(la)),ua=a(193),da=(a(212),a(149)),ma=a(194),pa=a.n(ma),fa=function(e,t,a,n){if(null==e)return alert("No file selected.");var r=new FileReader;r.onload=function(){var r=Object(h.a)(g.a.mark(function r(o){return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:ha(e,{width:t,height:t},function(e){e?ga(e,"/120").then(function(e){va(e,a,n)}):n()});case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),r.readAsArrayBuffer(e)},ga=function(e,t,a){return a=a||(e.match(/^data:([^;]+);/)||"")[1],fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return new File([e],t,{type:"image/jpeg"})})},ha=function(e,t,a){if(e){var n=new FileReader;n.onload=function(e){ya(e.target.result,t,a)},n.readAsDataURL(e)}},ya=function(e,t,a){try{var n,r=new Image;r.onload=function(){var e=r.width/t.width,o=r.height/t.height,i=document.createElement("canvas"),c=i.getContext("2d");i.width=r.width,i.height=r.height,c.drawImage(r,0,0),(e>1||o>1)&&(r.width>r.height?(i.height=r.height/r.width*t.width,i.width=t.width):(i.width=r.width/r.height*t.width,i.height=t.width)),c.drawImage(i,0,0,i.width,i.height),c.drawImage(r,0,0,i.width,i.height),n=i.toDataURL("image/jpeg",.6),a(n)},r.onerror=function(){a()},r.src=e}catch(o){}},va=function(e,t,a){return s.a.post("/api/sign-s3",{fileName:t}).then(function(t){Ea(e,t.data,a)}).catch(function(e){})},Ea=function(e,t,a){return s.a.put(t.signedRequest,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){a(t.url),j.b.success("The image has been saved.")}).catch(function(e){})},ba=function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(e.images||[]),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(),s=Object(x.a)(l,2),u=s[0],d=s[1];return Object(n.useEffect)(function(){e.onValueChange(i)},[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(da.a,{accept:"image/*",listType:"picture-card",fileList:i.map(function(e,t){return{url:e,uid:t}}),onPreview:function(e){d(e.url)},onChange:function(e){var t=e.fileList;return c(t.map(function(e){return e.url}))},customRequest:function(e){var t=e.file;fa(t,800,void 0,function(e){c(e?[].concat(Object(M.a)(i),[e]):Object(M.a)(i))})}},i.length>=8?null:r.a.createElement("div",{style:{flex:1,display:"flex",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},onClick:function(e){window.isRNWebView&&(e.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(e){c([].concat(Object(M.a)(i),[e]))})}},r.a.createElement(pa.a,null),r.a.createElement("div",{className:"ant-upload-text"},t("g.upload")))),r.a.createElement(Re.a,{open:Boolean(u),onClose:function(){return d()}},r.a.createElement(Fe.a,{id:"scroll-dialog-title"},t("g.previewImage")),r.a.createElement(Pe.a,{dividers:!0},r.a.createElement("img",{src:u,style:{width:"100%"}})),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:function(){return d()},color:"primary"},t("g.close")))))},wa=a(1044),Oa=a(1097),xa=a(1045),ka=a(478),ja=a(195),Sa=(a(829),a(479)),Ca=a.n(Sa),Da=function(e){var t,a=Object(Ge.a)().t,n=e.value;if(!n&&e.MM&&(n='<p style="font-size: 36px;">Add text here</p>'),"string"===typeof n){var o=Ca()(n),i=o.contentBlocks,c=o.entityMap;t=ja.ContentState.createFromBlockArray(i,c),t=Object(ja.convertToRaw)(t)}else t=n;return r.a.createElement("div",{className:"buttonsMM",style:e.MM&&!e.readOnly?{background:"rgba(255, 255, 255, .4)",position:"absolute",width:"100%"}:{}},r.a.createElement(ka.Editor,Object.assign({placeholder:e.readOnly?"":a("g.addSomeText"),readOnly:e.readOnly,toolbarClassName:e.MM&&"demo-toolbar-absolute buttonsMM",wrapperClassName:!e.MM&&"demo-wrapper"},e.readOnly?{contentState:t}:{},{defaultContentState:t,onContentStateChange:function(t){e.onEditorChange&&e.onEditorChange(t),e.onEditorChangePlain&&e.onEditorChangePlain(Object(ja.convertFromRaw)(t).getPlainText(" "))},toolbarStyle:e.MM?{transform:"scale("+1/e.scale+")",transformOrigin:"bottom left"}:{},toolbar:{options:["inline"].concat(Object(M.a)(e.MM?[]:["blockType"]),["fontSize","fontFamily","list","textAlign","colorPicker","link","emoji","remove","history"]),inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0}},toolbarHidden:e.readOnly,toolbarCustomButtons:e.MM?[r.a.createElement(Qe.a,{style:{position:"absolute",right:"-40px",top:"-40px"},color:"primary",onClick:function(){return e.handleSaveText()}},r.a.createElement(yt.a,null))]:[]})))},_a=(a(325),a(196)),Aa=a.n(_a),Ta=a(1109),Ma=["animals","building","cars","diy","design","education","entertainment","food","gardening","health","sport","home","kids","fashion","nature","travel","other"],Ia=function(e){var t=Object(Ge.a)().t;return r.a.createElement(r.a.Fragment,null,Ma.map(function(a){return r.a.createElement(Ta.a,{label:t("g."+a),onClick:function(){return function(t){var a=e.value?Object(M.a)(e.value):[];if(a.includes(t))e.onChange(a.filter(function(e){return e!==t}));else{if(!e.nolim)for(;a.length>4;)a.pop();e.onChange([].concat(Object(M.a)(a),[t]))}}(a)},color:e.value&&e.value.includes(a)?"primary":"default",style:{margin:"5px"}})}))},Na=a(1095),Ra=Object(u.b)(function(e){return{language:e.language}})(function(e){var t=Object(Ge.a)().t,a="ru"===e.language?[1,2,3,4,5,6,0]:[0,1,2,3,4,5,6],n=e.value.map(function(e){return parseInt(e)});return a.map(function(a){return r.a.createElement(Ta.a,{style:{margin:"0px 10px 10px 0px"},size:"small",label:t("g."+(0===a?"sun":1===a?"mon":2===a?"tue":3===a?"wed":4===a?"thu":5===a?"fri":6===a?"sat":"")),color:n.includes(a)?"primary":"default",onClick:function(){e.onChange(n.includes(a)?n.filter(function(e){return e!==a}):[].concat(Object(M.a)(n),[a]).sort())}})})}),Fa=Xt.a.Option,Pa=Object(qe.a)(function(e){return Object(Ke.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),Ba=function(e){var t=Object(Ge.a)().t,a=Object(n.useRef)(null);Object(n.useEffect)(function(){a&&a.current&&a.current.leafletElement&&(new na.Geosearch({useMapBounds:!1,placeholder:t("g.mapPlaceholder"),title:t("g.mapTitle")}).addTo(a.current.leafletElement),new ua.GestureHandling(a.current.leafletElement))},[]);var o=e.resource,i=e.account,c=e.type,l=(e.structure,e.setStructure,e.selectedBox),s=e.addEmptyToStructure,u=o&&o.position&&o.position.coordinates,d=Object(n.useState)(u?[o.position.coordinates[1],o.position.coordinates[0]]:[40.689078,-74.044526]),m=Object(x.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(p),h=Object(x.a)(g,2),y=h[0],v=h[1],b=Object(n.useState)(!1),w=Object(x.a)(b,2),O=w[0],k=w[1],j=Object(n.useState)(0),S=Object(x.a)(j,2),C=S[0],D=S[1],_=Object(n.useState)(o&&o.descriptionText),A=Object(x.a)(_,2),T=A[0],I=A[1],N=E.a.useForm(),R=Object(x.a)(N,1)[0],F=function(e){f([e.latlng.lat,e.latlng.lng]),R.setFieldsValue({nomap:!1})},P=Pa();return!e.goalId||o?r.a.createElement("div",{className:"tinyEditorText_"},r.a.createElement(dt.a,{className:P.appBar,color:"primary"},r.a.createElement(pt.a,null,r.a.createElement(Qe.a,{edge:"start",color:"inherit",onClick:e.cancel,"aria-label":"close"},r.a.createElement(yt.a,null)),r.a.createElement(ht.a,{variant:"h6",className:P.title,color:"inherit"},t("g."+(o?"edit":"add")+c.charAt(0).toUpperCase()+c.slice(1))),r.a.createElement(We.a,{autoFocus:!0,color:"inherit",onClick:function(){return R.submit()}},t("g.save")))),r.a.createElement(pt.a,null),r.a.createElement(E.a,Object.assign({style:{maxWidth:"1200px",margin:"0 auto",padding:"15px",width:"100%"},form:R,name:"dynamic_form_nest_item",onFinish:function(t){var a;o&&o._id||!l||(a="b"+Date.now(),s(a,l,c)),function(e,t,a,n,r){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"saveResource",accountId:e,value:t,type:a,goToResource:n,structureId:r}))}(i._id,Object(wt.a)({},t,{descriptionText:T,position:{type:"Point",coordinates:[p[1],p[0]]},_id:o&&o._id}),c,e.goToResource,a),e.cancel()},autoComplete:"off",initialValues:o||{name:t("g.new"+c.charAt(0).toUpperCase()+c.slice(1)),repeat:"no",days:["0"],nomap:!1,users:[i._id],dueDate:new Date}},{labelCol:{span:4},wrapperCol:{span:20}},{onValuesChange:function(e,t){t.days&&R.setFieldsValue({days:Object(M.a)(t.days).sort()})}}),r.a.createElement(E.a.Item,{label:t("g.name"),name:"name",rules:$t,getValueFromEvent:function(e){return e.target.value}},r.a.createElement(wa.a,{fullWidth:!0})),r.a.createElement(E.a.Item,{label:t("g.categories"),name:"category"},r.a.createElement(Ia,null)),r.a.createElement(E.a.Item,{label:t("g.place")},r.a.createElement("div",{style:{position:"relative",height:"300px"}},r.a.createElement(ea.a,{ref:a,center:y,zoom:11,onclick:F,style:{width:"100%",height:"100%",position:"relative",zIndex:1},gestureHandling:!0,onlocationfound:function(e){u||O||(F(e),v([e.latlng.lat,e.latlng.lng]),k(!0))}},r.a.createElement(sa,{setView:!(o&&o.position&&o.position.coordinates)||"no"}),r.a.createElement(ta.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(aa.a,{position:p,draggable:!0,ondragend:function(e){var t=e.target.getLatLng();f([t.lat,t.lng]),R.setFieldsValue({nomap:!1})}}),r.a.createElement(Aa.a,{position:"topright"})))),"goal"==c?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Item,{label:t("g.detailsFor")},r.a.createElement(Xe.a,{square:!0},r.a.createElement(Oa.a,{value:C,onChange:function(e,t){return D(t)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(xa.a,{label:t("g.fromStart")}),r.a.createElement(xa.a,{label:t("g.toGoal")}),r.a.createElement(xa.a,{label:t("g.resultFinish")})))),r.a.createElement(E.a.Item,{name:"startImages",label:t("g.images"),valuePropName:"images",trigger:"onValueChange",hidden:0!==C},r.a.createElement(ba,null)),r.a.createElement(E.a.Item,{label:t("g.date"),name:"startDate",hidden:0!==C},r.a.createElement(Na.a,{format:"ddd, MMM D, YYYY",KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(E.a.Item,{label:t("g.desc"),name:"startDescription",trigger:"onEditorChange",hidden:0!==C},r.a.createElement(Da,null)),r.a.createElement(E.a.Item,{name:"images",label:t("g.images"),valuePropName:"images",trigger:"onValueChange",hidden:1!==C},r.a.createElement(ba,null)),r.a.createElement(E.a.Item,{label:t("g.date"),name:"dueDate",hidden:1!==C},r.a.createElement(Na.a,{format:"ddd, MMM D, YYYY",KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(E.a.Item,{label:t("g.desc"),name:"description",trigger:"onEditorChange",hidden:1!==C},r.a.createElement(Da,{onEditorChangePlain:function(e){return I(e)}})),r.a.createElement(E.a.Item,{name:"finishImages",label:t("g.images"),valuePropName:"images",trigger:"onValueChange",hidden:2!==C},r.a.createElement(ba,null)),r.a.createElement(E.a.Item,{label:t("g.date"),name:"finishDate",hidden:2!==C},r.a.createElement(Na.a,{format:"ddd, MMM D, YYYY",KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(E.a.Item,{label:t("g.desc"),name:"finishDescription",trigger:"onEditorChange",hidden:2!==C},r.a.createElement(Da,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Item,{name:"images",label:t("g.images"),valuePropName:"images",trigger:"onValueChange"},r.a.createElement(ba,null)),r.a.createElement(E.a.Item,{label:t("g.desc"),name:"description",trigger:"onEditorChange"},r.a.createElement(Da,{onEditorChangePlain:function(e){return I(e)}}))),"activity"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Item,{label:t("progress.achievers"),name:"users"},r.a.createElement(Qt,null)),r.a.createElement(E.a.Item,{label:t("g.repeats"),name:"repeat"},r.a.createElement(Xt.a,{getPopupContainer:function(e){return e.parentNode}},r.a.createElement(Fa,{value:"no"},t("g.noRepeat")),r.a.createElement(Fa,{value:"day"},t("g.everyDay")),r.a.createElement(Fa,{value:"weekday"},t("g.everyDayOfWeek")),r.a.createElement(Fa,{value:"week"},t("g.everyWeek")),r.a.createElement(Fa,{value:"month"},t("g.everyMonth")),r.a.createElement(Fa,{value:"year"},t("g.everyYear")))),r.a.createElement(E.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.repeat!==t.repeat}},function(e){return"weekday"===(0,e.getFieldValue)("repeat")?r.a.createElement(E.a.Item,{label:"Days of week",name:"days"},r.a.createElement(Ra,null)):null})),r.a.createElement("div",{style:{textAlign:"right",marginTop:"50px"}},r.a.createElement(We.a,{size:"large",onClick:function(){return e.cancel(!1)}},t("g.cancel")),r.a.createElement(We.a,{color:"primary",variant:"contained",type:"submit",size:"large",style:{marginLeft:"10px",marginRight:"50px"}},t("g.save"))))):null};function La(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Wa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wa(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var za=Object(qe.a)(function(e){return Object(Ke.a)({speedDial:{right:"12px",bottom:"16px",position:"fixed"},logout:{left:e.spacing(2),bottom:e.spacing(2),position:"fixed"},login:{right:"16px",bottom:"16px",position:"fixed"},home:{right:"16px",bottom:"88px",position:"fixed"},avatar:{border:"1px solid "+e.palette.primary.main},title:{marginLeft:e.spacing(2),flex:1},blogLabel:Object(xe.a)({margin:e.spacing(0,.5,0,1),display:"none"},e.breakpoints.up("sm"),{display:"inline"}),blogIcon:Object(xe.a)({display:"inline"},e.breakpoints.up("sm"),{display:"none"})})}),Ua=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},Va=Object(y.h)(Object(u.b)(function(e){return{account:e.account,isAuthed:e.isAuthed,lastNotifications:e.lastNotifications,isConnectingWS:e.isConnectingWS,friendData:e.friendData,progressData:e.progressData,rewardData:e.rewardData,activityData:e.activityData,language:e.language,recentShown:e.recentShown}},function(e){return{markRecentShown:function(){e({type:"SET_RECENT_SHOWN"})}}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useRef)(),o=Object(ut.a)(function(e){return e.breakpoints.up("sm")}),i=e.account,l=e.language,s=Object(n.useState)(!1),u=Object(x.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),g=f[0],h=f[1],y=Object(n.useState)(!1),v=Object(x.a)(y,2),E=v[0],b=v[1],w="/activate-account"===e.history.location.pathname,O=e.isAuthed&&i._id,k=!Object($e.a)(),j=za(),S=!o&&function(t){var a,n=La(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(0===e.history.location.pathname.indexOf(r))return!0}}catch(o){n.e(o)}finally{n.f()}}(["/goals","/posts","/profile","/account"]);return e.hide?e.children:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ot.Layout,style:e.white?{background:"#fff"}:{}},!e.noHeader&&r.a.createElement(Ne.a,{appear:!1,direction:"down",in:k},r.a.createElement(dt.a,{elevation:1,color:"secondary",style:{background:e.color||"none"}},e.isConnectingWS&&!O&&r.a.createElement(mt.a,{style:{width:"100%",position:"absolute",top:0,left:0}}),r.a.createElement("div",{id:"anchorTR"},r.a.createElement(pt.a,null,r.a.createElement("div",{tabIndex:0,ref:a,style:{width:0,height:0}}),e.customHeader?e.customHeader:i._id&&e.header||r.a.createElement(Ze.a,{style:{display:"flex",flex:1}},r.a.createElement(Ze.a,{style:{display:"flex",flex:1}},r.a.createElement(We.a,{component:c.b,to:"/",style:{padding:"3px 8px"}},r.a.createElement("img",{className:ot.logo,src:"/logo-addspire.png"}))),r.a.createElement(Ze.a,{style:{display:"flex"}},r.a.createElement(Yt,null),r.a.createElement(We.a,{component:c.b,to:"/".concat("en"!==l?l+"/":"","blog"),style:{marginRight:"20px"}},r.a.createElement(gt.a,{className:j.blogIcon}),r.a.createElement("span",{className:j.blogLabel},t("layout.blog"))),O&&w||!O&&e.isConnectingWS?r.a.createElement(We.a,{onClick:function(){return e.history.push("/logout")}},t("g.logout")):!i._id&&r.a.createElement(We.a,{variant:"contained",color:"primary",onClick:function(){return m(!0)}},t("layout.login")))))))),!e.noContent&&r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.a,{id:"back-to-top-anchor"}),r.a.createElement(ft.a,{style:{paddingTop:"20px",paddingBottom:"20px"},disableGutters:Boolean(S)},e.children)),(O||!e.isConnectingWS)&&w&&"Activate your account",r.a.createElement(st,null)),r.a.createElement(Je,{loginVisible:d,setLoginVisible:m}),(O||!e.isConnectingWS)&&!w&&r.a.createElement(r.a.Fragment,null),i._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{open:E,close:function(){b(!1)},title:t("g.addFriend")},r.a.createElement(Bt,{close:function(){return b(!1)},open:E,account:i,friendData:e.friendData})),r.a.createElement(Re.a,{fullScreen:!0,open:Boolean(g),onClose:function(){h("")},TransitionComponent:Ua,scroll:"paper"},r.a.createElement(Ba,{account:i,friendData:e.friendData,cancel:function(){return h("")},type:g,goToResource:!0}))))})),Ga=a(1050),Ya=a(1051),Ha=a(1052),Ja=a(1053),qa=a(1054),Ka=a(21),$a=a.n(Ka);a(326);$a()().format();var Za=Object(qe.a)(function(e){return Object(Ke.a)({title:{marginLeft:e.spacing(2),flex:1},root:{flexGrow:1,marginTop:"20px"},media:{height:0,paddingTop:"56.25%",backgroundSize:"contain"}})}),Xa=Object(y.h)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(fe(t))}}})(function(e){var t=Object(Ge.a)().t,a=Za(),o=Object(n.useState)([]),i=Object(x.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(""),d=Object(x.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(x.a)(f,2),h=g[0],y=g[1];return Object(n.useEffect)(function(){fetch("https://addspire-blog.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n             query {\n   posts (\n       ".concat(h?"":'where: { language:"'.concat(0===e.history.location.pathname.indexOf("/ru")?"ru":"en",'" },'),' \n   sort:"published_at:desc"){\n    url\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}')})}).then(function(e){return e.json()}).then(function(e){s(e.data.posts),p(t("blog.title"))})},[e.history.location.pathname,h]),r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(Ae.a,null,r.a.createElement("title",null,m)),r.a.createElement(Va,{white:!0},r.a.createElement(We.a,{onClick:function(){return y(!h)},color:"primary"},t(h?"blog.hide":"blog.show")),r.a.createElement("div",{className:a.root},r.a.createElement(Ga.a,{container:!0,spacing:3},l.map(function(t){return r.a.createElement(Ga.a,{item:!0,xs:12,md:6,xl:4},r.a.createElement(Ya.a,null,r.a.createElement(c.b,{to:e.history.location.pathname+"/"+t.url.split(".")[0]},r.a.createElement(Ha.a,null,r.a.createElement(Ja.a,{className:a.media,image:t.previewImage&&t.previewImage.url,title:t.title}),r.a.createElement(qa.a,null,r.a.createElement(ht.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title),r.a.createElement(ht.a,{gutterBottom:!0,variant:"subtitle1"},t.subtitle),r.a.createElement(ht.a,{align:"right",variant:"button",color:"textSecondary",component:"p"},$a()(t.published_at).format("MMMM D[,] YYYY")))))))})))))})),Qa=Object(qe.a)(function(e){return Object(Ke.a)({title:{marginLeft:e.spacing(2),flex:1}})}),en=Object(y.h)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,user:e.user,account:e.account,accountNotActive:e.accountNotActive}},function(e){return{setPageTitle:function(t){return e(fe(t))},setAccountActivated:function(t){return e(function(e){return{type:"SET_ACCOUNT_ACTIVATED",value:e}}(t))}}})(function(e){var t=Object(Ge.a)().t,a=Qa();e.isAuthed||e.history.push("/logout"),Object(n.useEffect)(function(){e.accountNotActive||e.history.push("/settings")},[e.accountNotActive]);return r.a.createElement(Va,{header:r.a.createElement(ht.a,{variant:"h6",className:a.title,color:"inherit",noWrap:!0},t("activate.activateAccount"))},r.a.createElement(ht.a,{variant:"h4",align:"center"},"Addspire"),r.a.createElement(ht.a,{variant:"h4",align:"center"},t("activate.accountActivation")),r.a.createElement(E.a,Object.assign({name:"dynamic_form_nest_item",onFinish:function(a){s.a.post("/api/activate-account",Object(wt.a)({},a)).then(function(a){a.data.success?(j.b.success(t("activate.accountActivated")),e.setAccountActivated(!1)):(a.data.nicknameNotUnique&&j.b.warning(t("activate.accountTaken")),a.data.errorCode&&j.b.error(t("activate.wrongData")))}).catch(function(e){})},autoComplete:"off"},{labelCol:{span:8},wrapperCol:{span:16}},{style:{maxWidth:"1200px",margin:"50px auto 0px",padding:"15px",width:"90%"}}),r.a.createElement(E.a.Item,{label:t("g.name"),name:"name",rules:Zt},r.a.createElement(b.a,{placeholder:t("activate.minLength")})),r.a.createElement(E.a.Item,{label:t("activate.nickname"),name:"nickname",rules:Kt},r.a.createElement(b.a,{placeholder:t("activate.minLength")})),r.a.createElement(E.a.Item,{wrapperCol:{offset:8,span:16}},r.a.createElement(w.a,{type:"primary",htmlType:"submit",size:"large"},t("g.save")))))})),tn=a(281),an=a.n(tn);function nn(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return rn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rn(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var on=Object(y.h)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,statePosts:e.post,progress:e.progress,friendData:e.friendData,progressData:e.progressData,lastNotifications:e.lastNotifications}},function(e){return{setData:function(t){e(ue(t))},setPageTitle:function(t){return e(fe(t))}}})(function(e){var t=e.account,a=e.friendData,n=e.progressData,o=function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1};if(!t._id)return null;var i,c=[],l=nn(t.followProgresses);try{for(l.s();!(i=l.n()).done;){var s=i.value;n[s]&&n[s].notifications&&(c=[].concat(Object(M.a)(c),Object(M.a)(n[s].notifications)))}}catch(f){l.e(f)}finally{l.f()}var u,d=nn(t.friends);try{for(d.s();!(u=d.n()).done;){var m=u.value;a[m.friend]&&"friend"===m.status&&a[m.friend].notifications&&(c=[].concat(Object(M.a)(c),Object(M.a)(a[m.friend].notifications)))}}catch(f){d.e(f)}finally{d.f()}var p=function(e,t,a,n){return e.find(function(e){return e.notId===t.notId})||e.push(t),e};return c=(c=c.reduce(p,[])).sort(o).slice(0,100),c=(c=(c=[].concat(Object(M.a)(c),Object(M.a)(t.myNotifications)).filter(function(e){return"add post"!==e.code})).reduce(p,[])).sort(o),an()(c,e.lastNotifications)||e.setData({lastNotifications:c}),r.a.createElement("span",null)})),cn=Object(y.h)(Object(u.b)(null,function(e){return{tryAuth:function(t){return e(ce(t))}}})(function(e){return window.addEventListener("message",function(t){try{var a=JSON.parse(t.data);switch(a.message){case"token":var n=a.token;e.tryAuth(n);break;case"callback":window.callback(a.url);break;case"back":e.history.location.key?e.history.goBack():window.isRNWebView&&window.ReactNativeWebView.postMessage("exit");break;default:return}}catch(r){return void console.error("failed to parse message from react-native "+r)}}),r.a.createElement(r.a.Fragment,null)})),ln=a(1099),sn=Object(qe.a)({text:{"&>div::after":{border:"none"},"&>div::before":{border:"none !important"},"& textarea":{fontSize:"14px"}}}),un=Object(y.h)(function(e){var t=Object(Ge.a)().t,a=sn(),o=Object(n.useState)(""),i=Object(x.a)(o,2),c=(i[0],i[1],Object(n.useState)(!1)),l=Object(x.a)(c,2),s=(l[0],l[1]),u=Object(n.useState)(e.images||[]),d=Object(x.a)(u,2),m=d[0],p=d[1],f=e.post,g=e.account,h=Object(n.useState)(e.content||(e.replyToUser?"@"+e.replyToUser+" ":"")),y=Object(x.a)(h,2),v=y[0],E=y[1];Object(n.useEffect)(function(){E(e.content||(e.replyToUser?"@"+e.replyToUser+" ":""))},[e.replyToUser,e.content]);return f&&g._id?r.a.createElement(Ze.a,{style:{display:"flex",width:"100%",margin:"10px 0px"}},r.a.createElement(Ze.a,{style:{marginRight:"10px"}},r.a.createElement(Dt,{noName:!0,id:g._id,span:!0,size:e.isTop?36:25})),r.a.createElement(Ze.a,{style:{flex:1}},r.a.createElement(Ze.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px"}},r.a.createElement(ln.a,{multiline:!0,value:v,onChange:function(e){return E(e.target.value)},margin:"dense",placeholder:t("post.addComment"),className:a.text,fullWidth:!0}),m.length>0&&r.a.createElement(ba,{images:m,onValueChange:function(e){return p(e)}}),r.a.createElement(We.a,{onClick:function(){var t,a,n,r,o,i;t=g._id,a=f._id,n=v,r=m,o=e.replyTo,i=e.editingMessage,H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"sendMessage",messageValue:n,image:r,postId:a,accountId:t,replyToMessage:o,editedMessage:i})),E(""),p([]),e.onSend&&e.onSend()}},r.a.createElement("span",{style:On},t("g.send"))),r.a.createElement(da.a,{accept:"image/*",showUploadList:!1,customRequest:function(e){var a=e.file;m.length>8?message.warning(t("post.imageLimit")):(s(!0),fa(a,800,void 0,function(e){s(!1),p(e?[].concat(Object(M.a)(m),[e]):Object(M.a)(m))}))}},r.a.createElement(We.a,{onClick:function(e){window.isRNWebView&&(e.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(e){s(!1),p([].concat(Object(M.a)(m),[e]))})}},r.a.createElement("span",{style:On},t("g.image")))),e.cancel&&r.a.createElement(We.a,{onClick:e.cancel},r.a.createElement("span",{style:On},t("g.cancel")))))):r.a.createElement(Ze.a,{style:{height:"10px"}})}),dn=a(481),mn=a(480),pn=a.n(mn),fn=a(515),gn=function(e){var t=Object(n.useState)(!1),a=Object(x.a)(t,2),o=a[0],i=a[1];return e.images&&e.images.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(dn.a,{style:{width:e.size||"auto",margin:"10px 0"},dots:{className:pn.a.Dots},autoplay:!0},e.images.map(function(t,a){return t&&r.a.createElement("div",{key:a,onClick:function(){return i(t)}},r.a.createElement("div",{style:{backgroundImage:'url("'+t+'")',backgroundSize:e.type||"contain",backgroundPosition:"center",width:e.size||"100%",height:e.height||e.size||"300px",maxWidth:"800px",backgroundRepeat:"no-repeat",borderRadius:"20px",margin:"auto"}}))})),r.a.createElement(fn.a,{visible:o,footer:null,onCancel:function(){return i("")}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:o}))):null},hn=function(e){var t=Object(Ge.a)().t,a=e.account,n=e.type,o=e.id;return a&&a._id&&a._id!==o?"account"!==n?a["goal"===n?"followProgresses":"reward"===n?"followRewards":"followActivities"].includes(o)?r.a.createElement(We.a,{variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),Q(a._id,o,n)}},t("g.unfollow")):r.a.createElement(We.a,{color:"primary",variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),X(a._id,o,n)}},t("g.follow")):a.followAccounts.includes(o)?r.a.createElement(We.a,{variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),ae(a._id,o)}},t("g.unfollow")):r.a.createElement(We.a,{color:"primary",variant:"contained",onClick:function(e){e.stopPropagation(),e.preventDefault(),te(a._id,o)}},t("g.follow")):null},yn=a(1055),vn=function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(!1),s=Object(x.a)(l,2),u=s[0],d=s[1],m=Object(n.useRef)(null);return Object(n.useEffect)(function(){m.current&&m.current.offsetHeight>e.initialHeight&&c(!0)},[m.current&&m.current.offsetHeight,e.content,e.contentEditor,e.children]),r.a.createElement("div",{style:{maxHeight:u?"initial":e.initialHeight+"px",overflow:"hidden",position:"relative",paddingBottom:i&&u?"50px":"0px"}},e.content&&r.a.createElement("div",{ref:m,dangerouslySetInnerHTML:{__html:e.content}}),e.contentEditor&&r.a.createElement("div",{ref:m},r.a.createElement(Da,{readOnly:!0,value:e.contentEditor})),e.children&&r.a.createElement("div",{ref:m},e.children),i&&r.a.createElement("div",{style:{position:"absolute",bottom:0,width:"100%"}},r.a.createElement("div",{style:{transition:"opacity 0.25s",opacity:u?0:1,backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 1), #ffffff )",content:"",height:"50px",width:"100%",bottom:"0",left:"0",position:"absolute"}}),r.a.createElement(We.a,{color:"primary",onClick:function(){return d(!u)}},u?t("g.readLess"):t("g.readMore")+(e.addTitle||""))))},En=Object(qe.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),bn=function(e){var t=Object(Ge.a)().t,a=En(),o=Object(n.useState)(e.images||[]),i=Object(x.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(e.content||""),u=Object(x.a)(s,2),d=u[0],m=u[1];Object(n.useEffect)(function(){l(e.images||[]),m(e.content||"")},[e.open]);var p=function(){e.save(c,d),f()},f=function(){l([]),m(""),e.cancel()};return r.a.createElement(bt,{open:e.open,close:f,title:e.title,save:p},r.a.createElement(Ze.a,{style:{padding:"0 16px",maxWidth:"1200px",margin:"0 auto",width:"100%"}},r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.desc")),r.a.createElement(Ze.a,null,r.a.createElement(Da,{value:d,onEditorChange:function(e){return m(e)}})),r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.images")),r.a.createElement(ba,{images:c,onValueChange:function(e){return l(e)}}),r.a.createElement(Ze.a,{style:{textAlign:"right",marginTop:"50px"}},r.a.createElement(We.a,{size:"large",onClick:f},t("g.cancel")),r.a.createElement(We.a,{color:"primary",variant:"contained",size:"large",style:{marginLeft:"10px",marginRight:"50px"},onClick:p},t("g.save")))))},wn=function(e){var t=Object(Ge.a)().t;return r.a.createElement(Re.a,{open:Boolean(e.open),onClose:e.cancel},r.a.createElement(Fe.a,null,e.title),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:e.cancel,color:"primary"},t("g.cancel")),r.a.createElement(We.a,{onClick:function(){e.confirm(),e.cancel()},color:"primary"},t("g.confirm"))))};$a()().format();var On={fontSize:"12px",color:"#666",textTransform:"none"},xn=Object(y.h)(function e(t){var a=Object(Ge.a)().t,o=t.account,i=t.message,c=t.friendData,l=t.post,s=t.replies,u=t.isStart,d=Object(n.useState)(!1),m=Object(x.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(!1),h=Object(x.a)(g,2),y=h[0],v=h[1],E=Object(n.useState)(null),b=Object(x.a)(E,2),w=b[0],O=b[1],k=Object(n.useState)(""),j=Object(x.a)(k,2),S=j[0],C=j[1],D=Object(n.useState)(""),_=Object(x.a)(D,2),A=_[0],T=_[1],M=Object(n.useState)(!1),I=Object(x.a)(M,2),N=I[0],R=I[1],F=Object(n.useState)(null),P=Object(x.a)(F,2),B=P[0],L=P[1],W=Object(n.useState)(!1),z=Object(x.a)(W,2),U=z[0],V=z[1],G=function(){V(!1)};return o&&c?r.a.createElement(r.a.Fragment,null,o._id===i.author&&A?r.a.createElement(un,{post:l,account:o,replyTo:i.messageId,editingMessage:A,content:i.text,images:i.image,onSend:function(){return T("")},cancel:function(){return T("")}}):r.a.createElement(r.a.Fragment,null,t.isStart?r.a.createElement(Ze.a,{style:{display:"flex",width:"100%",margin:"10px 0px"}},r.a.createElement(Ze.a,{style:{marginRight:"10px"}},r.a.createElement(Dt,{noName:!0,id:i.author,span:!0})),r.a.createElement(Ze.a,{style:{flex:1}},r.a.createElement("span",{style:{color:"#333",fontWeight:"bold",fontSize:"14px"}},r.a.createElement(Dt,{id:i.author,span:!0,noAva:!0})," ",r.a.createElement("div",{style:On,onClick:function(){return t.history.push("progress"===l.parent.parentType&&"/goals/"+l.parent.parentId+"/post/"+l._id)}},$a()(i.date).fromNow()),l.startMessage&&["wishlist","perk","goal"].includes(l.startMessage.messageType)&&r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return t.history.push("/profile/"+i.author)}},"wishlist"===l.startMessage.messageType?a("g.wishlist"):"goals"===l.startMessage.messageType?a("g.goals"):a("g.rewards")))),o._id===i.author&&r.a.createElement(Ze.a,null,r.a.createElement(Qe.a,{onClick:function(e){return L(e.currentTarget)}},r.a.createElement(kt.a,null)),r.a.createElement(Ot.a,{id:"simple-menu",anchorEl:B,keepMounted:!0,open:Boolean(B),onClose:function(){return L(null)}},r.a.createElement(xt.a,{onClick:function(){V(!0),L(null)}},a("g.edit")),r.a.createElement(xt.a,{onClick:function(){v(!0),L(null)}},a("g.delete"))),r.a.createElement(bn,{open:U,cancel:G,title:a("post.editPost"),save:function(e,a){!function(e,t,a,n){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"editPost",accountId:e,postId:t,messageValue:a,images:n}))}(o._id,l._id,a,e),t.onSend&&t.onSend(),G()},images:i.image,content:i.text}),r.a.createElement(wn,{open:y,cancel:function(){return v(!1)},title:a("post.confirmDelete"),confirm:function(){return e=o._id,t=l._id,void(H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"deletePost",accountId:e,postId:t})));var e,t}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{style:{display:"flex",width:"100%"}},r.a.createElement(Ze.a,{style:{marginRight:"10px"}},r.a.createElement(Dt,{noName:!0,id:i.author,span:!0,size:t.isTop?36:25})),r.a.createElement(Ze.a,{style:{flex:1}},r.a.createElement(et.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circle",badgeContent:i.likes.length?r.a.createElement(Ta.a,{icon:r.a.createElement(yn.a,null),color:"primary",label:i.likes.length,size:"small",onClick:function(){return O(i.likes)}}):0},r.a.createElement(Ze.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px"}},r.a.createElement(Dt,{id:i.author,span:!0,noAva:!0}),i.image&&i.image.length>0&&r.a.createElement(gn,{images:i.image,height:"60vmin",type:"contain"}),i.text&&r.a.createElement("p",{style:{wordBreak:"break-word"}},i.text))),r.a.createElement(Ze.a,null,r.a.createElement("span",{style:Object(wt.a)({},On,{marginRight:"15px"})},$a()(i.date).fromNow()),r.a.createElement(We.a,{onClick:function(){o._id?Z(i.likes.includes(o._id)?"dislikeMessage":"likeMessage",i.messageId,o._id,l._id):i.warning(a("g.needLogin"))}},r.a.createElement("span",{style:On},i.likes.includes(o._id)?a("g.unlike"):a("g.like"))),i.author!==o._id&&r.a.createElement(We.a,{onClick:function(){o._id||i.warning(a("g.needLogin")),o._id&&(t.setReplyVisible?(t.setReplyVisible(!0),t.setReplyToUser(t.message.author)):(f(!0),C(""))),R(!0)}},r.a.createElement("span",{style:On},a("post.reply"))),i.author===o._id&&r.a.createElement(We.a,{onClick:function(){return T(i.messageId)}},r.a.createElement("span",{style:On},a("g.edit")))),t.isTop&&s&&s.length>0?N?s.map(function(t,a){return r.a.createElement(e,{key:a,message:t,post:l,account:o,friendData:c,setReplyVisible:f,setReplyToUser:C})}):r.a.createElement(We.a,{onClick:function(){return R(!0)}},r.a.createElement("span",{style:Object(wt.a)({},On,{fontSize:"15px"})},"".concat(a("g.show")," ").concat(s.length," ").concat(a("post.replies")))):null,t.isTop&&p?r.a.createElement(un,{post:l,account:o,replyTo:i.messageId,replyToUser:S,cancel:function(){return f(!1)}}):null))),u?r.a.createElement(r.a.Fragment,null,"wishlist"===i.messageType&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{style:{fontWeight:"bold",cursor:"pointer",margin:"10px 0px 0px "},onClick:function(){return t.history.push("/wishlist/".concat(i.details.owner,"/").concat(i.details.itemId))}},i.details.name)),i.text&&r.a.createElement(vn,{initialHeight:700,contentEditor:i.text}),i.image&&i.image.length>0&&r.a.createElement(gn,{images:i.image,height:"60vmin",type:"contain"})):r.a.createElement(r.a.Fragment,null)),r.a.createElement(bt,{open:Boolean(w),close:function(){return O(null)},title:"Message likes"},w&&w.map(function(e){return r.a.createElement(Tt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(hn,{account:o,id:e,type:"account"}),body:r.a.createElement(Dt,{span:!0,id:e,size:50})})}))):null}),kn=a(1056),jn=a(1057);function Sn(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Cn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cn(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Dn=Object(qe.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),_n=Object(y.h)(function(e){var t=Object(Ge.a)().t,a=Dn(),o=e.post,i=e.account,c=e.friendData,l=e.progressData,s=e.history.location.pathname.indexOf(o._id)>-1,u=Object(n.useState)(e.showReplies||s),d=Object(x.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(null),g=Object(x.a)(f,2),h=g[0],y=g[1],v=Object(n.useRef)(null);return Object(n.useEffect)(function(){s&&v.current&&(window.scrollTo({top:v.current.offsetTop-70,behavior:"smooth"}),p(!0))},[s]),o?r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("post.mainPost")),r.a.createElement(Ya.a,{elevation:s&&3},r.a.createElement(qa.a,{ref:v},!e.noStartMessage&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xn,{message:o.startMessage,post:o,account:i,friendData:c,progressData:l,replies:[],isStart:!0}),o.startMessage.likes.length>0&&r.a.createElement(Ta.a,{icon:r.a.createElement(yn.a,null),color:"primary",label:o.startMessage.likes.length,size:"small",onClick:function(){return y(o.startMessage.likes)},style:{marginBottom:"10px"}}),r.a.createElement(Ve.a,null)),r.a.createElement("div",{style:{textAlign:"left",position:"relative"}},!e.noPostControls&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(We.a,{onClick:function(){i._id?Z(o.startMessage.likes.includes(i._id)?"dislikeMessage":"likeMessage",o.startMessage.messageId,i._id,o._id):j.b.warning(t("g.needLogin"))},startIcon:r.a.createElement(kn.a,null)},r.a.createElement("span",{style:On},o.startMessage.likes.includes(i._id)?t("g.unlike"):t("g.like")))),r.a.createElement("span",null,r.a.createElement(We.a,{onClick:function(){return p(!0)},startIcon:r.a.createElement(jn.a,null)},r.a.createElement("span",{style:On},t("post.comment"))))),r.a.createElement(Ve.a,null)),m?r.a.createElement(r.a.Fragment,null,r.a.createElement(un,{post:o,account:i,isTop:!0}),o.messages&&o.messages.length?o.messages.map(function(e,t){return r.a.createElement(xn,{key:t,message:e,post:o,account:i,friendData:c,replies:e.replies,isTop:!0})}):null):o.messages.length>0&&r.a.createElement(We.a,{onClick:function(){return p(!0)}},r.a.createElement("span",{style:Object(wt.a)({},On,{fontSize:"15px"})},"".concat(t("g.show")," \n                                        ").concat(function(e){var t,a=0,n=Sn(e);try{for(n.s();!(t=n.n()).done;)a=a+1+t.value.replies.length}catch(r){n.e(r)}finally{n.f()}return a}(o.messages)," \n                                        ").concat(t("post.comments"))))))),r.a.createElement(bt,{open:Boolean(h),close:function(){return y(null)},title:t("post.messageLikes")},h&&h.map(function(e){return r.a.createElement(Tt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(hn,{account:i,id:e,type:"account"}),body:r.a.createElement(Dt,{span:!0,id:e,size:50})})})),s&&r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("post.otherPosts"))):null}),An=a(484),Tn=a(483);$a()().format();var Mn=Object(y.h)(Object(u.b)(function(e){return{lastNotifications:e.lastNotifications}})(function(e){var t=Object(Ge.a)().t,a=e.lastNotifications;return Object(n.useEffect)(function(){var t,n;t=e.account._id,n=a.reduce(function(e,t){var a=parseInt(t.notId);return isNaN(a)?e:e>a?e:a},0),H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"setLastSeenNot",accountId:t,notId:n}))},[a]),r.a.createElement(Ya.a,null,r.a.createElement(qa.a,null,a.map(function(a,n){var o,i=null;switch(a.code){case"change name":i=r.a.createElement("span",null," ",r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.changedName"));break;case"delete account":i=r.a.createElement("span",null,a.user,t("dash.deletedAccount"));break;case"friend request":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.wantsToBecomeFriends"));break;case"friend add":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.and"),r.a.createElement(Dt,{span:!0,noAva:!0,id:a.details.friend}),t("dash.becameFriends"));break;case"unfriend":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.and"),r.a.createElement(Dt,{span:!0,noAva:!0,id:a.details.friend}),t("dash.stoppedFriends")," stopped being friends.");break;case"add wishlist item":case"edit wishlist item":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user})," ","add wishlist item"===a.code?t("dash.addedToWish"):t("dash.editedWish")," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/wishlist/".concat(a.user,"/").concat(a.details.itemId))}},a.details.itemName),".");break;case"delete wishlist item":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.deleted"),a.details.itemName," ",t("dash.fromWish"));break;case"add goal":case"edit goal":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user})," ","add goal"===a.code?t("dash.addedGoal"):t("dash.editedGoalND")," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.user,"/").concat(a.details.itemId))}},a.details.itemName),".");break;case"delete goal":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.deleted"),a.details.itemName," ",t("dash.fromGoals"));break;case"cancel transaction":case"confirm transaction":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user})," ","cancel transaction"===a.code?t("dash.cancelled"):t("dash.confirmed")," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/shop/".concat(a.user,"/").concat(a.details.itemId))}},a.details.itemName," ($",a.details.price,")"),t("dash.by"),r.a.createElement(Dt,{span:!0,noAva:!0,id:a.details.buyer}),".");break;case"start progress":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.startedParticipating"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.itemId))}},a.details.itemName),t("dash.as"),a.details.as,".");break;case"stage approve":case"stage progress":case"stage fail":case"stage dismiss":o=function(e){var a;return e.day?(a=$a()().year(e.year).dayOfYear(e.day)).format("dddd D MMM YYYY"):e.week?(a=$a()().year(e.year).week(e.week)).startOf("week").format("wo ["+t("g.week")+"] D MMM YYYY - ")+a.endOf("week").format("D MMM YYYY"):e.month?(a=$a()().year(e.year).month(e.month)).format("MMMM YYYY"):e.year?(a=$a()().year(e.year)).format("YYYY"):void 0}(a.details),i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),"stage approve"===a.code?t("dash.approved"):"stage progress"===a.code?t("dash.putToProgress"):"stage fail"===a.code?t("dash.markedFailed"):t("dash.dismissed"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),o&&r.a.createElement(r.a.Fragment,null,t("dash.for"),r.a.createElement("span",{style:{fontWeight:"bold"}},o)),".");break;case"stage complete":i=r.a.createElement("span",null,t("dash.goal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),o&&r.a.createElement(r.a.Fragment,null,t("dash.for"),r.a.createElement("span",{style:{fontWeight:"bold"}},o)),t("dash.wasApprovedAndFinished"));break;case"leave progress":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.leftGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"edit progress":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user})," ",t("dash.editedGoalND")," ",r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),a.details.addedAccounts.length>0?r.a.createElement(r.a.Fragment,null,t("dash.andAdded"),a.details.addedAccounts.map(function(e){return r.a.createElement(Dt,{span:!0,noAva:!0,id:e})})," "):"",a.details.droppedAccounts.length>0?r.a.createElement(r.a.Fragment,null,t("dash.andRemoved"),a.details.droppedAccounts.map(function(e){return r.a.createElement(Dt,{span:!0,noAva:!0,id:e})}),"."):".");break;case"remove from progress":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.removed"),r.a.createElement(Dt,{span:!0,noAva:!0,id:a.details.account}),t("dash.fromGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"add to progress":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user}),t("dash.added"),r.a.createElement(Dt,{span:!0,noAva:!0,id:a.details.account}),t("dash.toGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"add reward":case"add activity":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user})," ",t("dash.added")," ",a.name," ","add reward"===a.code&&r.a.createElement(r.a.Fragment,null,t("dash.asRewardFor"),a.details.for&&0!==a.details.for.length?a.details.for.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt,{noAva:!0,span:!0,id:e}),",")}):t("dash.all")),t("dash.inGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"delete reward":case"delete activity":i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user})," ",t("dash.removed"),a.name,"delete reward"===a.code&&r.a.createElement(r.a.Fragment,null,t("dash.asRewardFor"),a.details.for&&0!==a.details.for.length?a.details.for.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt,{span:!0,noAva:!0,id:e}),",")}):t("dash.all")),t("dash.inGoal"),r.a.createElement("span",{style:{fontWeight:"bold"},onClick:function(){return e.history.push("/goals/".concat(a.details.progressId))}},a.details.progressName),".");break;case"shared":var c=function(){return e.history.push(a.details.url.split("https://addspire.com").length>0?a.details.url.split("https://addspire.com")[1]:a.details.url)},l=t("dash.somethingOnAddspire");a.details.progressName&&a.details.progressId?(c=function(){return e.history.push("/goals/".concat(a.details.progressId))},l=a.details.progressName):a.details.profileId&&a.details.profileName?(c=function(){return e.history.push("/profile/".concat(a.details.profileId))},l=a.details.profileName):a.details.rewardId&&a.details.rewardName?(c=function(){return e.history.push("/rewards/".concat(a.details.rewardId))},l=a.details.rewardName):a.details.activityId&&a.details.activityName&&(c=function(){return e.history.push("/activities/".concat(a.details.activityId))},l=a.details.activityName),i=r.a.createElement("span",null,r.a.createElement(Dt,{span:!0,noAva:!0,id:a.user})," ",t("dash.sharedAndInvitedYouTo")," ",r.a.createElement("span",{style:{fontWeight:"bold",cursor:"pointer"},onClick:function(){return c()}},l));break;default:i=t("dash.newEvent")}return r.a.createElement("div",{key:n},0!==n&&r.a.createElement(Tn.a,{style:{margin:"5px 0px"}}),r.a.createElement(An.a,{avatar:r.a.createElement(Dt,{noName:!0,id:a.user,span:!0}),content:i}))})," "))}));function In(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Nn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Nn(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Rn=Object(qe.a)(function(e){return Object(Ke.a)({title:{fontSize:13,margin:"30px 15px 10px",fontWeight:600}})}),Fn=Object(y.h)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,account:e.account,statePosts:e.post,progress:e.progress,friendData:e.friendData,progressData:e.progressData,currentPosts:e.currentPosts,lastNotifications:e.lastNotifications}},function(e){return{setData:function(t){e(ue(t))},setPageTitle:function(t){return e(fe(t))}}})(function(e){var t,a=Object(Ge.a)().t,o=Rn(),i=e.account,c=e.friendData,l=e.statePosts,s=e.progressData,u=e.currentPosts,d=Object(n.useState)([]),m=Object(x.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)("posts"),h=Object(x.a)(g,2),y=h[0],v=h[1],E=Object(n.useState)((new Date).getTime()),b=Object(x.a)(E,1)[0],w=function(e,t){var a=e.notifications.filter(function(e){return e.user!==i._id}),n=t.notifications.filter(function(e){return e.user!==i._id});return 0===a.length&&n.length>0?1:a.length>0&&0===n.length?-1:0===a.length&&0===n.length?0:new Date(a[0].date).getTime()<new Date(n[0].date).getTime()?1:-1},O=0,k=In(e.lastNotifications);try{for(k.s();!(t=k.n()).done;){var j=t.value;parseInt(j.notId)>parseInt(i.lastSeenNot||0)&&O++}}catch(T){k.e(T)}finally{k.f()}if(Object(n.useEffect)(function(){if(u){var e,t=u.filter(function(e){return l[e]}).map(function(e){return l[e]}),a=[],n=[],r=Object(M.a)(p),o=In(t);try{var i=function(){var t=e.value,o=r.findIndex(function(e){return e._id.toString()===t._id.toString()});-1===o?t.notifications&&t.notifications.length>0&&new Date(t.notifications[0].date).getTime()>b?a.push(t):n.push(t):r[o]=t};for(o.s();!(e=o.n()).done;)i()}catch(T){o.e(T)}finally{o.f()}for(var c=function(){var e=d[s],t=r.findIndex(function(t){return!!(t&&t.notifications&&t.notifications.length>0)&&new Date(t.notifications[0]).getTime()>new Date(e.notifications[0]).getTime()});-1===t?r.push(e):r.splice(t,0,e)},s=0,d=n;s<d.length;s++)c();var m=[].concat(a,Object(M.a)(r));0===p.length&&(m=m.sort(w)),f(m)}},[u,l]),!i._id)return null;var S,C=[],D=In(i.followProgresses);try{for(D.s();!(S=D.n()).done;){var _=S.value;s[_]&&(C=[].concat(Object(M.a)(C),Object(M.a)(s[_].notifications.filter(function(e){return"add post"===e.code&&e.user!==i._id}))))}}catch(T){D.e(T)}finally{D.f()}C=C.sort(function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1}).map(function(e){return e.details.postId}).slice(0,10);var A=Object(M.a)(new Set([].concat(Object(M.a)(i.followPosts),Object(M.a)(i.myPosts),Object(M.a)(p.map(function(e){return e._id})),Object(M.a)(C))));return an()(u,A)||e.setData({currentPosts:A}),e.setPageTitle({main:"Dashboard",sub:""}),r.a.createElement(Va,{header:r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{style:{margin:"0px 20px"},color:"posts"===y?"primary":"default",onClick:function(){return v("posts")},variant:"contained"},a("g.posts")),r.a.createElement(et.a,{badgeContent:O,color:"secondary"},r.a.createElement(We.a,{color:"events"===y?"primary":"default",onClick:function(){return v("events")},variant:"contained"},a("g.events"))))},"posts"===y?p.map(function(e,t){var n=null,l=e.notifications.filter(function(e){return e.user!==i._id}),u=l.length>0?l[0]:null;if(u)switch(u.code){case"edit wishlist item":n=a("dash.editedItem");break;case"edit goal":n=a("dash.editedGoal");break;case"comment":n=a("dash.addedComment");break;case"edit comment":n=a("dash.editedComment");break;case"like":n=a("dash.addedLike");break;case"dislike":n=a("dash.removedLike");break;default:n=null}return r.a.createElement("div",{key:t,style:{paddingTop:"10px"}},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{className:o.title,color:"textSecondary",gutterBottom:!0},r.a.createElement("span",null,r.a.createElement(Dt,{id:u.user,noAva:!0,span:!0,style:{fontWeight:"bold"}})," ",n))),r.a.createElement(_n,{friendData:c,account:i,post:e,progressData:s}))}):r.a.createElement(Mn,{account:i}))})),Pn=a(485),Bn=a.n(Pn),Ln=a(486),Wn=a.n(Ln),zn={default:4,1600:3,1100:2,600:1},Un={default:4,1100:3,700:2,310:1},Vn={default:10,2100:10,1900:9,1700:8,1500:7,1300:6,1100:5,900:4,700:3,500:2,300:1},Gn=function(e){return r.a.createElement("div",{style:Object(wt.a)({},e.style)},r.a.createElement(Wn.a,{className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",breakpointCols:e.images?Vn:e.friends?zn:Un},e.children))},Yn=a(1075),Hn=a(424),Jn=a(1058),qn=a(1111),Kn=a(1100),$n=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},Zn=Object(qe.a)(function(e){return Object(Ke.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),Xn=function(e){var t=Object(Ge.a)().t,a=e.mapVisible,o=e.setMapVisible,i=e.onSearch,c=e.setSearch,l=e.search,s=e.positionChanged,u=e.setPositionChanged,d=Object(n.useRef)(null),m=Object(n.useState)(!1),p=Object(x.a)(m,2),f=p[0],g=p[1],h=Object(n.useState)(!1),y=Object(x.a)(h,2),v=y[0],E=y[1];Object(n.useEffect)(function(){d&&d.current&&d.current.leafletElement&&(new na.Geosearch({useMapBounds:!1,placeholder:t("g.mapPlaceholder"),title:t("g.mapTitle")}).addTo(d.current.leafletElement),new ua.GestureHandling(d.current.leafletElement))},[]);var b=Object(n.useState)(l.position),w=Object(x.a)(b,2),O=w[0],k=w[1],j=function(e){c(Object(wt.a)({},l,{position:[e.latlng.lat,e.latlng.lng],withMap:!0})),u(!0)};Object(n.useEffect)(function(){S()},[e.search]),Object(n.useEffect)(function(){return E(!1)},[a]);var S=function(){if(d&&d.current&&d.current.leafletElement){var e=40075016.686*Math.abs(Math.cos(d.current.leafletElement.getCenter().lat*Math.PI/180))/Math.pow(2,d.current.leafletElement.getZoom()+8);g("mi"===l.units?1609*l.distance/e:1e3*l.distance/e)}},C=Zn();return r.a.createElement(Re.a,{fullScreen:!0,open:a,onClose:function(){o(!1),v&&i(l)},TransitionComponent:$n,scroll:"paper"},r.a.createElement(dt.a,{className:C.appBar,color:"primary"},r.a.createElement(pt.a,null,r.a.createElement(Qe.a,{edge:"start",color:"inherit",onClick:function(){o(!1),v&&i(l)},"aria-label":"close"},r.a.createElement(yt.a,null)),r.a.createElement(ht.a,{variant:"h6",className:C.title,color:"inherit"},t("explore.searchWithLocation")),r.a.createElement(We.a,{autoFocus:!0,color:"inherit",onClick:function(){o(!1),v&&i(l)}},t("g.done")))),r.a.createElement(pt.a,null),r.a.createElement(Ga.a,{container:!0,style:{padding:"15px",maxWidth:"800px"},alignItems:"center"},r.a.createElement(Ga.a,{item:!0,xs:4,sm:4},t("explore.searchWithLocation")),r.a.createElement(Ga.a,{item:!0,xs:8,sm:8},r.a.createElement(Jn.a,{checked:l.withMap,color:"primary",onChange:function(e){c(Object(wt.a)({},l,{withMap:e.target.checked})),E(!0)}})),r.a.createElement(Ga.a,{item:!0,xs:4},t("g.distance")),r.a.createElement(Ga.a,{item:!0,xs:8},r.a.createElement(qn.a,{valueLabelDisplay:"auto",min:1,max:200,onChange:function(e,t){c(Object(wt.a)({},l,{distance:t})),E(!0)},value:l.distance})),r.a.createElement(Ga.a,{item:!0,xs:4},t("g.units")),r.a.createElement(Ga.a,{item:!0,xs:8},r.a.createElement(Kn.a,{value:l.units,onChange:function(e){c(Object(wt.a)({},l,{units:e.target.value})),E(!0)}},r.a.createElement(xt.a,{value:"mi"},t("g.miles")),r.a.createElement(xt.a,{value:"km"},t("g.km"))))),r.a.createElement("div",{style:{position:"relative",minHeight:"300px",flex:1,marginTop:"30px",overflow:"hidden"}},r.a.createElement(ea.a,{whenReady:function(){return S()},ref:d,center:O,zoom:8,style:{width:"100%",height:"100%",position:"relative",zIndex:1},onClick:j,gestureHandling:!0,onzoomend:function(){return S()},onlocationfound:function(e){s||(j(e),k([e.latlng.lat,e.latlng.lng]))}},r.a.createElement(ta.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(sa,null),r.a.createElement(Hn.a,{center:l.position,radius:f}),r.a.createElement(aa.a,{position:l.position,draggable:!0,ondragend:function(e){var t=e.target.getLatLng();c(Object(wt.a)({},l,{position:[t.lat,t.lng],withMap:!0})),u(!0)}}),r.a.createElement(Aa.a,{position:"topright"}))))},Qn=a(1103),er=a(1059),tr=a(1074),ar=a(1060),nr=a(1061),rr=a(1062),or=a(1063),ir=a(1064),cr=a(1065),lr=a(1066),sr=a(1067),ur=a(1068),dr=a(1069),mr=a(1070),pr=a(1071),fr=a(1072),gr=a(1073),hr=a(487),yr=a(1098),vr=Object(y.h)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(!1),s=Object(x.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)([]),p=Object(x.a)(m,2),f=p[0],g=p[1],h=e.account,y={url:e.linkHash?"https://addspire.com/profile/"+e.profile+"#"+e.linkHash:e.link||window.location.href,title:e.title,media:e.media||"https://addspire.com/logo-addspire.png",style:{margin:"10px",display:"inline-block",textAlign:"center",cursor:"pointer"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Lt.a,{title:t("g.share"),enterDelay:500,leaveDelay:200},e.post?r.a.createElement(We.a,{onClick:function(){return d(!0)},startIcon:r.a.createElement(er.a,null)},r.a.createElement("span",{style:On},t("g.share"))):r.a.createElement(Qe.a,{style:e.style,onClick:function(){return d(!0)}},r.a.createElement(er.a,null))),r.a.createElement(Re.a,{open:u,onClose:function(){return d(!1)},scroll:"paper"},r.a.createElement(Fe.a,null,t("g.shareTo")),r.a.createElement(Pe.a,null,r.a.createElement(Ze.a,{style:{margin:"10px auto 30px"}},r.a.createElement(ht.a,{variant:"subtitle1"},t("g.addspireFriends"),":"),r.a.createElement(Ze.a,{style:{marginTop:"15px",padding:"10px"}},r.a.createElement(Qt,{value:f,onChange:function(e){return g(e)}}),h&&h._id&&r.a.createElement(We.a,{color:"primary",style:{marginTop:"10px"},onClick:function(){return f.length>0&&function(e,t,a,n){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"shareWithFriends",accountId:e,url:t,friends:a,item:n}))}(h._id,y.url,f,e.item)}},t("g.send")))),r.a.createElement(Ze.a,null,r.a.createElement(ht.a,{variant:"subtitle1"},t("g.otherFriends"),":")),r.a.createElement(Ze.a,{style:{marginTop:"15px",padding:"10px"}},r.a.createElement(ar.a,Object.assign({},y,{quote:e.title}),r.a.createElement(nr.a,{size:32,round:!0}),r.a.createElement(Ze.a,null,"Facebook")),r.a.createElement(rr.a,y,r.a.createElement(or.a,{size:32,round:!0}),r.a.createElement(Ze.a,null,"Twitter")),r.a.createElement(ir.a,y,r.a.createElement(cr.a,{size:32,round:!0}),r.a.createElement(Ze.a,null,"Telegram")),r.a.createElement(lr.a,y,r.a.createElement(sr.a,{size:32,round:!0}),r.a.createElement(Ze.a,null,"Pinterest")),r.a.createElement(ur.a,y,r.a.createElement(dr.a,{size:32,round:!0}),r.a.createElement(Ze.a,null,"LinkedIn")),r.a.createElement(mr.a,Object.assign({},y,{image:e.media}),r.a.createElement(pr.a,{size:32,round:!0}),r.a.createElement(Ze.a,null,"VK")),r.a.createElement(fr.a,Object.assign({},y,{subject:e.title,body:"body"}),r.a.createElement(gr.a,{size:32,round:!0}),r.a.createElement(Ze.a,null,t("g.email"))),r.a.createElement(hr.CopyToClipboard,Object.assign({text:y.url},y,{onCopy:function(){return c(!0)},style:{border:"none",background:"none",cursor:"pointer"}}),r.a.createElement("button",null,r.a.createElement(tr.a,{style:{fontSize:32}}),r.a.createElement(Ze.a,null,t("g.copyUrl")))))),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:function(){return d(!1)}},t("g.close")))),r.a.createElement(Qn.a,{open:i,autoHideDuration:2e3,onClose:function(){return c(!1)}},r.a.createElement(yr.a,{onClose:function(){return c(!1)},severity:"success"},t("g.urlCopied"))))})),Er=a(75),br=Object(u.b)(function(e){return{account:e.account}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],c=o[1];return e.account._id?null:r.a.createElement(ft.a,null,r.a.createElement(Ze.a,{style:{margin:"10% 0px 2%"}},r.a.createElement("header",{className:Er.header},r.a.createElement("h1",{className:Er.header__title},r.a.createElement("div",null,r.a.createElement("span",null,t("welcome.title"))),r.a.createElement("div",{className:Er.slider},r.a.createElement("ul",{className:Er.slider__words},r.a.createElement("li",{className:Er.slider__word},t("welcome.phrase1")),r.a.createElement("li",{className:Er.slider__word},t("welcome.phrase2")),r.a.createElement("li",{className:Er.slider__word},t("welcome.phrase3")),r.a.createElement("li",{className:Er.slider__word},t("welcome.phrase4")),r.a.createElement("li",{className:Er.slider__word},t("welcome.phrase1"))))))),r.a.createElement("span",{className:Er.subheader},t("welcome.subheader")),r.a.createElement("div",{className:Er.videoWrapper},r.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/"+t("welcome.videoLink"),frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})),r.a.createElement(Ze.a,{style:{margin:"40px auto 10px",textAlign:"center"}},r.a.createElement(We.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return c(!0)}},t("welcome.button"))),r.a.createElement(Je,{loginVisible:i,setLoginVisible:c}),r.a.createElement(Ze.a,null,r.a.createElement(ht.a,{variant:"h2",align:"center",style:{margin:"50px auto 30px",fontWeight:500}},t("welcome.stepsTitle")),r.a.createElement(Ze.a,{className:Er.howWorks},r.a.createElement(Ze.a,{className:Er.step},r.a.createElement(Ze.a,{style:{height:"70px",marginBottom:"20px"}},r.a.createElement("img",{src:"/images/icon1.jpg"})),r.a.createElement(ht.a,{variant:"h5",gutterBottom:!0},t("welcome.stepTitle1")),r.a.createElement(ht.a,{variant:"body1"},t("welcome.stepBody1"))),r.a.createElement(Ze.a,{className:Er.step},r.a.createElement(Ze.a,{style:{height:"70px",marginBottom:"20px"}},r.a.createElement("img",{src:"/images/icon2.jpg"})),r.a.createElement(ht.a,{variant:"h5",gutterBottom:!0},t("welcome.stepTitle2")),r.a.createElement(ht.a,{variant:"body1"},t("welcome.stepBody2"))),r.a.createElement(Ze.a,{className:Er.step},r.a.createElement(Ze.a,{style:{marginBottom:"20px"}},r.a.createElement("img",{src:"/images/icon3.jpg"})),r.a.createElement(ht.a,{variant:"h5",gutterBottom:!0},t("welcome.stepTitle3")),r.a.createElement(ht.a,{variant:"body1"},t("welcome.stepBody3")))),r.a.createElement("div",{className:Er.videoholder},r.a.createElement("div",null,r.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/"+t("welcome.videoHowLink"),frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})))))});function wr(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Or(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Or(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var xr=Object(qe.a)(function(e){return Object(Ke.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"relative"},title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}})}),kr=function(e,t){return(e.views||0)>(t.views||0)?-1:1},jr=Object(u.b)(function(e){return{account:e.account,progressData:e.progressData,friendData:e.friendData}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)([]),u=Object(x.a)(l,2),d=u[0],m=u[1],p=Object(n.useState)(!1),f=Object(x.a)(p,2),g=f[0],h=f[1],y=Object(n.useState)(!1),v=Object(x.a)(y,2),E=v[0],b=v[1],w=Object(n.useState)(!1),O=Object(x.a)(w,2),k=O[0],S=O[1],C=Object(n.useState)({value:"",withMap:!1,distance:20,zoom:7,position:[40.689078,-74.044526],units:"mi",categories:[],type:"goal"}),D=Object(x.a)(C,2),_=D[0],A=D[1],T=function(e){var a=Object(M.a)(d);e&&(A(e),h(!1),m([]),a=[]),g&&!e||(h(!0),s.a.post("/api/explore/search",{value:e||_,skip:e?0:a.length}).then(function(e){if(e.data.success){h(e.data.noMore),m([].concat(Object(M.a)(a),Object(M.a)(e.data.progresses))),0===e.data.progresses.length&&j.b.warning(t("explore.noGoals"));var n,r={},o=wr(e.data.friends);try{for(o.s();!(n=o.n()).done;){var i=n.value;r[i._id]=i}}catch(c){o.e(c)}finally{o.f()}}else e.data.errorCode&&j.b.error(t("explore.wrongData"))}).catch(function(e){}))},I=xr(),N="goal"===_.type?"goals":"activity"===_.type?"activities":"rewards";return r.a.createElement(Va,{white:!0},r.a.createElement("div",null,r.a.createElement(Ae.a,null,r.a.createElement("title",null,t("explore.title")),r.a.createElement("meta",{name:"description",content:t("explore.desc")})),r.a.createElement(Xn,{mapVisible:i,setMapVisible:c,setFoundProgresses:m,onSearch:T,setSearch:A,search:_,positionChanged:k,setPositionChanged:S}),r.a.createElement(br,null),!(e.account&&e.account._id)&&r.a.createElement(ht.a,{variant:"h2",align:"center",style:{margin:"50px auto 30px",fontWeight:500}},t("explore.topGoalsTitle")),r.a.createElement(Oa.a,{value:_.type,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return T(Object(wt.a)({},_,{type:t}))},style:{marginBottom:"15px"}},r.a.createElement(xa.a,{label:t("g.goals"),value:"goal"}),r.a.createElement(xa.a,{label:t("g.activities"),value:"activity"}),r.a.createElement(xa.a,{label:t("g.rewards"),value:"reward"})),r.a.createElement(Xe.a,{className:I.root,variant:"outlined"},r.a.createElement(It.a,{className:I.input,placeholder:t("explore."+("goal"===_.type?"mapPHGoals":"activity"===_.type?"mapPHActivities":"mapPHRewards")),onChange:function(e){e.target.value||_.withMap||A(Object(wt.a)({},_,{value:""})),b(e.target.value||"")}}),r.a.createElement(Qe.a,{className:I.iconButton,onClick:function(){E&&E!==_.value&&T(Object(wt.a)({},_,{value:E}))}},r.a.createElement(Nt.a,null)),r.a.createElement(Ve.a,{className:I.divider,orientation:"vertical"}),r.a.createElement(Qe.a,{className:I.iconButton,onClick:function(){c(!0),A(Object(wt.a)({},_,{withMap:!0}))},color:_.withMap?"primary":"default"},r.a.createElement(Yn.a,null))),r.a.createElement(Ze.a,{margin:"10px 0px 50px"},r.a.createElement(vn,{initialHeight:135,addTitle:t("g.spaceCategories")},r.a.createElement(Ia,{nolim:!0,value:_.categories,onChange:function(e){return T(Object(wt.a)({},_,{categories:e}))}}))),r.a.createElement(Bn.a,{pageStart:0,loadMore:function(){return T()},hasMore:!g,loader:r.a.createElement("div",{className:"loader",key:0},r.a.createElement("span",null,t("explore.loading")))},r.a.createElement(Gn,null,d.sort(kr).map(function(a,n){return r.a.createElement(Tt,{id:a._id,key:n,onClickLink:"/"+N+"/"+a._id,images:a.images,body:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{style:{position:"absolute",top:"10px"}},r.a.createElement(Dt,{noName:!0,id:a.owner,friendDataExp:e.friendData})),a.status&&r.a.createElement(Lt.a,{title:t("progress."+("process"===a.status?"inProcess":a.status))},r.a.createElement(Ze.a,{style:{display:"inline-block",width:"10px",height:"10px",borderRadius:"5px",marginRight:"5px",background:"process"===a.status?"blue":"fail"===a.status?"red":"dismissed"===a.status?"orange":"complete"===a.status?"green":"white"}})),r.a.createElement("span",{style:{fontWeight:"bold"}},a.name)),actions:r.a.createElement(vr,{link:"https://addspire.com/"+N+"/"+a._id,title:a.name+t("explore.shareText"),media:a.images&&a.images[0],item:{progressId:a._id,progressName:a.name},profile:a.owner,linkHash:a._id})})})))))}),Sr=a(488),Cr=a.n(Sr);$a()().format();var Dr=Object(qe.a)(function(e){return Object(Ke.a)({title:{marginLeft:e.spacing(2),flex:1},root:{flexGrow:1,marginTop:"20px"},media:{height:0,paddingTop:"56.25%",backgroundSize:"contain"},backToBlog:{left:"16px",bottom:"88px",position:"fixed",zIndex:1}})}),_r=Object(y.h)(Object(u.b)(function(e){return{account:e.account}},function(e){return{setPageTitle:function(t){return e(fe(t))}}})(function(e){var t=Object(Ge.a)().t,a=Dr(),o=Object(n.useState)(null),i=Object(x.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(""),u=Object(x.a)(s,2),d=u[0],m=u[1];return Object(n.useEffect)(function(){fetch("https://addspire-blog.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'\n            query {\n  posts (where: { language:"'.concat(0===e.history.location.pathname.indexOf("/ru")?"ru":"en",'",\n  _or: [\n      {url: "').concat(e.history.location.pathname.split("/")[e.history.location.pathname.split("/").length-1],'"},\n      {url: "').concat(e.history.location.pathname.split("/")[e.history.location.pathname.split("/").length-1],'.ru"}\n  ] }){\n    id\n    url\n    content\n    title\n    published_at\n   previewImage {\n    url\n  }\n    subtitle\n  }\n}')})}).then(function(e){return e.json()}).then(function(e){e.data.posts.length>0&&(l(e.data.posts[0]),m(e.data.posts[0].title+t("g.shareText")))})},[e.history.location.pathname]),Object(n.useEffect)(function(){window.fbAsyncInit=function(){window.FB.init({appId:"115517331888071",cookie:!0,xfbml:!0,version:"v2.5"})},function(e,t,a){var n,r=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk")},[]),Object(n.useEffect)(function(){window.FB&&window.FB.XFBML.parse()}),c?r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(Ae.a,null,r.a.createElement("title",null,d)),r.a.createElement(Va,{white:!0},r.a.createElement(Ya.a,{style:{margin:"50px auto",maxWidth:"1000px",boxShadow:"none"}},r.a.createElement(Ja.a,{className:a.media,image:c.previewImage&&c.previewImage.url,title:c.title}),r.a.createElement(qa.a,{style:{paddingLeft:0,paddingRight:0}},r.a.createElement(ht.a,{align:"right",variant:"button",color:"textSecondary",component:"p",gutterBottom:!0},$a()(c.published_at).format("MMMM D, YYYY")),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(vr,{post:!0,title:c.title+t("g.shareText"),media:c.previewImage&&c.previewImage.url})),r.a.createElement(ht.a,{gutterBottom:!0,variant:"h2",component:"h1"},c.title),r.a.createElement(ht.a,{gutterBottom:!0,variant:"h5"},c.subtitle),r.a.createElement(ht.a,{variant:"body1",className:"blogArticle",style:{fontSize:"1.05rem"}},Cr()(c.content)),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(vr,{post:!0,title:c.title+t("g.shareText"),media:c.previewImage&&c.previewImage.url})),r.a.createElement("div",{className:"fb-comments","data-href":"https://addspire.com"+e.history.location.pathname,"data-numposts":"5","data-width":""}))))):null})),Ar=a(285),Tr=a(489),Mr=a.n(Tr),Ir=function(e){return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")")},Nr=function(e){function t(){return Object(I.a)(this,t),Object(R.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.waitWhenRefIsReady()}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer),this.line&&this.line.remove()}},{key:"shouldComponentUpdate",value:function(e){return this.line&&(this.line.position(),this.line.setOptions({path:e.el.lineType||"magnet",color:Ir(this.props.el.lineColor||{r:60,g:83,b:185,a:1}),size:this.props.el.lineWidth||2}),"no"===e.el.lineType?this.line.hide():this.line.show()),!1}},{key:"waitWhenRefIsReady",value:function(){var e=this;this.timer=setInterval(function(){e.props.start.current&&(clearInterval(e.timer),e.drawLine())},5)}},{key:"drawLine",value:function(){var e=this.props,t=e.start,a=e.end;this.line=new Mr.a(t.current,a.current,{path:this.props.el.lineType||"magnet",color:Ir(this.props.el.lineColor||{r:60,g:83,b:185,a:1}),size:this.props.el.lineWidth||2}),"no"===this.props.el.lineType&&this.line.hide()}},{key:"render",value:function(){return null}}]),t}(n.Component),Rr=Object(u.b)(function(e){return{dragStep:e.dragStep}})(Nr),Fr=a(519),Pr=a(153);function Br(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Lr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Lr(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Wr=a(1086),zr=a(1087),Ur=a(1088),Vr=a(1089),Gr=a(1076),Yr=a(157),Hr=Object(qe.a)(function(e){return Object(Ke.a)({title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600},addBox:{color:e.palette.primary.main,display:"flex",alignItems:"center"}})}),Jr=function(e){var t=Object(Ge.a)().t,a=Hr();return e.items.length>0||e.empty||e.customEmpty||e.withAdd?r.a.createElement(r.a.Fragment,null,e.title&&r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},e.title),r.a.createElement(Xe.a,{style:{padding:"15px",paddingBottom:"10px"}},r.a.createElement(Ze.a,{style:{display:"flex",overflowX:"auto",padding:"3px"}},0===e.items.length&&e.empty?e.customEmpty||r.a.createElement(Yr.a,null):r.a.createElement(r.a.Fragment,null,e.withAdd&&r.a.createElement(Ya.a,{style:{borderRadius:"15px",cursor:"pointer",flexShrink:0,width:"100px",marginRight:"10px",position:"relative",minHeight:"160px"}},r.a.createElement(Ha.a,{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return e.onAdd()}},r.a.createElement(qa.a,{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"5px"}},r.a.createElement(Ze.a,{style:{flexDirection:"column"},className:a.addBox},r.a.createElement(Gr.a,null),r.a.createElement(Ze.a,{style:{textAlign:"center"}},e.addTitle||t("g.add")))))),e.items.map(function(t,a){return r.a.createElement(Ya.a,{style:{borderRadius:"15px",cursor:"pointer",flexShrink:0,width:"100px",marginRight:"10px",position:"relative"}},e.content(t,a))}),r.a.createElement(Ze.a,{style:{width:"10px",flexShrink:0}}))),r.a.createElement(Ze.a,{style:{marginTop:"20px"}},e.bottomContent||null))):null},qr=a(516),Kr=a(28),$r=a(1077),Zr=a(292),Xr=a(294),Qr=a(295),eo=a(293);$a()().format();var to=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},ao=Object(qr.a)({palette:{primary:{main:Zr.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Zr.a[600]},select:{"&:focus":{backgroundColor:Object(Kr.c)(Zr.a[600],.05)}}}}}),no=Object(qr.a)({palette:{primary:{main:Xr.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Xr.a[600]},select:{"&:focus":{backgroundColor:Object(Kr.c)(Xr.a[600],.05)}}}}}),ro=Object(qr.a)({palette:{primary:{main:Qr.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Qr.a[600]},select:{"&:focus":{backgroundColor:Object(Kr.c)(Qr.a[600],.05)}}}}}),oo=Object(qr.a)({palette:{primary:{main:eo.a[600]}},overrides:{MuiSelect:{selectMenu:{color:eo.a[600]},select:{"&:focus":{backgroundColor:Object(Kr.c)(eo.a[600],.05)}}}}}),io=function(e){var t=Object(Ge.a)().t,a=e.resource,o=e.account,i=e.friendData,c=e.type,l=Object(n.useState)(""),s=Object(x.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)(!1),p=Object(x.a)(m,2),f=p[0],g=p[1],h=Object(n.useState)(!1),y=Object(x.a)(h,2),v=y[0],E=y[1],b=Object(n.useState)(!1),w=Object(x.a)(b,2),O=w[0],k=w[1],j=Object(n.useState)(null),S=Object(x.a)(j,2),C=S[0],D=S[1],_="goal"===c?"progresses":"reward"===c?"rewards":"activities",A="goal"===c?"followProgresses":"reward"===c?"followRewards":"followActivities",T=o._id?function(){var e=[];return o._id===a.owner&&e.push(r.a.createElement(xt.a,{onClick:function(){g(!0),D(null)}},t("g.edit"))),o[A].includes(a._id)&&e.push(r.a.createElement(xt.a,{onClick:function(){Q(o._id,a._id,c),D(null)}},t("g.unfollow"))),a.likes.includes(o._id)&&e.push(r.a.createElement(xt.a,{onClick:function(){ee(o._id,a._id,!1,c),D(null)}},t("g.unlike"))),"reward"!==c&&o[_]&&o[_].includes(a._id.toString())&&e.push(r.a.createElement(xt.a,{onClick:function(){k(!0),D(null)}},t("g.leave"))),o[_]&&o[_].includes(a._id.toString())&&e.push(r.a.createElement(xt.a,{onClick:function(){E(!0),D(null)}},t("g.delete"))),e.length>0&&e}():null,M=function(){switch(a.status){case"fail":return t("progress.failed");case"complete":return t("progress.completed");case"dismissed":return t("progress.dismissed");default:return t("progress.inProcess")}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe.a,{style:{padding:"15px 15px 0px 15px"}},a.images.length>0&&r.a.createElement(gn,{images:a.images}),r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},r.a.createElement(ht.a,{variant:"h4",gutterBottom:!0},a.name),r.a.createElement(ht.a,{variant:"body1",gutterBottom:!0},t("g."+c)+" "+t("g.by"),r.a.createElement(Dt,{id:a.owner})),a.category.map(function(e){return r.a.createElement(Ta.a,{label:t("g."+e),variant:"outlined",style:{margin:"5px"}})}),r.a.createElement(Ze.a,{style:{margin:"5px 0px"}},r.a.createElement(We.a,{onClick:function(){return d("followers")},style:{marginRight:"20px"}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(a.followingAccounts.length," ").concat(t("g.followers")))),r.a.createElement(We.a,{onClick:function(){return d("likes")}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(a.likes.length," ").concat(t("g.likes")))),r.a.createElement(vr,{title:a.name+t("g.shareText"),media:a.images&&a.images[0],item:{progressId:a._id,progressName:a.name,type:c},profile:a.owner,linkHash:a._id}),T&&o&&o._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{onClick:function(e){return D(e.currentTarget)}},r.a.createElement(kt.a,null)),r.a.createElement(Ot.a,{anchorEl:C,keepMounted:!0,open:Boolean(C),onClose:function(){return D(null)}},T))),r.a.createElement(Ze.a,{style:{margin:"0px 0px 20px"}},o&&o._id&&!o[A].includes(a._id)&&r.a.createElement(We.a,{color:"primary",onClick:function(){return X(o._id,a._id,c)},style:{marginRight:"20px"},variant:"contained"},t("g.follow")),o&&o._id&&!a.likes.includes(o._id)&&r.a.createElement(We.a,{color:"primary",variant:"contained",onClick:function(){return ee(o._id,a._id,!0,c)}},t("g.like")),"goal"===c&&r.a.createElement(Ze.a,null,r.a.createElement($r.a,{theme:"process"===a.status?no:"complete"===a.status?ro:"fail"===a.status?ao:oo},r.a.createElement(Ze.a,{style:{margin:"10px 0"}},a.owner===o._id?r.a.createElement(Kn.a,{value:a.status,onChange:function(e){return t=e.target.value,n=a._id,void(H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"changeResourceStatus",resourceId:n,status:t})));var t,n}},r.a.createElement(xt.a,{value:"complete"},t("progress.complete")),r.a.createElement(xt.a,{value:"process"},t("progress.inProcess")),r.a.createElement(xt.a,{value:"fail"},t("progress.fail")),r.a.createElement(xt.a,{value:"dismissed"},t("progress.dismiss"))):r.a.createElement(Ta.a,{color:"primary",label:M()}))),a.startDate&&r.a.createElement(ht.a,null,t("progress.startDate"),":"," ",$a()(a.startDate).format("ddd, MMM D, YYYY")),a.dueDate&&r.a.createElement(ht.a,null,t("progress.dueDate"),":"," ",$a()(a.dueDate).format("ddd, MMM D, YYYY")),"process"!==a.status&&a.finishDate&&r.a.createElement(ht.a,null,t("progress.finishDate"),":"," ",$a()(a.finishDate).format("ddd, MMM D, YYYY"))))),r.a.createElement(Ve.a,null),e.navi),r.a.createElement(Re.a,{fullScreen:!0,open:f,onClose:function(){return g(!1)},TransitionComponent:to,scroll:"paper"},r.a.createElement(Ba,{type:c,account:o,friendData:i,cancel:function(){return g(!1)},resource:a})),r.a.createElement(Re.a,{open:Boolean(u),onClose:function(){return d("")},title:t("likes"===u?"g."+c+"Likes":"g."+c+"Followers"),fullWidth:!0,maxWidth:"md"},r.a.createElement(Fe.a,null,t("likes"===u?"g."+c+"Likes":"g."+c+"Followers")),r.a.createElement(Pe.a,null,a["likes"===u?"likes":"followingAccounts"].map(function(e){return r.a.createElement(Tt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(hn,{account:o,id:e,type:"account"}),body:r.a.createElement(Dt,{span:!0,id:e,size:50})})})),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:function(){return d("")},color:"primary"},t("g.close")))),r.a.createElement(wn,{open:v,cancel:function(){return E(!1)},title:t("resource.confirmDelete"),confirm:function(){return function(e,t){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"deleteResource",resourceId:e,type:t}))}(a._id,c)}}),r.a.createElement(wn,{open:O,cancel:function(){return k(!1)},title:t("resource.confirmLeave"),confirm:function(){return function(e,t){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"leaveResource",resourceId:e,type:t}))}(a._id,c)}}))},co=Object(qe.a)(function(e){return Object(Ke.a)({title:{marginLeft:e.spacing(2),flex:1}})}),lo=Object(y.h)(Object(u.b)(function(e,t){return{isAuthed:e.isAuthed,account:e.account,posts:e.post,resource:e["goal"===t.type?"progress":t.type][t.resourceId],friendData:e.friendData}},function(e){return{setData:function(t){e(ue(t))}}})(function(e){var t=Object(Ge.a)().t,a=co(),o=Object(n.useState)({}),i=Object(x.a)(o,2),c=(i[0],i[1],e.history.location.pathname.split("/")),l=e.resourceId||(c.length>2?c[2]:"");if(!l)return null;var s=e.type;Object(n.useEffect)(function(){e.isAuthed&&(e.setData(Object(xe.a)({},"goal"===s?"currentGoal":"reward"===s?"currentReward":"currentActivity",l)),e.account._id&&function(e,t,a){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"addRecent",accountId:e,resourceId:t,type:a}))}(e.account._id,l,e.type))},[e.isAuthed,e.history.location.pathname]);var u=e.resource,d=e.account,m=e.friendData,p=e.posts;return Object(n.useEffect)(function(){u&&u._id&&e.setResource(u)},[u]),Object(n.useEffect)(function(){e.setPosts(p)},[p]),u&&u._id?(e.setData({currentPosts:u.posts}),m?e.resourceId?r.a.createElement(Va,{noHeader:!0},r.a.createElement("div",{className:"contentDiv"},r.a.createElement(io,{account:d,resource:u,friendData:m,type:s,navi:e.navi}),e.children)):r.a.createElement(Va,{header:r.a.createElement(ht.a,{variant:"h6",className:a.title,color:"inherit",noWrap:!0},u.name)},r.a.createElement("div",{className:"contentDiv"},r.a.createElement(Ae.a,null,r.a.createElement("title",null,"".concat(u.name," ").concat(t("g.by")).concat(u.owner," - Addspire")),r.a.createElement("meta",{name:"description",content:u.descriptionText})),r.a.createElement(io,{account:d,resource:u,friendData:m,type:s,navi:e.navi}),e.children)):null):null})),so=a(491),uo=a.n(so),mo=a(492),po=a.n(mo),fo=a(8),go=a.n(fo),ho=go.a.icon({iconUrl:uo.a,shadowUrl:po.a,iconSize:[25,41],iconAnchor:[10,41]});go.a.Marker.prototype.options.icon=ho;var yo=function(e){var t=Object(Ge.a)().t,a=Object(n.useRef)(null);return Object(n.useEffect)(function(){a&&a.current&&a.current.leafletElement&&(new na.Geosearch({useMapBounds:!1,placeholder:t("g.mapPlaceholder"),title:t("g.mapTitle")}).addTo(a.current.leafletElement),new ua.GestureHandling(a.current.leafletElement))},[]),e.position?r.a.createElement(ea.a,{ref:a,style:{width:"100%",height:"200px",position:"relative",zIndex:1},gestureHandling:!0,center:Object(M.a)(e.position.coordinates).reverse(),zoom:11},r.a.createElement(ta.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(sa,{setView:"no"}),r.a.createElement(aa.a,{position:Object(M.a)(e.position.coordinates).reverse()}),r.a.createElement(Aa.a,{position:"topright"})):null},vo=Object(y.h)(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],c=o[1],l=e.parent,s=e.account,u=e.parentType,d=function(){c(!1)};return s._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ya.a,{elevation:3},r.a.createElement(qa.a,null,r.a.createElement(Ze.a,{style:{display:"flex",width:"100%"}},r.a.createElement(Ze.a,{style:{marginRight:"20px"}},r.a.createElement(Dt,{noName:!0,id:s._id,span:!0,size:36})),r.a.createElement(Ze.a,{style:{flex:1}},r.a.createElement(Ze.a,{style:{background:"#efefef",padding:"5px 15px",borderRadius:"15px",color:"#7d7d7d",cursor:"pointer"},onClick:function(){return c(!0)}},t("post.postNew")))),r.a.createElement(bn,{open:i,cancel:d,title:t("post.createNewPost"),save:function(t,a){!function(e,t,a,n,r){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"addPost",accountId:e,parentId:t,parentType:a,messageValue:n,images:r}))}(s._id,l,u,a,t),e.onSend&&e.onSend(),d()}})))):null}),Eo=Object(qe.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),bo=Object(y.h)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData}})(function(e){var t=Object(Ge.a)().t,a=Eo(),n=e.resource,o=e.account,i=e.posts,c=e.friendData,l=e.type;return r.a.createElement(r.a.Fragment,null,o._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.addPost")),r.a.createElement(vo,{parent:n._id,account:o,parentType:l})),r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.postsAndComments")),i&&Object(M.a)(n.posts).sort(function(t,a){return e.history.location.pathname.indexOf(t)>-1?1:e.history.location.pathname.indexOf(a)>-1?-1:0}).map(function(e){if(i[e]){var t=i[e];return r.a.createElement("div",{key:e,style:{paddingTop:"10px"}},r.a.createElement(_n,{friendData:c,account:o,post:t}))}return null}).reverse())})),wo=Object(qe.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}});function Oo(e){var t=e.children,a=e.value,n=e.index,o=Object(Pr.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(Ze.a,null,r.a.createElement(ht.a,null,t)))}function xo(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var ko=Object(y.h)(function(e){var t=Object(Ge.a)().t,a=wo(),o=Object(n.useState)(null),i=Object(x.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)([]),u=Object(x.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(1),f=Object(x.a)(p,2),g=f[0],h=f[1];return r.a.createElement(lo,{type:"reward",setResource:l,setPosts:m,navi:r.a.createElement(Oa.a,{value:g,onChange:function(e,t){return h(t)},"aria-label":"simple tabs example",indicatorColor:"primary",textColor:"primary"},r.a.createElement(xa.a,Object.assign({label:t("g.desc")},xo(0))),r.a.createElement(xa.a,Object.assign({label:t("g.posts")},xo(1)))),resourceId:e.id},c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Oo,{value:g,index:0},r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.desc")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(vn,{initialHeight:200,contentEditor:c.description})),r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.position")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(yo,{position:c.position}))),r.a.createElement(Oo,{value:g,index:1},r.a.createElement(bo,{resource:c,posts:d,type:"reward"}))))}),jo=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},So=Object(y.h)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,rewardData:e.rewardData}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),u=s[0],d=s[1],m=e.account,p=e.owner,f=e.rewardData,g=e.wish,h=e.additionalButton,y=e.isSelect,v=e.value,E=e.onChange,b=e.multiple,w=e.setChosenResource,O=m&&m._id&&m._id===p._id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,{title:y?"I want to give these rewards:":t(g?"g.wishlist":"g.rewards"),items:p.rewards.map(function(e){return f[e]}).filter(function(e){return e}),content:function(t){var a=y&&v.includes(t._id),n=r.a.createElement(r.a.Fragment,null,r.a.createElement(Ja.a,{style:{height:"150px",backgroundSize:"contain"},image:t.images.length>0?t.images[0]:_t[At(t._id)],title:t.name}),r.a.createElement(qa.a,{style:{padding:"5px"}},r.a.createElement(ht.a,{variant:"body2",noWrap:!0,color:a?"primary":void 0,style:{fontWeight:a?600:"initial"}},t.name)));return r.a.createElement(qa.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(Ha.a,{onClick:function(){return y&&(e=t._id,void(b?v.includes(e)?E(v.filter(function(t){return t!==e})):E([].concat(Object(M.a)(v),[e])):E([e])));var e}},y?n:e.openInDialog?r.a.createElement(Ze.a,{onClick:function(){return d(t._id)}},n):r.a.createElement("span",{onClick:function(){return w(t._id)}},n)),h&&h(t))},withAdd:O,addTitle:t("g.addReward"),onAdd:function(){return c(!0)}}),O&&r.a.createElement(Re.a,{fullScreen:!0,open:i,onClose:function(){return c(!1)},TransitionComponent:jo,scroll:"paper"},r.a.createElement(Ba,{type:"reward",account:m,friendData:e.friendData,cancel:function(){return c(!1)}})),e.openInDialog&&r.a.createElement(Re.a,{open:Boolean(u),onClose:function(){return d("")},fullWidth:!0,maxWidth:"md",scroll:"paper"},r.a.createElement(Le.a,null,r.a.createElement(Qe.a,{onClick:function(){return d("")}},r.a.createElement(yt.a,null))),r.a.createElement(Pe.a,null,u&&r.a.createElement(ko,{id:u}))))})),Co=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},Do=Object(y.h)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,activityData:e.activityData}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(""),u=Object(x.a)(s,2),d=u[0],m=u[1],p=e.account,f=e.owner,g=e.activityData,h=e.wish,y=e.additionalButton,v=e.isSelect,E=e.value,b=e.onChange,w=e.activities,O=e.multiple,k=p&&p._id&&p._id===f._id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,{title:t(v?"g.forTheseActivities":"g.activities"),items:(w||f.activities).map(function(e){return g[e]}).filter(function(e){return e&&Boolean(h)===Boolean(e.wish)}),content:function(t){var a=v&&E.includes(t._id),n=r.a.createElement(r.a.Fragment,null," ",r.a.createElement(Ja.a,{style:{height:"150px",backgroundSize:"contain"},image:t.images.length>0?t.images[0]:_t[At(t._id)],title:t.name}),r.a.createElement(qa.a,{style:{padding:"5px"}},r.a.createElement(ht.a,{variant:"body2",noWrap:!0,color:a?"primary":void 0,style:{fontWeight:a?600:"initial"}},t.name)));return r.a.createElement(qa.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(Ha.a,{onClick:function(){return v&&(e=t._id,void(O?E.includes(e)?b(E.filter(function(t){return t!==e})):b([].concat(Object(M.a)(E),[e])):b([e])));var e}},v?n:e.openInDialog?r.a.createElement(Ze.a,{onClick:function(){return m(t._id)}},n):r.a.createElement(c.b,{to:"/activities/"+t._id},n)),y&&y(t))},withAdd:k,addTitle:t("g.addItem"),onAdd:function(){return l(!0)}}),k&&r.a.createElement(Re.a,{fullScreen:!0,open:i,onClose:function(){return l(!1)},TransitionComponent:Co,scroll:"paper"},r.a.createElement(Ba,{type:"activity",account:p,friendData:e.friendData,cancel:function(){return l(!1)}})),e.openInDialog&&r.a.createElement(Re.a,{open:Boolean(d),onClose:function(){return m("")},fullWidth:!0,maxWidth:"md",scroll:"paper"},r.a.createElement(Le.a,null,r.a.createElement(Qe.a,{onClick:function(){return m("")}},r.a.createElement(yt.a,null))),r.a.createElement(Pe.a,null,d&&r.a.createElement(ko,{activityId:d}))))})),_o=Xt.a.Option,Ao=Object(qe.a)(function(e){return Object(Ke.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},appBar:{position:"fixed"},title:{marginLeft:e.spacing(2),flex:1}})}),To=function(e){var t=Object(Ge.a)().t,a=E.a.useForm(),n=Object(x.a)(a,1)[0],o=e.account,i=e.rewardId,c=e.progress,l=Ao(),s={rewards:[],activities:[],repeat:"time"};if("new"!==i){var u=c.rewards.find(function(e){return e.rewardId===i});s={rewards:[u.reward],activities:u.activities,repeat:u.repeat}}return r.a.createElement(r.a.Fragment,null,r.a.createElement(dt.a,{className:l.appBar,color:"primary"},r.a.createElement(pt.a,null,r.a.createElement(Qe.a,{edge:"start",color:"inherit",onClick:e.cancel,"aria-label":"close"},r.a.createElement(yt.a,null)),r.a.createElement(ht.a,{variant:"h6",className:l.title,color:"inherit"},t("progress."+("new"!==i?"editGoal":"addNewGoal"))),r.a.createElement(We.a,{autoFocus:!0,color:"inherit",onClick:function(){return n.submit()}},t("g.save")))),r.a.createElement(pt.a,null),r.a.createElement(E.a,{form:n,style:{maxWidth:"1200px",margin:"0 auto",padding:"15px",width:"100%"},name:"dynamic_form_nest_item",onFinish:function(t){!function(e,t,a,n){H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"saveRewardInProgress",accountId:e,goalId:t,rewardId:a,value:n}))}(o._id,c._id,i,t),e.cancel()},autoComplete:"off",initialValues:s},r.a.createElement(E.a.Item,{name:"rewards"},r.a.createElement(So,{owner:o,isSelect:!0,multiple:!0})),r.a.createElement(E.a.Item,{name:"activities"},r.a.createElement(Do,{owner:o,isSelect:!0,activities:c.activities})),r.a.createElement(E.a.Item,{name:"repeat"},r.a.createElement(Xt.a,{getPopupContainer:function(e){return e.parentNode}},r.a.createElement(_o,{value:"once"},t("g.once")),r.a.createElement(_o,{value:"time"},t("g.everyTime")),r.a.createElement(_o,{value:"manual"},t("g.manual")))),r.a.createElement("div",{style:{textAlign:"right",marginTop:"50px"}},r.a.createElement(We.a,{size:"large",onClick:function(){return e.cancel(!1)}},t("g.cancel")),r.a.createElement(We.a,{color:"primary",variant:"contained",type:"submit",size:"large",style:{marginLeft:"10px",marginRight:"50px"}},t("g.save")))))},Mo=Object(y.h)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,rewardData:e.rewardData,activityData:e.activityData}},function(e){return{setData:function(t){return e(ue(t))}}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(""),o=Object(x.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(""),u=Object(x.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),g=f[0],h=f[1],y=e.account,v=e.progress,E=e.rewardData,b=e.activityData,w=v&&v.rewards.find(function(e){return e.rewardId===d}),O=v&&w&&E[w.reward];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,{title:t("g.rewards"),items:v.rewards.filter(function(e){return E[e.reward]}),content:function(e){return r.a.createElement(qa.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(Ha.a,{onClick:function(){return m(e.rewardId)}},r.a.createElement(Ja.a,{style:{height:"150px",backgroundSize:"contain"},image:E[e.reward].images.length>0?E[e.reward].images[0]:_t[At(e.rewardId)],title:E[e.reward].name}),r.a.createElement(qa.a,{style:{padding:"5px"}},r.a.createElement(ht.a,{variant:"body2",noWrap:!0,color:d===e.rewardId?"primary":void 0,style:{fontWeight:d===e.rewardId?600:"initial"}},E[e.reward].name))))},withAdd:Boolean(y._id),addTitle:t("g.addReward"),onAdd:function(){return l("new")},bottomContent:d&&O?r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{gutterBottom:!0},O.name),r.a.createElement(We.a,{onClick:function(){return e.history.push("/rewards/"+O._id)},color:"primary"},t("g.goToReward")),O&&y._id&&w.owner===y._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,null,r.a.createElement(We.a,{onClick:function(){return e=y._id,t=v._id,a=d,void(H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"sendReward",accountId:e,progressId:t,rewardId:a})));var e,t,a},color:"primary"},t("g.sendRewardManually"))),r.a.createElement(We.a,{onClick:function(){return l(d)}},t("g.editReward")),r.a.createElement(We.a,{onClick:function(){return h(d)}},t("g.removeReward"))),r.a.createElement(Ze.a,{style:{marginTop:"10px"}},r.a.createElement(Dt,{id:w.owner}),r.a.createElement("span",null,t("g."+("manual"===w.repeat?"manual":"once"===w.repeat?"once":"time"===w.repeat?"everyTime":"")),t("reward.forActivities"),w.activities.map(function(e){return b[e]?r.a.createElement(c.b,{to:"/activities/"+b[e]._id},b[e].name):""})))):null}),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{open:Boolean(i),close:function(){return l("")},title:t("activity.addActivityToGoal")},i&&r.a.createElement(To,{account:y,rewardId:i,rewardData:E,activityData:b,progress:v,cancel:function(){return l("")}})),r.a.createElement(wn,{open:Boolean(g),title:t("activity.confirmRemove"),cancel:function(){return h("")},confirm:function(){var e,t,a;e=y._id,t=v._id,a=g,H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"deleteRewardInProgress",accountId:e,goalId:t,rewardId:a})),m("")}})))})),Io=a(342),No=a(979),Ro=a(1079),Fo=a(1080),Po=a(1081),Bo=a(1038),Lo=a(1078),Wo=a(232);$a()().format();$a()().format();var zo=Object(qr.a)({palette:{primary:{main:Zr.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Zr.a[600]},select:{"&:focus":{backgroundColor:Object(Wo.fade)(Zr.a[600],.05)}}}}}),Uo=Object(qr.a)({palette:{primary:{main:Xr.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Xr.a[600]},select:{"&:focus":{backgroundColor:Object(Wo.fade)(Xr.a[600],.05)}}}}}),Vo=Object(qr.a)({palette:{primary:{main:Qr.a[600]}},overrides:{MuiSelect:{selectMenu:{color:Qr.a[600]},select:{"&:focus":{backgroundColor:Object(Wo.fade)(Qr.a[600],.05)}}}}}),Go=Object(qr.a)({palette:{primary:{main:eo.a[600]}},overrides:{MuiSelect:{selectMenu:{color:eo.a[600]},select:{"&:focus":{backgroundColor:Object(Wo.fade)(eo.a[600],.05)}}}}}),Yo=Object(qr.a)({palette:{primary:{main:Lo.a[500]}},overrides:{MuiListItem:{secondaryAction:{paddingRight:"133px",paddingLeft:0}}}}),Ho=Object(y.h)(Object(u.b)(function(e){return{rewardData:e.rewardData,activityData:e.activityData,activity:e.activity,account:e.account}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],l=o[1],s=e.account,u=e.rewardData,d=e.activityData,m=e.activityId,p=e.activity;if(!m)return null;var f=m===p._id?p:d[m];if(!f)return null;var g=s&&s._id===f.owner,h=function(e){var t=e.stages.slice(Math.max(e.stages.length-7,0)).sort(function(e,t){var a,n,r,o;if(e.old&&!t.old)return 1;if(t.old&&!e.old)return-1;if(e.day?(a=$a()().year(e.year).dayOfYear(e.day).startOf("day"),n=$a()().year(e.year).dayOfYear(e.day).endOf("day"),r=$a()().year(t.year).dayOfYear(t.day).startOf("day"),o=$a()().year(t.year).dayOfYear(t.day).endOf("day")):e.week?(a=$a()().year(e.year).week(e.week).startOf("week"),n=$a()().year(e.year).week(e.week).endOf("week"),r=$a()().year(t.year).week(t.week).startOf("week"),o=$a()().year(t.year).week(t.week).endOf("week")):e.month?(a=$a()().year(e.year).month(e.month).startOf("month"),n=$a()().year(e.year).month(e.month).endOf("month"),r=$a()().year(t.year).month(t.month).startOf("month"),o=$a()().year(t.year).month(t.month).endOf("month")):e.year&&(a=$a()().year(e.year).startOf("year"),n=$a()().year(e.year).endOf("year"),r=$a()().year(t.year).startOf("year"),o=$a()().year(t.year).endOf("year")),a){var i=$a()();return Math.min(Math.abs(i.diff(a)),Math.abs(i.diff(n)))<=Math.min(Math.abs(i.diff(r)),Math.abs(i.diff(o)))?-1:1}return 0});return t.length>0?t[0].stageId:0}(f),y=f.stages;return 0===y.length?null:r.a.createElement($r.a,{theme:Yo},r.a.createElement(Io.a,{type:"card",defaultActiveKey:h?y.findIndex(function(e){return e.stageId===h}).toString():"2"},y.map(function(e,a){var n,o=function(t){return g&&e.dismissed?"dismissed":e.failBy.find(function(e){return e.accountId===t})?"fail":e.approvedBy.find(function(e){return e.accountId===t})?"complete":"process"},d=function(e){switch(o(e)){case"fail":return t("progress.failed");case"complete":return t("progress.completed");case"dismissed":return t("progress.dismissed");default:return t("progress.inProcess")}},m=s&&s._id&&o(s._id),p=o(f.owner),h=function(a){return a===s._id?r.a.createElement(Kn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:function(t){return a=t.target.value,n=s._id,r=f._id,o=e.stageId,void(H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"changeStage",value:a,activityId:r,accountId:n,stageId:o})));var a,n,r,o}},r.a.createElement(xt.a,{value:"complete"},t("progress.complete")),r.a.createElement(xt.a,{value:"process"},t("progress.inProcess")),r.a.createElement(xt.a,{value:"fail"},t("progress.fail")),r.a.createElement(xt.a,{value:"dismissed"},t("progress.dismiss"))):r.a.createElement(Ta.a,{color:"primary",label:d(a)})},y=f.users.filter(function(e){return e!==f.owner}).map(function(e){var t=o(e);return r.a.createElement(No.a,null,r.a.createElement(Ro.a,null,r.a.createElement(Dt,{noName:!0,id:e})),r.a.createElement(Fo.a,{primary:r.a.createElement(Dt,{id:e,noAva:!0,span:!0,onlyName:!0})}),r.a.createElement(Po.a,null,r.a.createElement($r.a,{theme:"process"===t?Uo:"complete"===t?Vo:"fail"===t?zo:Go},h(e))))}),v=[r.a.createElement(No.a,null,r.a.createElement(Ro.a,null,r.a.createElement(Dt,{noName:!0,id:f.owner})),r.a.createElement(Fo.a,{primary:r.a.createElement(ht.a,{noWrap:!0,variant:"body2"},r.a.createElement(Dt,{id:f.owner,noAva:!0,span:!0,onlyName:!0}))}),r.a.createElement(Po.a,null,r.a.createElement($r.a,{theme:"process"===p?Uo:"complete"===p?Vo:"fail"===p?zo:Go},h(f.owner))))],E=r.a.createElement("div",null,"One time goal");return e.day?(n=$a()().year(e.year).dayOfYear(e.day),E=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",null,n.format("dddd"))),r.a.createElement("div",null,r.a.createElement("span",null,n.format("D MMM YY"))))):e.week?(n=$a()().year(e.year).week(e.week),E=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",null,n.format("wo")," week")),r.a.createElement("div",null,r.a.createElement("span",null,n.startOf("week").format("D MMM YY"))),r.a.createElement("div",null,r.a.createElement("span",null,n.endOf("week").format("D MMM YY"))))):e.month?(n=$a()().year(e.year).month(e.month),E=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",null,n.format("MMMM"))),r.a.createElement("div",null,r.a.createElement("span",null,n.format("YYYY"))))):e.year&&(n=$a()().year(e.year),E=r.a.createElement("div",null,r.a.createElement("span",null,n.format("YYYY")))),r.a.createElement(Io.a.TabPane,{tab:r.a.createElement(Ct.a,{color:"complete"===p?"green":"dismissed"===p?"orange":"fail"===p?"volcano":"blue"},r.a.createElement("span",{style:{fontSize:"12px",textTransform:"uppercase",textAlign:"center"}},E)),key:a},r.a.createElement(Bo.a,{dense:!0},v,y),e.paid.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{onClick:function(){return l(!i)},color:"primary",style:{}},t(i?"g.hide":"g.show")+t("progress.earnedRewards")),i&&r.a.createElement(Jr,{items:e.paid.map(function(e){return u[e]}).filter(function(e){return e}),content:function(e){return r.a.createElement(qa.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(c.b,{to:"/rewards/"+e._id},r.a.createElement(Ja.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:_t[At(e._id)],title:e.name}),r.a.createElement(qa.a,{style:{padding:"5px"}},r.a.createElement(ht.a,{variant:"body2",noWrap:!0},e.name))))}})))})))})),Jo=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},qo=Object(y.h)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,activityData:e.activityData}},function(e){return{setData:function(t){return e(ue(t))}}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(!1),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)(!1),p=Object(x.a)(m,2),f=p[0],g=p[1],h=e.activityData,y=e.account,v=e.progress,E=e.activities,b=e.setChosenResource,w=y&&y._id&&v&&y._id===v.owner,O=(v?v.activities:E)||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,{title:t("g.activities"),items:O.map(function(e){return h[e]}).filter(function(e){return e}),content:function(e){return r.a.createElement(qa.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(Ha.a,{onClick:function(){return d(e._id)}},r.a.createElement(Ja.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:_t[At(e._id)],title:e.name}),r.a.createElement(qa.a,{style:{padding:"5px"}},r.a.createElement(ht.a,{variant:"body2",noWrap:!0,color:u===e._id?"primary":void 0,style:{fontWeight:u===e._id?600:"initial"}},e.name))))},withAdd:Boolean(y&&(e.isOwner||v&&v.owner===y._id)),addTitle:t("g.addActivity"),onAdd:function(){return c(!0)},bottomContent:u&&h[u]?r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{gutterBottom:!0},h[u]?h[u].name:"Selected activity"),r.a.createElement(We.a,{onClick:function(){return b(u)},color:"primary"},t("g.goToActivity")),w&&r.a.createElement(We.a,{onClick:function(){return g(u)}},t("g.removeActivity")),r.a.createElement(Ze.a,{style:{marginTop:"10px"}},r.a.createElement(Ho,{activityId:u}))):null}),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{open:i,close:function(){return c(!1)},title:t("activity.addActivityToGoal")},r.a.createElement(Do,{owner:y,isSelect:!0,value:[],onChange:function(e){var t,a,n;e.length>0&&(t=y._id,a=v._id,n=e[0],H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"addActivityToProgress",accountId:t,progressId:a,activityId:n}))),c(!1)}})),r.a.createElement(Re.a,{open:Boolean(f),onClose:function(){return g(!1)}},r.a.createElement(Fe.a,null,t("activity.confirmRemove")),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:function(){return g(!1)},color:"primary"},t("g.cancel")),r.a.createElement(We.a,{onClick:function(){var e,t,a;e=y._id,t=v._id,a=f,H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"deleteActivityFromProgress",accountId:e,progressId:t,activityId:a})),g(!1),d("")},color:"primary"},t("g.confirm"))))),e.isOwner&&r.a.createElement(Re.a,{fullScreen:!0,open:i,onClose:function(){return c(!1)},TransitionComponent:Jo},r.a.createElement(Ba,{type:"activity",account:y,friendData:e.friendData,cancel:function(){return c(!1)}})))})),Ko=Object(qe.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}});function $o(e){var t=e.children,a=e.value,n=e.index,o=Object(Pr.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(Ze.a,null,r.a.createElement(ht.a,null,t)))}function Zo(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Xo=Object(y.h)(function(e){var t=Object(Ge.a)().t,a=Ko(),o=Object(n.useState)(null),i=Object(x.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)([]),u=Object(x.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(1),f=Object(x.a)(p,2),g=f[0],h=f[1],y=Object(n.useState)(0),v=Object(x.a)(y,2),E=v[0],b=v[1];return r.a.createElement(lo,{type:"goal",setResource:l,setPosts:m,navi:r.a.createElement(Oa.a,{value:g,onChange:function(e,t){return h(t)},"aria-label":"simple tabs example",indicatorColor:"primary",textColor:"primary"},r.a.createElement(xa.a,Object.assign({label:t("g.desc")},Zo(0))),r.a.createElement(xa.a,Object.assign({label:t("g.posts")},Zo(1))),r.a.createElement(xa.a,Object.assign({label:t("g.tracking")},Zo(2)))),resourceId:e.id},c&&c._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement($o,{value:g,index:0},r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.detailsFor")),r.a.createElement(Xe.a,{square:!0},r.a.createElement(Oa.a,{value:E,onChange:function(e,t){return b(t)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(xa.a,{label:t("g.fromStart")}),r.a.createElement(xa.a,{label:t("g.toGoal")}),r.a.createElement(xa.a,{label:t("g.resultFinish")}))),c[0===E?"startImages":1===E?"images":"finishImages"].length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.images")),r.a.createElement(gn,{images:c[0===E?"startImages":1===E?"images":"finishImages"]})),r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.desc")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(vn,{initialHeight:200,contentEditor:c[0===E?"startDescription":1===E?"description":"finishDescription"]})),r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.position")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(yo,{position:c.position}))),r.a.createElement($o,{value:g,index:1},r.a.createElement(bo,{resource:c,posts:d,type:"goal"})),r.a.createElement($o,{value:g,index:2},r.a.createElement(qo,{progress:c}),r.a.createElement(Mo,{progress:c}))))}),Qo=a(494),ei=a.n(Qo),ti=Object(qe.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}});function ai(e){var t=e.children,a=e.value,n=e.index,o=Object(Pr.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(Ze.a,null,r.a.createElement(ht.a,null,t)))}function ni(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var ri=Object(y.h)(function(e){var t=Object(Ge.a)().t,a=ti(),o=Object(n.useState)(null),i=Object(x.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)([]),u=Object(x.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(2),f=Object(x.a)(p,2),g=f[0],h=f[1];return r.a.createElement(lo,{type:"activity",setResource:l,setPosts:m,navi:r.a.createElement(Oa.a,{value:g,onChange:function(e,t){return h(t)},"aria-label":"simple tabs example",indicatorColor:"primary",textColor:"primary"},r.a.createElement(xa.a,Object.assign({label:t("g.desc")},ni(0))),r.a.createElement(xa.a,Object.assign({label:t("g.posts")},ni(1))),r.a.createElement(xa.a,Object.assign({label:t("g.tracking")},ni(2)))),resourceId:e.id},c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ai,{value:g,index:0},r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.desc")),r.a.createElement(Xe.a,{style:{padding:"15px"}},"no"!==c.repeat&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement(ei.a,null)," ".concat(t("g.repeats")," \n                            ").concat(function(e){switch(e){case"day":return t("g.everyDay");case"weekday":return t("g.everyDayOfWeek");case"week":return t("g.everyWeek");case"month":return t("g.everyMonth");case"year":return t("g.everyYear");default:return""}}(c.repeat)+("weekday"===c.repeat?" ("+c.days.reduce(function(e,a,n){return e+(n>0?", ":"")+function(e){switch(e){case"0":return t("g.sunday");case"1":return t("g.monday");case"2":return t("g.tuesday");case"3":return t("g.wednesday");case"4":return t("g.thursday");case"5":return t("g.friday");case"6":return t("g.saturday");default:return""}}(a)},"")+").":"."))),r.a.createElement(Ve.a,{light:!0,variant:"middle",style:{marginBottom:"15px"}})),r.a.createElement(vn,{initialHeight:200,contentEditor:c.description})),r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.position")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(yo,{position:c.position}))),r.a.createElement(ai,{value:g,index:1},r.a.createElement(bo,{resource:c,posts:d,type:"activity"})),r.a.createElement(ai,{value:g,index:2},r.a.createElement(ht.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t("g.tracking")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(Ho,{activityId:c._id})))))}),oi=Object(y.h)(Object(u.b)(function(e){return{progressData:e.progressData,rewardData:e.rewardData,activityData:e.activityData}})(function(e){var t=e.id,a=e.type,n="goals"===a?"progressData":"rewards"===a?"rewardData":"activityData";if(!e[n][t])return null;return r.a.createElement("span",{style:Object(wt.a)({cursor:"pointer",fontWeight:"bold"},e.style),onClick:function(n){n.stopPropagation(),e.history.push("/"+a+"/"+t)}},e[n][t].name)})),ii=(a(73),a(495)),ci=a(288),li=a(1082);$a()().format();var si=Object(y.h)(Object(u.b)(function(e){return{account:e.account,friendData:e.friendData,transactionData:e.transactionData,rewardData:e.rewardData}},function(e){return{setData:function(t){return e(ue(t))}}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(""),o=Object(x.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(!1),u=Object(x.a)(s,2),d=u[0],m=u[1],p=e.transactionData,f=e.rewardData,g=e.account,h=e.transactions,y=e.setChosenResource,v=i&&p[i],E=v&&f[v.reward];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,{title:t("profile.receivedAndGivenRewards"),items:h.map(function(e){return p[e]}).filter(function(e){return e}).filter(function(e){return f[e.reward]}).map(function(e){return Object(wt.a)({},e,{rewardObject:f[e.reward]})}).sort(function(e,t){return"confirmed"===e.status&&"confirmed"!==t.status?1:"confirmed"!==e.status&&"confirmed"===t.status?-1:"process"===e.status&&"process"!==t.status?1:"process"!==e.status&&"process"===t.status?-1:new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1}),content:function(e){return r.a.createElement(qa.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(Ha.a,{onClick:function(){return l(e._id)}},r.a.createElement(Ja.a,{style:{height:"150px",backgroundSize:"contain"},image:e.rewardObject.images.length>0?e.rewardObject.images[0]:_t[At(e._id)],title:e.rewardObject.name}),r.a.createElement(qa.a,{style:{padding:"5px"}},r.a.createElement(ht.a,{variant:"body2",noWrap:!0,color:i===e._id?"primary":void 0,style:{fontWeight:i===e._id?600:"initial"}},e.rewardObject.name),r.a.createElement("span",{style:On},$a()(e.date).fromNow()),r.a.createElement(Ze.a,null))),r.a.createElement(Ze.a,{style:{position:"absolute",top:"5px",right:"5px"}},r.a.createElement(Ze.a,{style:{width:"10px",height:"10px",borderRadius:"10px",background:"confirmed"===e.status?"green":"cancelled"===e.status?"red":"blue"}})))},bottomContent:v&&E?r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{variant:"h4",gutterBottom:!0},r.a.createElement("span",{onClick:function(){return y(E._id)}},E.name||"Selected activity")),r.a.createElement(Ze.a,{style:Object(wt.a)({},On,{margin:"10px"})},$a()(v.date).format("DD/MM/YYYY")),r.a.createElement(ht.a,{gutterBottom:!0},t("trans.from"),r.a.createElement(Dt,{size:20,id:v.from}),t("trans.to"),r.a.createElement(Dt,{size:20,id:v.to}),t("trans.inGoal"),r.a.createElement(c.b,{to:"/goals/"+v.progressId},r.a.createElement("span",{style:{fontWeight:500}},v.progress)),t("trans.inActivity"),r.a.createElement(c.b,{to:"/activities/"+v.activityId},r.a.createElement("span",{style:{fontWeight:500}},v.activity))),t("trans.status"),g._id===v.to||g._id===v.from?r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,{value:v.status,onChange:function(e){return t=g._id,a=v._id,n=e.target.value,void(t&&a&&H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"confirmTransaction",id:a,accountId:t,status:n})));var t,a,n},style:{margin:"15px 0px"}},r.a.createElement(xt.a,{value:"confirmed"},t("trans.confirmed")),r.a.createElement(xt.a,{value:"pending"},t("trans.pending")),r.a.createElement(xt.a,{value:"cancelled"},t("trans.cancelled"))),r.a.createElement(Ze.a,null,r.a.createElement(We.a,{onClick:function(){return m(!0)}},t("trans.deleteItem")))):v.status):null}),r.a.createElement(wn,{open:d,title:t("trans.confirmDelete"),cancel:function(){return m(!1)},confirm:function(){return e=g._id,t=i,void(e&&t&&H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"deleteTransaction",accountId:e,id:t})));var e,t}}))}));function ui(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return di(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return di(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}$a()().format();var mi=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},pi=Object(qe.a)(function(e){return Object(Ke.a)({title:{marginLeft:e.spacing(2),flex:1},sectionTitle:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}})}),fi=Object(y.h)(Object(u.b)(function(e){return{account:e.account,profile:e.profile,isAuthed:e.isAuthed,friendData:e.friendData,progressData:e.progressData,transactionData:e.transactionData,rewardData:e.rewardData,activityData:e.activityData,onlineUsers:e.onlineUsers}},function(e){return{setData:function(t){return e(ue(t))},setPageTitle:function(t){return e(fe(t))},tryAuth:function(t,a){return e(ce(t))},increaseAvatarV:function(){return e({type:"INCREASE_AVATAR_V"})}}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)("accounts"),o=Object(x.a)(a,2),i=o[0],c=o[1],l=pi(),s=Object(n.useState)(""),u=Object(x.a)(s,2),d=u[0],m=u[1],p=e.profile,f=e.account,g=e.progressData,h=e.setChosenResource,y=Object(n.useState)(),v=Object(x.a)(y,2),E=v[0],b=v[1],w=Object(n.useState)(""),O=Object(x.a)(w,2),k=O[0],S=O[1],C=Object(n.useState)(!1),D=Object(x.a)(C,2),_=D[0],A=D[1],T=Object(n.useState)(!1),M=Object(x.a)(T,2),I=M[0],N=M[1];if(!p||!p._id)return null;var R=f&&f._id&&f._id===p._id;e.setPageTitle({main:p.name,sub:""});var F=[],P=[],B=[];if(p&&p.friends&&f&&f._id){var L,W=ui(f.friends);try{for(W.s();!(L=W.n()).done;){var z=L.value;"friend"===z.status?F.push(z):"invited"===z.status?P.push(z):"inviting"===z.status&&B.push(z)}}catch(G){W.e(G)}finally{W.f()}}var U,V=p.progresses;return V&&(U=V.filter(function(e){return g[e]}).map(function(e){return g[e]})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Va,{noHeader:!0},r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},R?r.a.createElement(da.a,{name:"avatar",accept:"image/*",listType:"picture-card",className:ii.Avatar,showUploadList:!1,customRequest:function(t){var a=t.file;fa(a,800,"avatar",function(t){t&&e.increaseAvatarV()})}},r.a.createElement("div",{style:{flex:1,display:"flex",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},onClick:function(t){window.isRNWebView&&(t.stopPropagation(),window.ReactNativeWebView.postMessage("uploadFile"),window.callback=function(t){e.increaseAvatarV()})}},f.image?r.a.createElement(St.a,{src:rt(f._id,f.image),size:150,style:{margin:"25px"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(pa.a,null),r.a.createElement("div",{className:"ant-upload-text"},t("g.upload"))))):r.a.createElement(St.a,{src:rt(p._id,p.image),size:200}),r.a.createElement(Ze.a,{style:{padding:"0 15px"}},e.onlineUsers.includes(p._id)&&r.a.createElement(Ct.a,{color:"green",text:"online"}),r.a.createElement(ci.a.Title,{level:2,editable:!!R&&{onChange:function(e){return t={name:e},a=f._id,void(H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"editAccount",name:t.name,accountId:a})));var t,a},icon:r.a.createElement(Qe.a,{color:"primary"},r.a.createElement(li.a,null)),maxLength:Ht,autoSize:{minRows:1,maxRows:1}}},p.name)),r.a.createElement(ht.a,{variant:"h5"},"(",p._id,")"),r.a.createElement(Ze.a,{style:{margin:"5px 0px"}},r.a.createElement(We.a,{onClick:function(){return m("followers")},style:{marginRight:"20px"}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(p.followingAccounts.length," ").concat(t("g.followers")))),r.a.createElement(We.a,{onClick:function(){return m("following")}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(p.followProgresses.length+p.followAccounts.length," \n                                    ").concat(t("g.following"))))),r.a.createElement("div",null,r.a.createElement(vr,{link:"https://addspire.com/profile/"+p._id,media:p.image&&rt(p._id,p.image),title:p.name+t("profile.shareText"),item:{profileId:p._id,profileName:p.name}}),f&&f._id!==p._id&&r.a.createElement("span",{style:{marginRight:"10px"}},F.find(function(e){return e.friend===p._id})?r.a.createElement(Ta.a,{color:"primary",label:"Friends"}):null,f.followAccounts&&!f.followAccounts.includes(p._id)&&r.a.createElement(We.a,{color:"primary",onClick:function(){return te(f._id,p._id)},style:{marginRight:"20px"},variant:"contained"},t("g.follow"))),r.a.createElement(jt,{account:f,realFriends:F,invitedFriends:P,invitingFriends:B,_id:p._id,additionalButtons:R?[{onClick:function(){return e.history.push("/logout")},title:t("g.logout")}]:null,asText:!0})),r.a.createElement(Ze.a,null))),r.a.createElement(Jr,{title:t("g.goals"),items:U.sort(kr),content:function(e){return r.a.createElement(Ha.a,{onClick:function(){return h(e._id)}},r.a.createElement(Ja.a,{style:{height:"150px",backgroundSize:"contain"},image:e.images.length>0?e.images[0]:_t[At(e._id)],title:e.name}),r.a.createElement(qa.a,{style:{padding:"5px"}},r.a.createElement(ht.a,{variant:"body2",noWrap:!0,align:"center"},e.name)))},withAdd:R,addTitle:t("g.addGoal"),onAdd:function(){return A(!0)}}),r.a.createElement(qo,{activities:p.activities,isOwner:R,setChosenResource:h}),r.a.createElement(So,{owner:p,setChosenResource:h}),r.a.createElement(si,{transactions:p.transactions,isOwner:R,owner:p,setChosenResource:h}),R&&P.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,{title:t("profile.pendingFriendships"),items:P,content:function(e){return r.a.createElement(qa.a,{style:{textAlign:"center",padding:"5px"}},r.a.createElement(Ze.a,null,r.a.createElement(Dt,{noName:!0,id:e.friend,size:80})),r.a.createElement(Dt,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(Ze.a,null,r.a.createElement(We.a,{size:"small",onClick:function(){return oe(f._id,e.friend)}},t("g.decline"))))}})),R&&B.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,{title:t("profile.awaitingApproval"),items:B,content:function(e){return r.a.createElement(qa.a,{style:{textAlign:"center",padding:"5px"}},r.a.createElement(Ze.a,null,r.a.createElement(Dt,{noName:!0,id:e.friend,size:80})),r.a.createElement(Dt,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(Ze.a,{style:{margin:"5px 0"}},r.a.createElement(We.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return re(f._id,e.friend)}},t("g.accept"))),r.a.createElement(Ze.a,null,r.a.createElement(We.a,{size:"small",onClick:function(){return oe(f._id,e.friend)}},t("g.decline"))))}})),r.a.createElement(Jr,{title:t("g.friends"),items:F,content:function(e){return r.a.createElement(qa.a,{style:{textAlign:"center",position:"relative",padding:"5px"}},r.a.createElement(Ze.a,null,r.a.createElement(Dt,{noName:!0,id:e.friend,size:80})),r.a.createElement(Dt,{noAva:!0,typography:!0,style:{width:"100%",margin:"3px 0 7px"},id:e.friend}),r.a.createElement(jt,{account:f,realFriends:F,invitedFriends:P,invitingFriends:B,_id:e.friend,asIcons:!0,minimized:!0}))},withAdd:R,addTitle:t("g.addFriend"),onAdd:function(){return N(!0)}}),R&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{className:l.sectionTitle,color:"textSecondary",gutterBottom:!0},t("profile.settings")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(Ze.a,null,r.a.createElement(Yt,{settings:!0})),r.a.createElement(Ze.a,{style:{margin:"20px auto"}},r.a.createElement(We.a,{onClick:function(){return e.history.push("/logout")},color:"secondary"},t("g.logout"))),r.a.createElement(We.a,{onClick:function(){return b(!0)},color:"secondary"},t("profile.deleteAccount"))),r.a.createElement(Re.a,{open:Boolean(E),scroll:"paper"},r.a.createElement(Fe.a,null,t("profile.deleteAccount")),r.a.createElement(Pe.a,null,r.a.createElement(Be.a,null,r.a.createElement("p",null,t("profile.pleaseEnterNickname"),f._id,t("profile.andPressOk")),r.a.createElement(ln.a,{onChange:function(e){return S(e.target.value)}}))),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:function(){return b(!1)}},t("g.cancel")),r.a.createElement(We.a,{onClick:function(){var e;k!==f._id?j.b.warning("The nickmanme is not correct."):(e=f._id,H&&1===H.readyState&&H.send(JSON.stringify({messageCode:"deleteAccount",accountId:e})))},color:"primary"},t("g.delete")))))),r.a.createElement(Re.a,{open:Boolean(d),onClose:function(){return m("")},title:t("following"===d?"g.following":"g.followers"),fullWidth:!0,maxWidth:"md"},r.a.createElement(Fe.a,null,t("following"!==d?"g.followers":"g.following"),"following"===d&&r.a.createElement(Oa.a,{value:i,onChange:function(e,t){return c(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(xa.a,{label:t("g.users"),value:"accounts"}),r.a.createElement(xa.a,{label:t("g.goals"),value:"goals"}),r.a.createElement(xa.a,{label:t("g.activities"),value:"activities"}),r.a.createElement(xa.a,{label:t("g.rewards"),value:"rewards"}))),r.a.createElement(Pe.a,null,"following"===d?"accounts"===i?p.followAccounts.map(function(e){return r.a.createElement(Tt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(hn,{account:f,id:e,type:"account"}),body:r.a.createElement(Dt,{span:!0,id:e,size:50})})}):r.a.createElement(Gn,null,p["goals"===i?"followProgresses":"rewards"===i?"followRewards":"followActivities"].map(function(t){return r.a.createElement(Tt,{id:t,onClickLink:"/"+i+"/"+t,key:t,actions:r.a.createElement(hn,{type:"goals"===i?"progress":"rewards"===i?"reward":"activity",account:f,id:t}),body:r.a.createElement(oi,{span:!0,id:t,size:50,type:i}),style:{marginTop:"20px"},images:e["goals"===i?"progressData":"rewards"===i?"rewardData":"activityData"][t]&&e["goals"===i?"progressData":"rewards"===i?"rewardData":"activityData"][t].images})})):p.followingAccounts.map(function(e){return r.a.createElement(Tt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(hn,{account:f,id:e,type:"account"}),body:r.a.createElement(Dt,{span:!0,id:e,size:50})})})),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:function(){return m("")},color:"primary"},t("g.close")))),R&&r.a.createElement(Re.a,{fullScreen:!0,open:_,onClose:function(){A(!1)},TransitionComponent:mi,scroll:"paper"},r.a.createElement(Ba,{account:f,friendData:e.friendData,cancel:function(){return A(!1)},type:"goal"})),R&&r.a.createElement(bt,{open:I,close:function(){N(!1)},title:t("g.addFriend")},r.a.createElement(Bt,{close:function(){return N(!1)},open:I,account:f,friendData:e.friendData})))})),gi=a(499),hi=a.n(gi),yi=function(e){var t=e.selectedBox,a=e.el,n=e.id,o=e.editingText,i=(e.setEditingText,e.saveValueMM,e.editingTextModal,e.setEditingTextModal,e.textValue,e.setTextValue),c=e.handleSaveText,l=e.editorMode,s=e.scale;return r.a.createElement("div",{style:{background:Ir(a.bgColor||{r:255,g:255,b:255,a:1}),flex:1,borderRadius:(a.radius||0)+"%",overflow:"auto",position:"relative"}},a.imageValue&&!a.imageOff&&r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url("'+a.imageValue+'")'}}),a.videoURL&&!a.videoOff&&r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",left:0,right:0,top:0,bottom:0}},r.a.createElement(hi.a,{url:a.videoURL,width:"100%",height:"100%",style:{overflow:"hidden"}})),l&&r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",left:0,right:0,top:0,bottom:0}}),(a.textValue||o)&&!a.textOff&&r.a.createElement("div",{className:o&&t===n?"tinyEditorText_":""},r.a.createElement(Da,{onEditorChange:function(e){return i(e)},MM:!0,value:a.textValue,readOnly:!(o&&t===n),scale:s,handleSaveText:c})),l&&!o&&r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:1}}))};function vi(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Ei(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ei(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}$a()().format();var bi=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},wi=Object(qe.a)(function(e){return Object(Ke.a)({title:{marginLeft:e.spacing(2),flex:1},sectionTitle:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}})}),Oi=Object(y.h)(Object(u.b)(function(e){return{account:e.account,profile:e.profile,isAuthed:e.isAuthed,friendData:e.friendData,progressData:e.progressData,transactionData:e.transactionData,rewardData:e.rewardData,activityData:e.activityData,onlineUsers:e.onlineUsers,structure:e.structureMM}},function(e){return{setData:function(t){return e(ue(t))},tryAuth:function(t,a){return e(ce(t))},increaseAvatarV:function(){return e({type:"INCREASE_AVATAR_V"})},setStructure:function(t,a){return e(function(e,t){return{type:"SET_STRUCTURE",structure:e,noNeedToSave:t}}(t,a))}}})(Object(n.memo)(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)("accounts"),o=Object(x.a)(a,2),i=o[0],c=o[1],l=(wi(),Object(n.useState)({})),u=Object(x.a)(l,2),d=(u[0],u[1]),m=Object(n.useState)(""),p=Object(x.a)(m,2),f=p[0],g=p[1],h=e.profile,y=e.account,v=e.progressData,E=e.setStructure,b=Object(n.useState)(),w=Object(x.a)(b,2),O=(w[0],w[1],Object(n.useState)("")),k=Object(x.a)(O,2),j=(k[0],k[1],Object(n.useState)(!1)),S=Object(x.a)(j,2),C=S[0],D=S[1],_=Object(n.useState)(!1),A=Object(x.a)(_,2),I=A[0],N=A[1];Object(n.useEffect)(function(){var t=e.history.location.pathname.split("/");if(t.length>2){var a=t[2];e.isAuthed?e.setData({currentProfile:a}):function(e,t,a,n,r){s.a.get("/api"+e.history.location.pathname).then(function(t){T(t,e),a(t.data),r(t.data)}).catch(function(e){})}(e,0,d,0,function(t){var n=function(e){var a,n={},r=vi(t[e]);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o._id]=o}}catch(i){r.e(i)}finally{r.f()}return n},r=n("friendData"),o=n("progressData"),i=n("activityData"),c=n("rewardData"),l=n("progress"),s=n("activity"),u=n("reward");n("post"),e.setData({profile:t.profile,friendData:r,account:{},progressData:o,progress:l,activityData:i,activity:s,rewardData:c,reward:u,onlineUsers:t.onlineUsers,currentProfile:a})})}else e.isAuthed&&e.setData({currentProfile:y._id})},[e.isAuthed,e.history.location.pathname,e.account._id]),Object(n.useEffect)(function(){h&&h.structure&&h.structure.items&&function(e,t,a){var n,r={},o=[],i=e.currentId,c=Br(a.progresses);try{for(c.s();!(n=c.n()).done;){var l=n.value;e.items[l]||(o.push(l),r[l]={type:"goal",id:l,sizePos:{x:-800,y:0,width:500,height:500},children:[],parent:"b00"})}}catch(s){c.e(s)}finally{c.f()}o.length>0&&t(Object(wt.a)({},e,{currentId:i,items:Object(wt.a)({},e.items,r,{b00:Object(wt.a)({},e.items.b00,{children:[].concat(Object(M.a)(e.items.b00.children),o)})})}),!0)}(e.structure,e.setStructure,h)},[h.rewards,h.activities,h.progresses]),Object(n.useEffect)(function(){h.structure&&h.structure.items&&E(h.structure,!0)},[h._id]);var R=y&&y._id&&h&&h._id&&y._id===h._id;if(!h||!h._id)return null;var F=[],P=[],B=[];if(h&&h.friends&&y&&y._id){var L,W=vi(y.friends);try{for(W.s();!(L=W.n()).done;){var z=L.value;"friend"===z.status?F.push(z):"invited"===z.status?P.push(z):"inviting"===z.status&&B.push(z)}}catch(V){W.e(V)}finally{W.f()}}var U=h.progresses;return U&&U.filter(function(e){return v[e]}).map(function(e){return v[e]}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,null,r.a.createElement("title",null,h.name," ",t("g.shareText")),r.a.createElement("meta",{name:"description",content:"Addspire is a social network where you can inspire and motivate yourself or the people you care."})),r.a.createElement(Xe.a,{style:{padding:"15px",whiteSpace:"nowrap"}},r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},r.a.createElement(St.a,{src:rt(h._id,h.image),size:200}),r.a.createElement(Ze.a,{style:{padding:"0 15px"}},e.onlineUsers.includes(h._id)&&r.a.createElement(Ct.a,{color:"green",text:"online"}),r.a.createElement(ci.a.Title,{level:2},h.name)),r.a.createElement(Ze.a,{style:{margin:"5px 0px"}},r.a.createElement(We.a,{onClick:function(){return g("followers")},style:{marginRight:"20px"}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(h.followingAccounts.length," ").concat(t("g.followers")))),r.a.createElement(We.a,{onClick:function(){return g("following")}},r.a.createElement("span",{style:{textTransform:"none"}},"".concat(h.followProgresses.length+h.followAccounts.length," \n                                    ").concat(t("g.following"))))),r.a.createElement("div",null,r.a.createElement(vr,{link:"https://addspire.com/profile/"+h._id,media:h.image&&rt(h._id,h.image),title:h.name+t("profile.shareText"),item:{profileId:h._id,profileName:h.name}}),y&&y._id!==h._id&&r.a.createElement("span",{style:{marginRight:"10px"}},F.find(function(e){return e.friend===h._id})?r.a.createElement(Ta.a,{color:"primary",label:"Friends"}):null,y.followAccounts&&!y.followAccounts.includes(h._id)&&r.a.createElement(We.a,{color:"primary",onClick:function(){return te(y._id,h._id)},style:{marginRight:"20px"},variant:"contained"},t("g.follow"))),r.a.createElement(jt,{account:y,realFriends:F,invitedFriends:P,invitingFriends:B,_id:h._id,additionalButtons:R?[{onClick:function(){return e.history.push("/logout")},title:t("g.logout")}]:null,asText:!0})),r.a.createElement(Ze.a,null))),r.a.createElement(Re.a,{open:Boolean(f),onClose:function(){return g("")},title:t("following"===f?"g.following":"g.followers"),fullWidth:!0,maxWidth:"md"},r.a.createElement(Fe.a,null,t("following"!==f?"g.followers":"g.following"),"following"===f&&r.a.createElement(Oa.a,{value:i,onChange:function(e,t){return c(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(xa.a,{label:t("g.users"),value:"accounts"}),r.a.createElement(xa.a,{label:t("g.goals"),value:"goals"}),r.a.createElement(xa.a,{label:t("g.activities"),value:"activities"}),r.a.createElement(xa.a,{label:t("g.rewards"),value:"rewards"}))),r.a.createElement(Pe.a,null,"following"===f?"accounts"===i?h.followAccounts.map(function(e){return r.a.createElement(Tt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(hn,{account:y,id:e,type:"account"}),body:r.a.createElement(Dt,{span:!0,id:e,size:50})})}):r.a.createElement(Gn,null,h["goals"===i?"followProgresses":"rewards"===i?"followRewards":"followActivities"].map(function(t){return r.a.createElement(Tt,{id:t,onClickLink:"/"+i+"/"+t,key:t,actions:r.a.createElement(hn,{type:"goals"===i?"progress":"rewards"===i?"reward":"activity",account:y,id:t}),body:r.a.createElement(oi,{span:!0,id:t,size:50,type:i}),style:{marginTop:"20px"},images:e["goals"===i?"progressData":"rewards"===i?"rewardData":"activityData"][t]&&e["goals"===i?"progressData":"rewards"===i?"rewardData":"activityData"][t].images})})):h.followingAccounts.map(function(e){return r.a.createElement(Tt,{friends:!0,noLink:!0,key:e,actions:r.a.createElement(hn,{account:y,id:e,type:"account"}),body:r.a.createElement(Dt,{span:!0,id:e,size:50})})})),r.a.createElement(Le.a,null,r.a.createElement(We.a,{onClick:function(){return g("")},color:"primary"},t("g.close")))),R&&r.a.createElement(Re.a,{fullScreen:!0,open:C,onClose:function(){D(!1)},TransitionComponent:bi,scroll:"paper"},r.a.createElement(Ba,{account:y,friendData:e.friendData,cancel:function(){return D(!1)},type:"goal"})),R&&r.a.createElement(bt,{open:I,close:function(){N(!1)},title:t("g.addFriend")},r.a.createElement(Bt,{close:function(){return N(!1)},open:I,account:y,friendData:e.friendData})))}))),xi=(Object(qe.a)(function(e){return Object(Ke.a)({title:{marginLeft:e.spacing(2),flex:1}})}),Object(y.h)(Object(u.b)(function(e){return{account:e.account,posts:e.post,friendData:e.friendData}})(function(e){Object(Ge.a)().t;if(!e.resourceId)return null;var t=e.type,a=e.resource,n=e.account,o=e.friendData,i=e.posts;return a&&a._id&&o?r.a.createElement("div",{style:{display:"flex",flex:1,background:"white",overflow:"hidden"}},r.a.createElement("div",{style:{flex:1,overflow:"auto"}},r.a.createElement(io,{account:n,resource:a,friendData:o,type:t,navi:e.navi}),e.children),r.a.createElement("div",{style:{width:"10px"}}),r.a.createElement("div",{style:{flex:1,overflow:"auto"}},r.a.createElement(bo,{resource:a,posts:i,type:t}))):null}))),ki=Object(qe.a)(function(e){return{title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}}}),ji=Object(y.h)(Object(u.b)(function(e,t){return{isAuthed:e.isAuthed,account:e.account,posts:e.post,progress:e.progress[t.id],friendData:e.friendData}})(Object(n.memo)(function(e){var t=Object(Ge.a)().t,a=e.id,n=ki(),o=e.progress;return r.a.createElement(xi,{type:"goal",resourceId:a,resource:o},o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{className:n.title,color:"textSecondary",gutterBottom:!0},t("g.desc")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(vn,{initialHeight:200,contentEditor:o.description})),r.a.createElement(qo,{progress:o}),r.a.createElement(Mo,{progress:o}),r.a.createElement(ht.a,{className:n.title,color:"textSecondary",gutterBottom:!0},t("g.position")),r.a.createElement(Xe.a,{style:{padding:"15px"}},r.a.createElement(yo,{position:o.position}))))}))),Si=a(1042),Ci=a(1112),Di=a(1083),_i=a(1085),Ai=a(1084),Ti=a(514),Mi=a(504),Ii=Object(Mi.a)({apiUrl:"https://addspire.com/api/unsplash-proxy"}),Ni=Object(qe.a)(function(e){var t;return{search:(t={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.common.white,marginRight:e.spacing(2),marginLeft:0,width:"100%"},Object(xe.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),Object(xe.a)(t,"color",e.palette.primary.main),t),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}}),Ri=function(e){Object(Ge.a)().t;var t=Ni(),a=Object(n.useState)(""),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)({nextPage:2,pages:0,images:[]}),u=Object(x.a)(l,2),d=u[0],m=u[1],p=Object(n.useState)([]),f=Object(x.a)(p,2),g=f[0],h=f[1];Object(n.useEffect)(function(){e.open&&0===g.length&&s.a.get("/api/unsplash-proxy-empty").then(function(e){h(e.data.results)}).catch(function(e){})},[e.open,0===g.length]);var y=function(){m({nextPage:2,pages:0,images:[]}),c(""),e.close()},v=function(e){i&&(!e||d.nextPage<d.pages)&&Ii.search.getPhotos({query:i,perPage:50,page:e?d.nextPage:1}).then(function(t){t.errors||(e?t.response.results&&m({nextPage:d.nextPage+1,pages:t.response.total_pages,images:[].concat(Object(M.a)(d.images),Object(M.a)(t.response.results))}):m({nextPage:2,pages:t.response.total_pages,images:t.response.results}))})};return r.a.createElement(bt,{open:e.open,close:function(){return y()},title:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(nt.a,null)),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),v(!1)}},r.a.createElement(It.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},autoFocus:!0,onChange:function(e){return c(e.target.value)}})))),save:function(){return v(!1)},saveText:"Search"},r.a.createElement(Ze.a,{style:{margin:"20px 5px"}},r.a.createElement(Gn,{images:!0},(d.images.length>0?d.images:g).map(function(t,a){return r.a.createElement(Tt,{key:a,onClick:function(){e.onChoose(t.urls.raw+"&w=600&q=50"),y()},images:[t.urls.thumb],type:"images",body:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontStyle:"italic"}},"Photo by"," ",r.a.createElement("a",{href:"https://unsplash.com/@".concat(t.user.username,"?utm_source=Addspire&utm_medium=referral"),style:{textDecoration:"underline"}},t.user.name)," ","on"," ",r.a.createElement("a",{href:"https://unsplash.com/?utm_source=Addspire&utm_medium=referral",style:{textDecoration:"underline"}},"Unsplash")))})})),d.nextPage<d.pages&&i&&r.a.createElement(We.a,{color:"primary",onClick:function(){return v(!0)},style:{margin:"20px auto",display:"block"},variant:"contained"},"Load more"),!d.images.length&&r.a.createElement(Ze.a,{style:{margin:"20px auto",display:"block",textAlign:"center"}},r.a.createElement(Ze.a,null,"Use the serach at the top of the page to find more images."),r.a.createElement(Ze.a,{fontStyle:"italic"},"Provided by"," ",r.a.createElement("a",{href:"https://unsplash.com/?utm_source=Addspire&utm_medium=referral"},"Unsplash")))))},Fi=Object(u.b)(function(e){return{templateMasterBoxId:e.templateMasterBoxId,templateMasterVar:e.templateMasterVar,templateMasterPaused:e.templateMasterPaused}},function(e){return{saveValueMM:function(t,a){return e(ve(t,a))}}})(function(e){var t=Object(Ge.a)().t,a=e.el,o=e.setEditorKey,i=e.editorKey,c=e.saveValueMM,l=e.templateMasterBoxId,s=(e.templateMasterVar,Object(n.useState)(!1)),u=Object(x.a)(s,2),d=u[0],m=u[1],p=l||e.id,f=Object(n.useState)(a.videoURL),g=Object(x.a)(f,2),h=g[0],y=g[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Si.a,{open:Boolean(i),anchorEl:function(){return document.getElementById("anchorTR")},placement:"bottom-end"},r.a.createElement(Xe.a,{style:{maxWidth:"250px",padding:"10px"}},r.a.createElement("div",{onMouseDown:function(e){return e.stopPropagation()}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center"}},r.a.createElement(ht.a,null,function(e){return"imageValue"===e?t("g.chooseImage"):"videoUrl"===e?t("g.setMedia"):"styleBlock"===e?t("g.styleBlock"):"styleLine"===e?t("g.styleLine"):"lineType"===e?t("g.lineType"):"lineWidth"===e?t("g.lineWidth"):"lineColor"===e?t("g.lineColor"):"bgColor"===e?t("g.bgColor"):"radius"===e?t("g.radius"):""}(i))),!l&&r.a.createElement(Qe.a,{color:"primary",size:"small",onClick:function(){return o(["lineWidth","lineType","lineColor"].includes(i)?"styleLine":["radius","bgColor"].includes(i)?"styleBlock":"")}},r.a.createElement(yt.a,null))),["lineColor","bgColor"].includes(i)?r.a.createElement(Ti.a,{color:a[i]||{r:255,g:255,b:255,a:1},onChange:function(e){return c(p,Object(xe.a)({},i,e.rgb))},onChangeComplete:function(e){return c(p,Object(xe.a)({},i,e.rgb))}}):["lineWidth","radius"].includes(i)?r.a.createElement(qn.a,{min:"radius"===i?0:1,max:"radius"===i?50:"lineWidth"===i?20:100,step:1,value:a.radius,onChange:function(e,t){return c(p,Object(xe.a)({},i,t))},style:{width:"200px"}}):"lineType"===i?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},["fluid","straight","arc","magnet","grid","no"].map(function(e){return r.a.createElement("div",null,r.a.createElement(We.a,{onClick:function(){return c(p,{lineType:e})}},e))})):"videoURL"===i?r.a.createElement("div",null,t("g.addMedia"),r.a.createElement(ln.a,{autoFocus:!0,margin:"dense",label:"URL",type:"url",fullWidth:!0,defaultValue:a.videoURL,onChange:function(e){return y(e.target.value)}}),r.a.createElement("div",null,!l&&r.a.createElement(We.a,{onClick:function(){return o("")},color:"primary"},t("g.cancel")),r.a.createElement(We.a,{onClick:function(){c(p,{videoURL:h}),l||o("")},color:"primary"},t("g.confirm"))),r.a.createElement(Ci.a,null,r.a.createElement(Di.a,{expandIcon:r.a.createElement(Ai.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(ht.a,null,"Supported video types:")),r.a.createElement(_i.a,null,r.a.createElement(ht.a,null,t("g.addMediaDesc"))))):"imageValue"===i?r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10px"}},r.a.createElement(We.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},onClick:function(){return m(!0)}},"Gallery"),r.a.createElement(da.a,{accept:"image/*",showUploadList:!1,customRequest:function(e){var t=e.file;fa(t,800,void 0,function(e){e&&c(p,{imageValue:e})})}},r.a.createElement(We.a,{color:"primary",variant:"contained",style:{marginRight:"10px"}},"Upload"))):"styleLine"===i?r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10px"}},r.a.createElement(We.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},onClick:function(){return o("lineType")}},"Type"),r.a.createElement(We.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},onClick:function(){return o("lineWidth")}},"Width"),r.a.createElement(We.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},onClick:function(){return o("lineColor")}},"Color")):"styleBlock"===i?r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10px"}},r.a.createElement(We.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},onClick:function(){return o("bgColor")}},"Background"),r.a.createElement(We.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},onClick:function(){return o("radius")}},"Corners")):null))),r.a.createElement(Ri,{open:d,close:function(){return m(!1)},onChoose:function(e){c(p,Object(xe.a)({},i,e))}}))}),Pi=function(e){return r.a.createElement(Ne.a,Object.assign({direction:"up"},e))},Bi=Object(y.h)(Object(u.b)(function(e){return{account:e.account,profile:e.profile,templateMasterBoxId:e.templateMasterBoxId,templateMasterVar:e.templateMasterVar}},function(e){return{addDragStep:function(){return e({type:"ADD_DRAG_STEP"})},addEmptyToStructure:function(t,a,n){return e(function(e,t,a){return{type:"ADD_EMPTY_TO_STRUCTURE",id:e,selectedBox:t,resType:a}}(t,a,n))},addBlock:function(t,a){return e(function(e,t){return{type:"ADD_BLOCK",id:e,blockType:t}}(t,a))},saveValueMM:function(t,a){return e(ve(t,a))},deleteBlock:function(t){return e(function(e){return{type:"DELETE_BLOCK",id:e}}(t))}}})(function(e){var t=Object(Ge.a)().t,a=Object(n.useState)(""),o=Object(x.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)(!1),p=Object(x.a)(m,2),f=p[0],g=p[1],h=Object(n.useState)(!1),y=Object(x.a)(h,2),v=y[0],E=y[1],b=Object(n.useState)(!1),w=Object(x.a)(b,2),O=w[0],k=w[1],j=Object(n.useState)(),S=Object(x.a)(j,2),C=S[0],D=S[1],_=Object(n.useState)(null),A=Object(x.a)(_,2),T=A[0],M=A[1],I=Object(n.useState)(null),N=Object(x.a)(I,2),R=N[0],F=N[1],P=e.el,B=e.id,L=e.selectedBox,W=e.setChangeParentMode,z=e.changeParentMode,U=e.addEmptyToStructure,V=e.editorMode,G=e.account,Y=e.saveValueMM,H=e.deleteBlock,J=e.setAddBlockOpen,q=e.templateMasterBoxId,K=e.templateMasterVar,$=e.scale,Z=e.setSelectedBox,X=Object(n.useState)(e.history.location.hash.length>0&&(B===e.history.location.hash.substring(1)||"profile"===("profile"===P.type&&e.history.location.hash.substring(1)))),Q=Object(x.a)(X,2),ee=Q[0],te=Q[1];Object(n.useEffect)(function(){K&&q&&q===B?(Z(q),d(K.name)):d("")},[q,K]),Object(n.useEffect)(function(){q||d("")},[L]);var ae=r.a.createElement(Ot.a,{anchorEl:R,open:Boolean(R),onClose:function(){return F(null)}},r.a.createElement(xt.a,{onClick:function(){J(!0),F(null)}},t("g.block")),r.a.createElement(xt.a,{onClick:function(){c("goal"),F(null)}},t("g.goal"))),ne=r.a.createElement(Ot.a,{anchorEl:T,open:Boolean(T),onClose:function(){return M(null)}},"folder"===P.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.a,{onClick:function(){d("imageValue"),M(null),Y(B,{imageOff:!1})}},r.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{flex:1}},t("g.image")),P.imageValue&&r.a.createElement("div",null,r.a.createElement(Ue.a,{onClick:function(e){e.stopPropagation()},onChange:function(e){return Y(B,{imageOff:!e.target.checked})},checked:!P.imageOff,size:"small"})))),r.a.createElement(xt.a,{onClick:function(){d("videoURL"),M(null),Y(B,{videoOff:!1})}},r.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{flex:1}},t("g.video")),P.videoURL&&r.a.createElement("div",null,r.a.createElement(Ue.a,{onClick:function(e){e.stopPropagation()},onChange:function(e){return Y(B,{videoOff:!e.target.checked})},checked:!P.videoOff,size:"small"})))),r.a.createElement(xt.a,{onClick:function(){E(!0),M(null),Y(B,{textOff:!1})}},r.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{flex:1}},t("g.text")),P.textValue&&r.a.createElement("div",null,r.a.createElement(Ue.a,{onClick:function(e){e.stopPropagation()},onChange:function(e){return Y(B,{textOff:!e.target.checked})},checked:!P.textOff,size:"small"}))))),r.a.createElement(xt.a,{onClick:function(){d("styleBlock"),M(null)}},t("g.styleBlock")),r.a.createElement(xt.a,{onClick:function(){d("styleLine"),M(null)}},t("g.styleLine")),r.a.createElement(xt.a,{onClick:function(){W(z===B?"":B),M(null)}},t("g.changeParent")),"folder"===P.type&&r.a.createElement(xt.a,{onClick:function(){H(B),M(null)}},t("g.delete")));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fi,{editorKey:u,setEditorKey:d,el:P,id:B,saveValueMM:Y}),r.a.createElement("div",{style:{flex:1,display:"flex",overflow:"hidden",flexDirection:"column"}},r.a.createElement(Xe.a,{style:{background:"white",textAlign:"right",position:"absolute",top:"-50px",whiteSpace:"nowrap",alignItems:"start",transform:"scale("+1/$+")",transformOrigin:"bottom left"},className:"buttonsWrapMM buttonsMM"},"folder"!==P.type&&(!V||L===B)&&!v&&!f&&r.a.createElement(We.a,{onClick:function(){return te(!0)},color:"primary",variant:"contained"},t("g.open")),V&&L===B&&!q&&r.a.createElement(r.a.Fragment,null,f?r.a.createElement("div",null,r.a.createElement(We.a,{onClick:function(){return g(!1)},style:{marginRight:"10px"},color:"primary"},t("g.back")),r.a.createElement(We.a,{onClick:function(){d("lineType")},variant:"contained",style:{marginRight:"10px"}},t("g.lineType")),r.a.createElement(We.a,{onClick:function(){d("lineColor")},variant:"contained",style:{marginRight:"10px"}},t("g.lineColor")),r.a.createElement(We.a,{onClick:function(){d("lineWidth")},variant:"contained",style:{marginRight:"10px"}},t("g.lineWidth")),r.a.createElement(We.a,{onClick:function(){d("bgColor")},variant:"contained",style:{marginRight:"10px"}},t("g.background")),r.a.createElement(We.a,{onClick:function(){d("radius")},variant:"contained",style:{marginRight:"10px"}},t("g.corners"))):v?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{onClick:function(e){return F(e.currentTarget)},color:"primary"},r.a.createElement(Wr.a,null)),ae,r.a.createElement(Qe.a,{onClick:function(){return Y(B,{locked:!P.locked})}},P.locked?r.a.createElement(zr.a,null):r.a.createElement(Ur.a,null)),r.a.createElement(Qe.a,{onClick:function(e){return M(e.currentTarget)}},r.a.createElement(Vr.a,null)),ne))),r.a.createElement("div",{style:{flex:1,overflow:"hidden",display:"flex"}},"folder"===P.type&&r.a.createElement(yi,{el:P,id:B,editingText:v,setEditingText:E,editingTextModal:O,setEditingTextModal:k,selectedBox:L,saveValueMM:Y,textValue:C,setTextValue:D,handleSaveText:function(){Y(B,{textValue:C}),E(!1),k(!1)},editorMode:V,scale:$}),"profile"===P.type&&r.a.createElement(Oi,null),"goal"===P.type&&r.a.createElement(ji,{id:B}))),r.a.createElement(bt,{open:ee,close:function(){return te(!1)},title:"Opened res"},"profile"===P.type?r.a.createElement(fi,{setChosenResource:te}):"reward"===P.type?r.a.createElement(ko,{id:P.id,setChosenResource:te}):"activity"===P.type?r.a.createElement(ri,{id:P.id,setChosenResource:te}):"goal"===P.type?r.a.createElement(Xo,{id:P.id,setChosenResource:te}):null),G._id&&V&&r.a.createElement(Re.a,{fullScreen:!0,open:Boolean(i),onClose:function(){c("")},TransitionComponent:Pi,scroll:"paper"},r.a.createElement(Ba,{account:G,friendData:e.friendData,cancel:function(){return c("")},type:i,addEmptyToStructure:U,selectedBox:B})))})),Li=Object(u.b)(function(e,t){return{el:e.structureMM.items[t.id],structure:e.structureMM,scale:e.scaleMM,templateMasterBoxId:e.templateMasterBoxId}},function(e){return{addDragStep:function(){return e({type:"ADD_DRAG_STEP"})},setSizepos:function(t,a){return e(function(e,t){return{type:"SET_SIZEPOS",id:e,sizePos:t}}(t,a))},changeParentMM:function(t,a){return e(function(e,t){return{type:"CHANGE_PARENT_MM",childId:e,parentId:t}}(t,a))}}})(function(e){var t,a=Object(n.useRef)(null),o=Object(n.useRef)(null),i=e.setSelectedBox,c=e.selectedBox,l=e.setSizepos,s=e.scale,u=e.myRef2,d=e.id,m=e.editingFolder,p=e.editingElement,f=e.selectedIndex,g=e.setSelectedIndex,h=e.setEditingElement,y=e.addDragStep,v=e.editorMode,E=e.setChosenResource,b=e.setEditingFolder,w=e.el,O=e.setChangeParentMode,x=e.changeParentMode,k=e.changeParentMM,j=e.setAddBlockOpen,S=e.templateMasterBoxId;if(w&&("reward"===w.type||"activity"===w.type))return null;Object(n.useEffect)(function(){var e=function(e){};return o&&o.current&&(o.current.addEventListener("touchstart",e,{passive:!1}),o.current.addEventListener("touchmove",e,{passive:!1}),y()),function(){o&&o.current&&(o.current.removeEventListener("touchstart",e),o.current.removeEventListener("touchmove",e))}},[Boolean(o&&o.current)]);var C={height:"20px",width:"20px",background:"#eee",border:"1px #ccc solid",borderRadius:"10px",zIndex:1,transform:"scale("+1/s+")"};return w&&!w.temp&&(!w.unsorted||w.unsorted&&w.children.length>0)?r.a.createElement("div",null,"profile"!==w.type&&r.a.createElement(Rr,{start:u,end:a,collapsed:e.collapsed,el:w}),r.a.createElement("div",{ref:o,style:{position:"profile"===w.type?"relative":"absolute"}},r.a.createElement(Fr.a,{scale:s,default:"profile"!==w.type&&w.sizePos,disableDragging:"profile"===w.type||m||!v||w.locked,enableResizing:"profile"!==w.type&&v&&!w.locked,resizeHandleStyles:c===d?{bottomLeft:C,bottomRight:C,topLeft:C,topRight:C}:{},onMouseDown:function(e){v&&(x?(k(x,d),O("")):i(d))},style:{outline:S===d?"1px solid green":c===d?"1px solid blue":"none"},onDrag:function(t,a){e.addDragStep(),function(e,t,a){a(e,{x:t.x,y:t.y})}(d,a,l)},onResize:function(t,a,n,r,o){e.addDragStep(),function(e,t,a,n){n(e,{x:a.x,y:a.y,width:parseInt(t.style.width),height:parseInt(t.style.height)})}(d,n,o,l)},cancel:".buttonsMM"},r.a.createElement("div",{ref:a,style:{width:"100%",height:"100%",display:"flex",position:"relative"}},r.a.createElement(Bi,(t={el:w,id:d,selectedBox:c,scale:s,editingFolder:m,editingElement:p,selectedIndex:f,setSelectedIndex:g,setEditingElement:h,setEditingFolder:b,setChosenResource:E,editorMode:v,setChangeParentMode:O,changeParentMode:x},Object(xe.a)(t,"editorMode",v),Object(xe.a)(t,"setAddBlockOpen",j),Object(xe.a)(t,"setSelectedBox",i),t)))),r.a.createElement("div",{style:{position:"absolute",transform:"translate("+w.sizePos.x+"px, "+w.sizePos.y+"px)"}},w.children&&w.children.map(function(t){return r.a.createElement(Li,{key:t,id:t,setSelectedBox:i,selectedBox:c,scale:s,myRef2:a,collapsed:e.collapsed||w.collapsed,editorMode:v,setChangeParentMode:O,changeParentMode:x,setAddBlockOpen:j})})))):null}),Wi=Li,zi=(a(971),a(1093)),Ui=a(1091),Vi=a(1092),Gi=a(1094),Yi=a(518),Hi=a(1090),Ji=[{name:"Transparent",items:{parent:{type:"folder",children:[],parent:"",sizePos:{x:600,y:0,width:200,height:200},bgColor:{r:255,g:255,b:255,a:0},tempId:"t0"}},vars:[]},{name:"With background",items:{parent:{type:"folder",parent:"",sizePos:{x:600,y:0,width:200,height:200},bgColor:{r:255,g:255,b:255,a:1},children:[],tempId:"t0"}},vars:[{id:"parent",name:"bgColor",title:"Set background"},{id:"parent",name:"radius",title:"Set corners"}]}],qi=Object(qe.a)(function(e){return Object(Ke.a)({title:{fontSize:13,margin:"30px 15px 10px",textTransform:"uppercase",fontWeight:600}})}),Ki=Object(u.b)(null,function(e){return{addBlockTemplate:function(t,a){return e(function(e,t){return{type:"ADD_BLOCK_TEMPLATE",parentId:e,folder:t}}(t,a))}}})(function(e){Object(Ge.a)().t;var t=qi(),a=e.addBlockOpen,n=e.setAddBlockOpen;return r.a.createElement(bt,{open:a,close:function(){return n(!1)},title:"Add block"},r.a.createElement("div",{style:{background:"#f5f5f5",flex:1}},r.a.createElement(ht.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Empty"),r.a.createElement(Xe.a,{style:{padding:"15px",paddingBottom:"10px"}},Ji.map(function(t){return r.a.createElement(Ya.a,{style:{cursor:"pointer",flexShrink:0,marginRight:"10px",position:"relative",minHeight:"160px",display:"inline-block"}},r.a.createElement(Ha.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){e.addBlockTemplate(e.selectedBox,t),n(!1)}},r.a.createElement(qa.a,{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}}),r.a.createElement(Hi.a,null,t.name)))}))))});function $i(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Zi(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Zi(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Xi=Object(u.b)(function(e){return{templateFolderId:e.templateFolderId,templateFolder:e.templateFolder,templateStep:e.templateStep,structure:e.structureMM,templateMasterPaused:e.templateMasterPaused}},function(e){return{saveStructure:function(){return e(Ee())},setTemplateDefault:function(){return e({type:"SET_TEMPLATE_DEFAULT"})},setTemplateStepPrev:function(){return e({type:"SET_TEMPLATE_STEP_PREV"})},setTemplateStepNext:function(){return e({type:"SET_TEMPLATE_STEP_NEXT"})},setTemplateMasterBoxidAndVar:function(t,a){return e(function(e,t){return{type:"SET_TEMPLATE_MASTER_BOXID_AND_VAR",boxId:e,varObj:t}}(t,a))}}})(function(e){var t=e.templateFolderId,a=e.templateFolder,o=e.templateStep,i=e.setTemplateDefault,c=e.structure,l=e.setTemplateStepPrev,s=e.setTemplateStepNext,u=e.setSelectedBox,d=e.setTemplateMasterBoxidAndVar,m=c.items[t],p=a.vars[o];if(!p||!m)return i(),null;var f=null,g="";if("parent"===p.id)g=t,f=m;else{var h,y=$i(m.children);try{for(y.s();!(h=y.n()).done;){var v=h.value;c.items[v].tempId===p.id&&(g=v,f=c.items[v])}}catch(E){y.e(E)}finally{y.f()}}return f&&g?(Object(n.useEffect)(function(){u(g),d(g,p)},[o]),r.a.createElement("div",{style:{flex:1,display:"flex"}},r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},r.a.createElement("div",null,"Step ",o+1),r.a.createElement("div",null,p.title)),r.a.createElement("div",null,r.a.createElement(We.a,{onClick:function(){return l()},disabled:o<=0},"Back"),r.a.createElement(We.a,{onClick:function(){return s()},disabled:a.vars.length<=o+1},"Next"),r.a.createElement(Qe.a,{onClick:function(){return i()}},r.a.createElement(yt.a,null))))):(i(),null)});function Qi(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ec(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ec(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var tc=Object(qe.a)(function(e){return{edit:{position:"fixed",bottom:"12px",right:"12px",margin:0},save:{position:"fixed",bottom:e.spacing(11),right:"12px"}}}),ac=Object(y.h)(Object(u.b)(function(e){return{account:e.account,profile:e.profile,structureNotSaved:e.structureNotSaved,scale:e.scaleMM,templateFolderId:e.templateFolderId}},function(e){return{saveStructure:function(){return e(Ee())}}})(function(e){var t=Object(Ge.a)().t,a=tc(),o=Object(n.useState)(""),i=Object(x.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(""),u=Object(x.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!1),f=Object(x.a)(p,2),g=f[0],h=f[1],v=Object(n.useState)(!1),E=Object(x.a)(v,2),b=E[0],w=E[1],O=e.saveStructure,k=e.account,j=e.profile,S=e.setEventIsFromDraggable,C=e.scale,D=e.structureNotSaved,_=e.resetTransform,A=e.templateFolderId,T=e.zoomIn,M=e.zoomOut,I=k&&k._id&&j&&j._id&&k._id===j._id;Object(Yi.a)(function(){return D&&"You'll lose your data!"}),Object(n.useEffect)(function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="auto"}},[]),Object(n.useEffect)(function(){h(!1)},[I]);var N=function(e){if(g){var t,a=Qi(e.nativeEvent.composedPath());try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n){if("panWrap"===n.getAttribute("id")||n===document.body)return void S(!1);var r=n.getAttribute("class");if(r&&(r.indexOf("react-draggable")>-1||r.indexOf("tinyEditorText_")>-1||r.indexOf("demo-toolbar-absolute")>-1||r.indexOf("noPan")>-1))return void S(!0)}}}catch(o){a.e(o)}finally{a.f()}}S(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{when:D,message:"You have unsaved changes, are you sure you want to leave?"}),r.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%",flexDirection:"column"}},r.a.createElement("div",{style:{width:"100%",background:"white",zIndex:1}},I?r.a.createElement(r.a.Fragment,null,A?r.a.createElement(Va,{noContent:!0,customHeader:r.a.createElement(Xi,{setSelectedBox:l}),color:"#dcffe0"}):r.a.createElement("div",{id:"anchorTR"}),r.a.createElement("div",{style:{position:"fixed",left:"12px",bottom:"12px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(Xe.a,{elevation:3,style:{marginBottom:"3px"}},r.a.createElement(Qe.a,{onClick:_,size:"small"},r.a.createElement(Ui.a,null))),r.a.createElement(Xe.a,{elevation:3},r.a.createElement(Qe.a,{onClick:T,size:"small"},r.a.createElement(Wr.a,null)),r.a.createElement(Ve.a,null),r.a.createElement(Qe.a,{onClick:M,size:"small"},r.a.createElement(Vi.a,null)))),r.a.createElement(Xe.a,{elevation:3,className:a.edit},r.a.createElement(ze.a,{style:{margin:0},control:r.a.createElement(Jn.a,{checked:g,onChange:function(e){h(e.target.checked),l("")},color:"primary"}),label:t("g.edit"),labelPlacement:"bottom"})),I&&g&&D&&r.a.createElement(zi.a,{onClick:O,color:"primary",className:a.save},r.a.createElement(Gi.a,null))):r.a.createElement(Va,{noContent:!0})),r.a.createElement("div",{style:{overflow:"hidden",flex:1,display:"flex"},id:"panWrap",onMouseDown:N,onTouchStart:N,onTouchEnd:function(){return S(!1)},onMouseUp:function(){return S(!1)},onClick:function(e){}},r.a.createElement(Ar.a,null,r.a.createElement("div",{style:{cursor:"grabbing"}},r.a.createElement(Wi,{id:"b0",setSelectedBox:l,selectedBox:c,scale:C,editorMode:g,changeParentMode:d,setChangeParentMode:m,setAddBlockOpen:w}))))),r.a.createElement(st,null),r.a.createElement(Qn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:Boolean(d),message:t("g.chooseParent"),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{color:"secondary",size:"small",onClick:function(){return m("")}},t("g.UNDO")))}),r.a.createElement(Ki,{addBlockOpen:b,setAddBlockOpen:w,selectedBox:c}))})),nc=a(506),rc=Object(u.b)(null,function(e){return{addDragStep:function(){return e({type:"ADD_DRAG_STEP"})},setScaleMM:function(t){return e(function(e){return{type:"SET_SCALEMM",value:e}}(t))}}})(function(e){var t=Object(n.useState)(!1),a=Object(x.a)(t,2),o=a[0],i=a[1],c=Object(nc.a)(10,function(){return e.addDragStep()});return r.a.createElement(Ar.b,{defaultScale:.5,defaultPositionX:200,defaultPositionY:100,options:{limitToBounds:!1,minScale:.1,maxScale:2,disabled:o},pan:{velocity:!1},wheel:{step:300},onZoomChange:function(t){e.setScaleMM(t.scale),c()},onPanning:c,onPanningStop:c,onPinching:c,onPinchingStop:c,doubleClick:{disabled:!0},zoomIn:{step:3,animation:!1},zoomOut:{step:3,animation:!1}},function(e){var t=e.resetTransform,a=e.zoomIn,n=e.zoomOut;return r.a.createElement(ac,{setEventIsFromDraggable:i,zoomIn:a,zoomOut:n,resetTransform:t})})}),oc=Object(y.h)(Object(u.b)(function(e){return{isAuthed:e.isAuthed,accountNotActive:e.accountNotActive}},function(e){return{tryAuth:function(){return e(ce())},logout:function(){return e(se())},setLanguage:function(t){return e(function(e){return{type:"SET_LANGUAGE",language:e}}(t))}}})(function(e){var t=Object(n.useRef)(!0),a=Object(Ge.a)().i18n,o=e.isAuthed,i=Object(n.useCallback)(Object(h.a)(g.a.mark(function a(){return g.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t.current){a.next=3;break}return a.abrupt("return",null);case 3:e.tryAuth(),a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:case"end":return a.stop()}},a,null,[[0,6]])})),[t]);Object(n.useEffect)(function(){return o||i(),function(){t.current=!1}},[o]),Object(n.useEffect)(function(){var e;e="UA-45758937-4",v.a.initialize(e)},[]),Object(n.useEffect)(function(){-1===e.history.location.pathname.indexOf("/post/")&&window.scrollTo(0,0),v.a.pageview(window.location.pathname+window.location.search)},[e.history.location.pathname]),Object(n.useEffect)(function(){var t=a.language?a.language.split("-")[0]:"en";e.setLanguage(t),$a.a.locale(t)},[a.language]);var c=function(){return e.logout(),window.isRNWebView&&window.ReactNativeWebView.postMessage("logout"),r.a.createElement(y.b,{to:"/explore"})},l=r.a.createElement(y.e,null,r.a.createElement(y.c,{path:"/",exact:!0,component:o?rc:jr}),o&&r.a.createElement(y.c,{path:"/explore",exact:!0,component:jr}),r.a.createElement(y.c,{path:"/profile",component:rc}),o&&r.a.createElement(y.c,{path:"/events",component:Fn}),r.a.createElement(y.c,{path:"/logout",exact:!0,component:c}),r.a.createElement(y.c,{path:"/ru/blog",exact:!0,component:Xa}),r.a.createElement(y.c,{path:"/blog",exact:!0,component:Xa}),r.a.createElement(y.c,{path:"/ru/blog",component:_r}),r.a.createElement(y.c,{path:"/blog",component:_r}),r.a.createElement(y.c,{path:"/activate-account",exact:!0,component:en}),!1,r.a.createElement(y.b,{to:"/"}));return e.accountNotActive&&(l=r.a.createElement(y.e,null,r.a.createElement(y.c,{path:"/logout",exact:!0,component:c}),r.a.createElement(y.c,{path:"/activate-account",exact:!0,component:en}),!1,o?r.a.createElement(y.b,{to:"/activate-account"}):r.a.createElement(y.b,{to:"/"}))),r.a.createElement(r.a.Fragment,null,l,o&&r.a.createElement($,null),o&&r.a.createElement(on,null),r.a.createElement(cn,null))})),ic=a(517);function cc(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return lc(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return lc(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var sc=Object(ic.a)({isAuthed:!1,user:null,currentAccount:"",account:{},friendData:{},transactionData:{},progressData:{},currentProfile:"",profile:{},currentGoal:"",currentPosts:[],progress:{},post:{},postData:{},reward:{},activity:{},currentReward:"",currentActivity:"",rewardData:{},activityData:{},pageTitle:{},friendSearchResult:[],accountNotActive:!1,lastNotifications:[],isConnectingWS:!1,onlineUsers:[],language:"en",recentShown:!1,dragStep:0,structureMM:{currentId:9,items:{b0:{type:"profile",children:["b00"],parent:"",sizePos:{x:0,y:0}},b00:{type:"folder",unsorted:!0,children:[],innerChildren:[],parent:"b0",sizePos:{x:-600,y:-300,width:200,height:200}}}},structureNotSaved:!1,scaleMM:.5,templateFolder:null,templateFolderId:"",templateStep:0,templateMasterPaused:!1,templateMasterBoxId:"",templateMasterVar:null},{SET_DATA:function(e,t){if(t.data){for(var a=0,n=["user","account","isAuthed","currentAccount","currentProfile","currentPosts","currentReward","currentActivity","profile","currentGoal","lastNotifications","onlineUsers"];a<n.length;a++){var r=n[a];"undefined"!==typeof t.data[r]&&(e[r]=t.data[r])}for(var o=0,i=["progress","reward","activity","friendData","progressData","post","postData","rewardData","activityData","transactionData"];o<i.length;o++){var c=i[o];if("undefined"!==typeof t.data[c])for(var l in t.data[c])t.data[c][l]&&(e[c][l]=t.data[c][l])}t.data.newOnlineUsers&&(e.onlineUsers=[].concat(Object(M.a)(e.onlineUsers),Object(M.a)(t.data.newOnlineUsers)))}e.user&&(e.user.currentAccount?(e.currentAccount=e.user.currentAccount,e.accountNotActive=!1):e.user.myAccount?(e.currentAccount=e.user.myAccount,e.accountNotActive=!1):e.accountNotActive=!0)},REMOVE_DATA:function(e,t){if(t.data){for(var a=0,n=["user","account","profile","progress","reward","activity"];a<n.length;a++){var r,o=n[a],i=cc(t.data[o]);try{for(i.s();!(r=i.n()).done;){var c=r.value;e[o]._id===c&&(e[o]={})}}catch(f){i.e(f)}finally{i.f()}}for(var l=0,s=["post","friendData","progressData","postData","rewardData","activityData","transactionData"];l<s.length;l++){var u,d=s[l],m=cc(t.data[d]);try{for(m.s();!(u=m.n()).done;){var p=u.value;delete e[d][p]}}catch(f){m.e(f)}finally{m.f()}}}},ADD_DRAG_STEP:function(e){e.dragStep=e.dragStep+1},SET_STRUCTURE:function(e,t){e.structureMM=t.structure,t.noNeedToSave||(e.structureNotSaved=!0)},SET_FRIEND_SEARCH_RESULT:function(e,t){e.friendSearchResult=t.data},SET_FRIENDS_DATA:function(e,t){t.data&&(e.account.friendsData=t.data),t.data.perk&&(e.perk=t.data.perk)},SET_AVATAR_V:function(e,t){e.account.image=t.v},SET_LANGUAGE:function(e,t){e.language=t.language},INCREASE_AVATAR_V:function(e){e.account.image=e.account.image+1},SET_IS_AUTHED:function(e,t){e.isAuthed=t.id},SET_PAGE_TITLE:function(e,t){e.pageTitle=t.title},SET_ACCOUNT_ACTIVATED:function(e,t){e.accountNotActive=t.value},SET_CONNECTING_WS:function(e,t){e.isConnectingWS=t.data},SET_RECENT_SHOWN:function(e){e.recentShown=!0},ADD_TO_STRUCTURE:function(e,t){if(e.profile._id===t.accountId&&e.structureMM.items[t.structureId]){var a=e.structureMM.items[t.structureId].parent;e.structureMM.items[a]&&(e.structureMM.items[a]=Object(wt.a)({},e.structureMM.items[a],{children:[].concat(Object(M.a)(e.structureMM.items[a].children),[t.resourceId])}),e.structureMM.items[t.resourceId]=Object(wt.a)({},e.structureMM.items[t.structureId],{id:t.resourceId,temp:!1}),e.structureNotSaved=!0)}delete e.structureMM.items[t.structureId]},STRUCTURE_IS_SAVED:function(e){e.structureNotSaved=!1},ADD_BLOCK:function(e,t){var a=e.structureMM.items[t.id]?t.id:"b0";e.structureMM.items[a].children.push("b"+e.structureMM.currentId),e.structureMM.items["b"+e.structureMM.currentId]={type:"folder",blockType:t.blockType,children:[],parent:a,innerChildren:[],sizePos:{x:500,y:0,width:320,height:200},textValue:"text"===t.blockType?"Add some text":"",imageValue:"image"===t.blockType?"https://websiter.s3.us-east-2.amazonaws.com/!wishlist/image+addspire-02.jpg":""},e.structureMM.currentId++,e.structureNotSaved=!0},SET_SIZEPOS:function(e,t){e.structureMM.items[t.id]&&(e.structureMM.items[t.id].sizePos=Object(wt.a)({},e.structureMM.items[t.id].sizePos,t.sizePos),e.structureNotSaved=!0)},SAVE_VALUE_MM:function(e,t){e.structureMM.items[t.id]&&(e.structureMM.items[t.id]=Object(wt.a)({},e.structureMM.items[t.id],t.value),e.structureNotSaved=!0)},ADD_EMPTY_TO_STRUCTURE:function(e,t){e.structureMM.items[t.id]={type:t.resType,children:[],parent:t.selectedBox,temp:!0,sizePos:{x:500,y:0,width:320,height:200}}},DELETE_BLOCK:function(e,t){if(e.structureMM.items[t.id]){var a,n=e.structureMM.items[t.id].parent,r=cc(e.structureMM.items[t.id].children);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.structureMM.items[o].parent=n}}catch(u){r.e(u)}finally{r.f()}e.structureMM.items[n].children=[].concat(Object(M.a)(e.structureMM.items[n].children),Object(M.a)(e.structureMM.items[t.id].children.filter(function(t){var a=e.structureMM.items[t];return!a.sub||a.type!==folder})));var i,c=cc(e.structureMM.items[t.id].children);try{for(c.s();!(i=c.n()).done;){var l=i.value,s=e.structureMM.items[l];s.sub&&(s.type!==folder?e.structureMM.items[l].sub=!1:delete e.structureMM.items[l])}}catch(u){c.e(u)}finally{c.f()}delete e.structureMM.items[t.id],e.structureNotSaved=!0}},CHANGE_PARENT_MM:function(e,t){if(e.structureMM.items[t.childId]&&e.structureMM.items[t.parentId]&&t.parentId!==t.childId){if(!function t(a,n){if(e.structureMM.items[a].children.includes(n))return!0;var r,o=cc(e.structureMM.items[a].children);try{for(o.s();!(r=o.n()).done;)if(t(r.value,n))return!0}catch(i){o.e(i)}finally{o.f()}}(t.childId,t.parentId)){var a=e.structureMM.items[t.childId].parent;e.structureMM.items[a].children=e.structureMM.items[a].children.filter(function(e){return e!==t.childId}),e.structureMM.items[t.parentId].children.push(t.childId),e.structureMM.items[t.childId].parent=t.parentId,e.structureNotSaved=!0}}},SET_SCALEMM:function(e,t){e.scaleMM=t.value},ADD_BLOCK_TEMPLATE:function(e,t){var a="b"+e.structureMM.currentId;t.folder.vars.length>0?(e.templateFolder=t.folder,e.templateFolderId=a):(e.templateFolder=null,e.templateFolderId=""),e.templateStep=0,e.structureMM.currentId++,e.structureMM.items[a]=Object(wt.a)({},t.folder.items.parent,{children:[],parent:t.parentId}),e.structureMM.items[t.parentId].children.push(a);var n,r=cc(t.folder.items.parent.children);try{for(r.s();!(n=r.n()).done;){var o=n.value,i="b"+e.structureMM.currentId;e.structureMM.currentId++,e.structureMM.items[i]=Object(wt.a)({},t.folder.items[o],{parent:a,locked:0===t.folder.vars.length}),e.structureMM.items[a].children.push(i)}}catch(c){r.e(c)}finally{r.f()}},SET_TEMPLATE_DEFAULT:function(e){e.templateFolder=null,e.templateFolderId="",e.templateStep=0,e.templateMasterBoxId="",e.templateMasterVar=null},SET_TEMPLATE_STEP_NEXT:function(e){e.templateFolder&&e.templateFolder.vars.length>e.templateStep+1?e.templateStep=e.templateStep+1:(e.templateFolder=null,e.templateFolderId="",e.templateStep=0,e.templateMasterBoxId="",e.templateMasterVar=null)},SET_TEMPLATE_STEP_PREV:function(e){e.templateStep>0&&(e.templateStep=e.templateStep-1)},SET_TEMPLATE_MASTER_PAUSED:function(e,t){e.templateMasterPaused=t.value},SET_TEMPLATE_MASTER_BOXID_AND_VAR:function(e,t){e.templateMasterBoxId=t.boxId,e.templateMasterVar=t.varObj}}),uc=a(507),dc=a.n(uc),mc=a(508),pc=a.n(mc),fc=a(509),gc=a.n(fc),hc=a(510),yc=a.n(hc);$a.a.extend(yc.a),$a.a.extend(gc.a),$a.a.extend(pc.a),$a.a.extend(dc.a),$a.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s",s:"now",ss:"now",m:"1 min",mm:"%d mins",h:"1 hr",hh:"%d hrs",d:"1 day",dd:"%d days",w:"1 wk",ww:"%d wks",M:"1 mth",MM:"%d mths",y:"1 year",yy:"%d years"}}),$a.a.updateLocale("ru",{relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s",s:"\u0441\u0435\u0439\u0447\u0430\u0441",ss:"\u0441\u0435\u0439\u0447\u0430\u0441",m:"1 \u043c\u0438\u043d",mm:"%d \u043c\u0438\u043d",h:"1 \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u043e\u0432",d:"1 \u0434\u0435\u043d\u044c",dd:"%d \u0434\u043d\u0435\u0439",w:"1 \u043d\u0435\u0434",ww:"%d \u043d\u0435\u0434",M:"1 \u043c\u0435\u0441",MM:"%d \u043c\u0435\u0441",y:"1 \u0433\u043e\u0434",yy:"%d \u043b\u0435\u0442"}});var vc=a(81),Ec=a(511);a.d(t,"store",function(){return wc});var bc=Object(qr.a)({palette:{primary:{main:Lo.a[500]}},typography:{fontSize:13},overrides:{MuiAppBar:{colorSecondary:{backgroundColor:"white",color:"#333"}}}});s.a.defaults.baseURL="https://addspire.com";var wc=Object(d.createStore)(sc,Object(p.composeWithDevTools)(Object(d.applyMiddleware)(m.a))),Oc=r.a.createElement(vc.a,{utils:Ec.a},r.a.createElement(u.a,{store:wc},r.a.createElement(c.a,null,r.a.createElement($r.a,{theme:bc},r.a.createElement(oc,null))))),xc=document.getElementById("root");i.a.render(Oc,xc)}},[[543,13,14]]]);
//# sourceMappingURL=main.0336a5c1.chunk.js.map